(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{OFTY:function(n,t,e){"use strict";e.r(t);var r=e("mrSG"),a=e("CcnG"),o=e("Ip0R"),c=e("hctd"),l=e("gIcY"),i=e("ZYCi"),d=function(){function n(){}return n.prototype.logout=function(){window.location.href="/Account/Logout"},n.prototype.ngOnInit=function(){},n=r.b([Object(a.n)({selector:"app-controler",template:e("V73Z"),styles:[e("nJ+G")]}),r.d("design:paramtypes",[])],n)}(),p=e("o3x0"),s=e("t/Na"),m=function(){function n(n,t,e){this.dialog=n,this.http=t,this.cdr=e,this.managers=[],this.cientAccept=[],this.acceptManagers=[],this.displayedColumns=["title","phone","duration","refAudio","controls","date"]}return n.prototype.ngOnChanges=function(){},n.prototype.getManager=function(){var n=this;this.http.get("api/admin/Manager/").subscribe(function(t){n.managers=t.filter(function(n){return"\u041c\u0435\u043d\u0435\u0434\u0436\u0440"==n.typeManager}),n.cdr.detectChanges()})},n.prototype.AccepCallsControler=function(n){this.acceptManagers.find(function(t){return t.id==n.managerId}).callsDate=this.acceptManagers.find(function(t){return t.id==n.managerId}).callsDate.filter(function(t){return t.id!=n.id}),this.cdr.detectChanges(),this.http.get("api/conroler/ClientAccept/AcceptCall?id="+n.id).subscribe()},n.prototype.getcallsDater=function(){var n=this;this.http.get("api/conroler/ClientAccept/").subscribe(function(t){n.cientAccept=t.filter(function(n){return n.durations>149&&40==n.contactType}),n.sortManagerToCalls(),n.cdr.detectChanges()})},n.prototype.sortManagerToCalls=function(){var n=this;this.managers.forEach(function(t){var e=n.cientAccept.filter(function(n){return n.managerId==t.id}),r={id:t.id,login:t.login,phone:t.phone,callsDate:e};n.acceptManagers.push(r)}),console.log(this.acceptManagers)},n.prototype.ngOnInit=function(){this.getManager(),this.getcallsDater()},r.b([Object(a.F)(),r.d("design:type",Array)],n.prototype,"managers",void 0),r.b([Object(a.F)(),r.d("design:type",Array)],n.prototype,"cientAccept",void 0),n=r.b([Object(a.n)({selector:"app-Accept-Manager",template:e("hR1I"),changeDetection:a.j.OnPush,styles:[e("nD4C")]}),r.d("design:paramtypes",[p.b,s.a,a.k])],n)}(),g=[{path:"",component:d,children:[{path:"",pathMatch:"full",redirectTo:"AcceptManager"},{path:"AcceptManager",component:m}]}],f=function(){function n(){}return n=r.b([Object(a.K)({imports:[i.c.forChild(g)],exports:[i.c]})],n)}(),u=e("qGjA"),h=e("lFvN"),b=e("iWZV"),x=e("vDEm"),C=e("tEaz"),y=e("NtwD"),w=function(){function n(n){this.managersFacade=n,this.managers$=this.managersFacade.managers$}return n.prototype.ngOnInit=function(){this.managersFacade.loadManagers(),console.log(this.managers$)},n=r.b([Object(a.n)({selector:"app-accept",template:e("ZtFL"),styles:[e("SAac")]}),r.d("design:paramtypes",[y.a])],n)}(),v=function(){function n(){}return n=r.b([Object(a.K)({declarations:[w,m,u.a,h.a,b.a,C.a],entryComponents:[],exports:[w],imports:[o.b,c.a,l.j,l.e,l.e,s.b],providers:[x.a]})],n)}();e.d(t,"ControlerModule",function(){return A});var A=function(){function n(){}return n=r.b([Object(a.K)({declarations:[d],imports:[o.b,c.a,f,v,l.j,i.c]})],n)}()},SAac:function(n,t){n.exports=""},V73Z:function(n,t){n.exports='<mat-toolbar class="mat-elevation-z2">\r\n  <div class="logo">\r\n    \u041c\u0438\u0440 \u0421\u0443\u0448\u0438\r\n  </div>\r\n  <nav>\r\n    <ul>   \r\n      <li><a routerLink="clients" routerLinkActive="active">\u041a\u043b\u0438\u0435\u043d\u0442\u044b</a></li>      \r\n    </ul>\r\n  </nav>\r\n\r\n  <div class="logout">\r\n    \u041a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440\r\n    <i class="fas fa-sign-out-alt" (click)="logout()"></i>\r\n  </div>\r\n</mat-toolbar>\r\n\r\n\r\n<div class="wrapper">\r\n  <router-outlet></router-outlet> \r\n</div>\r\n'},ZtFL:function(n,t){n.exports='<app-Accept-Manager\r\n    [managers]="managers$ | async">\n</app-Accept-Manager>\n'},hR1I:function(n,t){n.exports='<mat-card class="mat-elevation-z1">\r\n  <mat-card-header>\r\n    <mat-card-title class="card-title">\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u0432\u043e\u043d\u043a\u043e\u0432</mat-card-title>\r\n  </mat-card-header>\r\n  <div class="bodyAll">\r\n    <div class="manager" *ngFor="let acceptManager of acceptManagers">\r\n      <div *ngIf="acceptManager.callsDate.length != 0">\r\n      <p class="dialog-section-title">\r\n        {{acceptManager.login}} "{{acceptManager.phone}}"\r\n      </p>\r\n      <table mat-table [dataSource]="acceptManager.callsDate">\r\n\r\n        <ng-container matColumnDef="title">\r\n          <th mat-header-cell *matHeaderCellDef>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435</th>\r\n          <td mat-cell *matCellDef="let element" style="max-width: 300px">{{element.titleClient}} </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="phone">\r\n          <th mat-header-cell *matHeaderCellDef>\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0430</th>\r\n          <td mat-cell *matCellDef="let element" style="max-width: 300px">{{element.phone}}</td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="duration">\r\n          <th mat-header-cell *matHeaderCellDef>\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0437\u0432\u043e\u043d\u043a\u0430</th>\r\n          <td mat-cell *matCellDef="let element" style="max-width: 300px">{{element.durations}} \u0421\u0435\u043a</td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="refAudio">\r\n          <th mat-header-cell *matHeaderCellDef>\u0410\u0443\u0434\u0438 \u0437\u0430\u043f\u0438\u0441\u044c</th>\r\n          <td mat-cell *matCellDef="let element" style="max-width: 300px"><a class="btnAccept" href="{{element.referenceAudioVoice}}">\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0430\u0443\u0434\u0438\u043e \u0437\u0430\u043f\u0438\u0441\u044c</a><br /> <audio control> <source src=\'{{element.referenceAudioVoice}}\' type="audio/mp4"></audio></td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="controls">\r\n          <th mat-header-cell *matHeaderCellDef>\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c</th>\r\n          <td mat-cell *matCellDef="let element" style="max-width: 300px"><button (click)="AccepCallsControler(element)" class="btnAccept">\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c</button></td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="date">\r\n          <th mat-header-cell *matHeaderCellDef>\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0437\u0432\u043e\u043d\u043a\u0430</th>\r\n          <td mat-cell *matCellDef="let element" style="max-width: 300px">{{element.date}}</td>\r\n        </ng-container>\r\n\r\n        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\r\n        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (dblclick)="openEditClientForm(row)"></tr>\r\n      </table>\r\n    </div>\r\n    </div>\r\n  </div>\r\n</mat-card>\r\n'},nD4C:function(n,t){n.exports='::ng-deep tr.mat-row {\n  cursor: pointer;\n}\n::ng-deep tr.mat-row:hover {\n  background-color: #f6f6f6;\n}\n::ng-deep .mat-form-field-infix {\n  border-top: 0px;\n}\n.numberInputField {\n  width: 45px;\n  height: 27px;\n  border-bottom: none;\n}\n.textInputField {\n  height: 27px;\n}\ntable {\n  table-layout: fixed;\n}\ntd {\n  padding-left: 15px !important;\n  padding-right: 5px !important;\n  border-bottom: none;\n  color: #1C1C1C !important;\n}\nth {\n  padding-left: 15px !important;\n  padding-right: 5px !important;\n  background-color: #fcfcfc;\n  border-bottom: none;\n  color: #000000 !important;\n}\n.mat-card {\n  padding: 0px;\n  padding-bottom: 20px;\n}\n.bodyAll {\n  margin: 10px;\n}\n.bodyAll .manager .dialog-section-title {\n  background-color: #c4e4ff;\n  font-size: 18px;\n  padding: 15px 10px;\n}\n.bodyAll .manager .dialog-section-title .btnAccept {\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n  baground-color: #A9D0F5;\n  pading: 10px;\n}\n.card-title {\n  padding: 40px 10px;\n  text-transform: uppercase;\n  color: #4d73a4;\n  font-weight: bold;\n}\n::ng-deep th.mat-header-cell {\n  border-bottom: 1px solid #f7f7f7;\n  color: #b9b9b9;\n}\n.sub-header ::ng-deep th.mat-header-cell {\n  border-bottom: none;\n}\n::ng-deep td.mat-cell, td.mat-footer-cell {\n  border-bottom-width: 0px !important;\n  color: #9da0a5;\n}\n::ng-deep tr.mat-footer-row:hover, tr.mat-row:hover {\n  background-color: #eff7fa !important;\n}\n::ng-deep tr.mat-footer-row:hover td.mat-cell, ::ng-deep tr.mat-footer-row:hover td.mat-footer-cell, tr.mat-row:hover td.mat-cell, tr.mat-row:hover td.mat-footer-cell {\n  color: #384855;\n}\n::ng-deep tr.mat-footer-row:nth-child(2n), tr.mat-row:nth-child(2n) {\n  background-color: #fafbfd;\n}\n.numberInputField ::ng-deep .mat-form-field-underline {\n  display: none;\n}\n.bar {\n  padding: 5px 5px;\n  border-radius: 60px;\n  display: inline-block;\n  font-weight: bold;\n  text-align: center;\n}\n.bar-shadow {\n  background-color: #e7f0f5;\n  border-radius: 60px;\n  max-width: 110px;\n}\n.btnAccept {\n  background: -moz-linear-gradient(#c4e4ff, #EBFFFF);\n  background: -webkit-gradient(linear, 0 0, 0 100%, from(#c4e4ff), to(#EBFFFF));\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#c4e4ff", endColorstr="#EBFFFF");\n  padding: 3px 7px;\n  border-radius: 5px;\n  border: 1px solid #c4e4ff;\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n}'},"nJ+G":function(n,t){n.exports=".wrapper {\n  padding: 0px 10px;\n}\n\n.logout {\n  margin-left: auto;\n  color: #4771A1;\n  font-size: 18px;\n  padding: 23px 40px;\n  background-color: #F7FCFF;\n}\n\n.logout i {\n  display: inline-block;\n  margin-left: 60px;\n  background-color: #E2F4FF;\n  padding: 15px;\n  border-radius: 99px;\n  cursor: pointer;\n}\n\n.mat-toolbar-row, .mat-toolbar-single-row {\n  padding-right: 0px;\n}"}}]);