(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"0iTv":function(n,e){n.exports='::ng-deep tr.mat-row {\n  cursor: pointer;\n}\n::ng-deep tr.mat-row:hover {\n  background-color: #f6f6f6;\n}\n::ng-deep .mat-form-field-infix {\n  border-top: 0px;\n}\n.numberInputField {\n  width: 45px;\n  height: 27px;\n  border-bottom: none;\n}\n.textInputField {\n  height: 27px;\n}\ntable {\n  table-layout: fixed;\n}\ntd {\n  padding-left: 15px !important;\n  padding-right: 5px !important;\n  border-bottom: none;\n  color: #1C1C1C !important;\n}\nth {\n  padding-left: 15px !important;\n  padding-right: 5px !important;\n  background-color: #fcfcfc;\n  border-bottom: none;\n  color: #000000 !important;\n}\n.mat-card {\n  padding: 0px;\n  padding-bottom: 20px;\n}\n.bodyAll {\n  margin: 10px;\n}\n.bodyAll .manager .dialog-section-title {\n  background-color: #c4e4ff;\n  font-size: 18px;\n  padding: 15px 10px;\n}\n.bodyAll .manager .dialog-section-title .btnAccept {\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n  baground-color: #A9D0F5;\n  pading: 10px;\n}\n.card-title {\n  padding: 40px 10px;\n  text-transform: uppercase;\n  color: #4d73a4;\n  font-weight: bold;\n}\n::ng-deep th.mat-header-cell {\n  border-bottom: 1px solid #f7f7f7;\n  color: #b9b9b9;\n}\n.sub-header ::ng-deep th.mat-header-cell {\n  border-bottom: none;\n}\n::ng-deep td.mat-cell, td.mat-footer-cell {\n  border-bottom-width: 0px !important;\n  color: #9da0a5;\n}\n::ng-deep tr.mat-footer-row:hover, tr.mat-row:hover {\n  background-color: #eff7fa !important;\n}\n::ng-deep tr.mat-footer-row:hover td.mat-cell, ::ng-deep tr.mat-footer-row:hover td.mat-footer-cell, tr.mat-row:hover td.mat-cell, tr.mat-row:hover td.mat-footer-cell {\n  color: #384855;\n}\n::ng-deep tr.mat-footer-row:nth-child(2n), tr.mat-row:nth-child(2n) {\n  background-color: #fafbfd;\n}\n.numberInputField ::ng-deep .mat-form-field-underline {\n  display: none;\n}\n.bar {\n  padding: 5px 5px;\n  border-radius: 60px;\n  display: inline-block;\n  font-weight: bold;\n  text-align: center;\n}\n.bar-shadow {\n  background-color: #e7f0f5;\n  border-radius: 60px;\n  max-width: 110px;\n}\n.btnAccept {\n  background: -moz-linear-gradient(#c4e4ff, #EBFFFF);\n  background: -webkit-gradient(linear, 0 0, 0 100%, from(#c4e4ff), to(#EBFFFF));\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#c4e4ff", endColorstr="#EBFFFF");\n  padding: 3px 7px;\n  border-radius: 5px;\n  border: 1px solid #c4e4ff;\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n  margin-bottom: 5px;\n}'},DABu:function(n,e){n.exports='<mat-card class="mat-elevation-z1">\r\n  <mat-card-header>\r\n    <mat-card-title class="card-title">\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u0432\u043e\u043d\u043a\u043e\u0432</mat-card-title>\r\n  </mat-card-header>\r\n  <div class="bodyAll">\r\n    <div class="manager" *ngFor="let acceptManager of acceptManagers">\r\n      <div *ngIf="acceptManager.callsDate.length != 0"  (dblclick)="hidenTable($event)">\r\n      <p class="dialog-section-title">\r\n        {{acceptManager.login}} "{{acceptManager.phone}}"\r\n      </p>\r\n      <table id="ID{{acceptManager.id}}" mat-table [dataSource]="acceptManager.callsDate">\r\n\r\n        <ng-container matColumnDef="status">\r\n          <th colspan="1" mat-header-cell *matHeaderCellDef></th>\r\n          <td colspan="1" mat-cell *matCellDef="let element" [style.background]="setBagroundStatus(element)"></td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="statusCall">\r\n          <th colspan="3" mat-header-cell *matHeaderCellDef>\u0421\u0442\u0430\u0442\u0443\u0441</th>\r\n          <td colspan="3" mat-cell *matCellDef="let element">{{element.contactType == 40 ? "\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0451\u043d" : "\u041d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d"}}</td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="direction">\r\n          <th colspan="3" mat-header-cell *matHeaderCellDef>\u0421\u0442\u0430\u0442\u0443\u0441\u0437\u0432\u043e\u043d\u043a\u0430 \u0437\u0432\u043e\u043d\u043a\u0430</th>\r\n          <td colspan="3" mat-cell *matCellDef="let element">{{element.direction}} </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="answer">\r\n          <th colspan="3" mat-header-cell *matHeaderCellDef>\u041e\u0442\u0432\u0435\u0447\u0435\u043d</th>\r\n          <td colspan="3" mat-cell *matCellDef="let element">{{element.durations == 0 ? "\u041d\u0435\u0442" : "\u0414\u0430"}} </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="title">\r\n          <th colspan="3" mat-header-cell *matHeaderCellDef>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435</th>\r\n          <td colspan="3" mat-cell *matCellDef="let element">{{element.titleClient}} </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="phone">\r\n          <th colspan="3" mat-header-cell *matHeaderCellDef>\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0430</th>\r\n          <td colspan="3" mat-cell *matCellDef="let element">{{element.phone}}</td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="duration">\r\n          <th colspan="3" mat-header-cell *matHeaderCellDef>\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c</th>\r\n          <td colspan="3" mat-cell *matCellDef="let element" style="max-width: 300px">{{element.durations}} \u0421\u0435\u043a</td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="date">\r\n          <th colspan="3" mat-header-cell *matHeaderCellDef>\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0437\u0432\u043e\u043d\u043a\u0430</th>\r\n          <td colspan="3" mat-cell *matCellDef="let element">{{element.date}}</td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="comentCon">\r\n          <th colspan="4" mat-header-cell *matHeaderCellDef>\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440\u0430</th>\r\n          <td colspan="4" mat-cell *matCellDef="let element"><textarea style="width:300px;height:60px;">{{element.callsComments?.comment}}</textarea><br /> <button (click)="setNoAccept($event, element.id, element.clientId)" class="btnAccept">\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c</button> <button (click)="setAccept($event, element.id, element.clientId)" class="btnAccept">\u0418\u0441\u043f\u0440\u0430\u043b\u0435\u043d\u043e</button></td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="comentCli">\r\n          <th colspan="3" mat-header-cell *matHeaderCellDef>\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430</th>\r\n          <td colspan="3" mat-cell *matCellDef="let element">{{element.callsComments?.managerComment}}</td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="refAudio">\r\n          <th colspan="4" mat-header-cell *matHeaderCellDef>\u0410\u0443\u0434\u0438 \u0437\u0430\u043f\u0438\u0441\u044c</th>\r\n          <td colspan="4" mat-cell *matCellDef="let element"><audio style="height:20px" controls preload="none" src="{{element.referenceAudioVoice}}"></audio></td>\r\n        </ng-container>\r\n\r\n        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\r\n        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (dblclick)="openEditClientForm(row)"></tr>\r\n      </table>\r\n    </div>\r\n    </div>\r\n  </div>\r\n</mat-card>\r\n'},OFTY:function(n,e,t){"use strict";t.r(e);var r=t("mrSG"),a=t("CcnG"),o=t("Ip0R"),l=t("hctd"),c=t("gIcY"),i=t("ZYCi"),d=function(){function n(){}return n.prototype.logout=function(){window.location.href="/Account/Logout"},n.prototype.ngOnInit=function(){},n=r.b([Object(a.n)({selector:"app-controler",template:t("V73Z"),styles:[t("nJ+G")]}),r.d("design:paramtypes",[])],n)}(),p=t("o3x0"),s=t("t/Na"),m=function(){function n(n,e,t){this.dialog=n,this.http=e,this.cdr=t,this.managers=[],this.cientAccept=[],this.acceptManagers=[],this.displayedColumns=["status","statusCall","direction","answer","title","phone","duration","date","comentCon","comentCli","refAudio"]}return n.prototype.ngOnChanges=function(){},n.prototype.getManager=function(){var n=this;this.http.get("api/admin/Manager/").subscribe(function(e){n.managers=e.filter(function(n){return 2==n.typeManager}),n.cdr.detectChanges()})},n.prototype.getcallsDater=function(){var n=this;this.http.get("api/conroler/ClientAccept/").subscribe(function(e){n.cientAccept=e,n.sortManagerToCalls(),n.cdr.detectChanges()})},n.prototype.sortManagerToCalls=function(){var n=this;this.managers.forEach(function(e){var t=n.cientAccept.filter(function(n){return n.managerId==e.id}),r={id:e.id,login:e.login,phone:e.phone,callsDate:t};n.acceptManagers.push(r)}),console.log(this.acceptManagers)},n.prototype.hidenTable=function(n){n.currentTarget.children[1].hidden?n.currentTarget.children[1].hidden=!1:n.currentTarget.children[1].hidden=!0},n.prototype.setNoAccept=function(n,e,t){var r=n.currentTarget.offsetParent.children[0].value;null==r&&""==r||(this.http.get("api/conroler/ClientAccept/NoAcceptCall?comment="+r+"&callId="+e+"&clientId="+t).subscribe(),n.currentTarget.offsetParent.parentElement.children[0].style.backgroundColor="#DF013A")},n.prototype.setAccept=function(n,e,t){var r=n.currentTarget.offsetParent.children[0].value;this.http.get("api/conroler/ClientAccept/DefaultCall?comment="+r+"&callId="+e+"&clientId="+t).subscribe(),n.currentTarget.offsetParent.children[0].value="",n.currentTarget.offsetParent.parentElement.children[0].style.backgroundColor="#FAFAFA"},n.prototype.setBagroundStatus=function(n){return n.callsComments?2==n.callsComments.acceptControlerCalss?"#2EFE9A":1==n.callsComments.acceptControlerCalss?"#DF013A":"#FAFAFA":"#FAFAFA"},n.prototype.ngOnInit=function(){this.getManager(),this.getcallsDater()},r.b([Object(a.F)(),r.d("design:type",Array)],n.prototype,"managers",void 0),r.b([Object(a.F)(),r.d("design:type",Array)],n.prototype,"cientAccept",void 0),n=r.b([Object(a.n)({selector:"app-Accept-Manager",template:t("DABu"),changeDetection:a.j.OnPush,styles:[t("0iTv")]}),r.d("design:paramtypes",[p.b,s.a,a.k])],n)}(),g=[{path:"",component:d,children:[{path:"",pathMatch:"full",redirectTo:"AcceptManager"},{path:"AcceptManager",component:m}]}],u=function(){function n(){}return n=r.b([Object(a.K)({imports:[i.c.forChild(g)],exports:[i.c]})],n)}(),f=t("qGjA"),h=t("lFvN"),b=t("iWZV"),C=t("vDEm"),x=t("tEaz"),D=t("NtwD"),A=function(){function n(n){this.managersFacade=n,this.managers$=this.managersFacade.managers$}return n.prototype.ngOnInit=function(){this.managersFacade.loadManagers(),console.log(this.managers$)},n=r.b([Object(a.n)({selector:"app-accept",template:t("zxd3"),styles:[t("eGNq")]}),r.d("design:paramtypes",[D.a])],n)}(),v=function(){function n(){}return n=r.b([Object(a.K)({declarations:[A,m,f.a,h.a,b.a,x.a],entryComponents:[],exports:[A],imports:[o.b,l.a,c.j,c.e,c.e,s.b],providers:[C.a]})],n)}();t.d(e,"ControlerModule",function(){return y});var y=function(){function n(){}return n=r.b([Object(a.K)({declarations:[d],imports:[o.b,l.a,u,v,c.j,i.c]})],n)}()},V73Z:function(n,e){n.exports='<mat-toolbar class="mat-elevation-z2">\r\n  <div class="logo">\r\n    \u041c\u0438\u0440 \u0421\u0443\u0448\u0438\r\n  </div>\r\n  <nav>\r\n    <ul>   \r\n      <li><a routerLink="clients" routerLinkActive="active">\u0417\u0432\u043e\u043d\u043a\u0438</a></li>      \r\n    </ul>\r\n  </nav>\r\n\r\n  <div class="logout">\r\n    \u041a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440\r\n    <i class="fas fa-sign-out-alt" (click)="logout()"></i>\r\n  </div>\r\n</mat-toolbar>\r\n\r\n\r\n<div class="wrapper">\r\n  <router-outlet></router-outlet> \r\n</div>\r\n'},eGNq:function(n,e){n.exports=""},"nJ+G":function(n,e){n.exports=".wrapper {\n  padding: 0px 10px;\n  width: 135% !important;\n}\n\n.logout {\n  margin-left: auto;\n  color: #4771A1;\n  font-size: 18px;\n  padding: 23px 40px;\n  background-color: #F7FCFF;\n}\n\n.logout i {\n  display: inline-block;\n  margin-left: 60px;\n  background-color: #E2F4FF;\n  padding: 15px;\n  border-radius: 99px;\n  cursor: pointer;\n}\n\n.mat-toolbar-row, .mat-toolbar-single-row {\n  padding-right: 0px;\n  width: 135% !important;\n}"},zxd3:function(n,e){n.exports='<app-Accept-Manager\r\n    [managers]="managers$ | async">\n</app-Accept-Manager>\n'}}]);