(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"0iTv":function(e,t){e.exports='::ng-deep tr.mat-row {\n  cursor: pointer;\n}\n::ng-deep tr.mat-row:hover {\n  background-color: #f6f6f6;\n}\n::ng-deep .mat-form-field-infix {\n  border-top: 0px;\n}\n.numberInputField {\n  width: 45px;\n  height: 27px;\n  border-bottom: none;\n}\n.textInputField {\n  height: 27px;\n}\ntable {\n  table-layout: fixed;\n}\ntd {\n  border-bottom: none;\n  color: #1C1C1C !important;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  padding-right: 5px !important;\n}\nth {\n  background-color: #62b4ff;\n  border-bottom: none;\n  color: white !important;\n  font-size: 13px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  padding-right: 5px !important;\n  line-height: 1.5;\n}\n.mat-card {\n  padding: 0px;\n  padding-bottom: 20px;\n}\n.bodyAll {\n  margin: 10px;\n}\n.bodyAll .manager .dialog-section-title {\n  background-color: #c4e4ff;\n  font-size: 18px;\n  padding: 15px 10px;\n}\n.bodyAll .manager .dialog-section-title .btnAccept {\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n  baground-color: #A9D0F5;\n  pading: 10px;\n}\n.card-title {\n  padding: 40px 10px;\n  text-transform: uppercase;\n  color: #4d73a4;\n  font-weight: bold;\n}\n::ng-deep th.mat-header-cell {\n  border-bottom: 1px solid #f7f7f7;\n  color: #b9b9b9;\n}\n.sub-header ::ng-deep th.mat-header-cell {\n  border-bottom: none;\n}\n::ng-deep td.mat-cell, td.mat-footer-cell {\n  border-bottom-width: 0px !important;\n  color: #9da0a5;\n}\n::ng-deep tr.mat-footer-row:hover, tr.mat-row:hover {\n  background-color: #eff7fa !important;\n}\n::ng-deep tr.mat-footer-row:hover td.mat-cell, ::ng-deep tr.mat-footer-row:hover td.mat-footer-cell, tr.mat-row:hover td.mat-cell, tr.mat-row:hover td.mat-footer-cell {\n  color: #384855;\n}\n::ng-deep tr.mat-footer-row:nth-child(2n), tr.mat-row:nth-child(2n) {\n  background-color: #fafbfd;\n}\n.numberInputField ::ng-deep .mat-form-field-underline {\n  display: none;\n}\n.bar {\n  padding: 5px 5px;\n  border-radius: 60px;\n  display: inline-block;\n  font-weight: bold;\n  text-align: center;\n}\n.bar-shadow {\n  background-color: #e7f0f5;\n  border-radius: 60px;\n  max-width: 110px;\n}\n.textComment {\n  max-width: 300px;\n  height: 60px;\n  padding: 6px;\n  width: 200px;\n  margin-top: 15px;\n}\n.audio-cell {\n  width: 250px;\n}\n.btnAccept {\n  background-color: #03a9f4;\n  color: #fff;\n  transition: 0.3s;\n  border-radius: 15px;\n  padding: 5px 5px;\n  border: none;\n  cursor: pointer;\n  margin-bottom: 5px;\n  margin-right: 3px;\n  flex-basis: 50%;\n  padding-left: 6px;\n  padding-right: 6px;\n}\n.btnContainer {\n  display: flex;\n  width: 200px;\n  margin-bottom: 8px;\n  max-width: 300px;\n}\n.btnReject {\n  background-color: #ff7777;\n}\n.btnFixed {\n  background-color: #8bd88b;\n  margin-right: 0;\n}\n.audio-cell-icon {\n  display: none;\n  height: 38px;\n  width: 38px;\n}\n.filter {\n  margin: 0 20px;\n  text-align: right;\n}\n.filter input, .filter select, .filter button {\n  display: inline-block;\n  width: 200px;\n  padding: 10px 20px;\n  border: 1px solid;\n  border-radius: 99px;\n  border: 1px solid #E9F3FF;\n  margin-bottom: 10px;\n  background-color: white;\n}\n.filter .report {\n  margin-right: 20px;\n  display: inline-block;\n  padding: 10px 20px;\n  border: 1px solid;\n  border-radius: 99px;\n  border: 1px solid #E9F3FF;\n  margin-bottom: 10px;\n}\n@media screen and (max-width: 820px) {\n  .filter {\n    display: flex;\n    flex-direction: column;\n    margin-top: 20px;\n    padding-right: 40px;\n  }\n  .filter input, .filter select, .filter button {\n    width: 250px;\n  }\n}\n@media screen and (max-width: 820px) {\n  .filter-container {\n    overflow-y: scroll;\n    position: absolute;\n    right: -300px;\n    display: none;\n    top: 0;\n    height: 100%;\n    background: white;\n    z-index: 997;\n  }\n  .filter-container.opened {\n    right: 0;\n    display: block;\n    -webkit-animation: animateright 0.4s;\n            animation: animateright 0.4s;\n  }\n}\n.filter-button {\n  background: #62b4ff;\n  position: fixed;\n  top: 47vh;\n  right: 0;\n  padding: 10px 5px;\n  border-top-left-radius: 6px;\n  border-bottom-left-radius: 6px;\n  z-index: 998;\n}\n.blockCalendar {\n  align-items: center;\n  display: flex;\n  position: absolute;\n  right: 10px;\n  z-index: 10;\n  background-color: white;\n}\n.blockCalendar .calendar {\n  width: 300px;\n}\n.blockCalendar .btnSort {\n  width: 150px;\n  border-radius: 20px;\n  border: 1px solid #d4f3ff;\n}\n.blockCalendar .btnSort:focus {\n  background-color: #f2fbff;\n}\n@media screen and (max-width: 820px) {\n  .blockCalendar {\n    position: initial;\n    display: flex;\n    flex-direction: column;\n  }\n  .blockCalendar .calendar {\n    width: 250px;\n  }\n  .blockCalendar .sortbloc {\n    display: flex;\n    flex-wrap: wrap;\n    width: 250px;\n  }\n  .blockCalendar .btnSort {\n    width: auto;\n  }\n}\n#fountainG {\n  width: 186px;\n  height: 22px;\n  margin: auto;\n  display: flex;\n}\n.fountainG {\n  background-color: rgba(46, 77, 171, 0.71);\n  width: 22px;\n  height: 22px;\n  animation-name: bounce_fountainG;\n  -o-animation-name: bounce_fountainG;\n  -ms-animation-name: bounce_fountainG;\n  -webkit-animation-name: bounce_fountainG;\n  -moz-animation-name: bounce_fountainG;\n  animation-duration: 0.905s;\n  -o-animation-duration: 0.905s;\n  -ms-animation-duration: 0.905s;\n  -webkit-animation-duration: 0.905s;\n  -moz-animation-duration: 0.905s;\n  animation-iteration-count: infinite;\n  -o-animation-iteration-count: infinite;\n  -ms-animation-iteration-count: infinite;\n  -webkit-animation-iteration-count: infinite;\n  -moz-animation-iteration-count: infinite;\n  animation-direction: normal;\n  -o-animation-direction: normal;\n  -ms-animation-direction: normal;\n  -webkit-animation-direction: normal;\n  -moz-animation-direction: normal;\n  transform: scale(0.3);\n  -o-transform: scale(0.3);\n  -ms-transform: scale(0.3);\n  -webkit-transform: scale(0.3);\n  -moz-transform: scale(0.3);\n  border-radius: 15px;\n  -o-border-radius: 15px;\n  -ms-border-radius: 15px;\n  -webkit-border-radius: 15px;\n  -moz-border-radius: 15px;\n}\n#fountainG_1 {\n  left: 0;\n  animation-delay: 0.366s;\n  -o-animation-delay: 0.366s;\n  -ms-animation-delay: 0.366s;\n  -webkit-animation-delay: 0.366s;\n  -moz-animation-delay: 0.366s;\n}\n#fountainG_2 {\n  left: 23px;\n  animation-delay: 0.4525s;\n  -o-animation-delay: 0.4525s;\n  -ms-animation-delay: 0.4525s;\n  -webkit-animation-delay: 0.4525s;\n  -moz-animation-delay: 0.4525s;\n}\n#fountainG_3 {\n  left: 46px;\n  animation-delay: 0.549s;\n  -o-animation-delay: 0.549s;\n  -ms-animation-delay: 0.549s;\n  -webkit-animation-delay: 0.549s;\n  -moz-animation-delay: 0.549s;\n}\n#fountainG_4 {\n  left: 70px;\n  animation-delay: 0.6355s;\n  -o-animation-delay: 0.6355s;\n  -ms-animation-delay: 0.6355s;\n  -webkit-animation-delay: 0.6355s;\n  -moz-animation-delay: 0.6355s;\n}\n#fountainG_5 {\n  left: 93px;\n  animation-delay: 0.732s;\n  -o-animation-delay: 0.732s;\n  -ms-animation-delay: 0.732s;\n  -webkit-animation-delay: 0.732s;\n  -moz-animation-delay: 0.732s;\n}\n#fountainG_6 {\n  left: 116px;\n  animation-delay: 0.8185s;\n  -o-animation-delay: 0.8185s;\n  -ms-animation-delay: 0.8185s;\n  -webkit-animation-delay: 0.8185s;\n  -moz-animation-delay: 0.8185s;\n}\n#fountainG_7 {\n  left: 139px;\n  animation-delay: 0.905s;\n  -o-animation-delay: 0.905s;\n  -ms-animation-delay: 0.905s;\n  -webkit-animation-delay: 0.905s;\n  -moz-animation-delay: 0.905s;\n}\n#fountainG_8 {\n  left: 163px;\n  animation-delay: 1.0015s;\n  -o-animation-delay: 1.0015s;\n  -ms-animation-delay: 1.0015s;\n  -webkit-animation-delay: 1.0015s;\n  -moz-animation-delay: 1.0015s;\n}\n@keyframes bounce_fountainG {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    background-color: rgba(14, 163, 232, 0.65);\n  }\n  100% {\n    -webkit-transform: scale(0.3);\n            transform: scale(0.3);\n    background-color: #917dd1;\n  }\n}\n@-webkit-keyframes bounce_fountainG {\n  0% {\n    -webkit-transform: scale(1);\n    background-color: rgba(14, 163, 232, 0.65);\n  }\n  100% {\n    -webkit-transform: scale(0.3);\n    background-color: #917dd1;\n  }\n}\n.action-circle {\n  height: 15px;\n  width: 15px;\n  border-radius: 10px;\n  margin-bottom: 4px;\n}\n@media screen and (max-width: 1200px) {\n  .btnContainer,\n.textComment {\n    width: 100%;\n  }\n\n  .audio-cell {\n    width: 50px;\n  }\n\n  .audio-cell-play {\n    display: none;\n  }\n\n  .audio-cell-icon {\n    display: block !important;\n  }\n\n  th:hover,\ntd:hover {\n    text-overflow: clip;\n    overflow: inherit;\n  }\n}\n.overlay.opened {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n  z-index: 996;\n  background: rgba(0, 0, 0, 0.8);\n}\nmat-expansion-panel.mat-expanded {\n  border-radius: 0;\n}\nmat-expansion-panel.mat-expanded mat-expansion-panel-header {\n  background: #62b4ff;\n  border-radius: 0;\n  color: white;\n}\nmat-expansion-panel.mat-expanded mat-expansion-panel-header .mat-expansion-panel-header-title {\n  color: white;\n  font-size: 18px;\n}\nmat-expansion-panel.mat-expanded mat-expansion-panel-header .mat-expansion-panel-header-title .status {\n  width: 10px;\n  position: absolute;\n  left: 0;\n  height: 64px;\n  margin-top: -19px;\n}\n.table-expansion-element-body {\n  margin-top: 20px;\n}\n.table-expansion-element-body .element-item {\n  line-height: 30px;\n}\n.table-expansion-element-body b {\n  margin-right: 10px;\n}\n.table-expansion-element-body .statusCall {\n  display: flex;\n}\n.table-expansion-element-body .statusCall .action-circle {\n  margin-top: 7px;\n}\n.table-expansion-element-body .direction b {\n  vertical-align: top;\n}\n.table-expansion-element-body .refAudio .audio-cell {\n  width: 100%;\n}\n.mat-expansion-panel {\n  border: none;\n  border-bottom: 1px solid #e6e6e6;\n  box-shadow: none;\n}\n.mat-card {\n  min-height: 100vh;\n}'},"9AGB":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("w5QO");function r(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:i.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(e)},t.pipeFromArray=r},C8qk:function(e,t){e.exports='::ng-deep tr.mat-row {\n  cursor: pointer;\n}\n::ng-deep tr.mat-row:hover {\n  background-color: #f6f6f6;\n}\n::ng-deep .mat-form-field-infix {\n  border-top: 0px;\n}\n.numberInputField {\n  width: 45px;\n  height: 27px;\n  border-bottom: none;\n}\n.textInputField {\n  height: 27px;\n}\ntable {\n  table-layout: fixed;\n}\ntd {\n  padding-left: 15px !important;\n  padding-right: 5px !important;\n  border-bottom: none;\n  color: #1C1C1C !important;\n}\nth {\n  padding-left: 15px !important;\n  padding-right: 5px !important;\n  background-color: #fcfcfc;\n  border-bottom: none;\n  color: #000000 !important;\n}\n.mat-card {\n  padding: 0px;\n  padding-bottom: 20px;\n  min-height: 100vh;\n}\n.bodyAll {\n  margin: 10px;\n}\n.bodyAll .manager .dialog-section-title {\n  background-color: #c4e4ff;\n  font-size: 18px;\n  padding: 15px 10px;\n}\n.bodyAll .manager .dialog-section-title .btnAccept {\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n  baground-color: #A9D0F5;\n  pading: 10px;\n}\n.card-title {\n  padding: 40px 10px;\n  text-transform: uppercase;\n  color: #4d73a4;\n  font-weight: bold;\n}\n::ng-deep th.mat-header-cell {\n  border-bottom: 1px solid #f7f7f7;\n  color: #b9b9b9;\n}\n.sub-header ::ng-deep th.mat-header-cell {\n  border-bottom: none;\n}\n::ng-deep td.mat-cell, td.mat-footer-cell {\n  border-bottom-width: 0px !important;\n  color: #9da0a5;\n}\n::ng-deep tr.mat-footer-row:hover, tr.mat-row:hover {\n  background-color: #eff7fa !important;\n}\n::ng-deep tr.mat-footer-row:hover td.mat-cell, ::ng-deep tr.mat-footer-row:hover td.mat-footer-cell, tr.mat-row:hover td.mat-cell, tr.mat-row:hover td.mat-footer-cell {\n  color: #384855;\n}\n::ng-deep tr.mat-footer-row:nth-child(2n), tr.mat-row:nth-child(2n) {\n  background-color: #fafbfd;\n}\n.numberInputField ::ng-deep .mat-form-field-underline {\n  display: none;\n}\n.bar {\n  padding: 5px 5px;\n  border-radius: 60px;\n  display: inline-block;\n  font-weight: bold;\n  text-align: center;\n}\n.bar-shadow {\n  background-color: #e7f0f5;\n  border-radius: 60px;\n  max-width: 110px;\n}\n.btnContainer {\n  display: flex;\n  width: 100%;\n  margin-bottom: 8px;\n}\n.btnAccept {\n  background-color: #03a9f4;\n  color: #fff;\n  transition: 0.3s;\n  border-radius: 15px;\n  padding: 2px 2px;\n  border: none;\n  cursor: pointer;\n  margin-bottom: 5px;\n  margin-right: 3px;\n  flex-basis: 50%;\n  padding-left: 6px;\n  padding-right: 6px;\n}\n.btnReject {\n  background-color: #ff7777;\n}\n.btnFixed {\n  background-color: #8bd88b;\n  margin-right: 0;\n}\n.filter {\n  margin: 0 20px;\n  text-align: right;\n}\n.filter input, .filter select, .filter button {\n  display: inline-block;\n  width: 200px;\n  padding: 10px 20px;\n  border: 1px solid;\n  border-radius: 99px;\n  border: 1px solid #E9F3FF;\n  margin-bottom: 10px;\n  background-color: white;\n}\n.filter .report {\n  margin-right: 20px;\n  display: inline-block;\n  padding: 10px 20px;\n  border: 1px solid;\n  border-radius: 99px;\n  border: 1px solid #E9F3FF;\n  margin-bottom: 10px;\n}\n.filter .calendar {\n  width: 300px;\n  position: absolute;\n  right: 10px;\n  z-index: 10;\n}\n.filter-button {\n  background: #62b4ff;\n  position: fixed;\n  top: 47vh;\n  right: 0;\n  padding: 10px 5px;\n  border-top-left-radius: 6px;\n  border-bottom-left-radius: 6px;\n  z-index: 998;\n}\n.overlay.opened {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n  z-index: 996;\n  background: #000000cc;\n}\n#fountainG {\n  width: 186px;\n  height: 22px;\n  margin: auto;\n  display: flex;\n}\n.fountainG {\n  background-color: rgba(46, 77, 171, 0.71);\n  width: 22px;\n  height: 22px;\n  animation-name: bounce_fountainG;\n  -o-animation-name: bounce_fountainG;\n  -ms-animation-name: bounce_fountainG;\n  -webkit-animation-name: bounce_fountainG;\n  -moz-animation-name: bounce_fountainG;\n  animation-duration: 0.905s;\n  -o-animation-duration: 0.905s;\n  -ms-animation-duration: 0.905s;\n  -webkit-animation-duration: 0.905s;\n  -moz-animation-duration: 0.905s;\n  animation-iteration-count: infinite;\n  -o-animation-iteration-count: infinite;\n  -ms-animation-iteration-count: infinite;\n  -webkit-animation-iteration-count: infinite;\n  -moz-animation-iteration-count: infinite;\n  animation-direction: normal;\n  -o-animation-direction: normal;\n  -ms-animation-direction: normal;\n  -webkit-animation-direction: normal;\n  -moz-animation-direction: normal;\n  transform: scale(0.3);\n  -o-transform: scale(0.3);\n  -ms-transform: scale(0.3);\n  -webkit-transform: scale(0.3);\n  -moz-transform: scale(0.3);\n  border-radius: 15px;\n  -o-border-radius: 15px;\n  -ms-border-radius: 15px;\n  -webkit-border-radius: 15px;\n  -moz-border-radius: 15px;\n}\n#fountainG_1 {\n  left: 0;\n  animation-delay: 0.366s;\n  -o-animation-delay: 0.366s;\n  -ms-animation-delay: 0.366s;\n  -webkit-animation-delay: 0.366s;\n  -moz-animation-delay: 0.366s;\n}\n#fountainG_2 {\n  left: 23px;\n  animation-delay: 0.4525s;\n  -o-animation-delay: 0.4525s;\n  -ms-animation-delay: 0.4525s;\n  -webkit-animation-delay: 0.4525s;\n  -moz-animation-delay: 0.4525s;\n}\n#fountainG_3 {\n  left: 46px;\n  animation-delay: 0.549s;\n  -o-animation-delay: 0.549s;\n  -ms-animation-delay: 0.549s;\n  -webkit-animation-delay: 0.549s;\n  -moz-animation-delay: 0.549s;\n}\n#fountainG_4 {\n  left: 70px;\n  animation-delay: 0.6355s;\n  -o-animation-delay: 0.6355s;\n  -ms-animation-delay: 0.6355s;\n  -webkit-animation-delay: 0.6355s;\n  -moz-animation-delay: 0.6355s;\n}\n#fountainG_5 {\n  left: 93px;\n  animation-delay: 0.732s;\n  -o-animation-delay: 0.732s;\n  -ms-animation-delay: 0.732s;\n  -webkit-animation-delay: 0.732s;\n  -moz-animation-delay: 0.732s;\n}\n#fountainG_6 {\n  left: 116px;\n  animation-delay: 0.8185s;\n  -o-animation-delay: 0.8185s;\n  -ms-animation-delay: 0.8185s;\n  -webkit-animation-delay: 0.8185s;\n  -moz-animation-delay: 0.8185s;\n}\n#fountainG_7 {\n  left: 139px;\n  animation-delay: 0.905s;\n  -o-animation-delay: 0.905s;\n  -ms-animation-delay: 0.905s;\n  -webkit-animation-delay: 0.905s;\n  -moz-animation-delay: 0.905s;\n}\n#fountainG_8 {\n  left: 163px;\n  animation-delay: 1.0015s;\n  -o-animation-delay: 1.0015s;\n  -ms-animation-delay: 1.0015s;\n  -webkit-animation-delay: 1.0015s;\n  -moz-animation-delay: 1.0015s;\n}\n@keyframes bounce_fountainG {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    background-color: rgba(14, 163, 232, 0.65);\n  }\n  100% {\n    -webkit-transform: scale(0.3);\n            transform: scale(0.3);\n    background-color: #917dd1;\n  }\n}\n@-webkit-keyframes bounce_fountainG {\n  0% {\n    -webkit-transform: scale(1);\n    background-color: rgba(14, 163, 232, 0.65);\n  }\n  100% {\n    -webkit-transform: scale(0.3);\n    background-color: #917dd1;\n  }\n}\n@media screen and (max-width: 1200px) {\n  td, th {\n    padding-left: 0 !important;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    line-height: 1.5;\n  }\n\n  th:hover,\ntd:hover {\n    text-overflow: clip;\n    overflow: inherit;\n  }\n}\n@media screen and (max-width: 820px) {\n  .filter-container {\n    overflow-y: scroll;\n    position: absolute;\n    width: -webkit-min-content;\n    width: -moz-min-content;\n    width: min-content;\n    display: none;\n    top: 0;\n    right: 0;\n    height: 100%;\n    background: white;\n    z-index: 997;\n  }\n\n  .filter-container.opened {\n    right: 0;\n    display: block;\n    -webkit-animation: animateright 0.4s;\n    animation: animateright 0.4;\n  }\n\n  .filter {\n    display: flex;\n    flex-direction: column;\n    margin-top: 20px;\n    padding-right: 40px;\n  }\n}\nmat-expansion-panel.mat-expanded {\n  border-radius: 0;\n}\nmat-expansion-panel.mat-expanded mat-expansion-panel-header {\n  background: #62b4ff;\n  border-radius: 0;\n  color: white;\n}\nmat-expansion-panel.mat-expanded mat-expansion-panel-header .mat-expansion-panel-header-title {\n  color: white;\n  font-size: 18px;\n}\nmat-expansion-panel.mat-expanded mat-expansion-panel-header .mat-expansion-panel-header-title .status {\n  width: 10px;\n  position: absolute;\n  left: 0;\n  height: 64px;\n  margin-top: -19px;\n}\n.table-expansion-element-body {\n  margin-top: 20px;\n}\n.table-expansion-element-body .element-item {\n  line-height: 30px;\n}\n.table-expansion-element-body b {\n  margin-right: 10px;\n}\n.table-expansion-element-body .statusCall {\n  display: flex;\n}\n.table-expansion-element-body .statusCall .action-circle {\n  margin-top: 7px;\n}\n.table-expansion-element-body .direction b {\n  vertical-align: top;\n}\n.table-expansion-element-body .refAudio .audio-cell {\n  width: 100%;\n}\n.table-expansion-element-body .comentCon {\n  max-width: 300px;\n}\n.table-expansion-element-body .comentCon .btnContainer .btnAccept {\n  height: 30px;\n}\n.mat-expansion-panel {\n  border: none;\n  border-bottom: 1px solid #e6e6e6;\n  box-shadow: none;\n}'},DABu:function(e,t){e.exports='<mat-card class="mat-elevation-z1">\r\n  <div class="overlay" [class.opened]="_isMobile() && _filterOpened"></div>\r\n  <mat-card-header>\r\n    <mat-card-title class="card-title">\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u0432\u043e\u043d\u043a\u043e\u0432</mat-card-title>\r\n    <div id="fountainG" [hidden]="hiddenloader">\r\n      <div id="fountainG_1" class="fountainG"></div>\r\n      <div id="fountainG_2" class="fountainG"></div>\r\n      <div id="fountainG_3" class="fountainG"></div>\r\n      <div id="fountainG_4" class="fountainG"></div>\r\n      <div id="fountainG_5" class="fountainG"></div>\r\n      <div id="fountainG_6" class="fountainG"></div>\r\n      <div id="fountainG_7" class="fountainG"></div>\r\n      <div id="fountainG_8" class="fountainG"></div>\r\n    </div>\r\n  </mat-card-header>\r\n\r\n  <div class="filter-container" [class.opened]="_filterOpened">\r\n    <div class="filter clearfix">\r\n      <input (keyup)="applyFilterNumberOrname($event.target.value)" placeholder="\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0438\u043b\u0438 \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435">\r\n      <input (keyup)="applyFilterDuration($event.target.value)" placeholder="\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c">\r\n      <select [(ngModel)]="direction" (ngModelChange)="changeDirection()">\r\n        <option [ngValue]=0>\u0412\u0441\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f</option>\r\n        <option [ngValue]=1>\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435</option>\r\n        <option [ngValue]=2>\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435</option>\r\n      </select>\r\n      <select [(ngModel)]="selectedManager" (ngModelChange)="changeManager()">\r\n        <option selected [ngValue]=0>\u0412\u0441\u0435 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430</option>\r\n        <option *ngFor="let elm of managers" [ngValue]=elm.id>{{elm.login}}</option>\r\n      </select>\r\n      <button (click)="hiddenCalendar()">{{btnDate}}</button>\r\n      <div [hidden]="_isMobile() ? false : calendarHidden" class="blockCalendar">\r\n        <div class="calendar">\r\n          <igx-calendar (onSelection)="verifyRange($event)" selection="range"></igx-calendar>\r\n        </div>\r\n        <div class="sortbloc">\r\n          <button (click)="sortDateCall(1)" class="btnSort">\u0417\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f</button><br />\r\n          <button (click)="sortDateCall(2)" class="btnSort">\u0417\u0430 \u0421\u0435\u0433\u043e\u0434\u043d\u044f</button><br />\r\n          <button (click)="sortDateCall(3)" class="btnSort">\u0417\u0430 \u0412\u0447\u0435\u0440\u0430</button><br />\r\n          <button (click)="sortDateCall(4)" class="btnSort">\u0417\u0430 \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 7 \u0414\u043d\u0435\u0439</button><br />\r\n          <button (click)="sortDateCall(5)" class="btnSort">3\u0430 \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 30 \u0414\u043d\u0435\u0439</button><br />\r\n          <button (click)="sortDateCall(6)" class="btnSort">\u0417\u0430 \u0422\u0435\u043a\u0443\u0449\u044e\u044e \u043d\u0435\u0434\u0435\u043b\u044e</button><br />\r\n          <button (click)="sortDateCall(7)" class="btnSort">\u0417\u0430 \u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u041c\u0435\u0441\u044f\u0446</button><br />\r\n          <button (click)="sortDateCall(8)" class="btnSort">\u0417\u0430 \u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0433\u043e\u0434</button><br />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="filter-button-container" *ngIf="_isMobile()">\r\n    <div class="filter-button">\r\n      <button mat-icon-button (click)="_toggleSidebar()">\r\n        <img [src]="_getFilterIcon()" height="30" width="30" />\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <mat-paginator [pageSizeOptions]="[10, 20, 30, 40, 50, 60, 70, 80, 90, 100]" showFirstLastButtons\r\n    [length]="totalItems" [pageSize]="pageSize" (page)="paginate($event)"></mat-paginator>\r\n  <div class="bodyAll" [hidden]="_isMobile()">\r\n    <table mat-table [dataSource]="dataSource" matSort>\r\n\r\n      <ng-container matColumnDef="status">\r\n        <th colspan="1" mat-header-cell *matHeaderCellDef></th>\r\n        <td colspan="1" mat-cell *matCellDef="let element" [style.background]="setBagroundStatus(element)"></td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="statusCall">\r\n        <th colspan="3" mat-header-cell *matHeaderCellDef>\u0421\u0442\u0430\u0442\u0443\u0441</th>\r\n        <td colspan="3" mat-cell *matCellDef="let element">\r\n          <div class="action-circle" [style.background]="getActionColor(element)">\r\n          </div>\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="direction">\r\n        <th colspan="4" mat-header-cell *matHeaderCellDef>\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0432\u043e\u043d\u043a\u0430</th>\r\n        <td colspan="4" mat-cell *matCellDef="let element">\r\n          <img src="Icon/yesIncoming.png" height="40" width="40"\r\n            *ngIf="element.direction == \'\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations != 0" />\r\n          <img src="Icon/yesOutgoing.png" height="40" width="40"\r\n            *ngIf="element.direction == \'\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations != 0" />\r\n          <img src="Icon/noOutgoing.png" height="40" width="40"\r\n            *ngIf="element.direction == \'\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations == 0" />\r\n          <img src="Icon/noIncoming.png" height="40" width="40"\r\n            *ngIf="element.direction == \'\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations == 0" />\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="title">\r\n        <th colspan="4" mat-header-cell *matHeaderCellDef>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435</th>\r\n        <td colspan="4" mat-cell *matCellDef="let element">{{element.titleClient}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="phone">\r\n        <th colspan="6" mat-header-cell *matHeaderCellDef>\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b</th>\r\n        <td colspan="6" mat-cell *matCellDef="let element">{{element.phone}}</td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="duration">\r\n        <th colspan="4" mat-header-cell *matHeaderCellDef>\u0412\u0440\u0435\u043c\u044f \u0437\u0432\u043e\u043d\u043a\u0430</th>\r\n        <td colspan="4" mat-cell *matCellDef="let element" style="max-width: 300px">{{element.durations}} \u0421\u0435\u043a</td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="date">\r\n        <th colspan="7" mat-header-cell *matHeaderCellDef>\u0414\u0430\u0442\u0430</th>\r\n        <td colspan="7" mat-cell *matCellDef="let element">{{element.date}}</td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="comentCon">\r\n        <th colspan="14" mat-header-cell *matHeaderCellDef>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440\u0430</th>\r\n        <td colspan="14" mat-cell *matCellDef="let element">\r\n          <textarea *ngIf="element.contactType != 50"\r\n            class="textComment">{{element.callsComments?.comment}}</textarea><br />\r\n          <div class="btnContainer">\r\n            <button *ngIf="element.contactType != 50" (click)="setNoAccept($event, element.id, element.clientId)"\r\n              class="btnAccept btnReject">\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c</button>\r\n            <button *ngIf="element.contactType != 50" (click)="setAccept($event, element.id, element.clientId)"\r\n              class="btnAccept btnFixed">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e</button>\r\n          </div>\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="comentCli">\r\n        <th colspan="7" mat-header-cell *matHeaderCellDef>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430</th>\r\n        <td colspan="7" mat-cell *matCellDef="let element">{{element.callsComments?.managerComment}}</td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="refAudio">\r\n        <th class="audio-cell" mat-header-cell *matHeaderCellDef>\u0410\u0443\u0434\u0438\u043e \u0437\u0430\u043f\u0438\u0441\u044c</th>\r\n        <td class="audio-cell" mat-cell *matCellDef="let element">\r\n          <img *ngIf="element.contactType != 50" (click)="playAudio($event, element.id, element.referenceAudioVoice)"\r\n            class="audio-cell-icon" [src]="_display_audio_icon(element.id)" />\r\n          <audio class="audio-cell audio-cell-play" style="height:20px" controls preload="none"\r\n            src="{{element.referenceAudioVoice}}"></audio>\r\n        </td>\r\n      </ng-container>\r\n\r\n      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\r\n      <tr mat-row *matRowDef="let row; columns: displayedColumns;" (dblclick)="openEditClientForm(row)"></tr>\r\n    </table>\r\n  </div>\r\n  <div class="bodyAllExpansion" [hidden]="!_isMobile()">\r\n    <mat-accordion>\r\n      <ng-container class="table-expansion-element" *ngFor="let element of paginateDataAcept; let i = index">\r\n        <mat-expansion-panel>\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <div class="status" [style.background]="setBagroundStatus(element)"></div>\r\n              <div>\r\n                {{element.titleClient}}\r\n              </div>\r\n            </mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n          <div class="table-expansion-element-body">\r\n            <div class="element-item statusCall">\r\n              <b>\u0421\u0442\u0430\u0442\u0443\u0441:</b>\r\n              <div class="action-circle" [style.background]="getActionColor(element)"></div>\r\n            </div>\r\n            <div class="element-item direction">\r\n              <b> \u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0432\u043e\u043d\u043a\u0430:</b>\r\n              <img src="Icon/yesIncoming.png" height="30" width="30"\r\n                *ngIf="element.direction == \'\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations != 0" />\r\n              <img src="Icon/yesOutgoing.png" height="30" width="30"\r\n                *ngIf="element.direction == \'\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations != 0" />\r\n              <img src="Icon/noOutgoing.png" height="30" width="30"\r\n                *ngIf="element.direction == \'\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations == 0" />\r\n              <img src="Icon/noIncoming.png" height="30" width="30"\r\n                *ngIf="element.direction == \'\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations == 0" />\r\n            </div>\r\n            <div class="element-item title"><b>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:</b> {{element.titleClient}}</div>\r\n            <div class="element-item phone"><b>\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:</b>{{element.phone}}</div>\r\n            <div class="element-item duration"><b>\u0412\u0440\u0435\u043c\u044f \u0437\u0432\u043e\u043d\u043a\u0430:</b>{{element.durations}} \u0421\u0435\u043a</div>\r\n            <div class="element-item date"><b>\u0414\u0430\u0442\u0430:</b>{{element.date}}</div>\r\n            <div class="element-item comentCon">\r\n              <b>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440\u0430:</b>\r\n              <div>\r\n                <textarea *ngIf="element.contactType != 50"\r\n                  class="textComment">{{element.callsComments?.comment}}</textarea><br />\r\n                <div class="btnContainer">\r\n                  <button *ngIf="element.contactType != 50" (click)="setNoAccept($event, element.id, element.clientId, i)"\r\n                    class="btnAccept btnReject">\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c</button>\r\n                  <button *ngIf="element.contactType != 50" (click)="setAccept($event, element.id, element.clientId, i)"\r\n                    class="btnAccept btnFixed">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="element-item comentCli">\r\n              <b>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430:</b>\r\n              <div>\r\n                {{element.callsComments?.managerComment}}\r\n              </div>\r\n            </div>\r\n            <div class="element-item refAudio">\r\n              <b>\u0410\u0443\u0434\u0438\u043e \u0437\u0430\u043f\u0438\u0441\u044c:</b>\r\n              <div>\r\n                <audio class="audio-cell" style="height:20px" controls preload="none"\r\n                  src="{{element.referenceAudioVoice}}"></audio>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </mat-expansion-panel>\r\n      </ng-container>\r\n    </mat-accordion>\r\n  </div>\r\n</mat-card>\r\n'},FWf1:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("pshJ"),a=n("GiSu"),s=n("zB/H"),l=n("p//D"),c=n("n3uD"),d=n("MkmW"),p=function(e){function t(n,i,r){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a.empty;break;case 1:if(!n){o.destination=a.empty;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new u(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new u(o,n,i,r)}return o}return r(t,e),t.prototype[l.rxSubscriber]=function(){return this},t.create=function(e,n,i){var r=new t(e,n,i);return r.syncErrorThrowable=!1,r},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(s.Subscription);t.Subscriber=p;var u=function(e){function t(t,n,i,r){var s,l=e.call(this)||this;l._parentSubscriber=t;var c=l;return o.isFunction(n)?s=n:n&&(s=n.next,i=n.error,r=n.complete,n!==a.empty&&(c=Object.create(n),o.isFunction(c.unsubscribe)&&l.add(c.unsubscribe.bind(c)),c.unsubscribe=l.unsubscribe.bind(l))),l._context=c,l._next=s,l._error=i,l._complete=r,l}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):d.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;d.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw n;d.hostReportError(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return c.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(d.hostReportError(i),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(p);t.SafeSubscriber=u},FiyT:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var i=e.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n("zB/H").Subscription);t.SubjectSubscription=o},GMZp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){return null!==e&&"object"==typeof e}},GiSu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("n3uD"),r=n("MkmW");t.empty={closed:!0,next:function(e){},error:function(e){if(i.config.useDeprecatedSynchronousErrorHandling)throw e;r.hostReportError(e)},complete:function(){}}},LBXl:function(e,t,n){"use strict";function i(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}Object.defineProperty(t,"__esModule",{value:!0}),i.prototype=Object.create(Error.prototype),t.UnsubscriptionError=i},MkmW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hostReportError=function(e){setTimeout(function(){throw e})}},Mxlh:function(e,t,n){"use strict";function i(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}Object.defineProperty(t,"__esModule",{value:!0}),i.prototype=Object.create(Error.prototype),t.ObjectUnsubscribedError=i},OFTY:function(e,t,n){"use strict";n.r(t);var i,r=n("mrSG"),o=n("CcnG"),a=n("Ip0R"),s=n("hctd"),l=n("gIcY"),c=n("t/Na"),d=function(){function e(e,t){this.http=e,this.cdr=t,this._opened=!1,this.getManager()}return e.prototype.logout=function(){window.location.href="/Account/Logout"},e.prototype.getManager=function(){var e=this;this.http.get("api/Account/Name").subscribe(function(t){e.manager=t,e.cdr.detectChanges()})},e.prototype.ngOnInit=function(){},e.prototype._toggleSidebar=function(){this._opened=!this._opened},e.prototype._isMobile=function(){return window.innerWidth<820},e.prototype._getMenuIcon=function(){return this._opened?"../../Icon/close.png":"../../Icon/burger.png"},e=r.c([Object(o.n)({selector:"app-controler",template:n("V73Z"),styles:[n("nJ+G")]}),r.f("design:paramtypes",[c.a,o.k])],e)}(),p=n("ZYCi"),u=n("BHnd"),h=n("4epT"),g=n("OkvK"),f=n("o3x0"),m=function(){function e(e,t,n){this.dialog=e,this.http=t,this.cdr=n,this.managers=[],this.cientAccept=[],this.totalItems=0,this.pageSize=10,this.paginateDataAcept=[],this.displayedColumns=["status","statusCall","direction","title","phone","duration","date","comentCon","comentCli","refAudio"],this.calendarHidden="hidden",this.dateStart=new Date((new Date).getFullYear(),(new Date).getMonth(),1),this.dateEnd=new Date,this.btnDate=this.dateStart.toLocaleDateString()+" - "+this.dateEnd.toLocaleDateString(),this.direction=0,this.txtNumber="",this.durationTxt=-1,this.selectedManager=0,this.hiddenloader="hidden",this.audioPlayId=0,this.dataSource=new u.a(this.cientAccept),this._filterOpened=!1}return e.prototype.ngOnChanges=function(){},e.prototype.getActionColor=function(e){if(e.statusContact&&0!=e.statusContact){if(1==e.statusContact)return"red";if(2==e.statusContact)return"#A9A9F5"}else{if(0==e.contactType)return"#e5e5e5";if(10==e.contactType)return"#FF1493";if(20==e.contactType)return"#B0ECDD";if(30==e.contactType)return"#FDE488";if(40==e.contactType)return"#00FF7F";if(60==e.contactType)return"#58FA82"}},e.prototype.sortDateCall=function(e){this.calendarHidden="hidden";var t=[];if(1==e)t.push(new Date(2019,7,1)),t.push(new Date),this.verifyRange(t);else if(2==e)t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0)),this.verifyRange(t);else if(3==e)t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-1,0)),this.verifyRange(t);else if(4==e)t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-7,0)),t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0)),this.verifyRange(t);else if(5==e)t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-30,0)),t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0)),this.verifyRange(t);else if(6==e){var n=new Date,i=n.getDate()-n.getDay()+1,r=i+6,o=new Date(n.setDate(i)),a=new Date(n.setDate(r));t.push(new Date(o.getFullYear(),o.getMonth(),o.getDate(),0)),t.push(new Date(a.getFullYear(),a.getMonth(),a.getDate(),0)),this.verifyRange(t)}else 7==e?(t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),1,0)),t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),31,0)),this.verifyRange(t)):8==e&&(t.push(new Date((new Date).getFullYear(),0,1,0)),t.push(new Date((new Date).getFullYear(),11,31,0)),this.verifyRange(t))},e.prototype.applyFilterNumberOrname=function(e){this.txtNumber=e,this.sortCalls()},e.prototype.applyFilterDuration=function(e){var t=-1;t=""==e||/[-\.;":'a-zA-Z\u0430-\u044f\u0410-\u042f]/.test(e)?-1:Number(e),this.durationTxt!=t&&(this.durationTxt=t,this.sortCalls())},e.prototype.changeDirection=function(){this.sortCalls()},e.prototype.changeManager=function(){this.sortCalls()},e.prototype.verifyRange=function(e){e&&0!=e.length&&(this.dateStart=e[0],this.dateEnd=e[e.length-1],this.btnDate=this.dateStart.toLocaleDateString()+" - "+this.dateEnd.toLocaleDateString(),this.sortCalls())},e.prototype.sortCalls=function(){var e=this;this.hiddenloader="";var t=1==this.direction?"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439":2==this.direction?"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439":"";this.http.get("api/conroler/ClientAccept/AcceptManager?dateStart="+this.dateStart.toLocaleDateString()+"&dateEnd="+this.dateEnd.toLocaleDateString()+"&direction="+t+"&txtNumber="+this.txtNumber+"&durationTxt="+this.durationTxt+"&managerId="+this.selectedManager).subscribe(function(t){e.cientAccept=t,e.totalItems=t.length,e.paginateDataAcept=t.slice(0*e.pageSize).slice(0,e.pageSize),e.dataSource=new u.a(e.cientAccept),e.dataSource.paginator=e.paginator,e.dataSource.sort=e.sort,e.cdr.detectChanges(),e.hiddenloader="hidden"})},e.prototype.hiddenCalendar=function(){"hidden"==this.calendarHidden?this.calendarHidden="":this.calendarHidden="hidden"},e.prototype.getManager=function(){var e=this;this.http.get("api/admin/Manager/").subscribe(function(t){e.managers=t.filter(function(e){return 2==e.typeManager})})},e.prototype.getcallsDater=function(){this.sortCalls()},e.prototype.hidenTable=function(e){e.currentTarget.children[1].hidden?e.currentTarget.children[1].hidden=!1:e.currentTarget.children[1].hidden=!0},e.prototype.setNoAccept=function(e,t,n,i){void 0===i&&(i=null);var r=e.currentTarget.offsetParent.children[0].value;if(r||""!=r)if(this.http.get("api/conroler/ClientAccept/NoAcceptCall?comment="+r+"&callId="+t+"&clientId="+n).subscribe(),this._isMobile()){var o=document.getElementsByClassName("status")[i],a=document.getElementsByClassName("statusCall")[i].getElementsByClassName("action-circle")[0];o.style.backgroundColor="#DF013A",a.style.backgroundColor="red"}else e.currentTarget.offsetParent.parentElement.children[0].style.backgroundColor="#DF013A",e.currentTarget.offsetParent.parentElement.children[1].children[0].style.backgroundColor="red"},e.prototype.setAccept=function(e,t,n,i){void 0===i&&(i=null);var r=e.currentTarget.offsetParent.children[0].value;this.http.get("api/conroler/ClientAccept/DefaultCall?comment="+r+"&callId="+t+"&clientId="+n).subscribe();var o=this.cientAccept.find(function(e){return e.id==t});o.statusContact;var a="";if(0==o.contactType?a="#e5e5e5":10==o.contactType?a="#FF1493":20==o.contactType?a="#B0ECDD":30==o.contactType?a="#FDE488":40==o.contactType?a="#00FF7F":60==o.contactType&&(a="#58FA82"),this._isMobile()){var s=document.getElementsByClassName("status")[i],l=document.getElementsByClassName("statusCall")[i].getElementsByClassName("action-circle")[0];s.style.backgroundColor="#FAFAFA",l.style.backgroundColor=a}else e.currentTarget.offsetParent.parentElement.children[0].style.backgroundColor="#FAFAFA",e.currentTarget.offsetParent.parentElement.children[1].children[0].style.backgroundColor=a},e.prototype.playAudio=function(e,t,n){if(this.audioPlayId==t||0!=this.audioPlayId||this.audioPlay)this.audioPlay.pause(),this.audioPlay=null,this.audioPlayId=0;else{if(!n)return;this.audioPlay=new Audio(n),this.audioPlay.play(),this.audioPlayId=t}},e.prototype.setBagroundStatus=function(e){return 50==e.contactType?"#E0F8EC":e.callsComments?2==e.callsComments.acceptControlerCalss?e.callsComments.colorPen:1==e.callsComments.acceptControlerCalss?"#DF013A":"#FAFAFA":void 0},e.prototype.ngOnInit=function(){this.getManager(),this.getcallsDater()},e.prototype._display_audio_icon=function(e){return this.audioPlayId==e?"../../../../../Icon/pause.png":"../../../../../Icon/play.png"},e.prototype._toggleSidebar=function(){this._filterOpened=!this._filterOpened},e.prototype._isMobile=function(){return window.innerWidth<820},e.prototype._getFilterIcon=function(){return this._filterOpened?"Icon/close.png":"Icon/filter.png"},e.prototype.paginate=function(e){var t=(e.pageIndex+1-1)*e.pageSize;this.paginateDataAcept=this.cientAccept.slice(t).slice(0,e.pageSize)},r.c([Object(o.G)(),r.f("design:type",Array)],e.prototype,"managers",void 0),r.c([Object(o.G)(),r.f("design:type",Array)],e.prototype,"cientAccept",void 0),r.c([Object(o.ob)(h.a,{static:!1}),r.f("design:type",h.a)],e.prototype,"paginator",void 0),r.c([Object(o.ob)(h.a,{static:!1}),r.f("design:type",h.a)],e.prototype,"expansionPaginator",void 0),r.c([Object(o.ob)(g.a,{static:!1}),r.f("design:type",g.a)],e.prototype,"sort",void 0),e=r.c([Object(o.n)({selector:"app-Accept-Manager",template:n("DABu"),styles:[n("0iTv")]}),r.f("design:paramtypes",[f.b,c.a,o.k])],e)}(),y=function(){function e(e,t,n){this.cdr=e,this.dialog=t,this.http=n,this.managers=[],this.clientAcceptFull=[],this.workgroup=[],this.calendarHidden="hidden",this.btnDate=(new Date).toLocaleDateString(),this.dateStart=new Date((new Date).getFullYear(),(new Date).getMonth(),1),this.dateEnd=new Date,this.btnDate1=this.dateStart.toLocaleDateString()+" - "+this.dateEnd.toLocaleDateString(),this.durationTxt=-1,this.manager=0,this.statistickCallModel=[],this.numberYear=(new Date).getFullYear(),this.numberMonthe=(new Date).getMonth(),this.numberWeek=1,this.dateCollections=[],this.todayLoad=!1,this.toWeekLoad=!1,this.toMontheLoad=!1,this.toPeriodLoad=!1,this.hiddenloader="hidden",this.getManager(),this.getWorkGroup()}return e.prototype.getcallsDater=function(){var e=this;this.http.get("api/conroler/ClientAccept/").subscribe(function(t){return r.b(e,void 0,void 0,function(){return r.e(this,function(e){return this.clientAcceptFull=t,this.sortCall(),[2]})})})},e.prototype.getWorkGroup=function(){var e=this;this.hiddenloader="",this.http.get("api/admin/WorkGroup").subscribe(function(t){e.workgroup=t,e.getcallsDater()})},e.prototype.sortCall=function(){var e=this;this.statistickCallModel=[],this.http.get("api/conroler/ClientAccept/StatistickCall").subscribe(function(t){return r.b(e,void 0,void 0,function(){var e=this;return r.e(this,function(n){return this.statistickCallModel=t,this.todayLoad=!0,this.toWeekLoad=!0,this.toMontheLoad=!0,this.toPeriodLoad=!0,window.setTimeout(function(){e.todayLoad=!1,e.toWeekLoad=!1,e.toMontheLoad=!1,e.toPeriodLoad=!1},700),this.cdr.detectChanges(),this.initDateArchiv(),this.hiddenloader="hidden",[2]})})}),console.log(this.statistickCallModel)},e.prototype.changeManager=function(e){},e.prototype.weekChnege=function(){var e=this;this.toWeekLoad=!0,window.setTimeout(function(){e.toWeekLoad=!1},700)},e.prototype.sortDateCall=function(e){this.calendarHidden="hidden";var t=[];if(1==e)t.push(new Date(2019,7,1)),t.push(new Date),this.verifyRange1(t);else if(2==e)t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0)),this.verifyRange1(t);else if(3==e)t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-1,0)),this.verifyRange1(t);else if(4==e)t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-7,0)),t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0)),this.verifyRange1(t);else if(5==e)t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()-30,0)),t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0)),this.verifyRange1(t);else if(6==e){var n=new Date,i=n.getDate()-n.getDay()+1,r=i+6,o=new Date(n.setDate(i)),a=new Date(n.setDate(r));t.push(new Date(o.getFullYear(),o.getMonth(),o.getDate(),0)),t.push(new Date(a.getFullYear(),a.getMonth(),a.getDate(),0)),this.verifyRange1(t)}else 7==e?(t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),1,0)),t.push(new Date((new Date).getFullYear(),(new Date).getMonth(),31,0)),this.verifyRange1(t)):8==e&&(t.push(new Date((new Date).getFullYear(),0,1,0)),t.push(new Date((new Date).getFullYear(),11,31,0)),this.verifyRange1(t))},e.prototype.applyFilterDuration=function(e){var t=0;t=""==e||/[-\.;":'a-zA-Z\u0430-\u044f\u0410-\u042f]/.test(e)?-1:Number(e),this.durationTxt!=t&&(this.durationTxt=t),this.sortCall()},e.prototype.verifyRange=function(e){var t=this;this.btnDate=e.currentTarget.value,this.todayLoad=!0,window.setTimeout(function(){t.todayLoad=!1},700)},e.prototype.verifyRange1=function(e){var t=this;e&&0!=e.length&&(this.dateStart=e[0],this.dateEnd=e[e.length-1],this.btnDate1=this.dateStart.toLocaleDateString()+" - "+this.dateEnd.toLocaleDateString(),this.toPeriodLoad=!0,window.setTimeout(function(){t.toPeriodLoad=!1},700))},e.prototype.hiddenCalendar=function(){"hidden"==this.calendarHidden?this.calendarHidden="":this.calendarHidden="hidden"},e.prototype.initDateArchiv=function(){if(0==this.dateCollections.length){this.dateCollections=[];for(var e=new Date,t=0;t<this.clientAcceptFull.length;t++){var n=this.clientAcceptFull[t].date.split(".");e>new Date(n[2]+"/"+n[1]+"/"+n[0])&&(e=new Date(n[2]+"/"+n[1]+"/"+n[0]))}for(t=e.getFullYear();t<=(new Date).getFullYear();t++)for(var i=e.getMonth();i<=(new Date).getMonth();i++){var r=new Date(t+"/0"+(i+1));this.dateCollections.unshift(new Date(t+"/0"+(i+1)).toLocaleDateString().substring(3,r.toLocaleDateString().length))}this.dateCollection=this.dateCollections[0]}},e.prototype.toFormatDate=function(e){var t=this,n=e.split("."),i=new Date(n[1]+"/"+n[0]);this.numberMonthe=i.getMonth(),this.numberYear=i.getFullYear(),this.toMontheLoad=!0,window.setTimeout(function(){t.toMontheLoad=!1},700)},e.prototype.getManager=function(){var e=this;this.http.get("api/admin/Manager/").subscribe(function(t){e.managers=t.filter(function(e){return 2==e.typeManager})})},e.prototype.getPeriudWeek=function(){var e=new Date(this.numberYear,this.numberMonthe,7*this.numberWeek),t=e.getDate()-e.getDay()+1,n=t+6,i=new Date(e.setDate(t)),r=new Date(e.setDate(n));return i.toLocaleDateString()+" - "+r.toLocaleDateString()},e.prototype.getToDayAllCall=function(e,t){var n,i=this;return this.todayLoad?(n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.date.substring(0,t.date.indexOf(" "))==new Date(i.btnDate).toLocaleDateString()&&t.managerId==e}).length,window.sessionStorage.setItem(e+","+t+"all",n.toString())):n=window.sessionStorage.getItem(e+","+t+"all"),n},e.prototype.getWeekAllCall=function(e,t){var n;if(this.toWeekLoad){for(var i=0,r=new Date(this.numberYear,this.numberMonthe,7*this.numberWeek),o=r.getDate()-r.getDay()+1,a=o+6,s=new Date(r.setDate(o)),l=new Date(r.setDate(a)),c=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e}),d=function(e){i+=c.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},p=s;p<=l;p.setDate(p.getDate()+1))d(p);n=i,window.sessionStorage.setItem(e+","+t+"getWeekAllCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getWeekAllCall");return n},e.prototype.getMonthAllCall=function(e,t){var n,i=this;if(this.toMontheLoad){var r=new Date;new Date(r.getFullYear(),r.getMonth(),1),new Date(r.getFullYear(),r.getMonth()+1,0);n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e}).filter(function(e){return new Date(e.date.slice(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[0]).getMonth()==i.numberMonthe}).length,window.sessionStorage.setItem(e+","+t+"getMonthAllCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getMonthAllCall");return n},e.prototype.getAllAllCall=function(e,t){return this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return t.managerId==e}).length},e.prototype.getToDayMore2and5Call=function(e,t){var n;return this.todayLoad?(n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.date.substring(0,t.date.indexOf(" "))==(new Date).toLocaleDateString()&&t.managerId==e&&t.durations>150}).length,window.sessionStorage.setItem(e+","+t+"More2and5Call",n.toString())):n=window.sessionStorage.getItem(e+","+t+"More2and5Call"),n},e.prototype.getWeekMore2and5Call=function(e,t){var n;if(this.toWeekLoad){for(var i=0,r=new Date,o=r.getDate()-r.getDay()+1,a=o+6,s=new Date(r.setDate(o)),l=new Date(r.setDate(a)),c=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&t.durations>150}),d=function(e){i+=c.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},p=s;p<=l;p.setDate(p.getDate()+1))d(p);n=i,window.sessionStorage.setItem(e+","+t+"getWeekMore2and5Call",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getWeekMore2and5Call");return n},e.prototype.getMonthMore2and5Call=function(e,t){var n,i=this;if(this.toMontheLoad){var r=new Date;new Date(r.getFullYear(),r.getMonth(),1),new Date(r.getFullYear(),r.getMonth()+1,0);n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return t.managerId==e&&t.durations>150}).filter(function(e){return new Date(e.date.slice(0,30!=e.contactType&&20!=e.contactType&&e.date.indexOf(" ")).split(".")[2]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[0]).getMonth()==i.numberMonthe}).length,window.sessionStorage.setItem(e+","+t+"getMonthMore2and5Call",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getMonthMore2and5Call");return n},e.prototype.getAllMore2and5Call=function(e,t){return this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&t.durations>150}).length},e.prototype.getToDaySmaller2and5AndMore10SCall=function(e,t){var n,i=this;return this.todayLoad?(n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.date.substring(0,t.date.indexOf(" "))==new Date(i.btnDate).toLocaleDateString()&&t.managerId==e&&t.durations<=150&&t.durations>10}).length,window.sessionStorage.setItem(e+","+t+"Smaller2and5AndMore10SCall",n.toString())):n=window.sessionStorage.getItem(e+","+t+"Smaller2and5AndMore10SCall"),n},e.prototype.getWeekSmaller2and5AndMore10SCall=function(e,t){var n;if(this.toWeekLoad){for(var i=0,r=new Date(this.numberYear,this.numberMonthe,7*this.numberWeek),o=r.getDate()-r.getDay()+1,a=o+6,s=new Date(r.setDate(o)),l=new Date(r.setDate(a)),c=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&t.durations<150&&t.durations>10}),d=function(e){i+=c.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},p=s;p<=l;p.setDate(p.getDate()+1))d(p);n=i,window.sessionStorage.setItem(e+","+t+"getWeekSmaller2and5AndMore10SCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getWeekSmaller2and5AndMore10SCall");return n},e.prototype.getMonthSmaller2and5AndMore10SCall=function(e,t){var n,i=this;if(this.toMontheLoad){var r=new Date;new Date(r.getFullYear(),r.getMonth(),1),new Date(r.getFullYear(),r.getMonth()+1,0);n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return t.managerId==e&&t.durations<150&&t.durations>10}).filter(function(e){return 30!=e.contactType&&20!=e.contactType&&new Date(e.date.slice(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[0]).getMonth()==i.numberMonthe}).length,window.sessionStorage.setItem(e+","+t+"getMonthSmaller2and5AndMore10SCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getMonthSmaller2and5AndMore10SCall");return n},e.prototype.getAllSmaller2and5AndMore10SCall=function(e,t){return this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&t.durations<150&&t.durations>10}).length},e.prototype.getToDaySmaller10SCall=function(e,t){var n,i=this;return this.todayLoad?(n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.date.substring(0,t.date.indexOf(" "))==new Date(i.btnDate).toLocaleDateString()&&t.managerId==e&&t.durations<10}).length,window.sessionStorage.setItem(e+","+t+"Smaller10SCall",n.toString())):n=window.sessionStorage.getItem(e+","+t+"Smaller10SCall"),n},e.prototype.getWeekSmaller10SCall=function(e,t){var n;if(this.toWeekLoad){for(var i=0,r=new Date,o=r.getDate()-r.getDay()+1,a=o+6,s=new Date(r.setDate(o)),l=new Date(r.setDate(a)),c=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&t.durations<10}),d=function(e){i+=c.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},p=s;p<=l;p.setDate(p.getDate()+1))d(p);n=i,window.sessionStorage.setItem(e+","+t+"getWeekSmaller10SCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getWeekSmaller10SCall");return n},e.prototype.getMonthSmaller10SCall=function(e,t){var n,i=this;if(this.toMontheLoad){var r=new Date;new Date(r.getFullYear(),r.getMonth(),1),new Date(r.getFullYear(),r.getMonth()+1,0);n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&t.durations<10}).filter(function(e){return new Date(e.date.slice(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[0]).getMonth()==i.numberMonthe}).length,window.sessionStorage.setItem(e+","+t+"getMonthSmaller10SCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getMonthSmaller10SCall");return n},e.prototype.getAllSmaller10SCall=function(e,t){return this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&t.durations<10}).length},e.prototype.getToDayDevelopmentCall=function(e,t){var n,i=this;return this.todayLoad?(n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.date.substring(0,t.date.indexOf(" "))==new Date(i.btnDate).toLocaleDateString()&&t.managerId==e&&40==t.contactType}).length,window.sessionStorage.setItem(e+","+t+"DevelopmentCall",n.toString())):n=window.sessionStorage.getItem(e+","+t+"DevelopmentCall"),n},e.prototype.getWeekDevelopmentCall=function(e,t){var n;if(this.toWeekLoad){for(var i=0,r=new Date(this.numberYear,this.numberMonthe,7*this.numberWeek),o=r.getDate()-r.getDay()+1,a=o+6,s=new Date(r.setDate(o)),l=new Date(r.setDate(a)),c=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&40==t.contactType}),d=function(e){i+=c.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},p=s;p<=l;p.setDate(p.getDate()+1))d(p);n=i,window.sessionStorage.setItem(e+","+t+"getWeekDevelopmentCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getWeekDevelopmentCall");return n},e.prototype.getMonthDevelopmentCall=function(e,t){var n,i=this;if(this.toMontheLoad){var r=new Date;new Date(r.getFullYear(),r.getMonth(),1),new Date(r.getFullYear(),r.getMonth()+1,0);n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&40==t.contactType}).filter(function(e){return new Date(e.date.slice(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[0]).getMonth()==i.numberMonthe}).length,window.sessionStorage.setItem(e+","+t+"getMonthDevelopmentCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getMonthDevelopmentCall");return n},e.prototype.getAllDevelopmentCall=function(e,t){return this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&40==t.contactType}).length},e.prototype.getToDayToColleaguesCall=function(e,t){var n,i=this;return this.todayLoad?(n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.date.substring(0,t.date.indexOf(" "))==new Date(i.btnDate).toLocaleDateString()&&t.managerId==e&&50==t.contactType}).length,window.sessionStorage.setItem(e+","+t+"ToColleaguesCall",n.toString())):n=window.sessionStorage.getItem(e+","+t+"ToColleaguesCall"),n},e.prototype.getWeekToColleaguesCall=function(e,t){var n;if(this.toWeekLoad){for(var i=0,r=new Date(this.numberYear,this.numberMonthe,7*this.numberWeek),o=r.getDate()-r.getDay()+1,a=o+6,s=new Date(r.setDate(o)),l=new Date(r.setDate(a)),c=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&50==t.contactType}),d=function(e){i+=c.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},p=s;p<=l;p.setDate(p.getDate()+1))d(p);n=i,window.sessionStorage.setItem(e+","+t+"getWeekToColleaguesCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getWeekToColleaguesCall");return n},e.prototype.getMonthColleaguesCall=function(e,t){var n;if(this.toMontheLoad){for(var i=0,r=new Date,o=new Date(r.getFullYear(),r.getMonth(),1),a=new Date(r.getFullYear(),r.getMonth()+1,0),s=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&50==t.contactType}),l=function(e){i+=s.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},c=o;c<=a;c.setDate(c.getDate()+1))l(c);n=i,window.sessionStorage.setItem(e+","+t+"getMonthColleaguesCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getMonthColleaguesCall");return n},e.prototype.getAllToColleaguesCall=function(e,t){return this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&50==t.contactType}).length},e.prototype.getToDayOutgoingCall=function(e,t){var n,i=this;return this.todayLoad?(n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.date.substring(0,t.date.indexOf(" "))==new Date(i.btnDate).toLocaleDateString()&&t.managerId==e&&"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction}).length,window.sessionStorage.setItem(e+","+t+"ToColleaguesCall",n.toString())):n=window.sessionStorage.getItem(e+","+t+"ToColleaguesCall"),n},e.prototype.getWeekOutgoingCall=function(e,t){var n;if(this.toWeekLoad){for(var i=0,r=new Date(this.numberYear,this.numberMonthe,7*this.numberWeek),o=r.getDate()-r.getDay()+1,a=o+6,s=new Date(r.setDate(o)),l=new Date(r.setDate(a)),c=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction}),d=function(e){i+=c.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},p=s;p<=l;p.setDate(p.getDate()+1))d(p);n=i,window.sessionStorage.setItem(e+","+t+"getWeekOutgoingCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getWeekOutgoingCall");return n},e.prototype.getMonthOutgoingCall=function(e,t){var n,i=this;if(this.toMontheLoad){var r=new Date;new Date(r.getFullYear(),r.getMonth(),1),new Date(r.getFullYear(),r.getMonth()+1,0);n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction}).filter(function(e){return new Date(e.date.slice(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[0]).getMonth()==i.numberMonthe}).length,window.sessionStorage.setItem(e+","+t+"getMonthOutgoingCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getMonthOutgoingCall");return n},e.prototype.getAllToOutgoingCall=function(e,t){return this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction}).length},e.prototype.getToDayInboxCall=function(e,t){var n,i=this;return this.todayLoad?(n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.date.substring(0,t.date.indexOf(" "))==new Date(i.btnDate).toLocaleDateString()&&t.managerId==e&&"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction}).length,window.sessionStorage.setItem(e+","+t+"ToColleaguesCall",n.toString())):n=window.sessionStorage.getItem(e+","+t+"ToColleaguesCall"),n},e.prototype.getWeekInboxCall=function(e,t){var n;if(this.toWeekLoad){for(var i=0,r=new Date(this.numberYear,this.numberMonthe,7*this.numberWeek),o=r.getDate()-r.getDay()+1,a=o+6,s=new Date(r.setDate(o)),l=new Date(r.setDate(a)),c=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return t.managerId==e&&"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction}),d=function(e){i+=c.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},p=s;p<=l;p.setDate(p.getDate()+1))d(p);n=i,window.sessionStorage.setItem(e+","+t+"getWeekInboxCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getWeekInboxCall");return n},e.prototype.getMonthInboxCall=function(e,t){var n,i=this;if(this.toMontheLoad){var r=new Date;new Date(r.getFullYear(),r.getMonth(),1),new Date(r.getFullYear(),r.getMonth()+1,0);n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction}).filter(function(e){return new Date(e.date.slice(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[0]).getMonth()==i.numberMonthe}).length,window.sessionStorage.setItem(e+","+t+"getMonthInboxCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getMonthInboxCall");return n},e.prototype.getAllInboxCall=function(e,t){return this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction}).length},e.prototype.getToDayUnansweredCall=function(e,t){var n,i=this;return this.todayLoad?(n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.date.substring(0,t.date.indexOf(" "))==new Date(i.btnDate).toLocaleDateString()&&t.managerId==e&&0==t.durations}).length,window.sessionStorage.setItem(e+","+t+"ToColleaguesCall",n.toString())):n=window.sessionStorage.getItem(e+","+t+"ToColleaguesCall"),n},e.prototype.getWeekUnansweredCall=function(e,t){var n;if(this.toWeekLoad){for(var i=0,r=new Date(this.numberYear,this.numberMonthe,7*this.numberWeek),o=r.getDate()-r.getDay()+1,a=o+6,s=new Date(r.setDate(o)),l=new Date(r.setDate(a)),c=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&0==t.durations}),d=function(e){i+=c.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},p=s;p<=l;p.setDate(p.getDate()+1))d(p);n=i,window.sessionStorage.setItem(e+","+t+"getWeekUnansweredCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getWeekUnansweredCall");return n},e.prototype.getMonthUnansweredCall=function(e,t){var n,i=this;if(this.toMontheLoad){var r=new Date;new Date(r.getFullYear(),r.getMonth(),1),new Date(r.getFullYear(),r.getMonth()+1,0);n=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&0==t.durations}).filter(function(e){return new Date(e.date.slice(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[0]).getMonth()==i.numberMonthe}).length,window.sessionStorage.setItem(e+","+t+"getMonthUnansweredCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getMonthUnansweredCall");return n},e.prototype.getAllUnansweredCall=function(e,t){return this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return t.managerId==e&&0==t.durations}).length},e.prototype.getPeriodAllCall=function(e,t){var n;if(this.toPeriodLoad){for(var i=0,r=this.btnDate1.split("-")[0].trim(),o=this.btnDate1.split("-")[1].trim(),a=new Date(r.split(".")[2]+"."+r.split(".")[1]+"."+r.split(".")[0]),s=new Date(o.split(".")[2]+"."+o.split(".")[1]+"."+o.split(".")[0]),l=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e}),c=function(e){i+=l.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},d=a;d<=s;d.setDate(d.getDate()+1))c(d);i=i,window.sessionStorage.setItem(e+","+t+"getPeriodAllCall",i.toString())}else n=window.sessionStorage.getItem(e+","+t+"getPeriodAllCall");return n},e.prototype.getPeriodoreMore2and5Call=function(e,t){var n;if(this.toPeriodLoad){for(var i=0,r=this.btnDate1.split("-")[0].trim(),o=this.btnDate1.split("-")[1].trim(),a=new Date(r.split(".")[2]+"."+r.split(".")[1]+"."+r.split(".")[0]),s=new Date(o.split(".")[2]+"."+o.split(".")[1]+"."+o.split(".")[0]),l=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&t.durations>150}),c=function(e){i+=l.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},d=a;d<=s;d.setDate(d.getDate()+1))c(d);i=i,window.sessionStorage.setItem(e+","+t+"getPeriodore2and5Call",i.toString())}else n=window.sessionStorage.getItem(e+","+t+"getPeriodore2and5Call");return n},e.prototype.getPeriodoreSmale2More10sCall=function(e,t){var n;if(this.toPeriodLoad){for(var i=0,r=this.btnDate1.split("-")[0].trim(),o=this.btnDate1.split("-")[1].trim(),a=new Date(r.split(".")[2]+"."+r.split(".")[1]+"."+r.split(".")[0]),s=new Date(o.split(".")[2]+"."+o.split(".")[1]+"."+o.split(".")[0]),l=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&t.durations<=150&&t.durations>10}),c=function(e){i+=l.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},d=a;d<=s;d.setDate(d.getDate()+1))c(d);i=i,window.sessionStorage.setItem(e+","+t+"getPeriodoreSmale2More10sCall",i.toString())}else n=window.sessionStorage.getItem(e+","+t+"getPeriodoreSmale2More10sCall");return n},e.prototype.getPeriodSmaller10SCall=function(e,t){var n;if(this.toPeriodLoad){for(var i=0,r=this.btnDate1.split("-")[0].trim(),o=this.btnDate1.split("-")[1].trim(),a=new Date(r.split(".")[2]+"."+r.split(".")[1]+"."+r.split(".")[0]),s=new Date(o.split(".")[2]+"."+o.split(".")[1]+"."+o.split(".")[0]),l=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&t.durations<10}),c=function(e){i+=l.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},d=a;d<=s;d.setDate(d.getDate()+1))c(d);i=i,window.sessionStorage.setItem(e+","+t+"getPeriodSmaller10SCall",i.toString())}else n=window.sessionStorage.getItem(e+","+t+"getPeriodSmaller10SCall");return n},e.prototype.getPeriodDevelall=function(e,t){var n;if(this.toPeriodLoad){for(var i=0,r=this.btnDate1.split("-")[0].trim(),o=this.btnDate1.split("-")[1].trim(),a=new Date(r.split(".")[2]+"."+r.split(".")[1]+"."+r.split(".")[0]),s=new Date(o.split(".")[2]+"."+o.split(".")[1]+"."+o.split(".")[0]),l=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&40==t.contactType}),c=function(e){i+=l.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},d=a;d<=s;d.setDate(d.getDate()+1))c(d);i=i,window.sessionStorage.setItem(e+","+t+"getPeriodDevelall",i.toString())}else n=window.sessionStorage.getItem(e+","+t+"getPeriodDevelall");return n},e.prototype.getPeriodColleaguesCall=function(e,t){var n;if(this.toPeriodLoad){for(var i=0,r=this.btnDate1.split("-")[0].trim(),o=this.btnDate1.split("-")[1].trim(),a=new Date(r.split(".")[2]+"."+r.split(".")[1]+"."+r.split(".")[0]),s=new Date(o.split(".")[2]+"."+o.split(".")[1]+"."+o.split(".")[0]),l=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&50==t.contactType}),c=function(e){i+=l.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},d=a;d<=s;d.setDate(d.getDate()+1))c(d);i=i,window.sessionStorage.setItem(e+","+t+"getPeriodColleaguesCall",i.toString())}else n=window.sessionStorage.getItem(e+","+t+"getPeriodColleaguesCall");return n},e.prototype.getPeriodOutgoingCall=function(e,t){var n;if(this.toPeriodLoad){for(var i=0,r=this.btnDate1.split("-")[0].trim(),o=this.btnDate1.split("-")[1].trim(),a=new Date(r.split(".")[2]+"."+r.split(".")[1]+"."+r.split(".")[0]),s=new Date(o.split(".")[2]+"."+o.split(".")[1]+"."+o.split(".")[0]),l=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction}),c=function(e){i+=l.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},d=a;d<=s;d.setDate(d.getDate()+1))c(d);i=i,window.sessionStorage.setItem(e+","+t+"getPeriodOutgoingCall",i.toString())}else n=window.sessionStorage.getItem(e+","+t+"getPeriodOutgoingCall");return n},e.prototype.getPeriodInboxCall=function(e,t){var n;if(this.toPeriodLoad){for(var i=0,r=this.btnDate1.split("-")[0].trim(),o=this.btnDate1.split("-")[1].trim(),a=new Date(r.split(".")[2]+"."+r.split(".")[1]+"."+r.split(".")[0]),s=new Date(o.split(".")[2]+"."+o.split(".")[1]+"."+o.split(".")[0]),l=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction}),c=function(e){i+=l.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},d=a;d<=s;d.setDate(d.getDate()+1))c(d);i=i,window.sessionStorage.setItem(e+","+t+"getPeriodInboxCall",i.toString())}else n=window.sessionStorage.getItem(e+","+t+"getPeriodInboxCall");return n},e.prototype.getPeriodUnanswereCall=function(e,t){var n;if(this.toPeriodLoad){for(var i=0,r=this.btnDate1.split("-")[0].trim(),o=this.btnDate1.split("-")[1].trim(),a=new Date(r.split(".")[2]+"."+r.split(".")[1]+"."+r.split(".")[0]),s=new Date(o.split(".")[2]+"."+o.split(".")[1]+"."+o.split(".")[0]),l=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return 30!=t.contactType&&20!=t.contactType&&t.managerId==e&&0==t.durations}),c=function(e){i+=l.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).length},d=a;d<=s;d.setDate(d.getDate()+1))c(d);i=i,window.sessionStorage.setItem(e+","+t+"getPeriodUnanswereCall",i.toString())}else n=window.sessionStorage.getItem(e+","+t+"getPeriodUnanswereCall");return n},e.prototype.getPeriodDurationsCall=function(e,t){var n;if(this.toPeriodLoad){for(var i=0,r=this.btnDate1.split("-")[0].trim(),o=this.btnDate1.split("-")[1].trim(),a=new Date(r.split(".")[2]+"."+r.split(".")[1]+"."+r.split(".")[0]),s=new Date(o.split(".")[2]+"."+o.split(".")[1]+"."+o.split(".")[0]),l=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return t.managerId==e}),c=function(e){l.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).forEach(function(e){i+=e.durations})},d=a;d<=s;d.setDate(d.getDate()+1))c(d);var p=new Date(null);p.setSeconds(i),n=p.toISOString().substr(11,8),window.sessionStorage.setItem(e+","+t+"getPeriodDurationsCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getPeriodDurationsCall");return n},e.prototype.getToDayDurationsCall=function(e,t){var n,i=this;if(this.todayLoad){var r=0;this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==new Date(i.btnDate).toLocaleDateString()&&t.managerId==e}).forEach(function(e){r+=e.durations});var o=new Date(null);o.setSeconds(r),n=o.toISOString().substr(11,8),window.sessionStorage.setItem(e+","+t+"DayDurationsCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"DayDurationsCall");return n},e.prototype.getWeekDurationsCall=function(e,t){var n;if(this.toWeekLoad){for(var i=0,r=new Date(this.numberYear,this.numberMonthe,7*this.numberWeek),o=r.getDate()-r.getDay()+1,a=o+6,s=new Date(r.setDate(o)),l=new Date(r.setDate(a)),c=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return t.managerId==e}),d=function(e){c.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).forEach(function(e){i+=e.durations})},p=s;p<=l;p.setDate(p.getDate()+1))d(p);var u=new Date(null);u.setSeconds(i),n=u.toISOString().substr(11,8),window.sessionStorage.setItem(e+","+t+"getWeekDurationsCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getWeekDurationsCall");return n},e.prototype.getMonthDurationsCall=function(e,t){var n;if(this.toMontheLoad){for(var i=0,r=new Date(this.numberYear,this.numberMonthe),o=new Date(r.getFullYear(),r.getMonth(),1),a=new Date(r.getFullYear(),r.getMonth()+1,0),s=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return t.managerId==e}),l=function(e){s.filter(function(t){return t.date.substring(0,t.date.indexOf(" "))==e.toLocaleDateString()}).forEach(function(e){i+=e.durations})},c=o;c<=a;c.setDate(c.getDate()+1))l(c);var d=new Date(null);d.setSeconds(i),n=d.toISOString().substr(11,8),window.sessionStorage.setItem(e+","+t+"getMonthDurationsCall",n.toString())}else n=window.sessionStorage.getItem(e+","+t+"getMonthDurationsCall");return n},e.prototype.getAllDurationsCall=function(e,t){var n=0;this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return t.managerId==e}).forEach(function(e){n+=e.durations});var i=new Date(null);return i.setSeconds(n),i.toISOString().substr(11,8)},e.prototype.getStartWorkManager=function(e,t){var n=this,i="------",r=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return t.managerId==e&&n.btnDate==t.date.substring(0,t.date.indexOf(" ")).split(".")[2]+"-"+t.date.substring(0,t.date.indexOf(" ")).split(".")[1]+"-"+t.date.substring(0,t.date.indexOf(" ")).split(".")[0]&&("\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction||"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction&&t.durations>0)});if(r&&0!=r.length){var o=new Date(r[0].date.substring(0,r[0].date.indexOf(" ")).split(".")[2]+"/"+r[0].date.substring(0,r[0].date.indexOf(" ")).split(".")[1]+"/"+r[0].date.substring(0,r[0].date.indexOf(" ")).split(".")[0]+" "+r[0].date.substring(r[0].date.indexOf(" ")));r.forEach(function(e){o>new Date(e.date.substring(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.substring(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.substring(0,e.date.indexOf(" ")).split(".")[0]+" "+e.date.substring(r[0].date.indexOf(" ")))&&(o=new Date(e.date.substring(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.substring(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.substring(0,e.date.indexOf(" ")).split(".")[0]+" "+e.date.substring(r[0].date.indexOf(" ")))),i=o.toLocaleString()})}return i},e.prototype.getEndWorkManager=function(e,t){var n=this,i="------";if(-1==this.durationTxt){var r=this.statistickCallModel.find(function(e){return e.workgroupId==t}).clientAccepts.filter(function(t){return t.managerId==e&&n.btnDate==t.date.substring(0,t.date.indexOf(" ")).split(".")[2]+"-"+t.date.substring(0,t.date.indexOf(" ")).split(".")[1]+"-"+t.date.substring(0,t.date.indexOf(" ")).split(".")[0]&&("\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction||"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439"==t.direction&&t.durations>0)});if(r&&0!=r.length){var o=new Date(r[0].date.substring(0,r[0].date.indexOf(" ")).split(".")[2]+"/"+r[0].date.substring(0,r[0].date.indexOf(" ")).split(".")[1]+"/"+r[0].date.substring(0,r[0].date.indexOf(" ")).split(".")[0]+" "+r[0].date.substring(r[0].date.indexOf(" ")));r.forEach(function(e){o<new Date(e.date.substring(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.substring(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.substring(0,e.date.indexOf(" ")).split(".")[0]+" "+e.date.substring(r[0].date.indexOf(" ")))&&(o=new Date(e.date.substring(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.substring(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.substring(0,e.date.indexOf(" ")).split(".")[0]+" "+e.date.substring(r[0].date.indexOf(" ")))),i=o.toLocaleString()})}}return i},e.prototype.ngOnInit=function(){this.btnDate=(new Date).toLocaleDateString();var e=this.btnDate.split(".");this.btnDate=e[2]+"-"+e[1]+"-"+e[0]},r.c([Object(o.G)(),r.f("design:type",Array)],e.prototype,"managers",void 0),r.c([Object(o.G)(),r.f("design:type",Array)],e.prototype,"clientAcceptFull",void 0),r.c([Object(o.G)(),r.f("design:type",Array)],e.prototype,"workgroup",void 0),e=r.c([Object(o.n)({selector:"app-report-call",template:n("QYs+"),styles:[n("qmCU")]}),r.f("design:paramtypes",[o.k,f.b,c.a])],e)}(),b=function(){function e(e,t,n){this.dialog=e,this.http=t,this.cdr=n,this.managers=[],this.clietsFull=[],this.workgroups=[],this.displayedColumns=["status","title","clientType","phone","legalEntity","numberOfCalls","numberOfShipments","comentCon","comentCli"],this.workgroupId=0,this.cliets=[],this.hiddenloader="hidden",this.totalItems=0,this.pageSize=10,this.paginateClients=[],this.dataSource=new u.a(this.cliets),this._filterOpened=!1,this.getManager(),this.getClients()}return e.prototype.getManager=function(){var e=this;this.http.get("api/admin/Manager").subscribe(function(t){e.managers=t.filter(function(e){return 2==e.typeManager})})},e.prototype.setBagroundStatus=function(e){if(e.callsComments)return 2==e.callsComments.acceptControlerCalss?e.callsComments.colorPen:1==e.callsComments.acceptControlerCalss?"#DF013A":"#FAFAFA"},e.prototype.setNoAccept=function(e,t,n){void 0===n&&(n=null);var i=e.currentTarget.offsetParent.children[0].value;null==i&&""==i||(this.http.get("api/conroler/ClientAccept/NoAcceptCallClient?comment="+i+"&clientId="+t).subscribe(),this._isMobile()?document.getElementsByClassName("status")[n].style.backgroundColor="#DF013A":e.currentTarget.offsetParent.parentElement.children[0].style.backgroundColor="#DF013A")},e.prototype.setAccept=function(e,t,n){void 0===n&&(n=null);var i=e.currentTarget.offsetParent.children[0].value;(this.http.get("api/conroler/ClientAccept/DefaultCallClient?comment="+i+"&clientId="+t).subscribe(),this._isMobile())?document.getElementsByClassName("status")[n].style.backgroundColor="#FAFAFA":e.currentTarget.offsetParent.parentElement.children[0].style.backgroundColor="#FAFAFA"},e.prototype.getClients=function(){var e=this;this.hiddenloader="",this.http.get("api/conroler/ClientAccept/Clients").subscribe(function(t){e.clietsFull=t,e.getworkgroup()})},e.prototype.getworkgroup=function(){var e=this;this.http.get("api/admin/WorkGroup").subscribe(function(t){e.workgroups=t,e.sortClients()})},e.prototype.sortClients=function(){var e=this;if(0!=this.workgroupId){var t=this.workgroups.find(function(t){return t.id==e.workgroupId}).clientIds;this.cliets=this.clietsFull.filter(function(n){return 0==e.workgroupId||-1!=t.indexOf(n.id)})}else this.cliets=this.clietsFull;this.totalItems=this.cliets.length,this.paginateClients=this.cliets.slice(0*this.pageSize).slice(0,this.pageSize),this.dataSource=new u.a(this.cliets),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.hiddenloader="hidden",console.log("sortClients")},e.prototype.selectedWorkGroupChange=function(){this.sortClients()},e.prototype._toggleSidebar=function(){this._filterOpened=!this._filterOpened},e.prototype._isMobile=function(){return window.innerWidth<820},e.prototype._getFilterIcon=function(){return this._filterOpened?"Icon/close.png":"Icon/filter.png"},e.prototype.ngOnInit=function(){},e.prototype.paginate=function(e){var t=(e.pageIndex+1-1)*e.pageSize;this.paginateClients=this.cliets.slice(t).slice(0,e.pageSize)},r.c([Object(o.G)(),r.f("design:type",Array)],e.prototype,"managers",void 0),r.c([Object(o.G)(),r.f("design:type",Array)],e.prototype,"clietsFull",void 0),r.c([Object(o.G)(),r.f("design:type",Array)],e.prototype,"workgroups",void 0),r.c([Object(o.ob)(h.a,{static:!1}),r.f("design:type",h.a)],e.prototype,"paginator",void 0),r.c([Object(o.ob)(g.a,{static:!1}),r.f("design:type",g.a)],e.prototype,"sort",void 0),e=r.c([Object(o.n)({selector:"app-client-list",template:n("jLoP"),styles:[n("lFPP")]}),r.f("design:paramtypes",[f.b,c.a,o.k])],e)}();!function(e){e[e.Default=0]="Default",e[e.ControlerNoAccept=1]="ControlerNoAccept",e[e.ManagerAccept=2]="ManagerAccept"}(i||(i={}));var v=function(){function e(e,t,n){this.dialogRef=e,this.data=t,this.http=n,this.displayedColumns=["status","statusCall","direction","title","phone","duration","date","comentCon","comentCli","refAudio"],this.audioPlayId=0,console.log(t)}return e.prototype.close=function(){this.dialogRef.close(this.data)},e.prototype.getActionColor=function(e){if(e.statusContact&&0!=e.statusContact){if(1==e.statusContact)return"red";if(2==e.statusContact)return"#A9A9F5"}else{if(0==e.contactType)return"#e5e5e5";if(10==e.contactType)return"#FF1493";if(20==e.contactType)return"#B0ECDD";if(30==e.contactType)return"#FDE488";if(40==e.contactType)return"#00FF7F";if(60==e.contactType)return"#58FA82"}},e.prototype.setNoAccept=function(e,t,n,r){void 0===r&&(r=null);var o=e.currentTarget.offsetParent.children[0].value;if(this.http.get("api/conroler/ClientAccept/NoAcceptCall?comment="+o+"&callId="+t+"&clientId="+n).subscribe(),this.data.find(function(e){return e.id==t&&e.clientId==n}).callsComments.acceptControlerCalss=i.ControlerNoAccept,this.data.find(function(e){return e.id==t&&e.clientId==n}).statusContact=1,this.data.find(function(e){return e.id==t&&e.clientId==n}).callsComments.comment=o,this.data.find(function(e){return e.id==t}).statusContact,this._isMobile()){var a=document.getElementsByClassName("status")[r],s=document.getElementsByClassName("statusCall")[r].getElementsByClassName("action-circle")[0];a.style.backgroundColor="#DF013A",s.style.backgroundColor="red"}else e.currentTarget.offsetParent.parentElement.children[0].style.backgroundColor="#DF013A",e.currentTarget.offsetParent.parentElement.children[1].children[0].style.backgroundColor="red"},e.prototype.setAccept=function(e,t,n,r){void 0===r&&(r=null);var o=e.currentTarget.offsetParent.children[0].value;this.http.get("api/conroler/ClientAccept/DefaultCall?comment="+o+"&callId="+t+"&clientId="+n).subscribe(),this.data.find(function(e){return e.id==t&&e.clientId==n}).callsComments.acceptControlerCalss=i.Default,this.data.find(function(e){return e.id==t&&e.clientId==n}).statusContact=0;var a=this.data.find(function(e){return e.id==t}),s="";if(0==a.contactType?s="#e5e5e5":10==a.contactType?s="#FF1493":20==a.contactType?s="#B0ECDD":30==a.contactType?s="#FDE488":40==a.contactType?s="#00FF7F":60==a.contactType&&(s="#58FA82"),this._isMobile()){var l=document.getElementsByClassName("status")[r],c=document.getElementsByClassName("statusCall")[r].getElementsByClassName("action-circle")[0];l.style.backgroundColor="#FAFAFA",c.style.backgroundColor=s}else e.currentTarget.offsetParent.parentElement.children[0].style.backgroundColor="#FAFAFA",e.currentTarget.offsetParent.parentElement.children[1].children[0].style.backgroundColor=s},e.prototype.setBagroundStatus=function(e){return 50==e.contactType?"#E0F8EC":e.callsComments?2==e.callsComments.acceptControlerCalss?e.callsComments.colorPen:1==e.callsComments.acceptControlerCalss?"#DF013A":"#FAFAFA":void 0},e.prototype.playAudio=function(e,t,n){if(this.audioPlayId==t||0!=this.audioPlayId||this.audioPlay)this.audioPlay.pause(),this.audioPlay=null,this.audioPlayId=0;else{if(!n)return;this.audioPlay=new Audio(n),this.audioPlay.play(),this.audioPlayId=t}},e.prototype._display_audio_icon=function(e){return this.audioPlayId==e?"../../../../../Icon/pause.png":"../../../../../Icon/play.png"},e.prototype.ngOnInit=function(){},e.prototype._isMobile=function(){return window.innerWidth<920},e=r.c([Object(o.n)({selector:"app-accept-manager-dialog",template:n("cwJ8"),styles:[n("ncrj")]}),r.g(1,Object(o.C)(f.a)),r.f("design:paramtypes",[f.d,Array,c.a])],e)}(),x=function(){function e(e,t,n){this.dialog=e,this.http=t,this.cdr=n,this.workgroups=[],this.clientsDataFull=[],this.cientAccept=[],this.displayedColumns=["status","title","legalEntity","countCall","planRM","planMC","taskRM","taskMC","comentCon","comentCli"],this.numberWeek=1,this.numberMonthe=(new Date).getMonth(),this.numberYear=(new Date).getFullYear(),this.month=(new Date).toDateString(),this.dateCollections=[],this.workgroupId=0,this.clientsData=[],this.hiddenloader="hidden",this.totalItems=0,this.pageSize=10,this.paginateClients=[],this.dataSource=new u.a(this.clientsData),this._filterOpened=!1}return e.prototype.getClients=function(){var e=this;this.hiddenloader="",this.http.get("api/conroler/ClientAccept/Client").subscribe(function(t){e.clientsDataFull=t,console.log(e.clientsData),e.getworkgroup()})},e.prototype.getworkgroup=function(){var e=this;this.http.get("api/admin/WorkGroup").subscribe(function(t){e.workgroups=t,console.log(e.weekPlans),e.getworkgroupPlans()})},e.prototype.getworkgroupPlans=function(){var e=this;this.http.get("api/manager/WeekPlan").subscribe(function(t){e.weekPlans=t,console.log(e.weekPlans),e.getcallsDater()})},e.prototype.getcallsDater=function(){var e=this;this.http.get("api/conroler/ClientAccept/").subscribe(function(t){e.cientAccept=t.filter(function(e){return e.durations>=150}),e.setSortWeeplan()})},e.prototype.goToCall=function(e){var t=this;e&&this.dialog.open(v,{data:e}).afterClosed().subscribe(function(e){if(e)for(var n=e,i=function(e){console.log(n),t.cientAccept.find(function(t){return t.id==n[e].id}).callsComments=n[e].callsComments,t.cientAccept.find(function(t){return t.id==n[e].id}).statusContact=n[e].statusContact,t.cientAccept.find(function(t){return t.id==n[e].id}).contactType=n[e].contactType},r=0;r<n.length;r++)i(r)})},e.prototype.setSortWeeplan=function(){var e=this;this.hiddenloader="";var t=this.numberWeek;this.clientsData=this.clientsDataFull.filter(function(t){return 0==e.workgroupId||e.workgroupId==t.workGroupeId}),this.clientsData.forEach(function(n){n.weeklyPlanSRegional=e.weekPlans.find(function(i){return 20==i.managerType&&i.clientId==n.id&&i.weekNumber==t&&new Date(i.dateTime.split(".")[2]+"/"+i.dateTime.split(".")[1]+"/"+i.dateTime.split(".")[0]).getMonth()==e.numberMonthe&&new Date(i.dateTime.split(".")[2]+"/"+i.dateTime.split(".")[1]+"/"+i.dateTime.split(".")[0]).getFullYear()==e.numberYear}),n.weeklyPlanSEscort=e.weekPlans.find(function(i){return 10==i.managerType&&i.clientId==n.id&&i.weekNumber==t&&new Date(i.dateTime.split(".")[2]+"/"+i.dateTime.split(".")[1]+"/"+i.dateTime.split(".")[0]).getMonth()==e.numberMonthe&&new Date(i.dateTime.split(".")[2]+"/"+i.dateTime.split(".")[1]+"/"+i.dateTime.split(".")[0]).getFullYear()==e.numberYear}),n.clientAccept=[];var i=new Date(e.numberYear,e.numberMonthe,7*t),r=i.setDate(i.getDate()-(7-i.getDay()));i=new Date(r);var o=new Date(e.numberYear,e.numberMonthe,i.getDate()-5);n.clientAccept=e.cientAccept.filter(function(e){return n.id==e.clientId&&new Date(e.date.slice(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[0]).getDate()<=i.getDate()&&new Date(e.date.slice(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[0]).getDate()>=o.getDate()&&new Date(e.date.slice(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[0]).getMonth()==i.getMonth()&&new Date(e.date.slice(0,e.date.indexOf(" ")).split(".")[2]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[1]+"/"+e.date.slice(0,e.date.indexOf(" ")).split(".")[0]).getFullYear()==i.getFullYear()})}),this.totalItems=this.clientsData.length,this.paginateClients=this.clientsData.slice(0*this.pageSize).slice(0,this.pageSize),this.dataSource=new u.a(this.clientsData),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.initDateArchiv(),this.hiddenloader="hidden",console.log(this.clientsData)},e.prototype.getComment=function(e){var t=this,n=e.callsComments.find(function(e){return e.weekNumber==t.numberWeek});return n&&n.weekNumber==this.numberWeek?n.comment:""},e.prototype.getManagerComment=function(e){var t=this,n=e.callsComments.find(function(e){return e.weekNumber==t.numberWeek});return n&&n.weekNumber==this.numberWeek?n.managerComment:""},e.prototype.setBagroundStatus=function(e){var t=this;if(e.callsComments){var n=e.callsComments.find(function(e){return e.weekNumber==t.numberWeek});if(n&&n.weekNumber==this.numberWeek)return 2==n.acceptControlerCalss?n.colorPen:1==n.acceptControlerCalss?"#DF013A":"#FAFAFA"}},e.prototype.initDateArchiv=function(){if(0==this.dateCollections.length){this.dateCollections=[];for(var e=new Date,t=0;t<this.weekPlans.length;t++){var n=this.weekPlans[t].dateTime.split(".");e>new Date(n[2]+"/"+n[1]+"/"+n[0])&&(e=new Date(n[2]+"/"+n[1]+"/"+n[0]))}for(t=e.getFullYear();t<=(new Date).getFullYear();t++)for(var i=e.getMonth();i<=(new Date).getMonth();i++){var r=new Date(t+"/0"+(i+1));this.dateCollections.unshift(new Date(t+"/0"+(i+1)).toLocaleDateString().substring(3,r.toLocaleDateString().length))}this.dateCollection=this.dateCollections[0]}},e.prototype.changeNumberWeek=function(){this.setSortWeeplan()},e.prototype.toFormatDate=function(e){var t=e.split("."),n=new Date(t[1]+"/"+t[0]);this.numberMonthe=n.getMonth(),this.numberYear=n.getFullYear(),this.setSortWeeplan()},e.prototype.selectedWorkGroupChange=function(){this.setSortWeeplan()},e.prototype.setNoAccept=function(e,t,n){void 0===n&&(n=null);var r=e.currentTarget.offsetParent.children[0].value;null==r&&""==r||(this.commentReset(t,i.ControlerNoAccept,r),this.http.get("api/conroler/ClientAccept/NoAcceptCallWeekPlan?comment="+r+"&clientId="+t+"&weekNumber="+this.numberWeek).subscribe())},e.prototype.setAccept=function(e,t,n){void 0===n&&(n=null);var r=e.currentTarget.offsetParent.children[0].value;this.commentReset(t,i.Default,r),this.http.get("api/conroler/ClientAccept/DefaultCallWeekPlan?comment="+r+"&clientId="+t+"&weekNumber="+this.numberWeek).subscribe()},e.prototype.commentReset=function(e,t,n){var i=this;this.clientsDataFull.find(function(t){return t.id==e}).callsComments.find(function(e){return e.weekNumber==i.numberWeek})?(this.clientsDataFull.find(function(t){return t.id==e}).callsComments.find(function(e){return e.weekNumber==i.numberWeek}).acceptControlerCalss=t,this.clientsDataFull.find(function(t){return t.id==e}).callsComments.find(function(e){return e.weekNumber==i.numberWeek}).comment=n):this.clientsDataFull.find(function(t){return t.id==e}).callsComments.push({acceptControlerCalss:t,clientId:e,colorPen:"",comment:n,contactClientId:0,date:"",durations:0,managerComment:"",type:"\u041f\u043b\u0430\u043d",weekNumber:this.numberWeek})},e.prototype._toggleSidebar=function(){this._filterOpened=!this._filterOpened},e.prototype._isMobile=function(){return window.innerWidth<820},e.prototype._getFilterIcon=function(){return this._filterOpened?"Icon/close.png":"Icon/filter.png"},e.prototype.ngOnInit=function(){this.getClients()},e.prototype.paginate=function(e){var t=(e.pageIndex+1-1)*e.pageSize;this.paginateClients=this.clientsData.slice(t).slice(0,e.pageSize)},r.c([Object(o.G)(),r.f("design:type",Array)],e.prototype,"weekPlans",void 0),r.c([Object(o.G)(),r.f("design:type",Array)],e.prototype,"workgroups",void 0),r.c([Object(o.G)(),r.f("design:type",Array)],e.prototype,"clientsDataFull",void 0),r.c([Object(o.G)(),r.f("design:type",Array)],e.prototype,"cientAccept",void 0),r.c([Object(o.ob)(h.a,{static:!1}),r.f("design:type",h.a)],e.prototype,"paginator",void 0),r.c([Object(o.ob)(g.a,{static:!1}),r.f("design:type",g.a)],e.prototype,"sort",void 0),e=r.c([Object(o.n)({selector:"app-plan-task",template:n("wNtE"),styles:[n("C8qk")]}),r.f("design:paramtypes",[f.b,c.a,o.k])],e)}(),_=[{path:"",component:d,children:[{path:"",pathMatch:"full",redirectTo:"calls"},{path:"calls",component:m},{path:"report",component:y},{path:"clients",component:b},{path:"plan-task",component:x}]}],w=function(){function e(){}return e=r.c([Object(o.L)({imports:[p.c.forChild(_)],exports:[p.c]})],e)}(),C=n("qGjA"),S=n("lFvN"),D=n("iWZV"),O=n("tEaz"),I=n("NtwD"),k=function(){function e(e){this.managersFacade=e,this.managers$=this.managersFacade.managers$}return e.prototype.ngOnInit=function(){this.managersFacade.loadManagers(),console.log(this.managers$)},e=r.c([Object(o.n)({selector:"app-accept",template:n("zxd3"),styles:[n("eGNq")]}),r.f("design:paramtypes",[I.a])],e)}(),P=n("ihYY"),E=n("K9Ia"),T=n("bne5"),A=n("6blF"),R=n("T1DM"),j=n("/21U");function F(e,t){return void 0===e&&(e=0),void 0===t&&(t=R.a),(!Object(j.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=R.a),new A.a(function(n){return n.add(t.schedule(L,e,{subscriber:n,counter:0,period:e})),n})}function L(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var M=n("tHPV"),G=n("pugT"),z=n("gI3B"),V=n("p0ib"),B=n("VnD/"),H=n("ny24"),N=n("t9fZ"),W=n("P6uZ"),Y=n("MGBS"),U=n("zotm"),K={leading:!0,trailing:!1};function $(e,t){return void 0===t&&(t=K),function(n){return n.lift(new X(e,t.leading,t.trailing))}}var X=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new q(e,this.durationSelector,this.leading,this.trailing))},e}(),q=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=i,o._trailing=r,o._hasValue=!1,o}return r.d(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(U.a)(this,t))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(t){return this.destination.error(t),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=null,t&&this.send()},t.prototype.notifyNext=function(e,t,n,i,r){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(Y.a);function Z(e){return function(t){return t.lift(new Q(e))}}var Q=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new J(e,this.durationSelector))},e}(),J=function(e){function t(t,n){var i=e.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i.durationSubscription=null,i}return r.d(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(U.a)(this,t))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(e,t,n,i,r){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(Y.a),ee=n("xMyE"),te=n("15JJ"),ne=n("FFOo"),ie=n("b7mW");var re=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new ie.a}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new ne.a(e)):t.subscribe(new oe(e,this._skipCount))},e}(),oe=function(e){function t(t,n){var i=e.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return r.d(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var i=n%t,r=this._ring,o=r[i];r[i]=e,this.destination.next(o)}},t}(ne.a),ae=n("Gi3i"),se=n("67Y/"),le=n("g1Xn"),ce=n("ZYjt"),de=n("ds6q"),pe="cubic-bezier(0.550, 0.085, 0.680, 0.530)",ue="cubic-bezier(0.600, -0.280, 0.735, 0.045)",he="cubic-bezier(0.250, 0.460, 0.450, 0.940)",ge="cubic-bezier(0.390, 0.575, 0.565, 1.000)",fe="cubic-bezier(0.175, 0.885, 0.320, 1.275)",me=[Object(P.m)({opacity:"{{startOpacity}}"}),Object(P.e)("{{duration}} {{delay}} {{easing}}",Object(P.m)({opacity:"{{endOpacity}}"}))],ye={delay:"0s",duration:"350ms",easing:ge,endOpacity:1,startOpacity:0},be=Object(P.g)(me,{params:ye}),ve=Object(P.g)(me,{params:{delay:"0s",duration:"350ms",easing:ge,endOpacity:0,startOpacity:1}}),xe=[Object(P.m)({backfaceVisibility:"hidden",transformStyle:"preserve-3d"}),Object(P.e)("{{duration}} {{delay}} {{easing}}",Object(P.i)([Object(P.m)({offset:0,transform:"translateZ({{startDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{startAngle}}deg)"}),Object(P.m)({offset:1,transform:"translateZ({{endDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{endAngle}}deg)"})]))],_e={delay:"0s",duration:"600ms",easing:he,endAngle:180,endDistance:"0px",rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px"},we=(Object(P.g)(xe,{params:Object(r.a)({},_e)}),Object(P.g)(xe,{params:Object(r.a)({},_e,{endAngle:-180})}),Object(P.g)(xe,{params:Object(r.a)({},_e,{rotateX:0,rotateY:1})}),Object(P.g)(xe,{params:Object(r.a)({},_e,{endAngle:-180,rotateX:0,rotateY:1})}),Object(P.g)(xe,{params:Object(r.a)({},_e,{endDistance:"170px"})}),Object(P.g)(xe,{params:Object(r.a)({},_e,{endDistance:"-170px"})}),Object(P.g)(xe,{params:Object(r.a)({},_e,{endDistance:"170px",rotateX:0,rotateY:1})}),Object(P.g)(xe,{params:Object(r.a)({},_e,{endDistance:"-170px",rotateX:0,rotateY:1})}),[Object(P.m)({opacity:"{{startOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),Object(P.e)("{{duration}} {{delay}} {{easing}}",Object(P.m)({offset:0,opacity:"{{endOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))]),Ce={delay:"0s",duration:"600ms",easing:he,endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center"},Se=Object(r.a)({},Ce,{easing:pe,endOpacity:0,startOpacity:1}),De=(Object(P.g)(we,{params:Object(r.a)({},Ce)}),Object(P.g)(we,{params:Object(r.a)({},Se)}),Object(P.g)(we,{params:Object(r.a)({},Ce,{xPos:"top"})}),Object(P.g)(we,{params:Object(r.a)({},Se,{xPos:"top"})}),Object(P.g)(we,{params:Object(r.a)({},Ce,{xPos:"right"})}),Object(P.g)(we,{params:Object(r.a)({},Se,{xPos:"right"})}),Object(P.g)(we,{params:Object(r.a)({},Ce,{xPos:"bottom"})}),Object(P.g)(we,{params:Object(r.a)({},Se,{xPos:"bottom"})}),Object(P.g)(we,{params:Object(r.a)({},Ce,{xPos:"left"})}),Object(P.g)(we,{params:Object(r.a)({},Se,{xPos:"left"})}),Object(P.g)(we,{params:Object(r.a)({},Ce,{xPos:"right",yPos:"top"})}),Object(P.g)(we,{params:Object(r.a)({},Se,{xPos:"right",yPos:"top"})}),Object(P.g)(we,{params:Object(r.a)({},Ce,{xPos:"right",yPos:"bottom"})}),Object(P.g)(we,{params:Object(r.a)({},Se,{xPos:"right",yPos:"bottom"})}),Object(P.g)(we,{params:Object(r.a)({},Ce,{xPos:"left",yPos:"bottom"})}),Object(P.g)(we,{params:Object(r.a)({},Se,{xPos:"left",yPos:"bottom"})}),Object(P.g)(we,{params:Object(r.a)({},Ce,{xPos:"left",yPos:"top"})}),Object(P.g)(we,{params:Object(r.a)({},Se,{xPos:"left",yPos:"top"})}),Object(P.g)(we,{params:Object(r.a)({},Ce,{rotateX:1,rotateY:1,rotateZ:0})}),Object(P.g)(we,{params:Object(r.a)({},Se,{rotateX:1,rotateY:1,rotateZ:0})}),Object(P.g)(we,{params:Object(r.a)({},Ce,{rotateX:-1,rotateY:1,rotateZ:0})}),Object(P.g)(we,{params:Object(r.a)({},Se,{rotateX:-1,rotateY:1,rotateZ:0})}),Object(P.g)(we,{params:Object(r.a)({},Ce,{rotateX:0,rotateY:1,rotateZ:0})}),Object(P.g)(we,{params:Object(r.a)({},Se,{rotateX:0,rotateY:1,rotateZ:0})}),Object(P.g)(we,{params:Object(r.a)({},Ce,{rotateX:1,rotateY:0,rotateZ:0})}),Object(P.g)(we,{params:Object(r.a)({},Se,{rotateX:1,rotateY:0,rotateZ:0})}),[Object(P.e)("{{duration}} {{delay}} {{easing}}",Object(P.i)([Object(P.m)({offset:0,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"}),Object(P.m)({offset:.1,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{startDistance}})"}),Object(P.m)({offset:.2,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),Object(P.m)({offset:.3,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),Object(P.m)({offset:.4,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),Object(P.m)({offset:.5,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),Object(P.m)({offset:.6,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),Object(P.m)({offset:.7,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),Object(P.m)({offset:.8,transform:"rotate(-{{endAngle}}deg) translate{{direction}}({{endDistance}})"}),Object(P.m)({offset:.9,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{endDistance}})"}),Object(P.m)({offset:1,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"})]))]),Oe={delay:"0s",direction:"X",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",endAngle:0,endDistance:"8px",startAngle:0,startDistance:"10px",xPos:"center",yPos:"center"},Ie=(Object(P.g)(De,{params:Object(r.a)({},Oe,{direction:"X"})}),Object(P.g)(De,{params:Object(r.a)({},Oe,{direction:"Y"})}),Object(P.g)(De,{params:Object(r.a)({},Oe,{endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"top"})}),Object(P.g)(De,{params:Object(r.a)({},Oe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"bottom"})}),Object(P.g)(De,{params:Object(r.a)({},Oe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"center"})}),Object(P.g)(De,{params:Object(r.a)({},Oe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"center"})}),Object(P.g)(De,{params:Object(r.a)({},Oe,{direction:"Y",endAngle:8,endDistance:"0",startAngle:10,startDistance:"0",xPos:"center",yPos:"center"})}),Object(P.g)(De,{params:Object(r.a)({},Oe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"top"})}),Object(P.g)(De,{params:Object(r.a)({},Oe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"bottom"})}),Object(P.g)(De,{params:Object(r.a)({},Oe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"bottom"})}),Object(P.g)(De,{params:Object(r.a)({},Oe,{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"top"})}),[Object(P.m)({animationTimingFunction:"ease-out",transform:"scale(1)",transformOrigin:"center center"}),Object(P.e)("{{duration}} {{delay}} {{easing}}",Object(P.i)([Object(P.m)({animationTimingFunction:"ease-in",offset:.1,transform:"scale(0.91)"}),Object(P.m)({animationTimingFunction:"ease-out",offset:.17,transform:"scale(0.98)"}),Object(P.m)({animationTimingFunction:"ease-in",offset:.33,transform:"scale(0.87)"}),Object(P.m)({animationTimingFunction:"ease-out",offset:.45,transform:"scale(1)"})]))]),ke=[Object(P.e)("{{duration}} {{delay}} {{easing}}",Object(P.i)([Object(P.m)({offset:0,transform:"scale({{fromScale}})"}),Object(P.m)({offset:.5,transform:"scale({{toScale}})"}),Object(P.m)({offset:1,transform:"scale({{fromScale}})"})]))],Pe={delay:"0s",duration:".5s",easing:"ease-in-out",fromScale:1,toScale:1.1},Ee=[Object(P.e)("{{duration}} {{delay}} {{easing}}",Object(P.i)([Object(P.m)({offset:0,opacity:.8,transform:"scale({{fromScale}})"}),Object(P.m)({offset:.8,opacity:0,transform:"scale({{midScale}})"}),Object(P.m)({offset:1,opacity:0,transform:"scale({{toScale}})"})]))],Te=(Object(P.g)(ke,{params:Object(r.a)({},Pe)}),Object(P.g)(ke,{params:Object(r.a)({},Pe,{toScale:.9})}),Object(P.g)(Ie,{params:Object(r.a)({},{delay:"0s",duration:"1.5s",easing:"ease-in-out"})}),Object(P.g)(Ee,{params:Object(r.a)({},{delay:"0s",duration:".8s",easing:"ease-in-out",fromScale:.2,midScale:1.2,toScale:2.2})}),[Object(P.m)({opacity:"{{startOpacity}}",transform:"scale{{direction}}({{fromScale}})",transformOrigin:"{{xPos}} {{yPos}}"}),Object(P.e)("{{duration}} {{delay}} {{easing}}",Object(P.m)({opacity:"{{endOpacity}}",transform:"scale{{direction}}({{toScale}})",transformOrigin:"{{xPos}} {{yPos}}"}))]),Ae={delay:"0s",direction:"",duration:"350ms",easing:he,endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"50%",yPos:"50%"},Re=Object(r.a)({},Ae,{easing:ge,endOpacity:0,fromScale:1,startOpacity:1,toScale:.5}),je=Object(P.g)(Te,{params:Ae}),Fe=(Object(P.g)(Te,{params:Object(r.a)({},Ae,{xPos:"0",yPos:"100%"})}),Object(P.g)(Te,{params:Object(r.a)({},Ae,{direction:"Y",fromScale:.4})}),Object(P.g)(Te,{params:Object(r.a)({},Ae,{xPos:"50%",yPos:"0"})}),Object(P.g)(Te,{params:Object(r.a)({},Ae,{xPos:"0",yPos:"50%"})}),Object(P.g)(Te,{params:Object(r.a)({},Ae,{direction:"Y",fromScale:.4,xPos:"100%",yPos:"0"})})),Le=(Object(P.g)(Te,{params:Object(r.a)({},Ae,{xPos:"100%",yPos:"0"})}),Object(P.g)(Te,{params:Object(r.a)({},Ae,{xPos:"0",yPos:"0"})}),Object(P.g)(Te,{params:Object(r.a)({},Ae,{direction:"Y",fromScale:.4,xPos:"0",yPos:"100%"})})),Me=(Object(P.g)(Te,{params:Object(r.a)({},Ae,{xPos:"100%",yPos:"50%"})}),Object(P.g)(Te,{params:Object(r.a)({},Ae,{direction:"X",fromScale:.4})}),Object(P.g)(Te,{params:Object(r.a)({},Ae,{xPos:"100%",yPos:"100%"})}),Object(P.g)(Te,{params:Object(r.a)({},Ae,{direction:"X",fromScale:.4,xPos:"0",yPos:"0"})}),Object(P.g)(Te,{params:Object(r.a)({},Ae,{xPos:"50%",yPos:"100%"})}),Object(P.g)(Te,{params:Object(r.a)({},Ae,{direction:"X",fromScale:.4,xPos:"100%",yPos:"100%"})}),Object(P.g)(Te,{params:Re}),Object(P.g)(Te,{params:Object(r.a)({},Re,{xPos:"0",yPos:"100%"})}),Object(P.g)(Te,{params:Object(r.a)({},Re,{xPos:"100%",yPos:"100%"})}),Object(P.g)(Te,{params:Object(r.a)({},Re,{direction:"Y",toScale:.3})}),Object(P.g)(Te,{params:Object(r.a)({},Re,{direction:"Y",toScale:.3,xPos:"100%",yPos:"0"})})),Ge=(Object(P.g)(Te,{params:Object(r.a)({},Re,{direction:"Y",toScale:.3,xPos:"0",yPos:"100%"})}),Object(P.g)(Te,{params:Object(r.a)({},Re,{xPos:"50%",yPos:"0"})}),Object(P.g)(Te,{params:Object(r.a)({},Re,{xPos:"0",yPos:"50%"})}),Object(P.g)(Te,{params:Object(r.a)({},Re,{xPos:"100%",yPos:"0"})}),Object(P.g)(Te,{params:Object(r.a)({},Re,{xPos:"0",yPos:"0"})}),Object(P.g)(Te,{params:Object(r.a)({},Re,{xPos:"100%",yPos:"50%"})}),Object(P.g)(Te,{params:Object(r.a)({},Re,{xPos:"50%",yPos:"100%"})}),Object(P.g)(Te,{params:Object(r.a)({},Re,{direction:"X",toScale:.3})}),Object(P.g)(Te,{params:Object(r.a)({},Re,{direction:"X",toScale:.3,xPos:"0",yPos:"0"})}),Object(P.g)(Te,{params:Object(r.a)({},Re,{direction:"X",toScale:.3,xPos:"100%",yPos:"100%"})}),[Object(P.m)({opacity:"{{startOpacity}}",transform:"{{fromPosition}}"}),Object(P.e)("{{duration}} {{delay}} {{easing}}",Object(P.m)({opacity:"{{endOpacity}}",transform:"{{toPosition}}"}))]),ze={delay:"0s",duration:"350ms",easing:he,endOpacity:1,fromPosition:"translateY(-500px)",startOpacity:0,toPosition:"translateY(0)"},Ve={delay:"0s",duration:"350ms",easing:pe,endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(-500px)"},Be=(Object(P.g)(Ge,{params:ze}),Object(P.g)(Ge,{params:{delay:"0s",duration:"350ms",easing:he,endOpacity:1,fromPosition:"translateX(-500px)",startOpacity:0,toPosition:"translateY(0)"}})),He=Object(P.g)(Ge,{params:{delay:"0s",duration:"350ms",easing:he,endOpacity:1,fromPosition:"translateX(500px)",startOpacity:0,toPosition:"translateY(0)"}}),Ne=Object(P.g)(Ge,{params:{delay:"0s",duration:"350ms",easing:he,endOpacity:1,fromPosition:"translateY(500px)",startOpacity:0,toPosition:"translateY(0)"}}),We=(Object(P.g)(Ge,{params:Object(r.a)({},ze,{fromPosition:"translateY(-500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"})}),Object(P.g)(Ge,{params:Object(r.a)({},ze,{fromPosition:"translateY(-500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"})}),Object(P.g)(Ge,{params:Object(r.a)({},ze,{fromPosition:"translateY(500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"})}),Object(P.g)(Ge,{params:Object(r.a)({},ze,{fromPosition:"translateY(500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"})}),Object(P.g)(Ge,{params:Ve})),Ye=(Object(P.g)(Ge,{params:Object(r.a)({},Ve,{toPosition:"translateX(500px)"})}),Object(P.g)(Ge,{params:{delay:"0s",duration:"350ms",easing:pe,endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(500px)"}})),Ue=(Object(P.g)(Ge,{params:Object(r.a)({},Ve,{toPosition:"translateX(-500px)"})}),Object(P.g)(Ge,{params:Object(r.a)({},Ve,{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(500px)"})}),Object(P.g)(Ge,{params:Object(r.a)({},Ve,{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(500px)"})}),Object(P.g)(Ge,{params:Object(r.a)({},Ve,{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(-500px)"})}),Object(P.g)(Ge,{params:Object(r.a)({},Ve,{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(-500px)"})}),[Object(P.m)({opacity:"{{startOpacity}}",transform:"rotate{{direction}}({{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),Object(P.e)("{{duration}} {{delay}} {{easing}}",Object(P.m)({opacity:"{{endOpacity}}",transform:"rotate{{direction}}({{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))]),Ke={delay:"0s",direction:"X",duration:".5s",easing:fe,endAngle:0,endOpacity:1,startAngle:-100,startOpacity:0,xPos:"top",yPos:"center"},$e=Object(r.a)({},Ke,{duration:".55s",easing:ue,endAngle:70,endOpacity:0,startAngle:0,startOpacity:1}),Xe=(Object(P.g)(Ue,{params:Object(r.a)({},Ke)}),Object(P.g)(Ue,{params:Object(r.a)({},Ke,{direction:"Y",xPos:"center",yPos:"right"})}),Object(P.g)(Ue,{params:Object(r.a)({},Ke,{startAngle:100,xPos:"bottom"})}),Object(P.g)(Ue,{params:Object(r.a)({},Ke,{direction:"Y",startAngle:100,xPos:"center",yPos:"left"})}),Object(P.g)(Ue,{params:Object(r.a)({},Ke,{duration:".6s",startAngle:70})}),Object(P.g)(Ue,{params:Object(r.a)({},Ke,{direction:"Y",duration:".6s",startAngle:70,xPos:"center",yPos:"right"})}),Object(P.g)(Ue,{params:Object(r.a)({},Ke,{duration:".6s",startAngle:-70,xPos:"bottom"})}),Object(P.g)(Ue,{params:Object(r.a)({},Ke,{direction:"Y",duration:".6s",startAngle:-70,xPos:"center",yPos:"left"})}),Object(P.g)(Ue,{params:Object(r.a)({},$e)}),Object(P.g)(Ue,{params:Object(r.a)({},$e,{direction:"Y",xPos:"center",yPos:"right"})}),Object(P.g)(Ue,{params:Object(r.a)({},$e,{endAngle:-70,xPos:"bottom"})}),Object(P.g)(Ue,{params:Object(r.a)({},$e,{direction:"Y",endAngle:-70,xPos:"center",yPos:"left"})}),Object(P.g)(Ue,{params:Object(r.a)({},$e,{duration:".45s",endAngle:-100})}),Object(P.g)(Ue,{params:Object(r.a)({},$e,{direction:"Y",duration:".45s",endAngle:-100,xPos:"center",yPos:"right"})}),Object(P.g)(Ue,{params:Object(r.a)({},$e,{duration:".45s",endAngle:100,xPos:"bottom"})}),Object(P.g)(Ue,{params:Object(r.a)({},$e,{direction:"Y",duration:".45s",endAngle:100,xPos:"center",yPos:"left"})}),[Object(P.m)({opacity:"{{ startOpacity }}",height:"{{ startHeight }}"}),Object(P.e)("{{duration}} {{delay}} {{easing}}",Object(P.m)({opacity:"{{ endOpacity }}",height:"{{ endHeight }}"}))]),qe={delay:"0s",duration:"350ms",easing:pe,startOpacity:0,endOpacity:1,startHeight:"",endHeight:""},Ze=Object(P.g)(Xe,{params:Object(r.a)({},qe,{easing:he,startOpacity:0,endOpacity:1,startHeight:"0px",endHeight:"*"})}),Qe=Object(P.g)(Xe,{params:Object(r.a)({},qe,{easing:he,startOpacity:1,endOpacity:0,startHeight:"*",endHeight:"0px"})}),Je=function(){function e(){this.navs={}}return e.prototype.add=function(e,t){this.navs[e]=t},e.prototype.remove=function(e){delete this.navs[e]},e.prototype.get=function(e){if(e)return this.navs[e]},e.prototype.toggle=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(this.navs[e])return(t=this.navs[e]).toggle.apply(t,Object(r.i)(n))},e.prototype.open=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(this.navs[e])return(t=this.navs[e]).open.apply(t,Object(r.i)(n))},e.prototype.close=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(this.navs[e])return(t=this.navs[e]).close.apply(t,Object(r.i)(n))},e}(),et=function(){function e(e){this.state=e}return e.prototype.toggleNavigationDrawer=function(){this.state.toggle(this.target,!0)},e.decorators=[{type:o.t,args:[{selector:"[igxNavToggle]"}]}],e.ctorParameters=function(){return[{type:Je}]},e.propDecorators={target:[{type:o.G,args:["igxNavToggle"]}],toggleNavigationDrawer:[{type:o.A,args:["click"]}]},e}(),tt=function(){function e(e){this.state=e}return e.prototype.closeNavigationDrawer=function(){this.state.close(this.target,!0)},e.decorators=[{type:o.t,args:[{selector:"[igxNavClose]"}]}],e.ctorParameters=function(){return[{type:Je}]},e.propDecorators={target:[{type:o.G,args:["igxNavClose"]}],closeNavigationDrawer:[{type:o.A,args:["click"]}]},e}();!function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[tt,et],exports:[tt,et],providers:[Je]}]}]}();function nt(e,t){var n=[];if(!e)return n;for(var i=e.length;i--;)n[i]=t?rt(e[i]):e[i];return n}function it(e,t){var n,i;if(!ot(e))throw new Error("Cannot merge into "+e+". First param must be an object.");if(!ot(t))return e;try{for(var o=Object(r.j)(Object.keys(t)),a=o.next();!a.done;a=o.next()){var s=a.value;e[s]=rt(t[s])}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return e}function rt(e){var t,n;if(at(e))return new Date(e.getTime());if(Array.isArray(e))return Object(r.i)(e);if(e instanceof Map||e instanceof Set)return e;if(ot(e)){var i={};try{for(var o=Object(r.j)(Object.keys(e)),a=o.next();!a.done;a=o.next()){var s=a.value;i[s]=rt(e[s])}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return e}function ot(e){return e&&"[object Object]"===e.toString()}function at(e){return"[object Date]"===Object.prototype.toString.call(e)}function st(e,t){return at(e)&&at(t)?e.getTime()===t.getTime():e===t}function lt(e,t){var n=null;pt()||(n=t.style.overflow,t.style.overflow="visible"),e.selectNodeContents(t);var i=e.getBoundingClientRect().width;return pt()||(t.style.overflow=n),i}function ct(){return navigator.appVersion.indexOf("Trident/")>0}function dt(){return/Edge[\/\s](\d+\.\d+)/.test(navigator.userAgent)}function pt(){return/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)}var ut=function(){function e(e){this.platformId=e,this.isBrowser=Object(a.n)(this.platformId),this.isIOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window)}return e.decorators=[{type:o.D,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:Object,decorators:[{type:o.C,args:[o.U]}]}]},e.ngInjectableDef=Object(o.nc)({factory:function(){return new e(Object(o.rc)(o.U))},token:e,providedIn:"root"}),e}();function ht(e){return 0===e.button}function gt(e){var t=[];return e.forEach(function(e){if(t.push(e),e.children){var n=Array.isArray(e.children)?e.children:e.children.toArray();t=t.concat(gt(n))}}),t}var ft=new Set(["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","space","spacebar"," "]),mt=new Set("right down arrowright arrowdown".split(" ")),yt=new Set("left up arrowleft arrowup".split(" ")),bt=new Set(Object(r.i)(Array.from(ft),["tab","enter","f2","escape","esc"])),vt={None:0,Asc:1,Desc:2};vt[vt.None]="None",vt[vt.Asc]="Asc",vt[vt.Desc]="Desc";var xt=function(){function e(){}return e.instance=function(){return this._instance||(this._instance=new this)},e.prototype.sort=function(e,t,n,i,r){var o=this,a=t,s=n===vt.Desc?-1:1;return this.arraySort(e,function(e,t){return o.compareObjects(e,t,a,s,i,r)})},e.prototype.compareValues=function(e,t){var n=null==t;return null==e?n?0:-1:n?1:e>t?1:e<t?-1:0},e.prototype.compareObjects=function(e,t,n,i,r,o){var a=o(e,n),s=o(t,n);return r&&(a=a&&a.toLowerCase?a.toLowerCase():a,s=s&&s.toLowerCase?s.toLowerCase():s),i*this.compareValues(a,s)},e.prototype.arraySort=function(e,t){return e.sort(t)},e._instance=null,e}(),_t=function(){function e(){}return e.prototype.sort=function(e,t){return this.sortDataRecursive(e,t)},e.prototype.groupedRecordsByExpression=function(e,t,n){var i,r,o=[],a=n.fieldName,s=e.length;o.push(e[t]),r=this.getFieldValue(e[t],a),t++;var l=n.groupingComparer||xt.instance().compareValues;for(i=t;i<s&&0===l(this.getFieldValue(e[i],a),r);i++)o.push(e[i]);return o},e.prototype.sortDataRecursive=function(e,t,n){var i,r,o,a,s;void 0===n&&(n=0);var l=t.length,c=e.length;if((n=n||0)>=l||c<=1)return e;if((o=t[n]).strategy||(o.strategy=xt.instance()),e=o.strategy.sort(e,o.fieldName,o.dir,o.ignoreCase,this.getFieldValue),n===l-1)return e;for(i=0;i<c;i++){for((s=(a=this.groupedRecordsByExpression(e,i,o)).length)>1&&(a=this.sortDataRecursive(a,t,n+1)),r=0;r<s;r++)e[i+r]=a[r];i+=s-1}return e},e.prototype.groupDataRecursive=function(e,t,n,i,o,a,s,l){void 0===a&&(a=null),void 0===s&&(s=[]),void 0===l&&(l={data:[],metadata:[]});for(var c=t.expressions,d=t.expansion,p=0,u=[],h=function(){var h,f,m=g.groupedRecordsByExpression(e,p,c[n]),y={expression:c[n],level:n,records:nt(m),value:m[0][c[n].fieldName],groupParent:i,groups:[],height:a?a.renderedRowHeight:null};i?i.groups.push(y):s.push(y);var b=Lt.getHierarchy(y),v=d.find(function(e){return Lt.isHierarchyMatch(e.hierarchy||[{fieldName:y.expression.fieldName,value:y.value}],b)}),x=v?v.expanded:t.defaultExpanded,_=void 0;if(u.push(y),o.push(null),l.data.push(y),l.metadata.push(null),n<c.length-1)_=g.groupDataRecursive(m,t,n+1,y,x?o:[],a,s,l),x&&(u=u.concat(_));else{try{for(var w=Object(r.j)(m),C=w.next();!C.done;C=w.next()){var S=C.value;l.metadata.push(y),l.data.push(S)}}catch(D){h={error:D}}finally{try{C&&!C.done&&(f=w.return)&&f.call(w)}finally{if(h)throw h.error}}x&&(o.push.apply(o,Object(r.i)(l.metadata.slice(l.metadata.length-m.length))),u.push.apply(u,Object(r.i)(l.data.slice(l.data.length-m.length))))}p+=m.length},g=this;p<e.length;)h();return u},e.prototype.getFieldValue=function(e,t){return e[t]},e}(),wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.getFieldValue=function(e,t){return e.data[t]},t}(_t),Ct=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.groupBy=function(e,t,n,i,r){void 0===r&&(r={data:[],metadata:[]});var o=[];return{data:this.groupDataRecursive(e,t,0,null,o,n,i,r),metadata:o}},t}(_t),St={None:0,IncorrectPageIndex:1,IncorrectRecordsPerPage:2};St[St.None]="None",St[St.IncorrectPageIndex]="IncorrectPageIndex",St[St.IncorrectRecordsPerPage]="IncorrectRecordsPerPage";var Dt=function(){function e(e,t){this.filteringOperands=[],this.operator=e,this.fieldName=t}return e.prototype.find=function(e){var t=this.findIndex(e);return t>-1?this.filteringOperands[t]:null},e.prototype.findIndex=function(t){for(var n,i=0;i<this.filteringOperands.length;i++)if((n=this.filteringOperands[i])instanceof e){if(this.isFilteringExpressionsTreeForColumn(n,t))return i}else if(n.fieldName===t)return i;return-1},e.prototype.isFilteringExpressionsTreeForColumn=function(t,n){if(t.fieldName===n)return!0;for(var i,r=0;r<t.filteringOperands.length;r++)return(i=t.filteringOperands[r])instanceof e?this.isFilteringExpressionsTreeForColumn(i,n):i.fieldName===n;return!1},e}(),Ot="add",It="delete",kt="update",Pt=function(){function e(){this.editCellState=new Map,this.editRowState=new Map,this.destroyMap=new Map}return e.prototype.get_column_by_name=function(e){return this.grid.columnList.find(function(t){return t.field===e})},e.prototype.get_summary_data=function(){var e=this.grid,t=e.filteredData;t||(e.transactions.enabled?(t=Lt.mergeTransactions(nt(e.data),e.transactions.getAggregatedChanges(!0),e.primaryKey),e.transactions.getTransactionLog().filter(function(e){return e.type===It}).map(function(e){return e.id}).forEach(function(n){var i=(e.primaryKey?t.map(function(t){return t[e.primaryKey]}):t).indexOf(n);-1!==i&&t.splice(i,1)})):t=e.data);return t},e.prototype.getRowData=function(e){return this.get_all_data(this.grid.transactions.enabled)[this.get_row_index_in_data(e)]},e.prototype.escape_editMode=function(){this.grid.crudService.end()},e.prototype.get_cell_inEditMode=function(){return this.grid.crudService.cell},e.prototype.get_row_index_in_data=function(e){var t=this.grid;if(!t)return-1;var n=this.get_all_data(t.transactions.enabled);return t.primaryKey?n.findIndex(function(n){return n[t.primaryKey]===e}):n.indexOf(e)},e.prototype.get_row_by_key=function(e){var t=this.grid.primaryKey;return null!=t?this.grid.dataRowList.find(function(n){return n.rowData[t]===e}):this.grid.dataRowList.find(function(t){return t.rowData===e})},e.prototype.get_row_by_index=function(e){return this.grid.rowList.find(function(t){return t.index===e})},e.prototype.get_cell_by_key=function(e,t){var n=this.get_row_by_key(e);if(n&&n.cells)return n.cells.find(function(e){return e.column.field===t})},e.prototype.get_cell_by_index=function(e,t){var n=this.get_row_by_index(e);if(n&&n.cells)return n.cells.find(function(e){return e.columnIndex===t})},e.prototype.get_cell_by_visible_index=function(e,t){var n=this.get_row_by_index(e);if(n&&n.cells)return n.cells.find(function(e){return e.visibleColumnIndex===t})},e.prototype.submit_value=function(){var e=this.grid.crudService.cell;if(e){if(this.update_cell(e,e.editValue).cancel)return;this.escape_editMode()}},e.prototype.update_cell=function(e,t){var n,i=this.get_all_data(this.grid.transactions.enabled),r=this.get_row_index_in_data(e.id.rowID);e.editValue=t;var o=e.createEditEventArgs();return this.grid.onCellEdit.emit(o),o.cancel?o:(o.newValue=e.castToNumber(o.newValue),st(o.oldValue,o.newValue)?o:(this.grid.summaryService.clearSummaryCache(o),this.updateData(this.grid,e.id.rowID,i[r],e.rowData,((n={})[e.column.field]=o.newValue,n)),this.grid.primaryKey===e.column.field&&(this.grid.selection.is_item_selected(this.grid.id,e.id.rowID)&&(this.grid.selection.deselect_item(this.grid.id,e.id.rowID),this.grid.selection.select_item(this.grid.id,o.newValue)),this.grid.hasSummarizedColumns&&this.grid.summaryService.removeSummaries(e.id.rowID)),this.grid.rowEditable&&this.grid.crudService.row&&this.grid.crudService.row.id===e.id.rowID&&this.grid.transactions.enabled||(this.grid.summaryService.clearSummaryCache(o),this.grid._pipeTrigger++),o))},e.prototype.updateData=function(e,t,n,i,r){if(e.transactions.enabled){var o={id:t,type:kt,newValue:r};e.transactions.add(o,i)}else it(n,r)},e.prototype._update_row=function(e,t){var n=this.grid,i=n.crudService.row;if(e.newData=t||n.transactions.getAggregatedValue(e.id,!0),i&&e.id===i.id)e.data=Object(r.a)({},e.data,i.transactionState);else if(this.grid.transactions.enabled){var o=n.transactions.getState(e.id)?n.transactions.getState(e.id).value:null;e.data=o?Object.assign(e.data,o):e.data}},e.prototype.update_row=function(e,t){var n=this.grid,i=n.crudService.row,r=this.get_all_data(n.transactions.enabled),o=this.get_row_index_in_data(e.id),a=n.hasSummarizedColumns;this._update_row(e,t);var s=e.createEditEventArgs();if(-1===o)return s;if(n.onRowEdit.emit(s),s.cancel)return s;if(i){var l=n.transactions.getState(s.rowID,!0);if(n.transactions.endPending(!1),!l)return s}if(!s.newValue)return s;a&&n.summaryService.removeSummaries(s.rowID),this.updateData(n,e.id,r[o],s.oldValue,s.newValue);var c=n.primaryKey?s.newValue[n.primaryKey]:s.newValue;return n.selection.is_item_selected(n.id,e.id)&&(n.selection.deselect_item(n.id,e.id),n.selection.select_item(n.id,c)),a&&n.summaryService.removeSummaries(c),n._pipeTrigger++,s},e.prototype.update_row_in_array=function(e,t,n){this.grid.data[n]=e},e.prototype.sort=function(e){e.dir===vt.None&&this.remove_grouping_expression(e.fieldName);var t=nt(this.grid.sortingExpressions);this.prepare_sorting_expression([t],e),this.grid.sortingExpressions=t},e.prototype.sort_multiple=function(e){var t,n,i=nt(this.grid.sortingExpressions);try{for(var o=Object(r.j)(e),a=o.next();!a.done;a=o.next()){var s=a.value;s.dir===vt.None&&this.remove_grouping_expression(s.fieldName),this.prepare_sorting_expression([i],s)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}this.grid.sortingExpressions=i},e.prototype.filter=function(e,t,n,i){var r=this.grid,o=r.filteringExpressionsTree;r.endEdit(!1),r.paging&&(r.page=0);var a=o.findIndex(e);a>-1&&o.filteringOperands.splice(a,1),this.prepare_filtering_expression(o,e,t,n,i,a),r.filteringExpressionsTree=o},e.prototype.filter_global=function(e,t,n){var i,o;if(t){var a=this.grid,s=a.filteringExpressionsTree;a.endEdit(!1),a.paging&&(a.page=0),s.filteringOperands=[];try{for(var l=Object(r.j)(a.columns),c=l.next();!c.done;c=l.next()){var d=c.value;this.prepare_filtering_expression(s,d.field,e,t,n||d.filteringIgnoreCase)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}a.filteringExpressionsTree=s}},e.prototype.clear_filter=function(e){var t=this.grid;t.endEdit(!1);var n=t.filteringExpressionsTree,i=n.findIndex(e);i>-1?n.filteringOperands.splice(i,1):e||(n.filteringOperands=[]),t.filteringExpressionsTree=n},e.prototype.clear_sort=function(e){var t=this.grid.sortingExpressions,n=t.findIndex(function(t){return t.fieldName===e});n>-1&&(t.splice(n,1),this.grid.sortingExpressions=t)},e.prototype.prepare_filtering_expression=function(e,t,n,i,r,o){var a;void 0===o&&(o=-1);var s=e.findIndex(t),l=i instanceof Dt?i:null,c=i instanceof Dt?null:i,d={fieldName:t,searchVal:n,condition:c,ignoreCase:r};-1===s&&(l?o>-1?e.filteringOperands.splice(o,0,l):e.filteringOperands.push(l):c&&((a=new Dt(e.operator,t)).filteringOperands.push(d),e.filteringOperands.push(a)))},e.prototype.prepare_sorting_expression=function(e,t){if(t.dir!==vt.None){for(var n=e[0],i=1;i<e.length;i++)n.length<e[i].length&&(n=e[i]);var r=n.find(function(e){return e.fieldName===t.fieldName});e.forEach(function(e){var n=e.find(function(e){return e.fieldName===t.fieldName});n||r?!n&&r?(e.push(r),Object.assign(r,t)):Object.assign(n,t):e.push(t)})}else e.forEach(function(e){e.splice(e.findIndex(function(e){return e.fieldName===t.fieldName}),1)})},e.prototype.remove_grouping_expression=function(e){},e.prototype.clear_groupby=function(e){},e.prototype.should_apply_number_style=function(e){return e.dataType===Ft.Number},e.prototype.get_data=function(){var e=this.grid;return e.data?e.data:[]},e.prototype.get_all_data=function(e){void 0===e&&(e=!1);var t=this.grid,n=t.data?t.data:[];return n=e?t.dataWithAddedInTransactionRows:n},e.prototype.get_filtered_data=function(){return this.grid.filteredData},e.prototype.getSortStrategyPerColumn=function(e){return this.get_column_by_name(e)?this.get_column_by_name(e).sortStrategy:void 0},e.prototype.addRowToData=function(e){var t=this.grid;if(t.transactions.enabled){var n={id:t.primaryKey?e[t.primaryKey]:e,type:Ot,newValue:e};t.transactions.add(n)}else t.data.push(e)},e.prototype.deleteRowFromData=function(e,t){var n=this.grid;if(-1!==t)if(n.transactions.enabled){var i={id:e,type:It,newValue:null};n.transactions.add(i,n.data[t])}else n.data.splice(t,1);else{var r=n.transactions.getState(e);n.transactions.add({id:e,type:It,newValue:null},r&&r.recordRef)}},e.prototype.deleteRowById=function(e){var t,n=this.grid,i=this.get_all_data();t=n.primaryKey?i.map(function(e){return e[n.primaryKey]}).indexOf(e):i.indexOf(e);var r=n.transactions.getState(e),o=r&&r.type!==It;if(-1!==t||o){n.endEdit(!0),n.onRowDeleted.emit({data:i[t]}),n.rowSelectable&&n.selection.is_item_selected(n.id,e)?n.deselectRows([e]):n.checkHeaderCheckboxStatus(),this.deleteRowFromData(e,t),n._pipeTrigger++,n.cdr.markForCheck();var a=n.transactions.enabled?n.dataWithAddedInTransactionRows:i;n.refreshSearch(),a.length%n.perPage==0&&a.length/n.perPage-1<n.page&&0!==n.page&&n.page--}},e.prototype.get_row_id=function(e){var t=this.grid;return t.primaryKey?e[t.primaryKey]:e},e.prototype.row_deleted_transaction=function(e){var t=this.grid;if(!t)return!1;if(!t.transactions.enabled)return!1;var n=t.transactions.getState(e);return!!n&&n.type===It},e.prototype.atInexistingPage=function(){return this.grid.totalPages-1>this.grid.page},e.decorators=[{type:o.D}],e}(),Et={And:0,Or:1};Et[Et.And]="And",Et[Et.Or]="Or";var Tt=function(){function e(){}return e.prototype.findMatchByExpression=function(e,t){var n=t.condition,i=this.getFieldValue(e,t.fieldName);return n.logic(i,t.searchVal,t.ignoreCase)},e.prototype.matchRecord=function(e,t){if(t){if(t instanceof Dt){var n=t,i=n.operator,r=void 0,o=void 0;if(n.filteringOperands&&n.filteringOperands.length){for(var a=0;a<n.filteringOperands.length;a++){if(o=n.filteringOperands[a],!(r=this.matchRecord(e,o))&&i===Et.And)return!1;if(r&&i===Et.Or)return!0}return r}return!0}var s=t;return this.findMatchByExpression(e,s)}return!0},e}(),At=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.filter=function(e,t){var n,i,r=e.length,o=[];if(!t||!t.filteringOperands||0===t.filteringOperands.length||!r)return e;for(n=0;n<r;n++)i=e[n],this.matchRecord(i,t)&&o.push(i);return o},t.prototype.getFieldValue=function(e,t){return e[t]},t}(Tt),Rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.filter=function(e,t){return this.filterImpl(e,t,void 0)},t.prototype.filterImpl=function(e,t,n){var i,r,o=e.length,a=[];if(!t||!t.filteringOperands||0===t.filteringOperands.length||!o)return e;for(i=0;i<o;i++){if((r=Lt.cloneTreeGridRecord(e[i])).parent=n,r.children){var s=this.filterImpl(r.children,t,r);r.children=s.length>0?s:null}this.matchRecord(r,t)?a.push(r):r.children&&r.children.length>0&&(r.isFilteredOutParent=!0,a.push(r))}return a},t.prototype.getFieldValue=function(e,t){return e.data[t]},t}(Tt),jt=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n,i){var r=this.gridAPI.grid,o={expressionsTree:t,strategy:new Rt};if(this.resetFilteredOutProperty(r.records),!o.expressionsTree||!o.expressionsTree.filteringOperands||0===o.expressionsTree.filteringOperands.length)return r.filteredData=null,e;var a=this.filter(e,o),s=[];return this.expandAllRecursive(r,a,r.expansionStates,s),r.filteredData=s,a},e.prototype.resetFilteredOutProperty=function(e){for(var t=Array.from(e.keys()),n=0;n<t.length;n++)e.get(t[n]).isFilteredOutParent=void 0},e.prototype.expandAllRecursive=function(e,t,n,i){for(var r=0;r<t.length;r++){var o=t[r];i.push(o.data),this.updateNonProcessedRecord(e,o),o.children&&o.children.length>0&&(n.set(o.rowID,!0),this.expandAllRecursive(e,o.children,n,i))}},e.prototype.updateNonProcessedRecord=function(e,t){e.records.get(t.rowID).isFilteredOutParent=t.isFilteredOutParent},e.prototype.filter=function(e,t){return t.strategy.filter(e,t.expressionsTree)},e.decorators=[{type:o.W,args:[{name:"treeGridFiltering",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),Ft={String:"string",Number:"number",Boolean:"boolean",Date:"date"},Lt=function(){function e(){}return e.sort=function(e,t,n){return void 0===n&&(n=new _t),n.sort(e,t)},e.treeGridSort=function(t,n,i){var r=[];return t.forEach(function(t){var o=e.cloneTreeGridRecord(t);o.parent=i,o.children&&(o.children=e.treeGridSort(o.children,n,o)),r.push(o)}),r=e.sort(r,n,new wt)},e.cloneTreeGridRecord=function(e){return{rowID:e.rowID,data:e.data,children:e.children,isFilteredOutParent:e.isFilteredOutParent,level:e.level,expanded:e.expanded}},e.group=function(e,t,n,i,r){void 0===n&&(n=null),void 0===i&&(i=[]),void 0===r&&(r={data:[],metadata:[]});var o=new Ct;return i.splice(0,i.length),o.groupBy(e,t,n,i,r)},e.page=function(e,t){if(!t)return e;var n=e.length,i=t.index,r=[],o=t.recordsPerPage;return t.metadata={countPages:0,countRecords:e.length,error:St.None},i<0||isNaN(i)?(t.metadata.error=St.IncorrectPageIndex,r):o<=0||isNaN(o)?(t.metadata.error=St.IncorrectRecordsPerPage,r):(t.metadata.countPages=Math.ceil(n/o),n?i>=t.metadata.countPages?(t.metadata.error=St.IncorrectPageIndex,r):e.slice(i*o,(i+1)*o):e)},e.filter=function(e,t){return t.strategy||(t.strategy=new At),t.strategy.filter(e,t.expressionsTree)},e.treeGridFilter=function(e,t){return t.strategy||(t.strategy=new Rt),t.strategy.filter(e,t.expressionsTree)},e.correctPagingState=function(e,t){var n=Math.ceil(t/e.recordsPerPage)-1;!isNaN(n)&&e.index>n&&(e.index=n)},e.getHierarchy=function(e){var t=[];if(void 0!==e&&e.expression)for(t.push({fieldName:e.expression.fieldName,value:e.value});e.groupParent;)e=e.groupParent,t.unshift({fieldName:e.expression.fieldName,value:e.value});return t},e.isHierarchyMatch=function(e,t){return e.length===t.length&&e.every(function(e,n){return e.fieldName===t[n].fieldName&&e.value===t[n].value})},e.mergeTransactions=function(e,t,n,i){return void 0===i&&(i=!1),e.forEach(function(i,r){var o=n?i[n]:i,a=t.find(function(e){return e.id===o});a&&a.type===kt&&(e[r]=a.newValue)}),i&&t.filter(function(e){return e.type===It}).forEach(function(t){var i=n?e.findIndex(function(e){return e[n]===t.id}):e.findIndex(function(e){return e===t.id});0<=i&&i<e.length&&e.splice(i,1)}),e.push.apply(e,Object(r.i)(t.filter(function(e){return e.type===Ot}).map(function(e){return e.newValue}))),e},e.mergeHierarchicalTransactions=function(e,t,n,i,o){var a,s;void 0===o&&(o=!1);var l=function(t){if(t.path){var r=c.findParentFromPath(e,i,n,t.path),a=r?r[n]:e;switch(t.type){case Ot:r&&!r[n]&&(r[n]=a=[]),a.push(t.newValue);break;case kt:var s=a.findIndex(function(e){return e[i]===t.id});-1!==s&&(a[s]=it(rt(a[s]),t.newValue));break;case It:if(o){var l=a.findIndex(function(e){return e[i]===t.id});-1!==l&&a.splice(l,1)}}}else e.push(t.newValue)},c=this;try{for(var d=Object(r.j)(t),p=d.next();!p.done;p=d.next()){l(p.value)}}catch(u){a={error:u}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}return e},e.findParentFromPath=function(e,t,n,i){var o,a,s,l=e,c=function(e){if(!(s=l&&l.find(function(n){return n[t]===e})))return"break";l=s[n]};try{for(var d=Object(r.j)(i),p=d.next();!p.done;p=d.next()){if("break"===c(p.value))break}}catch(u){o={error:u}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}return s},e}(),Mt=function(){function e(){}return e.getKeysFromData=function(t){var n=t.length;if(0===n)return[];var i=t[0],r=t[Math.floor(n/2)],o=t[n-1],a=Object.keys(i),s=Object.keys(r),l=Object.keys(o),c=new Set(a.concat(s).concat(l));return e.isSpecialData(t)?["Column 1"]:Array.from(c)},e.saveBlobToFile=function(e,t){var n=document.createElement("a");if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,t);else{var i=window.URL.createObjectURL(e);n.download=t,n.href=i,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}},e.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0;i!==e.length;++i)n[i]=255&e.charCodeAt(i);return t},e.isSpecialData=function(e){var t=e[0];return"string"==typeof t||"number"==typeof t||t instanceof Date},e.hasValue=function(e){return null!=e},e.isNullOrWhitespaces=function(e){return null==e||!e.trim()},e}(),Gt=function(){function e(){this.flatRecords=[],this._isTreeGrid=!1,this._indexOfLastPinnedColumn=-1,this._sort=null,this.onRowExport=new o.x,this.onColumnExport=new o.x}return e.prototype.export=function(e,t){var n=this;if(null==t)throw Error("No options provided!");var i=e.columnList.toArray();this._columnList=new Array(i.length);var r=[],o=-1;i.forEach(function(e){var i=""!==e.header?e.header:e.field,a=!e.hidden||t.ignoreColumnsVisibility,s=t.ignoreColumnsOrder?e.index:e.visibleIndex,l={header:i,field:e.field,skip:!a,formatter:e.formatter,skipFormatter:!1};-1!==s?(n._columnList[s]=l,o=Math.max(o,s)):r.push(l),e.pinned&&a&&(n._indexOfLastPinnedColumn=s)}),r.forEach(function(e){n._columnList[++o]=e});var a=this.prepareData(e,t);this.exportData(a,t)},e.prototype.exportData=function(e,t){var n=this;if(null==t)throw Error("No options provided!");if(!this._columnList||0===this._columnList.length){var i=Mt.getKeysFromData(e);this._columnList=i.map(function(e){return{header:e,field:e,skip:!1}})}var r=0,o=1;this._columnList.forEach(function(e,t){if(!e.skip){var i={header:Mt.isNullOrWhitespaces(e.header)?"Column"+o++:e.header,field:e.field,columnIndex:t,cancel:!1,skipFormatter:!1};n.onColumnExport.emit(i),e.header=i.header,e.skip=i.cancel,e.skipFormatter=i.skipFormatter,e.skip&&t<=n._indexOfLastPinnedColumn&&r++,n._sort&&n._sort.fieldName===e.field&&(e.skip?n._sort=null:n._sort.fieldName=e.header)}}),this._indexOfLastPinnedColumn-=r;var a=new Array,s=Mt.isSpecialData(e);e.forEach(function(e,t){n.exportRow(a,e,t,s)}),this.exportDataImplementation(a,t),this.resetDefaults()},e.prototype.exportRow=function(e,t,n,i){var r=this,o={rowData:i?this._isTreeGrid?t.data:t:this._columnList.reduce(function(e,n){if(!n.skip){var i=r._isTreeGrid?t.data[n.field]:t[n.field];e[n.header]=n.formatter&&!n.skipFormatter?n.formatter(i):i}return e},{}),rowIndex:n,cancel:!1};this.onRowExport.emit(o),o.cancel||e.push({rowData:o.rowData,originalRowData:t})},e.prototype.prepareData=function(e,t){this.flatRecords=[];var n=e.rootRecords;this._isTreeGrid=void 0!==n,this._isTreeGrid&&this.prepareHierarchicalData(n);var i=this._isTreeGrid?this.flatRecords:e.data;if(e.filteringExpressionsTree&&e.filteringExpressionsTree.filteringOperands.length>0&&!t.ignoreFiltering){var r={expressionsTree:e.filteringExpressionsTree,logic:e.filteringLogic};this._isTreeGrid?(this.flatRecords=[],n=Lt.treeGridFilter(n,r),this.prepareHierarchicalData(n),i=this.flatRecords):i=Lt.filter(i,r)}return e.sortingExpressions&&e.sortingExpressions.length>0&&!t.ignoreSorting&&(this._sort=rt(e.sortingExpressions[0]),this._isTreeGrid?(this.flatRecords=[],n=Lt.treeGridSort(n,e.sortingExpressions),this.prepareHierarchicalData(n),i=this.flatRecords):i=Lt.sort(i,e.sortingExpressions)),i},e.prototype.prepareHierarchicalData=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this.flatRecords.push(n),this.prepareHierarchicalData(n.children)}},e.prototype.resetDefaults=function(){this._columnList=[],this._indexOfLastPinnedColumn=-1,this._sort=null,this.flatRecords=[]},e.propDecorators={onRowExport:[{type:o.S}],onColumnExport:[{type:o.S}]},e}(),zt=function(){function e(e,t){this._data=e,this._headerRecord="",this._dataRecords="",this._eor="\r\n",this._escapeCharacters=["\r","\n","\r\n"],this._delimiterLength=1,this._isSpecialData=!1,this.setDelimiter(t)}return e.prototype.prepareData=function(){if(!this._data||0===this._data.length)return"";var e=Mt.getKeysFromData(this._data);return 0===e.length?"":(this._isSpecialData=Mt.isSpecialData(this._data),this._escapeCharacters.push(this._delimiter),this._headerRecord=this.processHeaderRecord(e,this._escapeCharacters),this._dataRecords=this.processDataRecords(this._data,e,this._escapeCharacters),this._headerRecord+this._dataRecords)},e.prototype.processField=function(e,t){var n=Mt.hasValue(e)?String(e):"";return t.some(function(e){return n.includes(e)})&&(n='"'+n+'"'),n+this._delimiter},e.prototype.processHeaderRecord=function(e,t){var n,i,o="";try{for(var a=Object(r.j)(e),s=a.next();!s.done;s=a.next()){var l=s.value;o+=this.processField(l,this._escapeCharacters)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o.slice(0,-this._delimiterLength)+this._eor},e.prototype.processRecord=function(e,t,n){var i,o,a="";try{for(var s=Object(r.j)(t),l=s.next();!l.done;l=s.next()){var c=l.value,d=void 0!==e[c]?e[c]:this._isSpecialData?e:"";a+=this.processField(d,this._escapeCharacters)}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a.slice(0,-this._delimiterLength)+this._eor},e.prototype.processDataRecords=function(e,t,n){var i,o,a="";try{for(var s=Object(r.j)(e),l=s.next();!l.done;l=s.next()){var c=l.value;a+=this.processRecord(c,t,n)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a},e.prototype.setDelimiter=function(e){this._delimiter=e,this._delimiterLength=e.length},e}(),Vt=function(){function e(e,t){this._fileExtension=t,this.ignoreColumnsVisibility=!1,this.ignoreFiltering=!1,this.ignoreColumnsOrder=!1,this.ignoreSorting=!1,this.setFileName(e)}return e.prototype.setFileName=function(e){this._fileName=e+(!1===e.endsWith(this._fileExtension)?this._fileExtension:"")},Object.defineProperty(e.prototype,"fileName",{get:function(){return this._fileName},set:function(e){this.setFileName(e)},enumerable:!0,configurable:!0}),e}(),Bt=function(e){function t(n,i){var r=e.call(this,n,t.getExtensionFromFileType(i))||this;return r.setFileType(i),r.setDelimiter(),r}return Object(r.d)(t,e),t.getExtensionFromFileType=function(e){var t="";switch(e){case Ht.CSV:t=".csv";break;case Ht.TSV:t=".tsv";break;case Ht.TAB:t=".tab";break;default:throw Error("Unsupported CSV file type!")}return t},Object.defineProperty(t.prototype,"valueDelimiter",{get:function(){return this._valueDelimiter},set:function(e){this.setDelimiter(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileType",{get:function(){return this._fileType},set:function(e){this.setFileType(e)},enumerable:!0,configurable:!0}),t.prototype.setFileType=function(e){if(null!=e&&e!==this._fileType){this._fileType=e;var n=t.getExtensionFromFileType(e);if(!this.fileName.endsWith(n)){var i="."+this.fileName.split(".").pop(),r=this.fileName.replace(i,n);this._fileExtension=n,this.fileName=r}}},t.prototype.setDelimiter=function(e){if(void 0!==e&&""!==e&&null!==e)this._valueDelimiter=e;else switch(this.fileType){case Ht.CSV:this._valueDelimiter=",";break;case Ht.TSV:case Ht.TAB:this._valueDelimiter="\t"}},t}(Vt),Ht={CSV:0,TSV:1,TAB:2};Ht[Ht.CSV]="CSV",Ht[Ht.TSV]="TSV",Ht[Ht.TAB]="TAB";var Nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onExportEnded=new o.x,t}return Object(r.d)(t,e),t.prototype.exportDataImplementation=function(e,t){e=e.map(function(e){return e.rowData});var n=new zt(e,t.valueDelimiter);this._stringData=n.prepareData(),this.saveFile(t),this.onExportEnded.emit({csvData:this._stringData})},t.prototype.saveFile=function(e){switch(e.fileType){case Ht.CSV:this.exportFile(this._stringData,e.fileName,"text/csv;charset=utf-8;");break;case Ht.TSV:case Ht.TAB:this.exportFile(this._stringData,e.fileName,"text/tab-separated-values;charset=utf-8;")}},t.prototype.exportFile=function(e,t,n){var i=new Blob(["\ufeff",e],{type:n});Mt.saveBlobToFile(i,t)},t.decorators=[{type:o.D}],t.propDecorators={onExportEnded:[{type:o.S}]},t}(Gt),Wt={RootExcelFolder:0,RootRelsExcelFolder:1,DocPropsExcelFolder:2,XLExcelFolder:3,XLRelsExcelFolder:4,ThemeExcelFolder:5,WorksheetsExcelFolder:6,WorksheetsRelsExcelFolder:7,TablesExcelFolder:8};Wt[Wt.RootExcelFolder]="RootExcelFolder",Wt[Wt.RootRelsExcelFolder]="RootRelsExcelFolder",Wt[Wt.DocPropsExcelFolder]="DocPropsExcelFolder",Wt[Wt.XLExcelFolder]="XLExcelFolder",Wt[Wt.XLRelsExcelFolder]="XLRelsExcelFolder",Wt[Wt.ThemeExcelFolder]="ThemeExcelFolder",Wt[Wt.WorksheetsExcelFolder]="WorksheetsExcelFolder",Wt[Wt.WorksheetsRelsExcelFolder]="WorksheetsRelsExcelFolder",Wt[Wt.TablesExcelFolder]="TablesExcelFolder";var Yt={RootRelsFile:0,AppFile:1,CoreFile:2,WorkbookRelsFile:3,ThemeFile:4,WorksheetFile:5,StyleFile:6,WorkbookFile:7,ContentTypesFile:8,SharedStringsFile:9,WorksheetRelsFile:10,TablesFile:11};Yt[Yt.RootRelsFile]="RootRelsFile",Yt[Yt.AppFile]="AppFile",Yt[Yt.CoreFile]="CoreFile",Yt[Yt.WorkbookRelsFile]="WorkbookRelsFile",Yt[Yt.ThemeFile]="ThemeFile",Yt[Yt.WorksheetFile]="WorksheetFile",Yt[Yt.StyleFile]="StyleFile",Yt[Yt.WorkbookFile]="WorkbookFile",Yt[Yt.ContentTypesFile]="ContentTypesFile",Yt[Yt.SharedStringsFile]="SharedStringsFile",Yt[Yt.WorksheetRelsFile]="WorksheetRelsFile",Yt[Yt.TablesFile]="TablesFile";var Ut=function(){function e(){}return e.getRels=function(){return e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>'},e.getApp=function(){return e.XML_STRING+'<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>'},e.getCore=function(){return e.XML_STRING+'<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator></dc:creator><cp:lastModifiedBy></cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">2015-06-05T18:17:20Z</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">2015-06-05T18:17:26Z</dcterms:modified></cp:coreProperties>'},e.getTheme=function(){return e.XML_STRING+'<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="5B9BD5"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="4472C4"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="\u6e38\u30b4\u30b7\u30c3\u30af Light"/><a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/><a:font script="Hans" typeface="\u7b49\u7ebf Light"/><a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="\u6e38\u30b4\u30b7\u30c3\u30af"/><a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/><a:font script="Hans" typeface="\u7b49\u7ebf"/><a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'},e.getStyles=function(t){var n=t?2:1;return e.XML_STRING+'<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"><fonts count="1" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="'+n+'"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>'},e.getWorkbook=function(){return e.XML_STRING+'<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="6" lowestEdited="6" rupBuild="14420"/><workbookPr filterPrivacy="1" defaultThemeVersion="164011"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="22260" windowHeight="12645"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="162913"/><extLst><ext uri="{140A7094-0E35-4892-8432-C4D2E57EDEB5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:workbookPr chartTrackingRefBase="1"/></ext></extLst></workbook>'},e.getWorksheetRels=function(){return e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>'},e.getWorkbookRels=function(t){var n=e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/>';return t&&(n+=e.SHARED_STRING_RELATIONSHIP),n+="</Relationships>"},e.getSheetXML=function(t,n,i,r,o,a,s){void 0===a&&(a=!1),void 0===s&&(s=0);var l=o?'<tableParts count="1"><tablePart r:id="rId1"/></tableParts>':"",c=a?'<sheetPr><outlinePr summaryBelow="0"/></sheetPr>':"",d=s>0?'outlineLevelRow="'+s+'"':"";return e.XML_STRING+'\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n'+c+'\n<dimension ref="'+t+'"/>\n<sheetViews><sheetView tabSelected="1" workbookViewId="0">'+n+'</sheetView></sheetViews>\n<sheetFormatPr defaultRowHeight="15" '+d+' x14ac:dyDescent="0.25"/>\n'+i+"\n"+r+'\n<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>\n'+l+"</worksheet>"},e.getSharedStringXML=function(t,n,i){return e.XML_STRING+'<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+t+'" uniqueCount="'+n+'">'+i+"</sst>"},e.getContentTypesXML=function(t,n){var i=e.XML_STRING+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n            <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>\n            <Default Extension="xml" ContentType="application/xml"/>\n            <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>\n            <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>\n            <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>\n            <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n            <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>\n            <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>';return i+=t?'\t<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>':"",i+=n?'<Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>':"",i+="</Types>"},e.getTablesXML=function(t,n,i){return e.XML_STRING+'<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="'+t+'" totalsRowShown="0">\n    <autoFilter ref="'+t+'"/>'+i+n+'<tableStyleInfo name="TableStyleMedium2" showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>\n</table>'},e.getExcelColumn=function(e){for(var t="";e>=0;){var n=e%26;t=String.fromCharCode(65+n)+t,e=Math.floor(e/26)-1}return t},e.XML_STRING='<?xml version="1.0" encoding="UTF-8"?>\r\n',e.SHARED_STRING_RELATIONSHIP='<Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />',e}(),Kt=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file(".rels",Ut.getRels())},e}(),$t=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("app.xml",Ut.getApp())},e}(),Xt=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("core.xml",Ut.getCore())},e}(),qt=function(){function e(){}return e.prototype.writeElement=function(e,t){var n=!1===t.isEmpty;e.file("workbook.xml.rels",Ut.getWorkbookRels(n))},e}(),Zt=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("theme1.xml",Ut.getTheme())},e}(),Qt=function(){function e(){}return e.prototype.writeElement=function(t,n){var i,r=[],o=[],a=n.dataDictionary,s="",l=0;if(n.isEmpty)r.push("<sheetData/>"),i="A1";else{r.push("<sheetData>");var c=n.options.rowHeight,d=c?' ht="'+c+'" customHeight="1"':"";r.push('<row r="1"'+d+">");for(var p=0;p<n.columnCount;p++){var u=Ut.getExcelColumn(p)+1,h=a.saveValue(n.keys[p],p,!0);r.push('<c r="'+u+'" t="s"><v>'+h+"</v></c>")}r.push("</row>");for(p=1;p<n.rowCount;p++){if(n.isTreeGridData){var g=n.data[p-1].originalRowData,f=g.expanded?!0===g.expanded?"":' collapsed="1"':"",m=g.parent&&this.hasCollapsedParent(g)?' hidden="1"':"",y=g.level?g.level:0,b=y>0?' outlineLevel="'+y+'"':"";l=l<y?y:l,r.push('<row r="'+(p+1)+'"'+d+b+f+m+">")}else r.push('<row r="'+(p+1)+'"'+d+">");for(var v=0;v<n.columnCount;v++){var x=e.getCellData(n,p,v);r.push(x)}r.push("</row>")}r.push("</sheetData>"),i="A1:"+Ut.getExcelColumn(n.columnCount-1)+n.rowCount,o.push("<cols>");for(p=0;p<n.columnCount;p++){var _=a.columnWidths[p],w=n.options.columnWidth?n.options.columnWidth:Math.max(_/96*14.4,e.MIN_WIDTH);o.push('<col min="'+(p+1)+'" max="'+(p+1)+'" width="'+w+'" customWidth="1"/>')}if(o.push("</cols>"),-1!==n.indexOfLastPinnedColumn&&!n.options.ignorePinning&&!n.options.ignoreColumnsOrder){var C=n.indexOfLastPinnedColumn+1;s='<pane xSplit="'+C+'" topLeftCell="'+(Ut.getExcelColumn(C)+"1")+'" activePane="topRight" state="frozen"/>'}}var S=!n.isEmpty&&n.options.exportAsTable;t.file("sheet1.xml",Ut.getSheetXML(i,s,o.join(""),r.join(""),S,n.isTreeGridData,l))},e.prototype.hasCollapsedParent=function(e){for(var t=!e.parent.expanded;e.parent;)t=t||!e.parent.expanded,e=e.parent;return t},e.getCellData=function(e,t,n){var i=e.dataDictionary,r=Ut.getExcelColumn(n)+(t+1),o=e.keys[n],a=e.data[t-1].rowData,s=e.isSpecialData?a:a[o];if(null==s)return'<c r="'+r+'" s="1"/>';var l=i.saveValue(s,n,!1),c=-1!==l;return'<c r="'+r+'"'+(c?' t="s"':"")+(c?"":' s="1"')+"><v>"+(c?l:s)+"</v></c>"},e.MIN_WIDTH=8.34,e}(),Jt=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("styles.xml",Ut.getStyles(t.dataDictionary&&t.dataDictionary.hasNonStringValues))},e}(),en=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("workbook.xml",Ut.getWorkbook())},e}(),tn=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("[Content_Types].xml",Ut.getContentTypesXML(!t.isEmpty,t.options.exportAsTable))},e}(),nn=function(){function e(){}return e.prototype.writeElement=function(e,t){var n,i,o=t.dataDictionary,a=o.getKeys(),s=new Array(a.length);try{for(var l=Object(r.j)(a),c=l.next();!c.done;c=l.next()){var d=c.value;s[o.getSanitizedValue(d)]="<si><t>"+d+"</t></si>"}}catch(p){n={error:p}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}e.file("sharedStrings.xml",Ut.getSharedStringXML(o.stringsCount,a.length,s.join("")))},e}(),rn=function(){function e(){}return e.prototype.writeElement=function(e,t){for(var n=t.columnCount,i=Ut.getExcelColumn(n-1)+t.rowCount,r="A1:"+i,o=t.keys,a="",s='<tableColumns count="'+n+'">',l=0;l<n;l++){s+='<tableColumn id="'+(l+1)+'" name="'+o[l]+'"/>'}if(s+="</tableColumns>",t.sort){var c=t.sort,d=Ut.getExcelColumn(o.indexOf(c.fieldName));a='<sortState ref="A2:'+i+'"><sortCondition descending="'+(c.dir-1)+'" ref="'+d+"1:"+d+'15"/></sortState>'}e.file("table1.xml",Ut.getTablesXML(r,s,a))},e}(),on=function(){function e(){}return e.prototype.writeElement=function(e,t){e.file("sheet1.xml.rels",Ut.getWorksheetRels())},e}(),an=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return""},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Yt.ContentTypesFile]},e.prototype.childFolders=function(e){return[Wt.RootRelsExcelFolder,Wt.DocPropsExcelFolder,Wt.XLExcelFolder]},e}(),sn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"_rels"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Yt.RootRelsFile]},e.prototype.childFolders=function(e){return[]},e}(),ln=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"docProps"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Yt.AppFile,Yt.CoreFile]},e.prototype.childFolders=function(e){return[]},e}(),cn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"xl"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){var t=[Yt.StyleFile,Yt.WorkbookFile];return e.isEmpty||t.push(Yt.SharedStringsFile),t},e.prototype.childFolders=function(e){var t=[Wt.XLRelsExcelFolder,Wt.ThemeExcelFolder,Wt.WorksheetsExcelFolder];return!e.isEmpty&&e.options.exportAsTable&&t.push(Wt.TablesExcelFolder),t},e}(),dn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"_rels"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Yt.WorkbookRelsFile]},e.prototype.childFolders=function(e){return[]},e}(),pn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"theme"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Yt.ThemeFile]},e.prototype.childFolders=function(e){return[]},e}(),un=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"worksheets"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Yt.WorksheetFile]},e.prototype.childFolders=function(e){return e.isEmpty||!e.options.exportAsTable?[]:[Wt.WorksheetsRelsExcelFolder]},e}(),hn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"tables"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Yt.TablesFile]},e.prototype.childFolders=function(e){return[]},e}(),gn=function(){function e(){}return Object.defineProperty(e.prototype,"folderName",{get:function(){return"_rels"},enumerable:!0,configurable:!0}),e.prototype.childFiles=function(e){return[Yt.WorksheetRelsFile]},e.prototype.childFolders=function(e){return[]},e}(),fn=function(){function e(){}return e.getExcelFolder=function(e){switch(e){case Wt.RootExcelFolder:return new an;case Wt.RootRelsExcelFolder:return new sn;case Wt.DocPropsExcelFolder:return new ln;case Wt.XLExcelFolder:return new cn;case Wt.XLRelsExcelFolder:return new dn;case Wt.ThemeExcelFolder:return new pn;case Wt.WorksheetsExcelFolder:return new un;case Wt.WorksheetsRelsExcelFolder:return new gn;case Wt.TablesExcelFolder:return new hn;default:throw new Error("Unknown excel folder type!")}},e.getExcelFile=function(e){switch(e){case Yt.RootRelsFile:return new Kt;case Yt.AppFile:return new $t;case Yt.CoreFile:return new Xt;case Yt.WorkbookRelsFile:return new qt;case Yt.ThemeFile:return new Zt;case Yt.WorksheetFile:return new Qt;case Yt.StyleFile:return new Jt;case Yt.WorkbookFile:return new en;case Yt.ContentTypesFile:return new tn;case Yt.SharedStringsFile:return new nn;case Yt.WorksheetRelsFile:return new on;case Yt.TablesFile:return new rn;default:throw Error("Unknown excel file type!")}},e}(),mn=function(){function e(e,t){this.hasNonStringValues=!1,this._dictionary={},this._widthsDictionary={},this._counter=0,this.dirtyKeyCollections(),this._calculateColumnWidth=!t,this._columnWidths=new Array(e),this._columnTypeInfo=new Array(e),this._calculateColumnWidth||this._columnWidths.fill(t),this.stringsCount=0}return Object.defineProperty(e.prototype,"columnWidths",{get:function(){return this._columnWidths},enumerable:!0,configurable:!0}),e.prototype.saveValue=function(e,t,n){void 0===this._columnTypeInfo[t]&&!1===n&&(this._columnTypeInfo[t]="string"==typeof e||"boolean"==typeof e||e instanceof Date);var i="",r=this._columnTypeInfo[t]||n;if(r?(i=this.sanitizeValue(e),void 0===this._dictionary[i]&&(this._dictionary[i]=this._counter++,this.dirtyKeyCollections()),this.stringsCount++):this.hasNonStringValues=!0,this._calculateColumnWidth){var o=this.getTextWidth(e),a=Math.max(this._columnWidths[t]||0,o);this._columnWidths[t]=a}return r?this.getSanitizedValue(i):-1},e.prototype.getValue=function(e){return this.getSanitizedValue(this.sanitizeValue(e))},e.prototype.getSanitizedValue=function(e){return this._dictionary[e]},e.prototype.getKeys=function(){return this._keysAreValid||(this._keys=Object.keys(this._dictionary),this._keysAreValid=!0),this._keys},e.prototype.getTextWidth=function(t){if(void 0===this._widthsDictionary[t]){var n=this.getContext().measureText(t);this._widthsDictionary[t]=n.width+e.TEXT_PADDING}return this._widthsDictionary[t]},e.prototype.getContext=function(){if(!this._context){var t=document.createElement("canvas");this._context=t.getContext("2d"),this._context.font=e.DEFAULT_FONT}return this._context},e.prototype.sanitizeValue=function(e){return!1===Mt.hasValue(e)?"":String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},e.prototype.dirtyKeyCollections=function(){this._keysAreValid=!1},e.DEFAULT_FONT="11pt Calibri",e.TEXT_PADDING=5,e}(),yn=function(){function e(e,t,n,i,r){void 0===r&&(r=!1),this._data=e,this.options=t,this.indexOfLastPinnedColumn=n,this.sort=i,this.isTreeGridData=r,this.initializeData()}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnCount",{get:function(){return this._columnCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowCount",{get:function(){return this._rowCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this.rowCount||!this._columnCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return this._keys},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpecialData",{get:function(){return this._isSpecialData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataDictionary",{get:function(){return this._dataDictionary},enumerable:!0,configurable:!0}),e.prototype.initializeData=function(){if(this._data&&0!==this._data.length){var e=this._data.map(function(e){return e.rowData});this._keys=Mt.getKeysFromData(e),0!==this._keys.length&&(this._isSpecialData=Mt.isSpecialData(e),this._columnCount=this._keys.length,this._rowCount=this._data.length+1,this._dataDictionary=new mn(this._columnCount,this.options.columnWidth))}},e}(),bn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onExportEnded=new o.x,t}return Object(r.d)(t,e),t.populateFolder=function(e,n,i){var o,a,s,l;try{for(var c=Object(r.j)(e.childFolders(i)),d=c.next();!d.done;d=c.next()){var p=d.value,u=fn.getExcelFolder(p),h=n.folder(u.folderName);t.populateFolder(u,h,i)}}catch(y){o={error:y}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}try{for(var g=Object(r.j)(e.childFiles(i)),f=g.next();!f.done;f=g.next()){var m=f.value;fn.getExcelFile(m).writeElement(n,i)}}catch(b){s={error:b}}finally{try{f&&!f.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}},t.prototype.exportDataImplementation=function(e,n){var i=this;if(this._isTreeGrid){var r=0;if(e.forEach(function(e){r=Math.max(r,e.originalRowData.level)}),r>7)throw Error("Can create an outline of up to eight levels!")}var o=new yn(e,n,this._indexOfLastPinnedColumn,this._sort,this._isTreeGrid);this._xlsx=new le;var a=fn.getExcelFolder(Wt.RootExcelFolder);t.populateFolder(a,this._xlsx,o),this._xlsx.generateAsync(t.ZIP_OPTIONS).then(function(e){i.saveFile(e,n.fileName),i.onExportEnded.emit({xlsx:i._xlsx})})},t.prototype.saveFile=function(e,t){var n=new Blob([Mt.stringToArrayBuffer(atob(e))],{type:""});Mt.saveBlobToFile(n,t)},t.ZIP_OPTIONS={compression:"DEFLATE",type:"base64"},t.decorators=[{type:o.D}],t.propDecorators={onExportEnded:[{type:o.S}]},t}(Gt),vn=function(e){function t(t){var n=e.call(this,t,".xlsx")||this;return n.ignorePinning=!1,n.exportAsTable=!0,n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"columnWidth",{get:function(){return this._columnWidth},set:function(e){if(e<0)throw Error("Invalid value for column width!");this._columnWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeight",{get:function(){return this._rowHeight},set:function(e){if(e<0)throw Error("Invalid value for row height!");this._rowHeight=e},enumerable:!0,configurable:!0}),t}(Vt),xn={Left:-1,Center:-.5,Right:0};xn[xn.Left]="Left",xn[xn.Center]="Center",xn[xn.Right]="Right";var _n={Top:-1,Middle:-.5,Bottom:0};_n[_n.Top]="Top",_n[_n.Middle]="Middle",_n[_n.Bottom]="Bottom";var wn=function(){return function(e,t){this.x=e,this.y=t}}(),Cn=function(){function e(){}return e.getTargetRect=function(e){var t={bottom:0,height:0,left:0,right:0,top:0,width:0};if(e.target instanceof HTMLElement)t=e.target.getBoundingClientRect();else if(e.target instanceof wn){var n=e.target;t={bottom:n.y,height:0,left:n.x,right:n.x,top:n.y,width:0}}return t},e.getViewportRect=function(t){var n=t.documentElement.clientWidth,i=t.documentElement.clientHeight,r=e.getViewportScrollPosition(t);return{top:r.y,left:r.x,right:r.x+n,bottom:r.y+i,width:n,height:i}},e.getViewportScrollPosition=function(e){var t=e.documentElement,n=t.getBoundingClientRect(),i=-n.left||e.body.scrollLeft||window.scrollX||t.scrollLeft||0,r=-n.top||e.body.scrollTop||window.scrollY||t.scrollTop||0;return new wn(i,r)},e.cloneInstance=function(e){var t=Object.assign(Object.create(Object.getPrototypeOf(e)),e);return t.settings=rt(t.settings),t},e}(),Sn=function(){function e(e){this._defaultSettings={horizontalDirection:xn.Center,verticalDirection:_n.Middle,horizontalStartPoint:xn.Center,verticalStartPoint:_n.Middle,openAnimation:be,closeAnimation:ve,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,e)}return e.prototype.position=function(e,t,n,i){switch(e.classList.add("igx-overlay__content--relative"),e.parentElement.classList.add("igx-overlay__wrapper--flex"),this.settings.horizontalDirection){case xn.Left:e.parentElement.style.justifyContent="flex-start";break;case xn.Center:e.parentElement.style.justifyContent="center";break;case xn.Right:e.parentElement.style.justifyContent="flex-end"}switch(this.settings.verticalDirection){case _n.Top:e.parentElement.style.alignItems="flex-start";break;case _n.Middle:e.parentElement.style.alignItems="center";break;case _n.Bottom:e.parentElement.style.alignItems="flex-end"}},e.prototype.clone=function(){return Cn.cloneInstance(this)},e}(),Dn=function(){return function(e){}}(),On=function(e){function t(t){return e.call(this,t)||this}return Object(r.d)(t,e),t.prototype.initialize=function(e,t,n){},t.prototype.attach=function(){},t.prototype.detach=function(){},t}(Dn);function In(e){var t=!1;return function(n,i,r){if(r&&r.value){var o=r.value;return r.value=function(){var r="function"==typeof n?n.name:n.constructor.name;return t=Pn(r+"."+i+": "+e,t),o.call(this,arguments)},r}}}function kn(e){return function(t,n){var i,r,o=!1,a=t.constructor.name+"."+n+": "+e,s=Object.getOwnPropertyDescriptor(t,n);if(s)return i=s.get,r=s.set,i&&(s.get=function(){return o=Pn(a,o),i.call(this)}),r&&(s.set=function(e){o=Pn(a,o),r.call(this,e)}),s;var l=function(e,t){var n="_"+t;for(;e.hasOwnProperty(n);)n="_"+n;return n}(t,n);Object.defineProperty(t,n,{configurable:!0,enumerable:!0,set:function(e){o=Pn(a,o),this[l]=e},get:function(){return o=Pn(a,o),this[l]}})}}function Pn(e,t){return!t&&Object(o.yb)()&&console.warn(e),!0}var En=!1,Tn=function(){function e(e,t,n,i,r,a){var s=this;this._factoryResolver=e,this._appRef=t,this._injector=n,this.builder=i,this.document=r,this._zone=a,this._componentId=0,this._overlayInfos=[],this.destroy$=new E.a,this._defaultSettings={positionStrategy:new Sn,scrollStrategy:new On,modal:!0,closeOnOutsideClick:!0},this.onOpening=new o.x,this.onOpened=new o.x,this.onClosing=new o.x,this.onClosed=new o.x,this.onAnimation=new o.x,this.documentClicked=function(e){for(var t=s._overlayInfos.length;t--;){var n=s._overlayInfos[t];if(n.settings.modal)return;if(n.settings.closeOnOutsideClick){var i=e.target;if(n.elementRef.nativeElement.contains(i))return;var r=n.settings.positionStrategy.settings.target,o=!1;r&&(o=r.contains(i)),n.settings.excludePositionTarget&&o||n.closeAnimationPlayer&&n.closeAnimationPlayer.hasStarted()||s._hide(n.id,e)}}},this.repositionAll=function(){for(var e=s._overlayInfos.length;e--;)s.reposition(s._overlayInfos[e].id)},this._document=this.document}return e.prototype.attach=function(e,t,n){var i;return(i=this.getOverlayInfo(e,n))?(i.id=(this._componentId++).toString(),t=Object.assign({},this._defaultSettings,t),i.settings=t,this._overlayInfos.push(i),i.id):null},e.prototype.show=function(e,t){var n,i;if("string"==typeof e){if(i=e,!(n=this.getOverlayById(e)))return console.warn("igxOverlay.show was called with wrong id: "+e),null}else{if(En=Pn("`show(component, settings?)` overload is deprecated. Use `attach(component)` to obtain an Id.Then `show(id, settings?)` with provided Id.",En),i=(this._componentId++).toString(),!(n=this.getOverlayInfo(e)))return;n.id=i}return t=Object.assign({},this._defaultSettings,n.settings,t),n.settings=t,this._show(n),i},e.prototype.hide=function(e){this._hide(e)},e.prototype.hideAll=function(){for(var e=this._overlayInfos.length;e--;)this.hide(this._overlayInfos[e].id)},e.prototype.reposition=function(e){var t=this.getOverlayById(e);if(t&&t.settings){var n=t.elementRef.nativeElement.parentElement,i=n.getBoundingClientRect();t.settings.positionStrategy.position(n,{width:i.width,height:i.height},this._document,!1)}else console.error("Wrong id provided in overlay.reposition method. Id: "+e)},e.prototype._show=function(e){var t={id:e.id,componentRef:e.componentRef,cancel:!1};if(this.onOpening.emit(t),t.cancel)e.componentRef&&(this._appRef.detachView(e.componentRef.hostView),e.componentRef.destroy());else{if(!e.closeAnimationPlayer||e.closeAnimationPlayer&&!e.closeAnimationPlayer.hasStarted()){var n=e.elementRef.nativeElement.getBoundingClientRect();e.initialSize={width:n.width,height:n.height},e.hook=this.placeElementHook(e.elementRef.nativeElement),this.moveElementToOverlay(e),e.componentRef&&e.componentRef.changeDetectorRef.detectChanges(),this.updateSize(e),-1===this._overlayInfos.indexOf(e)&&this._overlayInfos.push(e),e.settings.positionStrategy.position(e.elementRef.nativeElement.parentElement,{width:e.initialSize.width,height:e.initialSize.height},document,!0),e.settings.scrollStrategy.initialize(this._document,this,e.id),e.settings.scrollStrategy.attach()}this.addOutsideClickListener(e),this.addResizeHandler(e.id),e.settings.modal&&this.setupModalWrapper(e),e.settings.positionStrategy.settings.openAnimation?this.playOpenAnimation(e):(e.elementRef.nativeElement.parentElement.style.visibility="",this.onOpened.emit({id:e.id,componentRef:e.componentRef}))}},e.prototype._hide=function(e,t){var n=this.getOverlayById(e);if(n){var i={id:e,componentRef:n.componentRef,cancel:!1,event:t};if(this.onClosing.emit(i),!i.cancel){n.settings.scrollStrategy.detach(),this.removeOutsideClickListener(n),this.removeResizeHandler(n.id);var r=n.elementRef.nativeElement;if(n.settings.modal){var o=r.parentNode.parentNode;this.applyAnimationParams(o,n.settings.positionStrategy.settings.closeAnimation),o.classList.remove("igx-overlay__wrapper--modal"),o.classList.add("igx-overlay__wrapper")}n.settings.positionStrategy.settings.closeAnimation?this.playCloseAnimation(n):this.onCloseDone(n)}}else console.warn("igxOverlay.hide was called with wrong id: "+e)},e.prototype.getOverlayInfo=function(e,t){var n={ngZone:this._zone};if(e instanceof o.u)n.elementRef=e;else{var i=void 0,r=t?t.componentFactoryResolver:this._factoryResolver;try{i=r.resolveComponentFactory(e)}catch(c){return console.error(c),null}var a=t?t.injector:this._injector,s=i.create(a);this._appRef.attachView(s.hostView);var l=s.location.nativeElement;n.elementRef={nativeElement:l},n.componentRef=s}return n},e.prototype.placeElementHook=function(e){if(!e.parentElement)return null;var t=this._document.createElement("div");return e.parentElement.insertBefore(t,e),t},e.prototype.moveElementToOverlay=function(e){var t=this.getWrapperElement(),n=this.getContentElement(t,e.settings.modal);this.getOverlayElement(e).appendChild(t);var i=e.elementRef.nativeElement.scrollTop;n.appendChild(e.elementRef.nativeElement),i&&(e.elementRef.nativeElement.scrollTop=i)},e.prototype.getWrapperElement=function(){var e=this._document.createElement("div");return e.classList.add("igx-overlay__wrapper"),e},e.prototype.getContentElement=function(e,t){var n=this._document.createElement("div");return t?(n.classList.add("igx-overlay__content--modal"),n.addEventListener("click",function(e){e.stopPropagation()})):n.classList.add("igx-overlay__content"),n.addEventListener("scroll",function(e){e.stopPropagation()}),n.style.visibility="hidden",e.appendChild(n),n},e.prototype.getOverlayElement=function(e){return e.settings.outlet?e.settings.outlet.nativeElement:(this._overlayElement||(this._overlayElement=this._document.createElement("div"),this._overlayElement.classList.add("igx-overlay"),this._document.body.appendChild(this._overlayElement)),this._overlayElement)},e.prototype.updateSize=function(e){e.componentRef&&(e.initialSize=e.elementRef.nativeElement.getBoundingClientRect()),0!==e.initialSize.width&&(e.elementRef.nativeElement.parentElement.style.width=e.initialSize.width+"px")},e.prototype.setupModalWrapper=function(e){var t=this,n=e.elementRef.nativeElement.parentElement.parentElement;Object(T.a)(n,"keydown").pipe(Object(B.a)(function(e){return"Escape"===e.key||"Esc"===e.key}),Object(H.a)(this.destroy$)).subscribe(function(){return t.hide(e.id)}),n.classList.remove("igx-overlay__wrapper"),this.applyAnimationParams(n,e.settings.positionStrategy.settings.openAnimation),n.classList.add("igx-overlay__wrapper--modal")},e.prototype.onCloseDone=function(e){this.cleanUp(e),this.onClosed.emit({id:e.id,componentRef:e.componentRef})},e.prototype.cleanUp=function(e){var t=e.elementRef.nativeElement,n=this.getOverlayElement(e);if(n.contains(t)){n.removeChild(t.parentNode.parentNode),e.componentRef&&(this._appRef.detachView(e.componentRef.hostView),e.componentRef.destroy()),e.hook&&(e.hook.parentElement.insertBefore(e.elementRef.nativeElement,e.hook),e.hook.parentElement.removeChild(e.hook));var i=this._overlayInfos.indexOf(e);this._overlayInfos.splice(i,1),0===this._overlayInfos.length&&this._overlayElement&&this._overlayElement.parentElement&&(this._overlayElement.parentElement.removeChild(this._overlayElement),this._overlayElement=null)}else console.warn("Component with id:"+e.id+" is already removed!")},e.prototype.playOpenAnimation=function(e){var t=this;if(!e.openAnimationPlayer){var n=this.builder.build(e.settings.positionStrategy.settings.openAnimation);e.openAnimationPlayer=n.create(e.elementRef.nativeElement);var i=e.openAnimationPlayer._renderer;e.openAnimationInnerPlayer=i.engine.players[i.engine.players.length-1],e.openAnimationPlayer.onDone(function(){t.onOpened.emit({id:e.id,componentRef:e.componentRef}),e.openAnimationPlayer&&(e.openAnimationPlayer.reset(),e.openAnimationPlayer=null),e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()&&e.closeAnimationPlayer.reset()})}if(!e.openAnimationPlayer.hasStarted()){if(e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()){var r=1-e.closeAnimationInnerPlayer.getPosition();e.closeAnimationPlayer.reset(),e.closeAnimationPlayer=null,e.openAnimationPlayer.init(),e.openAnimationPlayer.setPosition(r)}this.onAnimation.emit({id:e.id,animationPlayer:e.openAnimationPlayer,animationType:"open"}),e.elementRef.nativeElement.parentElement.style.visibility="",e.openAnimationPlayer.play()}},e.prototype.playCloseAnimation=function(e){var t=this;if(!e.closeAnimationPlayer){var n=this.builder.build(e.settings.positionStrategy.settings.closeAnimation);e.closeAnimationPlayer=n.create(e.elementRef.nativeElement);var i=e.closeAnimationPlayer._renderer;e.closeAnimationInnerPlayer=i.engine.players[i.engine.players.length-1],e.closeAnimationPlayer.onDone(function(){e.closeAnimationPlayer&&(e.closeAnimationPlayer.reset(),e.closeAnimationPlayer=null),e.openAnimationPlayer&&e.openAnimationPlayer.hasStarted()&&e.openAnimationPlayer.reset(),t.onCloseDone(e)})}if(!e.closeAnimationPlayer.hasStarted()){if(e.openAnimationPlayer&&e.openAnimationPlayer.hasStarted()){var r=1-e.openAnimationInnerPlayer.getPosition();e.openAnimationPlayer.reset(),e.openAnimationPlayer=null,e.closeAnimationPlayer.init(),e.closeAnimationPlayer.setPosition(r)}this.onAnimation.emit({id:e.id,animationPlayer:e.closeAnimationPlayer,animationType:"close"}),e.closeAnimationPlayer.play()}},e.prototype.applyAnimationParams=function(e,t){if(t){if(10===t.type&&(t=t.animation),t.options&&t.options.params){var n=t.options.params;n.duration&&(e.style.transitionDuration=n.duration),n.easing&&(e.style.transitionTimingFunction=n.easing)}}else e.style.transitionDuration="0ms"},e.prototype.getOverlayById=function(e){return e?this._overlayInfos.find(function(t){return t.id===e}):null},e.prototype.addOutsideClickListener=function(e){var t=this;e.settings.closeOnOutsideClick&&(e.settings.modal?Object(T.a)(e.elementRef.nativeElement.parentElement.parentElement,"click").pipe(Object(H.a)(this.destroy$)).subscribe(function(){return t.hide(e.id)}):this._overlayInfos.filter(function(e){return e.settings.closeOnOutsideClick&&!e.settings.modal}).length-this._overlayInfos.filter(function(e){return e.settings.closeOnOutsideClick&&!e.settings.modal&&e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()}).length==1&&this._document.addEventListener("click",this.documentClicked,!0))},e.prototype.removeOutsideClickListener=function(e){if(!1===e.settings.modal){var t=!0;this._overlayInfos.forEach(function(n){!1===n.settings.modal&&n.id!==e.id&&(t=!1)}),t&&this._document.removeEventListener("click",this.documentClicked,!0)}},e.prototype.addResizeHandler=function(e){var t=this._overlayInfos.filter(function(e){return e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()}).length;this._overlayInfos.length-t==1&&this._document.defaultView.addEventListener("resize",this.repositionAll)},e.prototype.removeResizeHandler=function(e){var t=this._overlayInfos.filter(function(e){return e.closeAnimationPlayer&&e.closeAnimationPlayer.hasStarted()}).length;this._overlayInfos.length-t==1&&this._document.defaultView.removeEventListener("resize",this.repositionAll)},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.decorators=[{type:o.D,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:o.p},{type:o.g},{type:o.F},{type:P.b},{type:void 0,decorators:[{type:o.C,args:[a.c]}]},{type:o.Q}]},e.ngInjectableDef=Object(o.nc)({factory:function(){return new e(Object(o.rc)(o.p),Object(o.rc)(o.g),Object(o.rc)(o.B),Object(o.rc)(P.b),Object(o.rc)(a.c),Object(o.rc)(o.Q))},token:e,providedIn:"root"}),e}(),An=function(){function e(e){this._defaultSettings={target:null,horizontalDirection:xn.Right,verticalDirection:_n.Bottom,horizontalStartPoint:xn.Left,verticalStartPoint:_n.Bottom,openAnimation:Fe,closeAnimation:Me,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,e)}return e.prototype.position=function(e,t,n,i){var r=Cn.getTargetRect(this.settings),o=e.getBoundingClientRect();this.setStyle(e,r,o)},e.prototype.clone=function(){return Cn.cloneInstance(this)},e.prototype.setStyle=function(e,t,n){var i=t.right+t.width*this.settings.horizontalStartPoint,r=t.bottom+t.height*this.settings.verticalStartPoint,o=e.parentElement.getBoundingClientRect();switch(e.style.right="",e.style.left="",e.style.bottom="",e.style.top="",this.settings.horizontalDirection){case xn.Left:e.style.right=Math.round(o.right-i)+"px";break;case xn.Center:e.style.left=Math.round(i-o.left-n.width/2)+"px";break;case xn.Right:e.style.left=Math.round(i-o.left)+"px"}switch(this.settings.verticalDirection){case _n.Top:e.style.bottom=Math.round(o.bottom-r)+"px";break;case _n.Middle:e.style.top=Math.round(r-o.top-n.height/2)+"px";break;case _n.Bottom:e.style.top=Math.round(r-o.top)+"px"}},e}(),Rn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.position=function(e,t,n,i){var r=Cn.getTargetRect(this.settings),o=e.getBoundingClientRect();if(i){var a={};a.targetRect=r,a.contentElementRect=o,this._initialSettings=this._initialSettings||Object.assign({},this.settings),this.settings=Object.assign({},this._initialSettings),a.viewPortRect=Cn.getViewportRect(n),this.updateViewPortFit(a),a.fitHorizontal&&a.fitVertical||this.fitInViewport(e,a)}this.setStyle(e,r,o)},t.prototype.updateViewPortFit=function(e){e.left=this.calculateLeft(e.targetRect,e.contentElementRect,this.settings.horizontalStartPoint,this.settings.horizontalDirection),e.right=e.left+e.contentElementRect.width,e.fitHorizontal=e.viewPortRect.left<e.left&&e.right<e.viewPortRect.right,e.top=this.calculateTop(e.targetRect,e.contentElementRect,this.settings.verticalStartPoint,this.settings.verticalDirection),e.bottom=e.top+e.contentElementRect.height,e.fitVertical=e.viewPortRect.top<e.top&&e.bottom<e.viewPortRect.bottom},t.prototype.calculateLeft=function(e,t,n,i){return e.right+e.width*n+t.width*i},t.prototype.calculateTop=function(e,t,n,i){return e.bottom+e.height*n+t.height*i},t}(An),jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.fitInViewport=function(e,t){var n=[];if(!t.fitHorizontal)if(this.canFlipHorizontal(t))this.flipHorizontal();else{var i=this.horizontalPush(t);n.push("translateX("+i+"px)")}if(!t.fitVertical)if(this.canFlipVertical(t))this.flipVertical();else{var r=this.verticalPush(t);n.push("translateY("+r+"px)")}e.style.transform=n.join(" ").trim()},t.prototype.canFlipHorizontal=function(e){var t=-1*(this.settings.horizontalStartPoint+1),n=-1*(this.settings.horizontalDirection+1),i=this.calculateLeft(e.targetRect,e.contentElementRect,t,n),r=i+e.contentElementRect.width;return e.viewPortRect.left<i&&r<e.viewPortRect.right},t.prototype.canFlipVertical=function(e){var t=-1*(this.settings.verticalStartPoint+1),n=-1*(this.settings.verticalDirection+1),i=this.calculateTop(e.targetRect,e.contentElementRect,t,n),r=i+e.contentElementRect.height;return e.viewPortRect.top<i&&r<e.viewPortRect.bottom},t.prototype.flipHorizontal=function(){switch(this.settings.horizontalDirection){case xn.Left:this.settings.horizontalDirection=xn.Right;break;case xn.Right:this.settings.horizontalDirection=xn.Left}switch(this.settings.horizontalStartPoint){case xn.Left:this.settings.horizontalStartPoint=xn.Right;break;case xn.Right:this.settings.horizontalStartPoint=xn.Left}},t.prototype.flipVertical=function(){switch(this.settings.verticalDirection){case _n.Top:this.settings.verticalDirection=_n.Bottom;break;case _n.Bottom:this.settings.verticalDirection=_n.Top}switch(this.settings.verticalStartPoint){case _n.Top:this.settings.verticalStartPoint=_n.Bottom;break;case _n.Bottom:this.settings.verticalStartPoint=_n.Top}},t.prototype.horizontalPush=function(e){var t=e.left,n=e.right-e.viewPortRect.right;return t<0?Math.abs(t):n>0?-Math.min(n,t):0},t.prototype.verticalPush=function(e){var t=e.top,n=e.bottom-e.viewPortRect.bottom;return t<0?Math.abs(t):n>0?-Math.min(n,t):0},t}(Rn),Fn=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(r.d)(t,e),t.prototype.fitInViewport=function(e,t){e.classList.add("igx-overlay__content--elastic");var n=[];if(!t.fitHorizontal){var i=Math.max(0,t.contentElementRect.width-this.settings.minSize.width),r=Math.max(0,t.viewPortRect.left-t.left),o=Math.max(0,t.right-t.viewPortRect.right),a=Math.min(i,r+o);if(e.style.width=t.contentElementRect.width-a+"px",this.settings.horizontalDirection===xn.Center)(s=r*a/(r+o))>0&&n.push("translateX("+s+"px)")}if(!t.fitVertical){i=Math.max(0,t.contentElementRect.height-this.settings.minSize.height);var s,l=Math.max(0,t.viewPortRect.top-t.top),c=Math.max(0,t.bottom-t.viewPortRect.bottom);a=Math.min(i,l+c);if(e.style.height=t.contentElementRect.height-a+"px",this.settings.verticalDirection===_n.Middle)(s=l*a/(l+c))>0&&n.push("translateY("+s+"px)")}e.style.transform=n.join(" ").trim()}}(Rn),function(e){function t(t){var n=e.call(this,t)||this;return n._initialized=!1,n.onScroll=function(){n._overlayService.repositionAll()},n._scrollContainer=t,n}return Object(r.d)(t,e),t.prototype.initialize=function(e,t,n){this._initialized||(this._overlayService=t,this._id=n,this._document=e,this._zone=t.getOverlayById(n).ngZone,this._initialized=!0)},t.prototype.attach=function(){var e=this;this._zone?this._zone.runOutsideAngular(function(){e.addScrollEventListener()}):this.addScrollEventListener()},t.prototype.detach=function(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll,!0):this._document.removeEventListener("scroll",this.onScroll,!0),this._initialized=!1},t.prototype.addScrollEventListener=function(){this._scrollContainer?this._scrollContainer.addEventListener("scroll",this.onScroll,!0):this._document.addEventListener("scroll",this.onScroll,!0)},t}(Dn)),Ln=(function(e){function t(t){var n=e.call(this,t)||this;return n._initialized=!1,n.onScroll=function(e){e.preventDefault(),n._sourceElement&&n._sourceElement===e.target||(n._sourceElement=e.target,n._initialScrollTop=n._sourceElement.scrollTop,n._initialScrollLeft=n._sourceElement.scrollLeft),n._sourceElement.scrollTop=n._initialScrollTop,n._sourceElement.scrollLeft=n._initialScrollLeft},n}Object(r.d)(t,e),t.prototype.initialize=function(e,t,n){this._initialized||(this._document=e,this._initialized=!0)},t.prototype.attach=function(){this._document.addEventListener("scroll",this.onScroll,!0),this._document.addEventListener("wheel",this.onWheel,!0)},t.prototype.detach=function(){this._document.removeEventListener("scroll",this.onScroll,!0),this._document.removeEventListener("wheel",this.onWheel,!0),this._sourceElement=null,this._initialScrollTop=0,this._initialScrollLeft=0,this._initialized=!1},t.prototype.onWheel=function(e){e.stopImmediatePropagation(),e.preventDefault()}}(Dn),function(e){function t(t){var n=e.call(this,t)||this;return n._initialized=!1,n.onScroll=function(e){n._sourceElement&&(n.cumulativeScrollTop+=n._sourceElement.scrollTop,n.cumulativeScrollLeft+=n._sourceElement.scrollLeft,(Math.abs(n.cumulativeScrollTop-n.initialScrollTop)>n._threshold||Math.abs(n.cumulativeScrollLeft-n.initialScrollLeft)>n._threshold)&&(n._document.removeEventListener("scroll",n.onScroll,!0),n._overlayService.hide(n._id)))},n._scrollContainer=t,n._threshold=10,n.cumulativeScrollTop=0,n.cumulativeScrollLeft=0,n}return Object(r.d)(t,e),t.prototype.initialize=function(e,t,n){this._initialized||(this._overlayService=t,this._id=n,this._document=e,this._initialized=!0)},t.prototype.attach=function(){this._scrollContainer?(this._scrollContainer.addEventListener("scroll",this.onScroll),this._sourceElement=this._scrollContainer):(this._document.addEventListener("scroll",this.onScroll),document.documentElement.scrollHeight>document.documentElement.clientHeight?this._sourceElement=document.documentElement:document.body.scrollHeight>document.body.clientHeight&&(this._sourceElement=document.body)),this._sourceElement&&(this.cumulativeScrollTop=0,this.cumulativeScrollLeft=0,this.initialScrollTop=this._sourceElement.scrollTop,this.initialScrollLeft=this._sourceElement.scrollLeft)},t.prototype.detach=function(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll):this._document.removeEventListener("scroll",this.onScroll),this._sourceElement=null,this.cumulativeScrollTop=0,this.cumulativeScrollLeft=0,this.initialScrollTop=0,this.initialScrollLeft=0,this._initialized=!1},t}(Dn)),Mn=function(){function e(){this._isPending=!1,this._pendingTransactions=[],this._pendingStates=new Map,this.onStateUpdate=new o.x}return Object.defineProperty(e.prototype,"canRedo",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canUndo",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._isPending},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t){this._isPending&&(this.updateState(this._pendingStates,e,t),this._pendingTransactions.push(e))},e.prototype.getTransactionLog=function(e){return[]},e.prototype.undo=function(){},e.prototype.redo=function(){},e.prototype.getAggregatedChanges=function(e){var t=this,n=[];return this._pendingStates.forEach(function(i,r){var o=e?t.getAggregatedValue(r,e):i.value;n.push({id:r,newValue:o,type:i.type})}),n},e.prototype.getState=function(e){return this._pendingStates.get(e)},e.prototype.getAggregatedValue=function(e,t){var n=this._pendingStates.get(e);return n?t?this.updateValue(n):n.value:null},e.prototype.commit=function(e,t){},e.prototype.clear=function(e){this._pendingStates.clear(),this._pendingTransactions=[]},e.prototype.startPending=function(){this._isPending=!0},e.prototype.endPending=function(e){this._isPending=!1,this._pendingStates.clear(),this._pendingTransactions=[]},e.prototype.updateState=function(e,t,n){var i=e.get(t.id);i?ot(i.value)?it(i.value,t.newValue):i.value=t.newValue:(i={value:rt(t.newValue),recordRef:n,type:t.type},e.set(t.id,i))},e.prototype.updateValue=function(e){return this.mergeValues(e.recordRef,e.value)},e.prototype.mergeValues=function(e,t){return ot(e)||ot(t)?it(it({},e),t):t||e},e.decorators=[{type:o.D}],e}(),Gn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.getAggregatedChanges=function(e){var t=this,n=[];return this._states.forEach(function(i,r){var o=e?t.mergeValues(i.recordRef,i.value):rt(i.value);t.clearArraysFromObject(o),n.push({id:r,path:i.path,newValue:o,type:i.type})}),n},t.prototype.updateState=function(t,n,i){if(e.prototype.updateState.call(this,t,n,i),n.path){var r=t.get(n.id);r&&(r.path=n.path),n.type===It&&t.forEach(function(e,i){if(e.path&&-1!==e.path.indexOf(n.id))switch(e.type){case Ot:t.delete(i);break;case kt:t.get(i).type=It,t.get(i).value=null}})}},t.prototype.commit=function(t,n,i,r){if(void 0!==i){var o=this.getAggregatedChanges(!0);void 0!==r&&(o=o.filter(function(e){return e.id===r})),Lt.mergeHierarchicalTransactions(t,o,i,n,!0)}else e.prototype.commit.call(this,t,r);this.clear(r)},t.prototype.clearArraysFromObject=function(e){var t,n;if(e)try{for(var i=Object(r.j)(Object.keys(e)),o=i.next();!o.done;o=i.next()){var a=o.value;Array.isArray(e[a])&&delete e[a]}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},t.decorators=[{type:o.D}],t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._transactions=[],t._redoStack=[],t._undoStack=[],t._states=new Map,t.onStateUpdate=new o.x,t}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"canUndo",{get:function(){return this._undoStack.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRedo",{get:function(){return this._redoStack.length>0},enumerable:!0,configurable:!0}),t.prototype.add=function(e,t){var n=this._isPending?this._pendingStates:this._states;this.verifyAddedTransaction(n,e,t),this.addTransaction(e,n,t)},t.prototype.addTransaction=function(e,t,n){this.updateState(t,e,n),(this._isPending?this._pendingTransactions:this._transactions).push(e),this._isPending||(this._undoStack.push([{transaction:e,recordRef:n}]),this._redoStack=[],this.onStateUpdate.emit())},t.prototype.getTransactionLog=function(e){return void 0!==e?this._transactions.filter(function(t){return t.id===e}):Object(r.i)(this._transactions)},t.prototype.getAggregatedChanges=function(e){var t=this,n=[];return this._states.forEach(function(i,r){var o=e?t.mergeValues(i.recordRef,i.value):i.value;n.push({id:r,newValue:o,type:i.type})}),n},t.prototype.getState=function(e,t){return void 0===t&&(t=!1),t?this._pendingStates.get(e):this._states.get(e)},Object.defineProperty(t.prototype,"enabled",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.getAggregatedValue=function(t,n){var i=this._states.get(t),r=e.prototype.getState.call(this,t);if(!i&&!r)return null;var o=e.prototype.getAggregatedValue.call(this,t,!1),a=i&&i.value,s=this.mergeValues(a,o);if(n){var l=i?i.recordRef:r.recordRef;s=this.mergeValues(l,s)}return s},t.prototype.endPending=function(t){var n,i;if(this._isPending=!1,t){var o=[];try{for(var a=Object(r.j)(this._pendingTransactions),s=a.next();!s.done;s=a.next()){var l=s.value,c=this._pendingStates.get(l.id);this._transactions.push(l),this.updateState(this._states,l,c.recordRef),o.push({transaction:l,recordRef:c.recordRef})}}catch(d){n={error:d}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this._undoStack.push(o),this._redoStack=[],this.onStateUpdate.emit()}e.prototype.endPending.call(this,t)},t.prototype.commit=function(e,t){var n=this;if(void 0!==t){var i=this.getState(t);i&&this.updateRecord(e,i)}else this._states.forEach(function(t){n.updateRecord(e,t)});this.clear(t)},t.prototype.clear=function(e){void 0!==e?(this._transactions=this._transactions.filter(function(t){return t.id!==e}),this._states.delete(e),this._undoStack=this._undoStack.map(function(t){return t.filter(function(t){return t.transaction.id!==e})}).filter(function(e){return e.length>0})):(this._transactions=[],this._states.clear(),this._undoStack=[]),this._redoStack=[],this.onStateUpdate.emit()},t.prototype.undo=function(){var e,t,n,i;if(!(this._undoStack.length<=0)){var o=this._undoStack.pop();this._transactions.splice(this._transactions.length-o.length),this._redoStack.push(o),this._states.clear();try{for(var a=Object(r.j)(this._undoStack),s=a.next();!s.done;s=a.next()){var l=s.value;try{for(var c=Object(r.j)(l),d=c.next();!d.done;d=c.next()){var p=d.value;this.updateState(this._states,p.transaction,p.recordRef)}}catch(u){n={error:u}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}this.onStateUpdate.emit()}},t.prototype.redo=function(){var e,t;if(this._redoStack.length>0){var n;n=this._redoStack.pop();try{for(var i=Object(r.j)(n),o=i.next();!o.done;o=i.next()){var a=o.value;this.updateState(this._states,a.transaction,a.recordRef),this._transactions.push(a.transaction)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this._undoStack.push(n),this.onStateUpdate.emit()}},t.prototype.verifyAddedTransaction=function(e,t,n){var i=e.get(t.id);switch(t.type){case Ot:if(i)throw new Error("Cannot add this transaction. Transaction with id: "+t.id+" has been already added.");break;case It:case kt:if(i&&i.type===It)throw new Error("Cannot add this transaction. Transaction with id: "+t.id+" has been already deleted.");if(!i&&!n&&!this._isPending)throw new Error("Cannot add this transaction. This is first transaction of type "+t.type+" for id "+t.id+". For first transaction of this type recordRef is mandatory.")}},t.prototype.updateState=function(e,t,n){var i=e.get(t.id);if(i)switch(t.type){case It:i.type===Ot?e.delete(t.id):i.type===kt&&(i.value=t.newValue,i.type=It);break;case kt:ot(i.value)?(i.type===Ot&&(i.value=this.mergeValues(i.value,t.newValue)),i.type===kt&&it(i.value,t.newValue)):i.value=t.newValue}else i={value:rt(t.newValue),recordRef:n,type:t.type},e.set(t.id,i);this._isPending||this.cleanState(t.id,e)},t.prototype.cleanState=function(e,t){var n,i,o=t.get(e);if(o&&o.value&&o.recordRef)if(ot(o.recordRef)){try{for(var a=Object(r.j)(Object.keys(o.value)),s=a.next();!s.done;s=a.next()){var l=s.value;JSON.stringify(o.recordRef[l])===JSON.stringify(o.value[l])&&delete o.value[l]}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}o.type!==It&&0===Object.keys(o.value).length&&t.delete(e)}else o.recordRef===o.value&&t.delete(e)},t.prototype.updateRecord=function(e,t){var n=e.findIndex(function(e){return JSON.stringify(e)===JSON.stringify(t.recordRef||{})});switch(t.type){case Ot:e.push(t.value);break;case It:0<=n&&n<e.length&&e.splice(n,1);break;case kt:0<=n&&n<e.length&&(e[n]=this.updateValue(t))}},t.decorators=[{type:o.D}],t}(Mn)),zn=function(){function e(e,t,n,i){var r=this;this.elementRef=e,this.cdr=t,this.overlayService=n,this.navigationService=i,this.destroy$=new E.a,this._overlaySubFilter=[Object(B.a)(function(e){return e.id===r._overlayId}),Object(H.a)(this.destroy$)],this.onOpened=new o.x,this.onOpening=new o.x,this.onClosed=new o.x,this.onClosing=new o.x,this._collapsed=!0,this.overlayClosed=function(){r._collapsed=!0,r.cdr.detectChanges(),delete r._overlayId,r.unsubscribe(),r.onClosed.emit()}}return Object.defineProperty(e.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenClass",{get:function(){return this.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultClass",{get:function(){return!this.collapsed},enumerable:!0,configurable:!0}),e.prototype.open=function(e){var t,n,i,o=this,a=this.overlayService.getOverlayById(this._overlayId),s=!!a&&a.openAnimationPlayer,l=!!a&&a.closeAnimationPlayer;if(!s&&(this._collapsed||l)){a||(this._overlayId=this.overlayService.attach(this.elementRef,e)),this._collapsed=!1,this.cdr.detectChanges();var c={cancel:!1};if(this.onOpening.emit(c),c.cancel)return this._collapsed=!0,void this.cdr.detectChanges();this.overlayService.show(this._overlayId,e),this.unsubscribe(),this._overlayOpenedSub=(t=this.overlayService.onOpened).pipe.apply(t,Object(r.i)(this._overlaySubFilter)).subscribe(function(){o.onOpened.emit()}),this._overlayClosingSub=(n=this.overlayService.onClosing).pipe.apply(n,Object(r.i)(this._overlaySubFilter)).subscribe(function(e){var t={cancel:!1,event:e.event};o.onClosing.emit(t),e.cancel=t.cancel,e.cancel||o.clearSubscription(o._overlayClosingSub)}),this._overlayClosedSub=(i=this.overlayService.onClosed).pipe.apply(i,Object(r.i)(this._overlaySubFilter)).subscribe(this.overlayClosed)}},e.prototype.close=function(){var e=this.overlayService.getOverlayById(this._overlayId),t=!!e&&e.closeAnimationPlayer;this._collapsed||t||this.overlayService.hide(this._overlayId)},e.prototype.toggle=function(e){this.collapsed||this.isClosing?this.open(e):this.close()},Object.defineProperty(e.prototype,"isClosing",{get:function(){var e=this.overlayService.getOverlayById(this._overlayId);return!!e&&e.closeAnimationPlayer},enumerable:!0,configurable:!0}),e.prototype.reposition=function(){this.overlayService.reposition(this._overlayId)},e.prototype.ngOnInit=function(){this.navigationService&&this.id&&this.navigationService.add(this.id,this)},e.prototype.ngOnDestroy=function(){this.navigationService&&this.id&&this.navigationService.remove(this.id),!this.collapsed&&this._overlayId&&this.overlayService.hide(this._overlayId),this.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()},e.prototype.unsubscribe=function(){this.clearSubscription(this._overlayOpenedSub),this.clearSubscription(this._overlayClosingSub),this.clearSubscription(this._overlayClosedSub)},e.prototype.clearSubscription=function(e){e&&!e.closed&&e.unsubscribe()},e.decorators=[{type:o.t,args:[{exportAs:"toggle",selector:"[igxToggle]"}]}],e.ctorParameters=function(){return[{type:o.u},{type:o.k},{type:Tn,decorators:[{type:o.C,args:[Tn]}]},{type:Je,decorators:[{type:o.R}]}]},e.propDecorators={onOpened:[{type:o.S}],onOpening:[{type:o.S}],onClosed:[{type:o.S}],onClosing:[{type:o.S}],id:[{type:o.G}],hiddenClass:[{type:o.z,args:["class.igx-toggle--hidden"]},{type:o.z,args:["attr.aria-hidden"]}],defaultClass:[{type:o.z,args:["class.igx-toggle"]}]},e}(),Vn=function(){function e(e,t){this.element=e,this.navigationService=t}return Object.defineProperty(e.prototype,"target",{get:function(){return"string"==typeof this._target?this.navigationService.get(this._target):this._target},set:function(e){null!==e&&""!==e&&(this._target=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._overlayDefaults={positionStrategy:new An({target:this.element.nativeElement}),scrollStrategy:new Fn,closeOnOutsideClick:!0,modal:!1,excludePositionTarget:!0}},e.prototype.onClick=function(){this.outlet&&(this._overlayDefaults.outlet=this.outlet);var e=Object.assign({},this._overlayDefaults,this.overlaySettings);this.updateOverlaySettings(e),this.target.toggle(e)},e.prototype.updateOverlaySettings=function(e){if(e&&e.positionStrategy){var t=e.positionStrategy.clone();t.settings.target=this.element.nativeElement,e.positionStrategy=t}return e},e.decorators=[{type:o.t,args:[{exportAs:"toggle-action",selector:"[igxToggleAction]"}]}],e.ctorParameters=function(){return[{type:o.u},{type:Je,decorators:[{type:o.R}]}]},e.propDecorators={overlaySettings:[{type:o.G}],outlet:[{type:o.G,args:["igxToggleOutlet"]}],target:[{type:o.G,args:["igxToggleAction"]}],onClick:[{type:o.A,args:["click"]}]},e}(),Bn=function(){function e(e){this.element=e}return Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.decorators=[{type:o.t,args:[{exportAs:"overlay-outlet",selector:"[igxOverlayOutlet]"}]}],e.ctorParameters=function(){return[{type:o.u}]},e}(),Hn=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[zn,Vn,Bn],exports:[zn,Vn,Bn],providers:[Je]}]}],e}(),Nn={Up:-1,Down:1};Nn[Nn.Up]="Up",Nn[Nn.Down]="Down";var Wn="escape",Yn="enter",Un="space",Kn=function(){function e(){this.selection=new Map}return e.prototype.get=function(e){return this.selection.get(e)},e.prototype.set=function(e,t){if(!e)throw Error("Invalid value for component id!");this.selection.set(e,t)},e.prototype.clear=function(e){this.selection.set(e,this.get_empty())},e.prototype.size=function(e){var t=this.get(e);return t?t.size:0},e.prototype.add_item=function(e,t,n){if(n||(n=new Set(this.get(e))),void 0===n&&(n=this.get_empty()),!t&&0!==t)throw Error("Invalid value for item id!");return n.add(t),n},e.prototype.add_items=function(e,t,n){var i,r=this;return n?i=this.get_empty():t&&0===t.length&&(i=new Set(this.get(e))),t.forEach(function(t){return i=r.add_item(e,t,i)}),i},e.prototype.select_item=function(e,t,n){this.set(e,this.add_item(e,t,n))},e.prototype.select_items=function(e,t,n){this.set(e,this.add_items(e,t,n))},e.prototype.delete_item=function(e,t,n){if(n||(n=new Set(this.get(e))),void 0!==n)return n.delete(t),n},e.prototype.delete_items=function(e,t){var n,i=this;return t.forEach(function(t){return n=i.delete_item(e,t,n)}),n},e.prototype.deselect_item=function(e,t,n){this.set(e,this.delete_item(e,t,n))},e.prototype.deselect_items=function(e,t,n){this.set(e,this.delete_items(e,t))},e.prototype.is_item_selected=function(e,t){var n=this.get(e);return!!n&&n.has(t)},e.prototype.first_item=function(e){var t=this.get(e);if(t&&t.size>0)return t.values().next().value},e.prototype.are_all_selected=function(e,t){return t>0&&t===this.size(e)},e.prototype.are_none_selected=function(e){return 0===this.size(e)},e.prototype.get_all_ids=function(e,t){return t?e.map(function(e){return e[t]}):e},e.prototype.get_empty=function(){return new Set},e.decorators=[{type:o.D,args:[{providedIn:"root"}]}],e.ngInjectableDef=Object(o.nc)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),$n=0,Xn=function(){function e(){this._id=$n++,this.role="group",this.groupClass=!0,this.disabled=!1}return Object.defineProperty(e.prototype,"labelId",{get:function(){return"igx-item-group-label-"+this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelledBy",{get:function(){return this.labelId},enumerable:!0,configurable:!0}),e.decorators=[{type:o.n,args:[{selector:"igx-drop-down-item-group",template:'\n        <label id="{{labelId}}">{{ label }}</label>\n        <ng-content select="igx-drop-down-item"></ng-content>\n    '}]}],e.propDecorators={labelledBy:[{type:o.z,args:["attr.aria-labelledby"]}],role:[{type:o.z,args:["attr.role"]}],groupClass:[{type:o.z,args:["class.igx-drop-down__group"]}],disabled:[{type:o.G},{type:o.z,args:["attr.aria-disabled"]},{type:o.z,args:["class.igx-drop-down__group--disabled"]}],label:[{type:o.G}]},e}(),qn=0,Zn=!1,Qn=function(){function e(e,t,n,i){this.dropDown=e,this.elementRef=t,this.group=n,this.selection=i,this._focused=!1,this._selected=!1,this._index=null,this._disabled=!1,this.id="igx-drop-down-item-"+qn++,this.role="option"}return Object.defineProperty(e.prototype,"hasIndex",{get:function(){return null!==this._index&&void 0!==this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemID",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return null===this._index?(Zn=Pn('IgxDropDownItemBase: Automatic index is deprecated.Bind in the template instead using `<igx-drop-down-item [index]="i"` instead.`',Zn),this.itemIndex):this._index},set:function(e){this._index=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyle",{get:function(){return!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyleCosy",{get:function(){return"cosy"===this.dropDown.displayDensity&&!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyleCompact",{get:function(){return"compact"===this.dropDown.displayDensity&&!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this.isHeader||(this._selected=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.selected},set:function(e){this.selected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focused",{get:function(){return!this.isHeader&&!this.disabled&&this._focused},set:function(e){this._focused=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return this.focused},set:function(e){this.focused=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerClassCosy",{get:function(){return this.isHeader&&"cosy"===this.dropDown.displayDensity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerClassCompact",{get:function(){return this.isHeader&&"compact"===this.dropDown.displayDensity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.group&&this.group.disabled||this._disabled},set:function(e){this._disabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemIndex",{get:function(){return this.dropDown.items.indexOf(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elementHeight",{get:function(){return this.elementRef.nativeElement.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef},enumerable:!0,configurable:!0}),e.prototype.clicked=function(e){},e.prototype.ngDoCheck=function(){if(this._selected){var e=this.dropDown.selectedItem;e?(this.hasIndex?this._index!==e.index||this.value!==e.value:this!==e)&&this.dropDown.selectItem(this):this.dropDown.selectItem(this)}},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.C,args:["IgxDropDownBaseToken"]}]},{type:o.u},{type:Xn,decorators:[{type:o.R}]},{type:Kn,decorators:[{type:o.R},{type:o.C,args:[Kn]}]}]},e.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],index:[{type:o.G}],value:[{type:o.G}],itemStyle:[{type:o.z,args:["class.igx-drop-down__item"]}],itemStyleCosy:[{type:o.z,args:["class.igx-drop-down__item--cosy"]}],itemStyleCompact:[{type:o.z,args:["class.igx-drop-down__item--compact"]}],selected:[{type:o.G},{type:o.z,args:["attr.aria-selected"]},{type:o.z,args:["class.igx-drop-down__item--selected"]}],isSelected:[{type:o.G}],focused:[{type:o.z,args:["class.igx-drop-down__item--focused"]}],isHeader:[{type:o.G},{type:o.z,args:["class.igx-drop-down__header"]}],headerClassCosy:[{type:o.z,args:["class.igx-drop-down__header--cosy"]}],headerClassCompact:[{type:o.z,args:["class.igx-drop-down__header--compact"]}],disabled:[{type:o.G},{type:o.z,args:["attr.aria-disabled"]},{type:o.z,args:["class.igx-drop-down__item--disabled"]}],role:[{type:o.G},{type:o.z,args:["attr.role"]}],clicked:[{type:o.A,args:["click",["$event"]]}]},Object(r.c)([kn("IgxDropDownItemBase `isSelected` property is deprecated.\nUse `selected` instead."),Object(r.f)("design:type",Boolean),Object(r.f)("design:paramtypes",[Boolean])],e.prototype,"isSelected",null),Object(r.c)([kn("IgxDropDownItemBase `isFocused` property is depracated.\nUse `focused` instead."),Object(r.f)("design:type",Boolean),Object(r.f)("design:paramtypes",[Boolean])],e.prototype,"isFocused",null),e}(),Jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"focused",{get:function(){var e=this._focused;if(this.hasIndex){var t=this.selection.first_item(this.dropDown.id+"-active"),n=t?t.index:-1;e=this._index===n}return!this.isHeader&&!this.disabled&&e},set:function(e){this._focused=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){if(this.hasIndex){var e=this.selection.first_item(""+this.dropDown.id);return!!e&&(e.index===this._index&&e.value===this.value)}return this._selected},set:function(e){this.isHeader||(this._selected=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setTabIndex",{get:function(){return this.dropDown.allowItemsFocus&&!(this.disabled||this.isHeader)?0:null},enumerable:!0,configurable:!0}),t.prototype.clicked=function(e){if(this.disabled||this.isHeader){var t=this.dropDown.items.find(function(e){return e.focused});this.dropDown.allowItemsFocus&&t&&t.element.nativeElement.focus({preventScroll:!0})}else this.selection&&this.dropDown.selectItem(this,e)},t.prototype.mousedownHandler=function(e){e.preventDefault()},t.decorators=[{type:o.n,args:[{selector:"igx-drop-down-item",template:"<ng-content></ng-content>"}]}],t.propDecorators={setTabIndex:[{type:o.z,args:["attr.tabindex"]}],clicked:[{type:o.A,args:["click",["$event"]]}],mousedownHandler:[{type:o.A,args:["mousedown",["$event"]]}]},t}(Qn),ei={comfortable:"comfortable",cosy:"cosy",compact:"compact"},ti=new o.E("DisplayDensity"),ni=function(){function e(e){this.displayDensityOptions=e,this.onDensityChanged=new o.x,this.oldDisplayDensityOptions={displayDensity:ei.comfortable},Object.assign(this.oldDisplayDensityOptions,e)}return Object.defineProperty(e.prototype,"displayDensity",{get:function(){return this._displayDensity||this.displayDensityOptions&&this.displayDensityOptions.displayDensity||ei.comfortable},set:function(e){var t=this._displayDensity;if(this._displayDensity=e,t!==this._displayDensity){var n={oldDensity:t,newDensity:this._displayDensity};this.onDensityChanged.emit(n)}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initialDensity=this._displayDensity},e.prototype.ngDoCheck=function(){if(!this._displayDensity&&this.displayDensityOptions&&this.oldDisplayDensityOptions.displayDensity!==this.displayDensityOptions.displayDensity){var e={oldDensity:this.oldDisplayDensityOptions.displayDensity,newDensity:this.displayDensityOptions.displayDensity};this.onDensityChanged.emit(e),this.oldDisplayDensityOptions=Object.assign(this.oldDisplayDensityOptions,this.displayDensityOptions)}},e.prototype.getComponentDensityClass=function(e){switch(this.displayDensity){case ei.cosy:return e+"--"+ei.cosy;case ei.compact:return e+"--"+ei.compact;default:return e}},e.propDecorators={displayDensity:[{type:o.G}],onDensityChanged:[{type:o.S}]},e}(),ii=0,ri=function(e){function t(t,n,i){var r=e.call(this,i)||this;return r.elementRef=t,r.cdr=n,r._displayDensityOptions=i,r._focusedItem=null,r._id="igx-drop-down-"+ii++,r.onSelection=new o.x,r.maxHeight=null,r.cssClass=!0,r}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"scrollContainer",{get:function(){return this.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e,t,n=[];if(void 0!==this.children)try{for(var i=Object(r.j)(this.children.toArray()),o=i.next();!o.done;o=i.next()){var a=o.value;a.isHeader||n.push(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headers",{get:function(){var e,t,n=[];if(void 0!==this.children)try{for(var i=Object(r.j)(this.children.toArray()),o=i.next();!o.done;o=i.next()){var a=o.value;a.isHeader&&n.push(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),t.prototype.onItemActionKey=function(e,t){switch(e){case Yn:case Un:this.selectItem(this.focusedItem,t)}},t.prototype.selectItem=function(e,t){this.onSelection.emit({newSelection:e,oldSelection:null,cancel:!1})},Object.defineProperty(t.prototype,"focusedItem",{get:function(){return this._focusedItem},set:function(e){this._focusedItem=e},enumerable:!0,configurable:!0}),t.prototype.navigate=function(e,t){var n=-1;this._focusedItem&&(n=t||this.focusedItem.itemIndex);var i=this.getNearestSiblingFocusableItemIndex(n,e);this.navigateItem(i)},t.prototype.getNearestSiblingFocusableItemIndex=function(e,t){for(var n=e,i=this.items;i[n+t]&&i[n+t].disabled;)n+=t;return(n+=t)>=0&&n<i.length?n:-1},t.prototype.navigateItem=function(e){if(-1!==e){var t=this._focusedItem,n=this.items[e];t&&(t.focused=!1),this.focusedItem=n,this.scrollToHiddenItem(n),this.focusedItem.focused=!0}},t.prototype.navigateFirst=function(){this.navigate(Nn.Down,-1)},t.prototype.navigateLast=function(){this.navigate(Nn.Up,this.items.length)},t.prototype.navigateNext=function(){this.navigate(Nn.Down)},t.prototype.navigatePrev=function(){this.navigate(Nn.Up)},t.prototype.scrollToHiddenItem=function(e){var t=e.element.nativeElement.getBoundingClientRect(),n=this.scrollContainer.getBoundingClientRect();n.top>t.top&&(this.scrollContainer.scrollTop-=n.top-t.top),n.bottom<t.bottom&&(this.scrollContainer.scrollTop+=t.bottom-n.bottom)},t.ctorParameters=function(){return[{type:o.u},{type:o.k},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={onSelection:[{type:o.S}],width:[{type:o.G}],height:[{type:o.G}],id:[{type:o.G}],maxHeight:[{type:o.G},{type:o.z,args:["style.maxHeight"]}],cssClass:[{type:o.z,args:["class.igx-drop-down"]}]},t}(ni),oi=function(){function e(e,t){this.cdr=e,this._viewContainer=t,this.cssClass="igx-display-container",this.notVirtual=!0}return e.decorators=[{type:o.n,args:[{selector:"igx-display-container",template:'\n        <ng-template\n            #display_container\n            igxScrollInertia\n            [IgxScrollInertiaScrollContainer]="scrollContainer"\n            [IgxScrollInertiaDirection]="scrollDirection">\n        </ng-template>\n    '}]}],e.ctorParameters=function(){return[{type:o.k},{type:o.qb}]},e.propDecorators={_vcr:[{type:o.ob,args:["display_container",{read:o.qb,static:!0}]}],cssClass:[{type:o.z,args:["class"]}],notVirtual:[{type:o.z,args:["class.igx-display-container--inactive"]}]},e}(),ai=function(){function e(e){this.elementRef=e,this.cssClasses="igx-vhelper--horizontal"}return e.decorators=[{type:o.n,args:[{selector:"igx-horizontal-virtual-helper",template:'<div #horizontal_container class="igx-vhelper__placeholder-content" [style.width.px]="width"></div>'}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={_vcr:[{type:o.ob,args:["horizontal_container",{read:o.qb,static:!0}]}],width:[{type:o.G}],cssClasses:[{type:o.z,args:["class"]}]},e}(),si=function(){function e(e,t){this.elementRef=e,this.cdr=t,this.cssClasses="igx-vhelper--vertical"}return Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(e){this.destroyed||(this._height=e,this.cdr.detectChanges())},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.destroyed=!0},e.decorators=[{type:o.n,args:[{selector:"igx-virtual-helper",template:'<div #container class="igx-vhelper__placeholder-content" [style.height.px]="height"></div>'}]}],e.ctorParameters=function(){return[{type:o.u},{type:o.k}]},e.propDecorators={scrollTop:[{type:o.z,args:["scrollTop"]}],_vcr:[{type:o.ob,args:["container",{read:o.qb,static:!0}]}],itemsLength:[{type:o.G}],cssClasses:[{type:o.z,args:["class"]}]},e}(),li=function(){function e(e,t){this.element=e,this._zone=t,this.wheelStep=50,this.inertiaStep=1.5,this.swipeToleranceX=20,this.inertiaDeltaY=3,this.inertiaDeltaX=2,this.inertiaDuration=.5,this._savedSpeedsX=[],this.setPointerCaptureFName="function"==typeof Element.prototype.msSetPointerCapture?"msSetPointerCapture":"setPointerCapture",this.releasePointerCaptureFName="function"==typeof Element.prototype.msReleasePointerCapture?"msReleasePointerCapture":"releasePointerCapture"}return e.prototype.ngOnInit=function(){var e=this;this._zone.runOutsideAngular(function(){var t=e.element.nativeElement.parentElement||e.element.nativeElement.parentNode;t.addEventListener("wheel",function(t){e.onWheel(t)}),t.addEventListener("touchstart",function(t){e.onTouchStart(t)}),t.addEventListener("touchmove",function(t){e.onTouchMove(t)}),t.addEventListener("touchend",function(t){e.onTouchEnd(t)}),t.addEventListener("pointerdown",function(t){e.onPointerDown(t)}),t.addEventListener("pointerup",function(t){e.onPointerUp(t)}),t.addEventListener("MSGestureStart",function(t){e.onMSGestureStart(t)}),t.addEventListener("MSGestureChange",function(t){e.onMSGestureChange(t)})})},e.prototype.onWheel=function(e){if(this.IgxScrollInertiaScrollContainer){var t,n,i=this.wheelStep,r=1/this.wheelStep;if(this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,e.wheelDeltaX?-r<(t=-e.wheelDeltaX/120)&&t<r&&(t=Math.sign(t)*r):e.deltaX&&(t=this.calcAxisCoords(e.deltaX,-1,1)),e.wheelDeltaY?-r<(n=-e.wheelDeltaY/120)&&n<r&&(n=Math.sign(n)*r):e.deltaY&&(n=this.calcAxisCoords(e.deltaY,-1,1)),t&&"horizontal"===this.IgxScrollInertiaDirection){this._scrollToX(this._startX+t*i);var o=this.IgxScrollInertiaScrollContainer.scrollLeft,a=parseInt(this.IgxScrollInertiaScrollContainer.children[0].style.width,10);0<o&&o<a&&e.preventDefault()}else n&&"vertical"===this.IgxScrollInertiaDirection&&(this._scrollToY(this._startY+n*i),this.preventParentScroll(e,!0))}},e.prototype.preventParentScroll=function(e,t){var n=this.IgxScrollInertiaScrollContainer.scrollTop,i=this.IgxScrollInertiaScrollContainer.children[0].scrollHeight-this.IgxScrollInertiaScrollContainer.offsetHeight;0<n&&n<i&&(t&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},e.prototype.onTouchStart=function(e){if("function"==typeof MSGesture||!this.IgxScrollInertiaScrollContainer)return!1;cancelAnimationFrame(this._touchInertiaAnimID);var t=e.touches[0];this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,this._touchStartX=t.pageX,this._touchStartY=t.pageY,this._lastTouchEnd=(new Date).getTime(),this._lastTouchX=t.pageX,this._lastTouchY=t.pageY,this._savedSpeedsX=[],this._savedSpeedsY=[],this._totalMovedX=0,this._offsetRecorded=!1,this._offsetDirection=0,this._touchPrevented=!1,"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!1)},e.prototype.onTouchMove=function(e){if("function"==typeof MSGesture)return this._touchPrevented=!1,!1;if(this.IgxScrollInertiaScrollContainer){var t,n=e.touches[0],i=this._startX+(this._touchStartX-n.pageX)*Math.sign(this.inertiaStep),r=this._startY+(this._touchStartY-n.pageY)*Math.sign(this.inertiaStep),o=(new Date).getTime()-this._lastTouchEnd;if(0!==o&&o<100){var a=(this._lastTouchX-n.pageX)/o,s=(this._lastTouchY-n.pageY)/o;this._savedSpeedsX.length<5?this._savedSpeedsX.push(a):(this._savedSpeedsX.shift(),this._savedSpeedsX.push(a)),this._savedSpeedsY.length<5?this._savedSpeedsY.push(s):(this._savedSpeedsY.shift(),this._savedSpeedsY.push(s))}this._lastTouchEnd=(new Date).getTime(),this._lastMovedX=this._lastTouchX-n.pageX,this._lastMovedY=this._lastTouchY-n.pageY,this._lastTouchX=n.pageX,this._lastTouchY=n.pageY,this._totalMovedX+=this._lastMovedX,Math.abs(this._totalMovedX)<this.swipeToleranceX&&!this._offsetRecorded?t=this._scrollTo(this._startX,r):(this._offsetRecorded||(this._offsetDirection=Math.sign(i-this._startX),this._offsetRecorded=!0),t=this._scrollTo(i-this._offsetDirection*this.swipeToleranceX,r)),0===t.x&&0===t.y&&(this._touchPrevented=!0),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!0)}},e.prototype.onTouchEnd=function(e){if("function"!=typeof MSGesture){for(var t=0,n=0,i=0;i<this._savedSpeedsX.length;i++)t+=this._savedSpeedsX[i],n+=this._savedSpeedsY[i];t=this._savedSpeedsX.length?t/this._savedSpeedsX.length:0,n=this._savedSpeedsX.length?n/this._savedSpeedsY.length:0,(Math.abs(t)>.1||Math.abs(n)>.1)&&(Math.abs(this._lastMovedX)>2||Math.abs(this._lastMovedY)>2)&&this._inertiaInit(t,n),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!1)}},e.prototype.onPointerDown=function(e){if(!e||2!==e.pointerType&&"touch"!==e.pointerType||"function"!=typeof MSGesture)return!0;this.IgxScrollInertiaScrollContainer&&(e.target[this.setPointerCaptureFName](this._pointer=e.pointerId),this._gestureObject||(this._gestureObject=new MSGesture,this._gestureObject.target=this.element.nativeElement.parentElement||this.element.nativeElement.parentNode),this._gestureObject.addPointer(this._pointer))},e.prototype.onPointerUp=function(e){if(!this._pointer)return!0;this.IgxScrollInertiaScrollContainer&&(e.target[this.releasePointerCaptureFName](this._pointer),delete this._pointer)},e.prototype.onMSGestureStart=function(e){if(this.IgxScrollInertiaScrollContainer)return this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,this._touchStartX=e.screenX,this._touchStartY=e.screenY,this._totalMovedX=0,this._offsetRecorded=!1,this._offsetDirection=0,!1},e.prototype.onMSGestureChange=function(e){if(this.IgxScrollInertiaScrollContainer){var t=e,n=this._startX+this._touchStartX-t.screenX,i=this._startY+this._touchStartY-t.screenY;return this._totalMovedX=this._touchStartX-t.screenX,Math.abs(this._totalMovedX)<this.swipeToleranceX&&!this._offsetRecorded?this._scrollToY(i):(this._offsetRecorded||(this._offsetDirection=Math.sign(n-this._startX),this._offsetRecorded=!0),this._scrollTo(n-this._offsetDirection*this.swipeToleranceX,i)),!1}},e.prototype.calcAxisCoords=function(e,t,n){return void 0===e||e<t?e=t:e>n&&(e=n),e},e.prototype._scrollTo=function(e,t){this.IgxScrollInertiaScrollContainer.scrollLeft,this.IgxScrollInertiaScrollContainer.scrollTop;return{x:this._scrollToX(e),y:this._scrollToY(t)}},e.prototype._scrollToX=function(e){this.IgxScrollInertiaScrollContainer.scrollLeft=e},e.prototype._scrollToY=function(e){this.IgxScrollInertiaScrollContainer.scrollTop=e},e.prototype._inertiaInit=function(e,t){var n=this,i=this.inertiaStep,r=this.inertiaDuration,o=0;this._nextX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._nextY=this.IgxScrollInertiaScrollContainer.scrollTop;var a=function(){o>6?cancelAnimationFrame(n._touchInertiaAnimID):(Math.abs(e),Math.abs(t),(o+=.05/(1*r))<=1?(Math.abs(t)<=Math.abs(e)*n.inertiaDeltaY&&(n._nextX+=1*e*15*i),Math.abs(t)>=Math.abs(e)*n.inertiaDeltaX&&(n._nextY+=1*t*15*i)):(Math.abs(t)<=Math.abs(e)*n.inertiaDeltaY&&(n._nextX+=Math.abs(2/(o+.55)-.3)*e*15*i),Math.abs(t)>=Math.abs(e)*n.inertiaDeltaX&&(n._nextY+=Math.abs(2/(o+.55)-.3)*t*15*i)),n._scrollTo(n._nextX,n._nextY),n._touchInertiaAnimID=requestAnimationFrame(a))};this._touchInertiaAnimID=requestAnimationFrame(a)},e.prototype.ngOnDestroy=function(){var e=this;this._zone.runOutsideAngular(function(){var t=e.element.nativeElement.parentElement||e.element.nativeElement.parentNode;t.removeEventListener("wheel",function(t){e.onWheel(t)}),t.removeEventListener("touchstart",function(t){e.onTouchStart(t)}),t.removeEventListener("touchmove",function(t){e.onTouchMove(t)}),t.removeEventListener("touchend",function(t){e.onTouchEnd(t)}),t.removeEventListener("pointerdown",function(t){e.onPointerDown(t)}),t.removeEventListener("pointerup",function(t){e.onPointerUp(t)}),t.removeEventListener("MSGestureStart",function(t){e.onMSGestureStart(t)}),t.removeEventListener("MSGestureChange",function(t){e.onMSGestureChange(t)})})},e.decorators=[{type:o.t,args:[{selector:"[igxScrollInertia]"}]}],e.ctorParameters=function(){return[{type:o.u},{type:o.Q}]},e.propDecorators={IgxScrollInertiaDirection:[{type:o.G}],IgxScrollInertiaScrollContainer:[{type:o.G}],wheelStep:[{type:o.G}],inertiaStep:[{type:o.G}],swipeToleranceX:[{type:o.G}],inertiaDeltaY:[{type:o.G}],inertiaDeltaX:[{type:o.G}],inertiaDuration:[{type:o.G}]},e}(),ci=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[li],exports:[li],imports:[a.b]}]}],e}(),di=function(){function e(){this._master=new Map}return e.prototype.isMaster=function(e){return this._master.get(e.igxForScrollOrientation)===e},e.prototype.setMaster=function(e,t){void 0===t&&(t=!1);var n=e.igxForScrollOrientation;!n||!t&&this._master.has(n)||this._master.set(n,e)},e.prototype.resetMaster=function(){this._master.clear()},e.prototype.sizesCache=function(e){return this._master.get(e).sizesCache},e.prototype.chunkSize=function(e){return this._master.get(e).state.chunkSize},e.decorators=[{type:o.D,args:[{providedIn:"root"}]}],e.ngInjectableDef=Object(o.nc)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),pi=function(){function e(e,t,n){this.$implicit=e,this.index=t,this.count=n}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}(),ui=function(){function e(e,t,n,i,r,a){this._viewContainer=e,this._template=t,this._differs=n,this.resolver=i,this.cdr=r,this._zone=a,this.state={startIndex:0,chunkSize:0},this.totalItemCount=null,this.onChunkLoad=new o.x,this.onDataChanged=new o.x,this.onBeforeViewDestroyed=new o.x,this.onChunkPreload=new o.x,this._sizesCache=[],this._differ=null,this.heightCache=[],this.MAX_PERF_SCROLL_DIFF=4,this._virtHeight=0,this._virtHeightRatio=1,this._virtScrollTop=0,this._bScrollInternal=!1,this._scrollPosition=0,this._embeddedViews=[]}return Object.defineProperty(e.prototype,"sizesCache",{get:function(){return this._sizesCache},set:function(e){this._sizesCache=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isScrolledToBottom",{get:function(){if(!this.getVerticalScroll())return!0;var e=this.getVerticalScroll().scrollHeight;return Math.round(this.scrollPosition+this.igxForContainerSize)===e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isAtBottomIndex",{get:function(){return this.igxForOf&&this.state.startIndex+this.state.chunkSize>this.igxForOf.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRemote",{get:function(){return null!==this.totalItemCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollPosition",{get:function(){return this._scrollPosition},set:function(e){this._scrollPosition=e,"horizontal"===this.igxForScrollOrientation&&this.hScroll?this.hScroll.scrollLeft=e:this.vh&&(this.vh.instance.elementRef.nativeElement.scrollTop=e)},enumerable:!0,configurable:!0}),e.prototype.removeScrollEventListeners=function(){var e=this;if("horizontal"===this.igxForScrollOrientation)this._zone.runOutsideAngular(function(){return e.getHorizontalScroll().removeEventListener("scroll",e.func)});else{var t=this.getVerticalScroll();t&&this._zone.runOutsideAngular(function(){return t.removeEventListener("scroll",e.verticalScrollHandler)})}},e.prototype.verticalScrollHandler=function(e){this.onScroll(e)},e.prototype.isScrollable=function(){return this.vh.instance.height>parseInt(this.igxForContainerSize,10)},e.prototype.ngOnInit=function(){var e=this,t=0,n=this.igxForScrollContainer?this.igxForScrollContainer._viewContainer:this._viewContainer;this.igxForSizePropName=this.igxForSizePropName||"width";var i=this.resolver.resolveComponentFactory(oi);if(this.dc=this._viewContainer.createComponent(i,0),this.dc.instance.scrollDirection=this.igxForScrollOrientation,"function"==typeof MSGesture&&(this.dc.instance._viewContainer.element.nativeElement.style.touchAction="none"),this.igxForOf&&this.igxForOf.length){t=this.initSizesCache(this.igxForOf),this.hScroll=this.getElement(n,"igx-horizontal-virtual-helper"),this.state.chunkSize=this._calculateChunkSize(),this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.state.chunkSize<this.igxForOf.length),this.hScroll&&(this._scrollPosition=this.hScroll.scrollLeft,this.state.startIndex=Math.min(this.getIndexAt(this.scrollPosition,this.sizesCache,0),this.igxForOf.length-this.state.chunkSize));for(var r=this.state.startIndex;r<this.state.startIndex+this.state.chunkSize&&void 0!==this.igxForOf[r];r++){var o=this.igxForOf[r],a=this.dc.instance._vcr.createEmbeddedView(this._template,new pi(o,this.getContextIndex(o),this.igxForOf.length));this._embeddedViews.push(a)}}if("vertical"===this.igxForScrollOrientation){this.dc.instance._viewContainer.element.nativeElement.style.top="0px";var s=this.resolver.resolveComponentFactory(si);this.vh=n.createComponent(s),this._maxHeight=this._calcMaxBrowserHeight(),this.vh.instance.height=this.igxForOf?this._calcHeight():0,this._zone.runOutsideAngular(function(){e.verticalScrollHandler=e.verticalScrollHandler.bind(e),e.vh.instance.elementRef.nativeElement.addEventListener("scroll",e.verticalScrollHandler),e.dc.instance.scrollContainer=e.vh.instance.elementRef.nativeElement})}if("horizontal"===this.igxForScrollOrientation){if(this.func=function(t){e.onHScroll(t)},this.hScroll=this.getElement(n,"igx-horizontal-virtual-helper"),this.hScroll)this._zone.runOutsideAngular(function(){e.hScroll.addEventListener("scroll",e.func),e.dc.instance.scrollContainer=e.hScroll});else{var l=this.resolver.resolveComponentFactory(ai);this.hvh=n.createComponent(l),this.hvh.instance.width=t,this.hScroll=this.hvh.instance.elementRef.nativeElement,this._zone.runOutsideAngular(function(){e.hvh.instance.elementRef.nativeElement.addEventListener("scroll",e.func),e.dc.instance.scrollContainer=e.hScroll})}this._updateHScrollOffset()}},e.prototype.ngOnDestroy=function(){this.removeScrollEventListeners()},e.prototype.ngOnChanges=function(e){if("igxForOf"in e){var t=e.igxForOf.currentValue;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.igxForTrackBy)}catch(n){throw new Error('Cannot find a differ supporting object "'+t+'" of type "'+hi(t)+'".\n                     NgFor only supports binding to Iterables such as Arrays.')}}"igxForItemSize"in e&&!e.igxForItemSize.firstChange&&"vertical"===this.igxForScrollOrientation&&this.igxForOf&&(this.initSizesCache(this.igxForOf),this._applyChanges());"igxForContainerSize"in e&&!e.igxForContainerSize.firstChange&&this.igxForOf&&this._recalcOnContainerChange(e)},e.prototype.ngDoCheck=function(){var e=this;this._differ&&(this._differ.diff(this.igxForOf)&&(this.igxForOf||(this.igxForOf=[]),this._updateSizeCache(),this._zone.run(function(){e._applyChanges(),e.cdr.markForCheck(),e._updateScrollOffset(),e.onDataChanged.emit()})))},e.prototype.addScrollTop=function(e){if(0===e&&"horizontal"===this.igxForScrollOrientation)return!1;var t=this._virtScrollTop,n=parseInt(this.igxForContainerSize,10),i=this._virtHeight-n;if(this._bScrollInternal=!0,this._virtScrollTop+=e,this._virtScrollTop=this._virtScrollTop>0?this._virtScrollTop<i?this._virtScrollTop:i:0,this.scrollPosition+=e/this._virtHeightRatio,Math.abs(e/this._virtHeightRatio)<1){var r=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-r+"px"}var o=this.vh.instance.elementRef.nativeElement.scrollHeight-n;return this._virtScrollTop>0&&0===this.scrollPosition||this._virtScrollTop<i&&this.scrollPosition===o?this.scrollPosition=this._virtScrollTop/this._virtHeightRatio:0===this._virtScrollTop&&this.scrollPosition>0?this.scrollPosition=0:this._virtScrollTop===i&&this.scrollPosition<o&&(this.scrollPosition=o),this._virtScrollTop!==t},e.prototype.scrollTo=function(e){if(!(e<0||e>(this.isRemote?this.totalItemCount:this.igxForOf.length)-1)){var t=parseInt(this.igxForContainerSize,10),n=e<this.state.startIndex||this.scrollPosition>this.sizesCache[e],i=n?this.sizesCache[e]:this.sizesCache[e+1]-t;if(!(i<0))if("horizontal"===this.igxForScrollOrientation)this.scrollPosition=i;else{var r=this._virtHeight-t;i>r&&(i=r),this._bScrollInternal=!0,this._virtScrollTop=i,this.scrollPosition=this._virtScrollTop/this._virtHeightRatio,this._adjustToIndex=n?null:e}}},e.prototype.scrollNext=function(){var e=Math.ceil(this.scrollPosition),t=this.getIndexAt(e+parseInt(this.igxForContainerSize,10),this.sizesCache,0);this.scrollTo(t)},e.prototype.scrollPrev=function(){this.scrollTo(this.state.startIndex-1)},e.prototype.scrollNextPage=function(){"horizontal"===this.igxForScrollOrientation?this.scrollPosition+=parseInt(this.igxForContainerSize,10):this.addScrollTop(parseInt(this.igxForContainerSize,10))},e.prototype.scrollPrevPage=function(){if("horizontal"===this.igxForScrollOrientation)this.scrollPosition-=parseInt(this.igxForContainerSize,10);else{var e=parseInt(this.igxForContainerSize,10);this.addScrollTop(-e)}},e.prototype.getColumnScrollLeft=function(e){return this.sizesCache[e]},e.prototype.getVerticalScroll=function(){return this.vh?this.vh.instance.elementRef.nativeElement:null},e.prototype.getItemCountInView=function(){var e=this.getIndexAt(this.scrollPosition,this.sizesCache,0);return this.scrollPosition-this.sizesCache[e]>0&&e++,this.getIndexAt(this.scrollPosition+parseInt(this.igxForContainerSize,10),this.sizesCache,0)-e},e.prototype.getHorizontalScroll=function(){return this.getElement(this._viewContainer,"igx-horizontal-virtual-helper")||this.hScroll},e.prototype.getSizeAt=function(e){return this.sizesCache[e+1]-this.sizesCache[e]},e.prototype.getScrollForIndex=function(e,t){var n=parseInt(this.igxForContainerSize,10);return t?Math.max(0,this.sizesCache[e+1]-n):this.sizesCache[e]},e.prototype.onScroll=function(e){var t=this;if(parseInt(this.vh.instance.elementRef.nativeElement.style.height,10)){var n=parseInt(this.igxForContainerSize,10),i=e.target.children[0].scrollHeight-n,r=0!==i?e.target.scrollTop/i:0;if(this._bScrollInternal)this._bScrollInternal=!1;else{var o=this._virtHeight-n;this._virtScrollTop=r*o}this._scrollPosition=this._virtScrollTop;var a=this.state.startIndex,s=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-s+"px",requestAnimationFrame(function(){t.recalcUpdateSizes()}),this.dc.changeDetectorRef.detectChanges(),a!==this.state.startIndex&&this.onChunkLoad.emit(this.state)}},e.prototype.recalcUpdateSizes=function(){for(var e="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",t=[],n=0,i=0;i<this._embeddedViews.length;i++){var r=this._embeddedViews[i].rootNodes.find(function(e){return e.nodeType===Node.ELEMENT_NODE});if(r){var o=r.offsetHeight?r.offsetHeight:parseInt(this.igxForItemSize,10),a=this.state.startIndex+i;if(!this.isRemote&&!this.igxForOf[a])continue;var s="height"===e?this.heightCache[a]:this.igxForOf[a][e],l="height"===e?o:r.clientWidth;"height"===e?this.heightCache[a]=l:this.igxForOf[a][e]=l;var c=l-s;t.push(c),n+=c,this.sizesCache[a+1]+=n}}if(Math.abs(n)>0){for(var d=this.state.startIndex+this.state.chunkSize+1;d<this.sizesCache.length;d++)this.sizesCache[d]+=n;if("horizontal"===this.igxForScrollOrientation){var p=parseInt(this.hScroll.children[0].style.width,10)+n;this.hScroll.children[0].style.width=p+"px"}var u=function(e,t){return e+t};if("vertical"===this.igxForScrollOrientation){var h=this._isScrolledToBottom&&!this.dc.instance.notVirtual,g=this.heightCache.reduce(u);if(g>this._maxHeight&&(this._virtHeightRatio=g/this._maxHeight),this.vh.instance.height=Math.min(this.vh.instance.height+n,this._maxHeight),this._virtHeight=g,this.vh.instance.destroyed||this.vh.instance.cdr.detectChanges(),h&&!this._isAtBottomIndex){var f=parseInt(this.igxForContainerSize,10),m=this._virtHeight-f;return this._bScrollInternal=!0,this._virtScrollTop=m,void(this.scrollPosition=m)}if(this._adjustToIndex){var y=this._adjustToIndex-this.state.startIndex+1,b=t.slice(0,y).reduce(u),v=parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top,10);this.dc.instance._viewContainer.element.nativeElement.style.top=v-b+"px",this._adjustToIndex=null}}}},e.prototype.fixedUpdateAllElements=function(e){var t=this.isRemote?this.totalItemCount:this.igxForOf.length,n=this.getIndexAt(e,this.sizesCache,0);n+this.state.chunkSize>t&&(n=t-this.state.chunkSize);var i=this.state.startIndex,r=n-this.state.startIndex;return this.state.startIndex=n,r&&(this.onChunkPreload.emit(this.state),this.isRemote||(r>0&&r<=this.MAX_PERF_SCROLL_DIFF?this.moveApplyScrollNext(i):r<0&&Math.abs(r)<=this.MAX_PERF_SCROLL_DIFF?this.moveApplyScrollPrev(i):this.fixedApplyScroll())),e-this.sizesCache[this.state.startIndex]},e.prototype.moveApplyScrollNext=function(e){for(var t=e+this.state.chunkSize,n=t;n<t+this.state.startIndex-e&&void 0!==this.igxForOf[n];n++){var i=this.igxForOf[n],r=this._embeddedViews.shift(),o=r.context;o.$implicit=i,o.index=this.getContextIndex(i),o.count=this.igxForOf.length;var a=this.dc.instance._vcr.detach(0);this.dc.instance._vcr.insert(a),this._embeddedViews.push(r)}},e.prototype.moveApplyScrollPrev=function(e){for(var t=e-1;t>=this.state.startIndex&&void 0!==this.igxForOf[t];t--){var n=this.igxForOf[t],i=this._embeddedViews.pop(),r=i.context;r.$implicit=n,r.index=this.getContextIndex(n);var o=this.dc.instance._vcr.detach(this.dc.instance._vcr.length-1);this.dc.instance._vcr.insert(o,0),this._embeddedViews.unshift(i)}},e.prototype.getContextIndex=function(e){return this.isRemote?this.state.startIndex+this.igxForOf.indexOf(e):this.igxForOf.indexOf(e)},e.prototype.fixedApplyScroll=function(){for(var e=0,t=this.state.startIndex+this.state.chunkSize,n=this.state.startIndex;n<t&&void 0!==this.igxForOf[n];n++){var i=this.igxForOf[n],r=this._embeddedViews[e++].context;r.$implicit=i,r.index=this.getContextIndex(i),r.count=this.igxForOf.length}},e.prototype.onHScroll=function(e){if(parseInt(this.hScroll.children[0].style.width,10)){this._scrollPosition=e.target.scrollLeft;var t=this.state.startIndex,n=this.fixedUpdateAllElements(this._scrollPosition);this.dc.instance._viewContainer.element.nativeElement.style.left=-n+"px",this.dc.changeDetectorRef.detectChanges(),t!==this.state.startIndex&&this.onChunkLoad.emit(this.state)}},Object.defineProperty(e.prototype,"igxForTrackBy",{get:function(){return this._trackByFn},set:function(e){this._trackByFn=e},enumerable:!0,configurable:!0}),e.prototype._applyChanges=function(){var e=this.state.chunkSize;if(this.applyChunkSizeChange(),this._recalcScrollBarSize(),this.igxForOf&&this.igxForOf.length&&this.dc){var t=Object.assign([],this._embeddedViews),n=this.state.startIndex,i=this.state.chunkSize+this.state.startIndex;this.isRemote&&(n=0,i=this.igxForOf.length);for(var r=n;r<i&&void 0!==this.igxForOf[r];r++){var o=this.igxForOf[r],a=t.shift().context;a.$implicit=o,a.index=this.getContextIndex(o),a.count=this.igxForOf.length}this.dc.changeDetectorRef.detectChanges(),e!==this.state.chunkSize&&this.onChunkLoad.emit(this.state),"vertical"===this.igxForScrollOrientation&&this.recalcUpdateSizes()}},e.prototype._calcMaxBrowserHeight=function(){var e=document.createElement("div"),t=e.style;t.position="absolute",t.top="9999999999999999px",document.body.appendChild(e);var n=Math.abs(e.getBoundingClientRect().top);return document.body.removeChild(e),n},e.prototype._calculateChunkSize=function(){var e=0;return null!==this.igxForContainerSize&&void 0!==this.igxForContainerSize?(this.sizesCache||this.initSizesCache(this.igxForOf),e=this._calcMaxChunkSize(),this.igxForOf&&e>this.igxForOf.length&&(e=this.igxForOf.length)):this.igxForOf&&(e=this.igxForOf.length),e},e.prototype.getElement=function(e,t){var n=e.element.nativeElement.parentNode.getElementsByTagName(t);return n.length>0?n[0]:null},e.prototype.initSizesCache=function(e){var t=0,n=0,i="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",r=0;this.sizesCache=[],this.heightCache=[],this.sizesCache.push(0);for(var o=this.isRemote?this.totalItemCount:e.length;r<o;r++)"height"===i?(n=parseInt(this.igxForItemSize,10)||0,this.heightCache.push(n)):n=this._getItemSize(e[r],i),t+=n,this.sizesCache.push(t);return t},e.prototype._updateSizeCache=function(){if("horizontal"!==this.igxForScrollOrientation){var e=(this.heightCache.length>0?this.heightCache.reduce(function(e,t){return e+t}):0)-this.initSizesCache(this.igxForOf);if(Math.abs(e)>0&&this.scrollPosition>0){this.recalcUpdateSizes();var t=parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top,10);this.scrollPosition=this.sizesCache[this.state.startIndex]-t}}else this.initSizesCache(this.igxForOf)},e.prototype._calcMaxChunkSize=function(){var e=this,t=0,n=0,i=0,r=[],o=0,a=parseInt(this.igxForContainerSize,10);if(!a)return 0;for(var s="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",l=function(t,n){return t+e._getItemSize(n,s)};t<this.igxForOf.length;t++){var c=this.igxForOf[t];"height"===s&&(c={value:this.igxForOf[t],height:this.heightCache[t]});var d="height"===s?this.heightCache[t]:this._getItemSize(c,s);if((o=r.reduce(l,d))<a){if(r.push(c),n=r.length,t===this.igxForOf.length-1)for(var p="height"===s?r[0].value:r[0],u=this.igxForOf.indexOf(p)-1;u>=0&&o<=a;){p="height"===s?r[0].value:r[0],u=this.igxForOf.indexOf(p)-1;var h=this.igxForOf[u],g="height"===s?this.heightCache[u]:parseInt(h[s],10);o=r.reduce(l,g),r.unshift(h),n=r.length}}else r.push(c),n=r.length+1,r.shift();n>i&&(i=n)}return i},e.prototype.getIndexAt=function(e,t,n){var i=0,r=t.length-1;if(0===e)return 0;for(;i<=r;){var o=Math.floor((i+r)/2),a=e-t[o];if(a>0)i=o+1;else{if(!(a<0))return o;r=o-1}}return r},e.prototype._recalcScrollBarSize=function(){var e=this.isRemote?this.totalItemCount:this.igxForOf?this.igxForOf.length:0;if(this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.dc&&this.state.chunkSize<e),"horizontal"===this.igxForScrollOrientation){var t=this.igxForContainerSize?this.initSizesCache(this.igxForOf):0;this.hScroll.style.width=this.igxForContainerSize+"px",this.hScroll.children[0].style.width=t+"px",t<=parseInt(this.igxForContainerSize,10)&&(this.scrollPosition=0)}"vertical"===this.igxForScrollOrientation&&(this.vh.instance.elementRef.nativeElement.style.height=parseInt(this.igxForContainerSize,10)+"px",this.vh.instance.height=this._calcHeight(),this.vh.instance.height<=parseInt(this.igxForContainerSize,10)&&(this.scrollPosition=0))},e.prototype._calcHeight=function(){var e;return e=this.heightCache?this.heightCache.reduce(function(e,t){return e+t},0):this.initSizesCache(this.igxForOf),this._virtHeight=e,e>this._maxHeight&&(this._virtHeightRatio=e/this._maxHeight,e=this._maxHeight),e},e.prototype._recalcOnContainerChange=function(e){this.dc.instance._viewContainer.element.nativeElement.style.top="0px",this.dc.instance._viewContainer.element.nativeElement.style.left="0px";var t=this.state.chunkSize;if(this.applyChunkSizeChange(),this._recalcScrollBarSize(),t!==this.state.chunkSize&&this.onChunkLoad.emit(this.state),this.sizesCache&&this.hScroll){var n=this.fixedUpdateAllElements(this.scrollPosition);this.dc.instance._viewContainer.element.nativeElement.style.left=-n+"px"}},e.prototype.removeLastElem=function(){var e=this._embeddedViews.pop();this.onBeforeViewDestroyed.emit(e),e.destroy(),this.state.chunkSize--},e.prototype.addLastElem=function(){var e=this,t=this.state.startIndex+this.state.chunkSize;if(this.isRemote||this.igxForOf){t>=this.igxForOf.length&&(t=this.igxForOf.length-this.state.chunkSize);var n=this.igxForOf[t],i=this.dc.instance._vcr.createEmbeddedView(this._template,new pi(n,this.getContextIndex(n),this.igxForOf.length));this._embeddedViews.push(i),this.state.chunkSize++,this._zone.run(function(){e.cdr.markForCheck()})}},e.prototype.applyChunkSizeChange=function(){var e=this.isRemote?this.igxForOf?this.igxForOf.length:0:this._calculateChunkSize();if(e>this.state.chunkSize)for(var t=e-this.state.chunkSize,n=0;n<t;n++)this.addLastElem();else if(e<this.state.chunkSize)for(t=this.state.chunkSize-e,n=0;n<t;n++)this.removeLastElem()},e.prototype._updateScrollOffset=function(){"horizontal"===this.igxForScrollOrientation?this._updateHScrollOffset():this._updateVScrollOffset()},e.prototype._updateVScrollOffset=function(){var e,t=this.vh.instance.elementRef.nativeElement;e=t&&parseInt(t.style.height,10)?this.scrollPosition-this.sizesCache[this.state.startIndex]:0,this.dc.instance._viewContainer.element.nativeElement.style.top=-e+"px"},e.prototype._updateHScrollOffset=function(){var e;e=this.hScroll&&parseInt(this.hScroll.children[0].style.width,10)?this.scrollPosition-this.sizesCache[this.state.startIndex]:0,this.dc.instance._viewContainer.element.nativeElement.style.left=-e+"px"},e.prototype._getItemSize=function(e,t){var n=e[t];return"number"==typeof n?n:parseInt(this.igxForItemSize,10)||0},e.decorators=[{type:o.t,args:[{selector:"[igxFor][igxForOf]"}]}],e.ctorParameters=function(){return[{type:o.qb},{type:o.kb},{type:o.H},{type:o.p},{type:o.k},{type:o.Q}]},e.propDecorators={igxForOf:[{type:o.G}],igxForSizePropName:[{type:o.G}],igxForScrollOrientation:[{type:o.G}],igxForScrollContainer:[{type:o.G}],igxForContainerSize:[{type:o.G}],igxForItemSize:[{type:o.G}],onChunkLoad:[{type:o.S}],onDataChanged:[{type:o.S}],onBeforeViewDestroyed:[{type:o.S}],onChunkPreload:[{type:o.S}],igxForTrackBy:[{type:o.G}]},e}();function hi(e){return e.name||typeof e}var gi=function(e){function t(t,n,i,r,a,s,l){var c=e.call(this,t,n,i,r,a,s)||this;return c.syncService=l,c.onDataChanging=new o.x,c}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"igxGridForOf",{get:function(){return this.igxForOf},set:function(e){this.igxForOf=e},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.syncService.setMaster(this),e.prototype.ngOnInit.call(this),this.removeScrollEventListeners()},t.prototype.ngOnChanges=function(e){if(this.syncService.setMaster(this),"igxGridForOf"in e){var t=e.igxGridForOf.currentValue;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.igxForTrackBy)}catch(n){throw new Error('Cannot find a differ supporting object "'+t+'" of type "'+hi(t)+'".\n                     NgFor only supports binding to Iterables such as Arrays.')}}"igxForItemSize"in e&&!e.igxForItemSize.firstChange&&"vertical"===this.igxForScrollOrientation&&this.igxForOf&&this.initSizesCache(this.igxForOf);"igxForContainerSize"in e&&!e.igxForContainerSize.firstChange&&this.igxForOf&&this._recalcOnContainerChange(e)},Object.defineProperty(t.prototype,"sizesCache",{get:function(){return this.syncService.isMaster(this)?this._sizesCache:this.syncService.sizesCache(this.igxForScrollOrientation)},set:function(e){this._sizesCache=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsDimension",{get:function(){return"horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height"},enumerable:!0,configurable:!0}),t.prototype.getItemSize=function(e){var t=0,n="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height";return"height"===n?(t=parseInt(this.igxForItemSize,10)||0,e&&e.summaries?t=e.max:e&&e.groups&&e.height&&(t=e.height)):t=parseInt(e[n],10)||0,t},t.prototype.initSizesCache=function(e){if(!this.syncService.isMaster(this)){var t=this.syncService.sizesCache(this.igxForScrollOrientation);return t[t.length-1]}var n=0,i=0,r=0;this.sizesCache=[],this.heightCache=[],this.sizesCache.push(0);for(var o=this.isRemote?this.totalItemCount:e.length;r<o;r++)i=this.getItemSize(e[r]),"height"===this.itemsDimension&&this.heightCache.push(i),n+=i,this.sizesCache.push(n);return n},t.prototype._updateSizeCache=function(e){var t=this;if(void 0===e&&(e=null),"horizontal"!==this.igxForScrollOrientation){var n=this.heightCache.length>0?this.heightCache.reduce(function(e,t){return e+t}):0,i=n-(e&&!this.isRemote?this.handleCacheChanges(e):this.initSizesCache(this.igxForOf));Math.abs(i)>0&&requestAnimationFrame(function(){t.recalcUpdateSizes();var e=parseInt(t.dc.instance._viewContainer.element.nativeElement.style.top,10);0!==t.scrollPosition?t.scrollPosition=t.sizesCache[t.state.startIndex]-e:t._updateScrollOffset()})}else this.initSizesCache(this.igxForOf)},t.prototype.handleCacheChanges=function(e){var t=this,n=[],i=[],r=[];r.push(0);var o=0,a=0;return e.forEachRemovedItem(function(){return a++}),e.forEachIdentityChange(function(e){e.currentIndex!==e.previousIndex&&(n[e.currentIndex]=e)}),e.forEachItem(function(e){null!==e.previousIndex&&(a<2||!n.length||n[e.currentIndex])?i[e.currentIndex]=t.heightCache[e.previousIndex]:i[e.currentIndex]=t.getItemSize(e.item),r[e.currentIndex+1]=r[e.currentIndex]+i[e.currentIndex],o+=i[e.currentIndex]}),this.heightCache=i,this.sizesCache=r,o},t.prototype.assumeMaster=function(){this._sizesCache=this.syncService.sizesCache(this.igxForScrollOrientation),this.syncService.setMaster(this,!0)},t.prototype.ngDoCheck=function(){if(this._differ){var e=this._differ.diff(this.igxForOf);if(e){var t={containerSize:this.igxForContainerSize};this.onDataChanging.emit(t),this.igxForOf||(this.igxForOf=[]),this.igxForOf.length||"vertical"!==this.igxForScrollOrientation||this.syncService.resetMaster(),this.syncService.setMaster(this),this.igxForContainerSize=t.containerSize,this._updateSizeCache(e),this._applyChanges(),this._updateScrollOffset(),this.onDataChanged.emit()}}},t.prototype.onScroll=function(e){var t=this;if(parseInt(this.vh.instance.elementRef.nativeElement.style.height,10)){var n=parseInt(this.igxForContainerSize,10),i=e.target.children[0].scrollHeight-n,r=0!==i?e.target.scrollTop/i:0;if(this._bScrollInternal)this._bScrollInternal=!1;else{var o=this._virtHeight-n;this._virtScrollTop=r*o}this._scrollPosition=this._virtScrollTop;var a=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-a+"px",requestAnimationFrame(function(){t.recalcUpdateSizes()})}},t.prototype.onHScroll=function(e){if(this.hScroll&&parseInt(this.hScroll.children[0].style.width,10)){this._scrollPosition=e;var t=this.fixedUpdateAllElements(e);this.dc.instance._viewContainer.element.nativeElement.style.left=-t+"px"}},t.prototype.addLastElem=function(){var e=this.state.startIndex+this.state.chunkSize;if(this.isRemote||this.igxForOf){e>=this.igxForOf.length&&(e=this.igxForOf.length-this.state.chunkSize);var t=this.igxForOf[e],n=this.dc.instance._vcr.createEmbeddedView(this._template,new pi(t,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(n),this.state.chunkSize++}},t.prototype._updateViews=function(e){var t=this;if(this.igxForOf&&this.igxForOf.length&&this.dc){var n=Object.assign([],this._embeddedViews),i=void 0,r=void 0;this.isRemote?(i=0,r=this.igxForOf.length):((i=this.getIndexAt(this.scrollPosition,this.sizesCache,0))+this.state.chunkSize>this.igxForOf.length&&(i=this.igxForOf.length-this.state.chunkSize),this.state.startIndex=i,r=this.state.chunkSize+this.state.startIndex);for(var o=i;o<r&&void 0!==this.igxForOf[o];o++){var a=this.igxForOf[o],s=n.shift().context;s.$implicit=a,s.index=this.getContextIndex(a),s.count=this.igxForOf.length}e!==this.state.chunkSize&&this.onChunkLoad.emit(this.state),"vertical"===this.igxForScrollOrientation&&requestAnimationFrame(function(){t.recalcUpdateSizes()})}},t.prototype._applyChanges=function(){var e=this.state.chunkSize;this.applyChunkSizeChange(),this._recalcScrollBarSize(),this._updateViews(e)},t.prototype._calcMaxChunkSize=function(){return this.syncService.isMaster(this)?e.prototype._calcMaxChunkSize.call(this):this.syncService.chunkSize(this.igxForScrollOrientation)},t.decorators=[{type:o.t,args:[{selector:"[igxGridFor][igxGridForOf]"}]}],t.ctorParameters=function(){return[{type:o.qb},{type:o.kb},{type:o.H},{type:o.p},{type:o.k},{type:o.Q},{type:di}]},t.propDecorators={igxGridForOf:[{type:o.G}],onDataChanging:[{type:o.S}]},t}(ui),fi=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[ui,gi,oi,si,ai],entryComponents:[oi,si,ai],exports:[ui,gi],imports:[ci,a.b]}]}],e}(),mi=function(e){function t(t,n,i,r){var a=e.call(this,t,n,r)||this;return a.elementRef=t,a.cdr=n,a.selection=i,a._displayDensityOptions=r,a.destroy$=new E.a,a.onOpening=new o.x,a.onOpened=new o.x,a.onClosing=new o.x,a.onClosed=new o.x,a.allowItemsFocus=!1,a}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"focusedItem",{get:function(){var e=this;return this.virtDir?this._focusedItem&&-1!==this._focusedItem.index&&this.children.find(function(t){return t.index===e._focusedItem.index})||null:this._focusedItem},set:function(e){if(!e)return this.selection.clear(this.id+"-active"),void(this._focusedItem=null);this._focusedItem=e,this.virtDir&&(this._focusedItem={value:e.value,index:e.index}),this.selection.set(this.id+"-active",new Set([this._focusedItem]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){this.toggleDirective.id=e,this.selection.set(e,this.selection.get(this.id)),this.selection.clear(this.id),this.selection.set(e,this.selection.get(this.id+"-active")),this.selection.clear(this.id+"-active"),this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listId",{get:function(){return this.id+"-list"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){var e=this.selection.first_item(this.id);return e||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapsed",{get:function(){return this.toggleDirective.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollContainer",{get:function(){return this.toggleDirective.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionLength",{get:function(){if(this.virtDir)return this.virtDir.totalItemCount||this.virtDir.igxForOf.length},enumerable:!0,configurable:!0}),t.prototype.open=function(e){this.toggleDirective.open(e),this.updateScrollPosition()},t.prototype.close=function(){this.toggleDirective.close()},t.prototype.toggle=function(e){this.collapsed||this.toggleDirective.isClosing?this.open(e):this.close()},t.prototype.setSelectedItem=function(e){var t;e<0||e>=this.items.length||(t=this.virtDir?{value:this.virtDir.igxForOf[e],index:e}:this.items[e],this.selectItem(t))},t.prototype.navigateItem=function(t){var n=this;if(this.virtDir){if(-1===t||t>=this.collectionLength)return;var i=t>(this.focusedItem?this.focusedItem.index:-1)?Nn.Down:Nn.Up,r=this.isIndexOutOfBounds(t,i);this.focusedItem={value:this.virtDir.igxForOf[t],index:t},r&&this.virtDir.scrollTo(t),r?this.virtDir.onChunkLoad.pipe(Object(N.a)(1)).subscribe(function(){n.skipHeader(i)}):this.skipHeader(i)}else e.prototype.navigateItem.call(this,t);this.allowItemsFocus&&this.focusedItem&&(this.focusedItem.element.nativeElement.focus(),this.cdr.markForCheck())},t.prototype.isIndexOutOfBounds=function(e,t){var n=this.virtDir.state,i=this.virtDir.getVerticalScroll().scrollTop,r=this.virtDir.getScrollForIndex(e,t===Nn.Down),o=e<n.startIndex||e>n.chunkSize+n.startIndex,a=t===Nn.Down?i<r:i>r;return o||a},t.prototype.skipHeader=function(e){this.focusedItem&&(this.focusedItem.isHeader||this.focusedItem.disabled)&&(e===Nn.Up?this.navigatePrev():this.navigateNext())},t.prototype.updateScrollPosition=function(){if(this.virtDir)if(this.selectedItem){var e=this.virtDir.getScrollForIndex(this.selectedItem.index);e-=(this.virtDir.igxForContainerSize/this.virtDir.igxForItemSize/2-1)*this.virtDir.igxForItemSize,this.virtDir.getVerticalScroll().scrollTop=e}else this.virtDir.scrollTo(0)},t.prototype.onToggleOpening=function(e){this.onOpening.emit(e),e.cancel||(!this.virtDir&&this.selectedItem&&this.scrollToItem(this.selectedItem),this.virtDir&&(this.virtDir.getVerticalScroll().scrollTop=this._scrollPosition))},t.prototype.onToggleOpened=function(){this.selectedItem?(this.focusedItem=this.selectedItem,this._focusedItem.focused=!0):this.allowItemsFocus&&this.navigateFirst(),this.onOpened.emit()},t.prototype.onToggleClosing=function(e){this.onClosing.emit(e),this.virtDir&&(this._scrollPosition=this.virtDir.getVerticalScroll().scrollTop)},t.prototype.onToggleClosed=function(){this._focusedItem&&(this._focusedItem.focused=!1),this.onClosed.emit()},t.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete(),this.selection.clear(this.id),this.selection.clear(this.id+"-active")},t.prototype.scrollToItem=function(e){var t=this,n=this.calculateScrollPosition(e);ct()?setTimeout(function(){t.scrollContainer.scrollTop=n},1):this.scrollContainer.scrollTop=n},t.prototype.calculateScrollPosition=function(e){if(!e)return 0;var t=e.element.nativeElement.getBoundingClientRect(),n=this.scrollContainer.getBoundingClientRect().top-t.top,i=this.scrollContainer.scrollTop-n;return i-=this.scrollContainer.clientHeight/2,i+=e.elementHeight/2,Math.floor(i)},t.prototype.ngOnInit=function(){this.toggleDirective.id=this.id},t.prototype.ngAfterViewInit=function(){this.virtDir&&(this.virtDir.igxForItemSize=28)},t.prototype.onItemActionKey=function(t,n){e.prototype.onItemActionKey.call(this,t,n),this.close()},t.prototype.navigateFirst=function(){this.virtDir?this.navigateItem(0):e.prototype.navigateFirst.call(this)},t.prototype.navigateLast=function(){this.virtDir?this.navigateItem(this.virtDir.totalItemCount?this.virtDir.totalItemCount-1:this.virtDir.igxForOf.length-1):e.prototype.navigateLast.call(this)},t.prototype.navigateNext=function(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index+1:0):e.prototype.navigateNext.call(this)},t.prototype.navigatePrev=function(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index-1:0):e.prototype.navigatePrev.call(this)},t.prototype.selectItem=function(e,t){var n=this.selectedItem;if(e||(e=this.focusedItem),null!==e&&!(e instanceof Qn&&e.isHeader)){this.virtDir&&(e={value:e.value,index:e.index});var i={oldSelection:n,newSelection:e,cancel:!1};this.onSelection.emit(i),i.cancel||(this.selection.set(this.id,new Set([e])),this.virtDir||(n&&(n.selected=!1),e&&(e.selected=!0)),t&&this.toggleDirective.close())}},t.decorators=[{type:o.n,args:[{selector:"igx-drop-down",template:'<div class="igx-drop-down__list" igxToggle [style.width]="width" [style.height]="height"\n[style.maxHeight]="maxHeight" [attr.id]="this.listId" role="listbox"\n    (onOpening)="onToggleOpening($event)" (onOpened)="onToggleOpened()"\n    (onClosing)="onToggleClosing($event)" (onClosed)="onToggleClosed()">\n    <ng-container *ngIf="!collapsed">\n        <ng-content></ng-content>\n    </ng-container>\n</div>\n',providers:[{provide:"IgxDropDownBaseToken",useExisting:t}]}]}],t.ctorParameters=function(){return[{type:o.u},{type:o.k},{type:Kn},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={virtDir:[{type:o.r,args:[ui,{read:ui,static:!1}]}],toggleDirective:[{type:o.ob,args:[zn,{static:!0}]}],children:[{type:o.s,args:[Object(o.vb)(function(){return Jn}),{descendants:!0}]}],onOpening:[{type:o.S}],onOpened:[{type:o.S}],onClosing:[{type:o.S}],onClosed:[{type:o.S}],allowItemsFocus:[{type:o.G}],id:[{type:o.G}]},t}(ri),yi=function(){function e(e){this.dropdown=e,this._target=null}return Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(e){this._target=e||this.dropdown},enumerable:!0,configurable:!0}),e.prototype.handleKeyDown=function(e){if(e){var t=e.key.toLowerCase();if(this.target.collapsed)return;if(-1===["esc","escape","enter","space","spacebar"," ","arrowup","up","arrowdown","down","home","end"].indexOf(t))return;switch(e.preventDefault(),e.stopPropagation(),t){case"esc":case"escape":this.target.onItemActionKey(Wn,e);break;case"enter":this.target.onItemActionKey(Yn,e);break;case"space":case"spacebar":case" ":this.target.onItemActionKey(Un,e);break;case"arrowup":case"up":this.onArrowUpKeyDown();break;case"arrowdown":case"down":this.onArrowDownKeyDown();break;case"home":this.onHomeKeyDown();break;case"end":this.onEndKeyDown();break;default:return}}},e.prototype.onArrowDownKeyDown=function(){this.target.navigateNext()},e.prototype.onArrowUpKeyDown=function(){this.target.navigatePrev()},e.prototype.onEndKeyDown=function(){this.target.navigateLast()},e.prototype.onHomeKeyDown=function(){this.target.navigateFirst()},e.decorators=[{type:o.t,args:[{selector:"[igxDropDownItemNavigation]"}]}],e.ctorParameters=function(){return[{type:ri,decorators:[{type:o.eb},{type:o.R},{type:o.C,args:["IgxDropDownBaseToken"]}]}]},e.propDecorators={target:[{type:o.G,args:["igxDropDownItemNavigation"]}],handleKeyDown:[{type:o.A,args:["keydown",["$event"]]}]},e}(),bi=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[mi,Jn,Xn,yi],exports:[mi,Jn,Xn,yi],imports:[a.b,Hn],providers:[Kn]}]}],e}(),vi={START:0,END:1};vi[vi.START]="START",vi[vi.END]="END";var xi=function(){function e(e){this._element=e,this._position=vi.START,this.isPositionStart=!1,this.isPositionEnd=!1}return Object.defineProperty(e.prototype,"position",{get:function(){return this._position.toString()},set:function(e){var t=vi[e.toUpperCase()];void 0!==t&&(this._position=t,this._applyPosition(this._position))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._applyPosition(this._position)},e.prototype._applyPosition=function(e){switch(this.isPositionStart=this.isPositionEnd=!1,e){case vi.START:this.isPositionStart=!0;break;case vi.END:this.isPositionEnd=!0}},e.decorators=[{type:o.t,args:[{selector:"igx-hint,[igxHint]"}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={isPositionStart:[{type:o.z,args:["class.igx-input-group__hint-item--start"]}],isPositionEnd:[{type:o.z,args:["class.igx-input-group__hint-item--end"]}],position:[{type:o.G,args:["position"]}]},e}(),_i=function(){return function(){}}(),wi=["required","pattern","minlength","maxlength","min","max","step"],Ci={INITIAL:0,VALID:1,INVALID:2};Ci[Ci.INITIAL]="INITIAL",Ci[Ci.VALID]="VALID",Ci[Ci.INVALID]="INVALID";var Si=function(){function e(e,t,n,i,r){this.inputGroup=e,this.ngModel=t,this.formControl=n,this.element=i,this.cdr=r,this._valid=Ci.INITIAL,this.isInput=!1,this.isTextArea=!1}return Object.defineProperty(e.prototype,"ngControl",{get:function(){return this.ngModel?this.ngModel:this.formControl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.nativeElement.value},set:function(e){this.nativeElement.value=e,this.checkValidity()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.nativeElement.hasAttribute("disabled")},set:function(e){this.nativeElement.disabled=e,this.inputGroup.disabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this.nativeElement.hasAttribute("required")},set:function(e){"boolean"==typeof e&&(this.nativeElement.required=this.inputGroup.isRequired=e,e&&!this.nativeElement.checkValidity()?this._valid=Ci.INVALID:this._valid=Ci.INITIAL)},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(e){this.inputGroup.isFocused=!0},e.prototype.onBlur=function(e){this.inputGroup.isFocused=!1,this._valid=Ci.INITIAL,this.ngControl?this.ngControl.valid||(this._valid=Ci.INVALID):this._hasValidators()&&!this.nativeElement.checkValidity()&&(this._valid=Ci.INVALID)},e.prototype.onInput=function(){this.checkValidity()},e.prototype.ngAfterViewInit=function(){if(this.inputGroup.hasPlaceholder=this.nativeElement.hasAttribute("placeholder"),this.inputGroup.disabled=this.inputGroup.disabled||this.nativeElement.hasAttribute("disabled"),this.inputGroup.isRequired=this.nativeElement.hasAttribute("required"),this.ngControl||(this._valid=Ci.INITIAL),!this.inputGroup.isRequired&&this.ngControl&&this.ngControl.control.validator){var e=this.ngControl.control.validator({});this.inputGroup.isRequired=e&&e.required}"textarea"===this.nativeElement.tagName.toLowerCase()?this.isTextArea=!0:this.isInput=!0,this.ngControl&&(this._statusChanges$=this.ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this))),this.cdr.detectChanges()},e.prototype.ngOnDestroy=function(){this._statusChanges$&&this._statusChanges$.unsubscribe()},e.prototype.focus=function(){this.nativeElement.focus()},Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onStatusChanged=function(){(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(this.ngControl.control.touched||this.ngControl.control.dirty?this.inputGroup.isFocused?this._valid=this.ngControl.valid?Ci.VALID:Ci.INVALID:this._valid=this.ngControl.valid?Ci.INITIAL:Ci.INVALID:this._valid=Ci.INITIAL)},Object.defineProperty(e.prototype,"hasPlaceholder",{get:function(){return this.nativeElement.hasAttribute("placeholder")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this.nativeElement.placeholder},enumerable:!0,configurable:!0}),e.prototype._hasValidators=function(){var e,t;try{for(var n=Object(r.j)(wi),i=n.next();!i.done;i=n.next()){var o=i.value;if(this.nativeElement.hasAttribute(o))return!0}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return!(!this.ngControl||!this.ngControl.control.validator&&!this.ngControl.control.asyncValidator)},Object.defineProperty(e.prototype,"focused",{get:function(){return this.inputGroup.isFocused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this._valid},set:function(e){this._valid=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this.valid!==Ci.INVALID},enumerable:!0,configurable:!0}),e.prototype.checkValidity=function(){!this.ngControl&&this._hasValidators()&&(this._valid=this.nativeElement.checkValidity()?Ci.VALID:Ci.INVALID)},e.decorators=[{type:o.t,args:[{selector:"[igxInput]",exportAs:"igxInput"}]}],e.ctorParameters=function(){return[{type:_i},{type:l.k,decorators:[{type:o.R},{type:o.eb},{type:o.C,args:[l.k]}]},{type:l.c,decorators:[{type:o.R},{type:o.eb},{type:o.C,args:[l.c]}]},{type:o.u},{type:o.k}]},e.propDecorators={value:[{type:o.G,args:["value"]}],disabled:[{type:o.G}],required:[{type:o.G}],isInput:[{type:o.z,args:["class.igx-input-group__input"]}],isTextArea:[{type:o.z,args:["class.igx-input-group__textarea"]}],onFocus:[{type:o.A,args:["focus",["$event"]]}],onBlur:[{type:o.A,args:["blur",["$event"]]}],onInput:[{type:o.A,args:["input"]}]},e}(),Di=0,Oi=function(){function e(){this.defaultClass=!0,this.id="igx-label-"+Di++}return e.decorators=[{type:o.t,args:[{selector:"[igxLabel]"}]}],e.propDecorators={defaultClass:[{type:o.z,args:["class.igx-input-group__label"]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}]},e}(),Ii=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"igx-prefix,[igxPrefix]"}]}],e}(),ki=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Ii],exports:[Ii]}]}],e}(),Pi=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"igx-suffix,[igxSuffix]"}]}],e}(),Ei=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Pi],exports:[Pi]}]}],e}(),Ti=0,Ai={LINE:0,BOX:1,BORDER:2,SEARCH:3};Ai[Ai.LINE]="LINE",Ai[Ai.BOX]="BOX",Ai[Ai.BORDER]="BORDER",Ai[Ai.SEARCH]="SEARCH";var Ri=function(e){function t(t,n){var i=e.call(this,n)||this;return i._element=t,i._displayDensityOptions=n,i._type=Ai.LINE,i._filled=!1,i._supressInputAutofocus=!1,i.id="igx-input-group-"+Ti++,i.defaultClass=!0,i.hasPlaceholder=!1,i.isRequired=!1,i.isFocused=!1,i.isBox=!1,i.isBorder=!1,i.isSearch=!1,i.disabled=!1,i.hasWarning=!1,i.element=t,i}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"validClass",{get:function(){return this.input.valid===Ci.VALID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalidClass",{get:function(){return this.input.valid===Ci.INVALID},enumerable:!0,configurable:!0}),t.prototype.onClick=function(e){this._supressInputAutofocus||this.input.focus()},Object.defineProperty(t.prototype,"type",{get:function(){return this._type.toString()},set:function(e){var t=Ai[e.toUpperCase()];if(void 0!==t){switch(this.isBox=this.isBorder=this.isSearch=!1,t){case Ai.BOX:this.isBox=!0;break;case Ai.BORDER:this.isBorder=!0;break;case Ai.SEARCH:this.isSearch=!0}this._type=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"supressInputAutofocus",{get:function(){return this._supressInputAutofocus},set:function(e){this._supressInputAutofocus=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFilled",{get:function(){return this._filled||this.input&&this.input.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisplayDensityCosy",{get:function(){return this.displayDensity===ei.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisplayDensityComfortable",{get:function(){return this.displayDensity===ei.comfortable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisplayDensityCompact",{get:function(){return this.displayDensity===ei.compact},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasHints",{get:function(){return this.hints.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasBorder",{get:function(){return this._type===Ai.LINE||this._type===Ai.BOX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTypeLine",{get:function(){return this._type===Ai.LINE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTypeBox",{get:function(){return this._type===Ai.BOX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTypeBorder",{get:function(){return this._type===Ai.BORDER},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTypeSearch",{get:function(){return this._type===Ai.SEARCH},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filled",{get:function(){return this._filled},set:function(e){this._filled=e},enumerable:!0,configurable:!0}),t.decorators=[{type:o.n,args:[{selector:"igx-input-group",template:'<div class="igx-input-group__wrapper" *ngIf="isTypeBox; else bundle">\n    <ng-container *ngTemplateOutlet="bundle"></ng-container>\n</div>\n<div class="igx-input-group__hint">\n    <ng-content select="igx-hint,[igxHint]"></ng-content>\n</div>\n<ng-template #bundle>\n    <div class="igx-input-group__bundle">\n        <ng-content select="igx-prefix,[igxPrefix]"></ng-content>\n        <div class="igx-input-group__bundle-main">\n            <ng-content select="[igxLabel]"></ng-content>\n            <ng-content select="[igxInput]"></ng-content>\n        </div>\n        <ng-content select="igx-suffix,[igxSuffix]"></ng-content>\n    </div>\n    <div class="igx-input-group__border" *ngIf="hasBorder"></div>\n</ng-template>\n',providers:[{provide:_i,useExisting:t}]}]}],t.ctorParameters=function(){return[{type:o.u},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],defaultClass:[{type:o.z,args:["class.igx-input-group"]}],hasPlaceholder:[{type:o.z,args:["class.igx-input-group--placeholder"]}],isRequired:[{type:o.z,args:["class.igx-input-group--required"]}],isFocused:[{type:o.z,args:["class.igx-input-group--focused"]}],isBox:[{type:o.z,args:["class.igx-input-group--box"]}],isBorder:[{type:o.z,args:["class.igx-input-group--border"]}],isSearch:[{type:o.z,args:["class.igx-input-group--search"]}],disabled:[{type:o.z,args:["class.igx-input-group--disabled"]},{type:o.G}],validClass:[{type:o.z,args:["class.igx-input-group--valid"]}],invalidClass:[{type:o.z,args:["class.igx-input-group--invalid"]}],hasWarning:[{type:o.z,args:["class.igx-input-group--warning"]}],hints:[{type:o.s,args:[xi,{read:xi}]}],input:[{type:o.r,args:[Si,{read:Si,static:!0}]}],onClick:[{type:o.A,args:["click",["$event"]]}],type:[{type:o.G,args:["type"]}],supressInputAutofocus:[{type:o.G}],isFilled:[{type:o.z,args:["class.igx-input-group--filled"]}],isDisplayDensityCosy:[{type:o.z,args:["class.igx-input-group--cosy"]}],isDisplayDensityComfortable:[{type:o.z,args:["class.igx-input-group--comfortable"]}],isDisplayDensityCompact:[{type:o.z,args:["class.igx-input-group--compact"]}]},t}(ni),ji=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Ri,xi,Si,Oi],exports:[Ri,xi,Si,Oi,Ii,Pi],imports:[a.b,ki,Ei]}]}],e}(),Fi=function(e){function t(t,n,i,r,a){var s=e.call(this,null)||this;return s.ngModel=t,s.formControl=n,s.group=i,s.elementRef=r,s.cdr=a,s.defaultSettings={modal:!1,scrollStrategy:new Fn,positionStrategy:new jn({target:s.parentElement}),excludePositionTarget:!0},s.dropDownOpened$=new E.a,s.disabled=!1,s.onItemSelected=new o.x,s.autofill="off",s.role="combobox",s.select=function(e){if(e.newSelection){e.cancel=!0;var t=e.newSelection.value,n={value:t,cancel:!1};s.onItemSelected.emit(n),n.cancel||(s.close(),s.nativeElement.focus(),s.model?s.model.control.setValue(t):s.nativeElement.value=t)}},s.highlightFirstItem=function(){s.target.focusedItem&&(s.target.focusedItem.focused=!1,s.target.focusedItem=null),s.target.navigateFirst(),s.cdr.detectChanges()},s}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.ngModel||this.formControl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentElement",{get:function(){return this.group?this.group.element.nativeElement:this.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settings",{get:function(){var e=Object.assign({},this.defaultSettings,this.autocompleteSettings);if(!e.positionStrategy.settings.target){var t=e.positionStrategy.clone();t.settings.target=this.parentElement,e.positionStrategy=t}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaExpanded",{get:function(){return!this.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPopUp",{get:function(){return"listbox"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaOwns",{get:function(){return this.target.listId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaActiveDescendant",{get:function(){return!this.target.collapsed&&this.target.focusedItem?this.target.focusedItem.id:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaAutocomplete",{get:function(){return"list"},enumerable:!0,configurable:!0}),t.prototype.onInput=function(){this.open()},t.prototype.onArrowDown=function(e){e.preventDefault(),this.open()},t.prototype.onTab=function(){this.close()},t.prototype.handleKeyDown=function(t){if(!this.collapsed)switch(t.key.toLowerCase()){case"space":case"spacebar":case" ":case"home":case"end":return;default:e.prototype.handleKeyDown.call(this,t)}},t.prototype.onArrowDownKeyDown=function(){e.prototype.onArrowDownKeyDown.call(this)},t.prototype.onArrowUpKeyDown=function(){e.prototype.onArrowUpKeyDown.call(this)},t.prototype.onEndKeyDown=function(){e.prototype.onEndKeyDown.call(this)},t.prototype.onHomeKeyDown=function(){e.prototype.onHomeKeyDown.call(this)},t.prototype.close=function(){this.collapsed||(this.target.close(),this.dropDownOpened$.next())},t.prototype.open=function(){!this.disabled&&this.collapsed&&(this.target.width=this.parentElement.clientWidth+"px",this.target.open(this.settings),this.target.onSelection.pipe(Object(H.a)(this.dropDownOpened$)).subscribe(this.select),this.target.onOpened.pipe(Object(W.a)()).subscribe(this.highlightFirstItem),this.target.children.changes.pipe(Object(H.a)(this.dropDownOpened$)).subscribe(this.highlightFirstItem))},Object.defineProperty(t.prototype,"collapsed",{get:function(){return!this.target||this.target.collapsed},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.dropDownOpened$.complete()},t.decorators=[{type:o.t,args:[{selector:"[igxAutocomplete]"}]}],t.ctorParameters=function(){return[{type:l.k,decorators:[{type:o.eb},{type:o.R},{type:o.C,args:[l.k]}]},{type:l.c,decorators:[{type:o.eb},{type:o.R},{type:o.C,args:[l.c]}]},{type:Ri,decorators:[{type:o.R}]},{type:o.u},{type:o.k}]},t.propDecorators={target:[{type:o.G,args:["igxAutocomplete"]}],disabled:[{type:o.G,args:["igxAutocompleteDisabled"]}],autocompleteSettings:[{type:o.G,args:["igxAutocompleteSettings"]}],onItemSelected:[{type:o.S}],autofill:[{type:o.z,args:["attr.autocomplete"]}],role:[{type:o.z,args:["attr.role"]}],ariaExpanded:[{type:o.z,args:["attr.aria-expanded"]}],hasPopUp:[{type:o.z,args:["attr.aria-haspopup"]}],ariaOwns:[{type:o.z,args:["attr.aria-owns"]}],ariaActiveDescendant:[{type:o.z,args:["attr.aria-activedescendant"]}],ariaAutocomplete:[{type:o.z,args:["attr.aria-autocomplete"]}],onInput:[{type:o.A,args:["input",["$event"]]}],onArrowDown:[{type:o.A,args:["keydown.ArrowDown",["$event"]]},{type:o.A,args:["keydown.Alt.ArrowDown",["$event"]]},{type:o.A,args:["keydown.ArrowUp",["$event"]]},{type:o.A,args:["keydown.Alt.ArrowUp",["$event"]]}],onTab:[{type:o.A,args:["keydown.Tab",["$event"]]},{type:o.A,args:["keydown.Shift.Tab",["$event"]]}]},t}(yi),Li=(function(){function e(){}e.decorators=[{type:o.L,args:[{imports:[bi,a.b],declarations:[Fi],exports:[Fi]}]}]}(),function(e){function t(t,n,i){var r=e.call(this,i)||this;return r.element=t,r._renderer=n,r._displayDensityOptions=i,r._defaultType="flat",r._cssClassPrefix="igx-button",r.buttonClick=new o.x,r.role="button",r.selected=!1,r}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{set:function(e){var t=e||this._defaultType;this._type!==t&&(this._renderer.removeClass(this.nativeElement,this._cssClassPrefix+"--"+this._type),this._type=t,this._renderer.addClass(this.nativeElement,this._cssClassPrefix+"--"+this._type))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{set:function(e){this._color=e||this.nativeElement.style.color,this._renderer.setStyle(this.nativeElement,"color",this._color)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"background",{set:function(e){this._backgroundColor=e||this._backgroundColor,this._renderer.setStyle(this.nativeElement,"background",this._backgroundColor)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{set:function(e){this._label=e||this._label,this._renderer.setAttribute(this.nativeElement,"aria-label",this._label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{set:function(e){e=!!e,this._disabled=e,e?this._renderer.addClass(this.nativeElement,this._cssClassPrefix+"--disabled"):this._renderer.removeClass(this.nativeElement,this._cssClassPrefix+"--disabled")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClassCosy",{get:function(){return("flat"===this._type||"raised"===this._type||"outlined"===this._type)&&this.displayDensity===ei.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClassCompact",{get:function(){return("flat"===this._type||"raised"===this._type||"outlined"===this._type)&&this.displayDensity===ei.compact},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClassCosyFab",{get:function(){return"fab"===this._type&&this.displayDensity===ei.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClassCompactFab",{get:function(){return"fab"===this._type&&this.displayDensity===ei.compact},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledAttribute",{get:function(){return this._disabled?this._disabled:null},enumerable:!0,configurable:!0}),t.prototype.onClick=function(e){this.buttonClick.emit(e)},t.decorators=[{type:o.t,args:[{selector:"[igxButton]"}]}],t.ctorParameters=function(){return[{type:o.u},{type:o.Z},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={buttonClick:[{type:o.S}],role:[{type:o.z,args:["attr.role"]}],type:[{type:o.G,args:["igxButton"]}],color:[{type:o.G,args:["igxButtonColor"]}],background:[{type:o.G,args:["igxButtonBackground"]}],label:[{type:o.G,args:["igxLabel"]}],disabled:[{type:o.G}],cssClassCosy:[{type:o.z,args:["class.igx-button--cosy"]}],cssClassCompact:[{type:o.z,args:["class.igx-button--compact"]}],cssClassCosyFab:[{type:o.z,args:["class.igx-button--fab-cosy"]}],cssClassCompactFab:[{type:o.z,args:["class.igx-button--fab-compact"]}],disabledAttribute:[{type:o.z,args:["attr.disabled"]}],selected:[{type:o.G}],onClick:[{type:o.A,args:["click",["$event"]]}]},t}(ni)),Mi=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Li],exports:[Li]}]}],e}(),Gi={DEFAULT:"default",DASHED:"dashed"},zi=0,Vi=function(){function e(){this.id="igx-divider-"+zi++,this._inset="0",this.role="separator",this.type=Gi.DEFAULT,this.middle=!1,this.vertical=!1}return Object.defineProperty(e.prototype,"isDashed",{get:function(){return this.type===Gi.DASHED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDefault",{get:function(){return this.type===Gi.DEFAULT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inset",{get:function(){return this.middle?this.vertical?this._inset+" 0":"0 "+this._inset:this.vertical?this._inset+" 0 0 0":"0 0 0 "+this._inset},set:function(e){this._inset=e},enumerable:!0,configurable:!0}),e.decorators=[{type:o.t,args:[{selector:"igx-divider"}]}],e.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],_inset:[{type:o.G,args:["inset"]}],role:[{type:o.z,args:["attr.role"]},{type:o.G}],type:[{type:o.z,args:["class.igx-divider"]},{type:o.G}],isDashed:[{type:o.z,args:["class.igx-divider--dashed"]}],middle:[{type:o.z,args:["class.igx-divider--inset"]},{type:o.G}],vertical:[{type:o.z,args:["class.igx-divider--vertical"]},{type:o.G}],inset:[{type:o.z,args:["style.margin"]}]},e}(),Bi=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[Vi],exports:[Vi]}]}]}(),{VERTICALLY:0,HORIZONTALLY:1,NONE:2});Bi[Bi.VERTICALLY]="VERTICALLY",Bi[Bi.HORIZONTALLY]="HORIZONTALLY",Bi[Bi.NONE]="NONE";var Hi=function(){function e(e,t,n,i){this.cdr=e,this.element=t,this.zone=n,this.renderer=i,this.dragTolerance=5,this.ghostImageClass="",this.hideBaseOnDrag=!1,this.animateOnRelease=!1,this.dragGhostHost=null,this.dragStart=new o.x,this.dragEnd=new o.x,this.returnMoveEnd=new o.x,this.dragClicked=new o.x,this.touch="none",this.transitionProperty="top, left",this._visibility="visible",this.defaultReturnDuration="0.5s",this._startX=0,this._startY=0,this._dragStarted=!1,this._pointerDownId=null,this._clicked=!1,this._lastDropArea=null,this._destroy=new E.a,this._removeOnDestroy=!0}return Object.defineProperty(e.prototype,"visible",{get:function(){return"visible"===this._visibility},set:function(e){this._visibility=e?"visible":"hidden",this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return parseInt(this.dragGhost.style.left,10)},set:function(e){var t=this;requestAnimationFrame(function(){t.dragGhost&&(t.dragGhost.style.left=e+"px")})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return parseInt(this.dragGhost.style.top,10)},set:function(e){var t=this;requestAnimationFrame(function(){t.dragGhost&&(t.dragGhost.style.top=e+"px")})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointerEventsEnabled",{get:function(){return"undefined"!=typeof PointerEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touchEventsEnabled",{get:function(){return"ontouchstart"in window},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.zone.runOutsideAngular(function(){e.pointerEventsEnabled?(Object(T.a)(e.element.nativeElement,"pointerdown").pipe(Object(H.a)(e._destroy)).subscribe(function(t){return e.onPointerDown(t)}),Object(T.a)(e.element.nativeElement,"pointermove").pipe($(function(){return F(0,M.a)}),Object(H.a)(e._destroy)).subscribe(function(t){return e.onPointerMove(t)}),Object(T.a)(e.element.nativeElement,"pointerup").pipe(Object(H.a)(e._destroy)).subscribe(function(t){return e.onPointerUp(t)})):e.touchEventsEnabled?(Object(T.a)(e.element.nativeElement,"touchstart").pipe(Object(H.a)(e._destroy)).subscribe(function(t){return e.onPointerDown(t)}),Object(T.a)(document.defaultView,"touchmove").pipe($(function(){return F(0,M.a)}),Object(H.a)(e._destroy)).subscribe(function(t){return e.onPointerMove(t)}),Object(T.a)(document.defaultView,"touchend").pipe(Object(H.a)(e._destroy)).subscribe(function(t){return e.onPointerUp(t)})):(Object(T.a)(e.element.nativeElement,"mousedown").pipe(Object(H.a)(e._destroy)).subscribe(function(t){return e.onPointerDown(t)}),Object(T.a)(document.defaultView,"mousemove").pipe($(function(){return F(0,M.a)}),Object(H.a)(e._destroy)).subscribe(function(t){return e.onPointerMove(t)}),Object(T.a)(document.defaultView,"mouseup").pipe(Object(H.a)(e._destroy)).subscribe(function(t){return e.onPointerUp(t)}))})},e.prototype.ngOnDestroy=function(){this._destroy.next(!0),this._destroy.complete(),this.dragGhost&&this._removeOnDestroy&&(this.dragGhost.parentNode.removeChild(this.dragGhost),this.dragGhost=null)},e.prototype.onPointerDown=function(e){this._clicked=!0,this._pointerDownId=e.pointerId,this.pointerEventsEnabled||!this.touchEventsEnabled?(this._startX=e.pageX,this._startY=e.pageY):this.touchEventsEnabled&&(this._startX=e.touches[0].pageX,this._startY=e.touches[0].pageY);var t=parseInt(document.defaultView.getComputedStyle(this.element.nativeElement)["margin-top"],10),n=parseInt(document.defaultView.getComputedStyle(this.element.nativeElement)["margin-left"],10);this._dragOffsetX=this._startX-this.element.nativeElement.getBoundingClientRect().left-this.getWindowScrollLeft()+n,this._dragOffsetY=this._startY-this.element.nativeElement.getBoundingClientRect().top-this.getWindowScrollTop()+t,this._dragStartX=this._startX-this._dragOffsetX,this._dragStartY=this._startY-this._dragOffsetY,this.pointerEventsEnabled?this.element.nativeElement.setPointerCapture(this._pointerDownId):(this.element.nativeElement.focus(),e.preventDefault())},e.prototype.onPointerMove=function(e){var t=this;if(this._clicked){var n={originalEvent:e,owner:this,cancel:!1},i=void 0,r=void 0;this.pointerEventsEnabled||!this.touchEventsEnabled?(i=e.pageX,r=e.pageY):this.touchEventsEnabled&&(i=e.touches[0].pageX,r=e.touches[0].pageY,e.preventDefault());var o=i-this._startX,a=r-this._startY;if(!this._dragStarted&&(Math.abs(o)>this.dragTolerance||Math.abs(a)>this.dragTolerance))return this.zone.run(function(){t.dragStart.emit(n)}),void(n.cancel||(this._dragStarted=!0,this.createDragGhost(e)));if(!this._dragStarted)return;this.left=this._dragStartX+o,this.top=this._dragStartY+a,this.dispatchDragEvents(i,r,e)}},e.prototype.onPointerUp=function(e){var t=this;if(this._clicked){var n={originalEvent:e,owner:this};this._clicked=!1,this._dragStarted?(this._lastDropArea&&this._lastDropArea!==this.element.nativeElement?(this.animateOnRelease||this.onTransitionEnd(null),this.dispatchDropEvent(e.pageX,e.pageY,e)):!this.animateOnRelease||this.left===Math.floor(this._dragStartX)&&this.top===Math.floor(this._dragStartY)?this.onTransitionEnd(null):(this.dragGhost.style.transitionDuration=this.defaultReturnDuration,this.left=this._dragStartX,this.top=this._dragStartY),this.zone.run(function(){t.dragEnd.emit(n)})):this.zone.run(function(){t.dragClicked.emit(n)})}},e.prototype.createDragGhost=function(e,t){var n=this;void 0===t&&(t=null),this.dragGhost=t?t.cloneNode(!0):this.element.nativeElement.cloneNode(!0),this.dragGhost.style.transitionDuration="0.0s",this.dragGhost.style.position="absolute";var i=this.dragGhostHost?this.dragGhostHost.getBoundingClientRect().left:0,r=this.dragGhostHost?this.dragGhostHost.getBoundingClientRect().top:0;this.dragGhost.style.top=this._dragStartY-r+"px",this.dragGhost.style.left=this._dragStartX-i+"px",this.ghostImageClass&&this.renderer.addClass(this.dragGhost,this.ghostImageClass),this.dragGhostHost?this.dragGhostHost.appendChild(this.dragGhost):document.body.appendChild(this.dragGhost),this.pointerEventsEnabled&&(this.dragGhost.setPointerCapture(this._pointerDownId),this.dragGhost.addEventListener("pointermove",function(e){n.onPointerMove(e)}),this.dragGhost.addEventListener("pointerup",function(e){n.onPointerUp(e)})),this.animateOnRelease&&this.dragGhost.addEventListener("transitionend",function(e){n.onTransitionEnd(e)}),this.hideBaseOnDrag&&(this.visible=!1)},e.prototype.dispatchDragEvents=function(e,t,n){for(var i,r={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:n},o=this.getElementsAtPoint(e,t),a=0;a<o.length;a++)if("true"===o[a].getAttribute("droppable")&&o[a]!==this.dragGhost){i=o[a];break}i&&this.dispatchEvent(i,"igxDragOver",r),i&&(!this._lastDropArea||this._lastDropArea&&this._lastDropArea!==i)?(this._lastDropArea&&this.dispatchEvent(this._lastDropArea,"igxDragLeave",r),this._lastDropArea=i,this.dispatchEvent(this._lastDropArea,"igxDragEnter",r)):!i&&this._lastDropArea&&(this.dispatchEvent(this._lastDropArea,"igxDragLeave",r),this._lastDropArea=null)},e.prototype.dispatchDropEvent=function(e,t,n){var i={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:n};this.dispatchEvent(this._lastDropArea,"igxDrop",i),this.dispatchEvent(this._lastDropArea,"igxDragLeave",i),this._lastDropArea=null},e.prototype.updateDragRelativePos=function(){if(this.dragGhost){var e=this.left-this._dragStartX,t=this.top-this._dragStartY,n=this.element.nativeElement.getBoundingClientRect().left,i=this.element.nativeElement.getBoundingClientRect().top,r=this._dragStartX-n,o=this._dragStartY-i;this.top=n+e-r,this.left=i+t-o}},e.prototype.dropFinished=function(){if(this.animateOnRelease&&this.dragGhost){this.updateDragRelativePos();var e=parseInt(document.defaultView.getComputedStyle(this.element.nativeElement)["margin-top"],10),t=parseInt(document.defaultView.getComputedStyle(this.element.nativeElement)["margin-left"],10),n=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop();this.dragGhost.style.transitionDuration=this.defaultReturnDuration,this.left=n-t,this.top=i-e}},e.prototype.onTransitionEnd=function(e){var t=this;this._dragStarted&&!this._clicked&&(this.hideBaseOnDrag&&(this.visible=!0),this.dragGhost.parentNode.removeChild(this.dragGhost),this.dragGhost=null,this.element.nativeElement.style.transitionDuration="0.0s",this._dragStarted=!1,this.zone.run(function(){t.returnMoveEnd.emit({originalEvent:e,owner:t})}))},e.prototype.getElementsAtPoint=function(e,t){var n=e-window.pageXOffset,i=t-window.pageYOffset;if(document.msElementsFromPoint){var r=document.msElementsFromPoint(n,i);return null===r?[]:r}return document.elementsFromPoint(n,i)},e.prototype.dispatchEvent=function(e,t,n){var i=document.createEvent("CustomEvent");i.initCustomEvent(t,!1,!1,n),e.dispatchEvent(i)},e.prototype.getWindowScrollTop=function(){return window.scrollY?window.scrollY:window.pageYOffset?window.pageYOffset:0},e.prototype.getWindowScrollLeft=function(){return window.scrollX?window.scrollX:window.pageXOffset?window.pageXOffset:0},e.decorators=[{type:o.t,args:[{selector:"[igxDrag]"}]}],e.ctorParameters=function(){return[{type:o.k},{type:o.u},{type:o.Q},{type:o.Z}]},e.propDecorators={data:[{type:o.G,args:["igxDrag"]}],dragTolerance:[{type:o.G}],ghostImageClass:[{type:o.G}],hideBaseOnDrag:[{type:o.G}],animateOnRelease:[{type:o.G}],dragGhostHost:[{type:o.G}],dragStart:[{type:o.S}],dragEnd:[{type:o.S}],returnMoveEnd:[{type:o.S}],dragClicked:[{type:o.S}],touch:[{type:o.z,args:["style.touchAction"]}],transitionProperty:[{type:o.z,args:["style.transitionProperty"]}],_visibility:[{type:o.z,args:["style.visibility"]}]},e}(),Ni=function(){function e(e,t,n){this.element=e,this._renderer=t,this._zone=n,this.onEnter=new o.x,this.onLeave=new o.x,this.onDrop=new o.x,this.droppable=!0,this.dragover=!1,this._destroy=new E.a}return e.prototype.ngOnInit=function(){var e=this;this._zone.runOutsideAngular(function(){Object(T.a)(e.element.nativeElement,"igxDragEnter").pipe(Object(H.a)(e._destroy)).subscribe(function(t){return e.onDragEnter(t)}),Object(T.a)(e.element.nativeElement,"igxDragLeave").pipe(Object(H.a)(e._destroy)).subscribe(function(t){return e.onDragLeave(t)}),Object(T.a)(e.element.nativeElement,"igxDragOver").pipe(Object(H.a)(e._destroy)).subscribe(function(t){return e.onDragOver(t)})})},e.prototype.ngOnDestroy=function(){this._destroy.next(!0),this._destroy.complete()},e.prototype.onDragOver=function(e){},e.prototype.onDragEnter=function(e){var t=this;this.dragover=!0;var n=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),r=e.detail.pageX-n,o=e.detail.pageY-i,a={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:r,offsetY:o};this._zone.run(function(){t.onEnter.emit(a)})},e.prototype.onDragLeave=function(e){var t=this;this.dragover=!1;var n=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),r=e.detail.pageX-n,o=e.detail.pageY-i,a={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:r,offsetY:o};this._zone.run(function(){t.onLeave.emit(a)})},e.prototype.onDragDrop=function(e){var t=this,n=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),r=e.detail.pageX-n,o=e.detail.pageY-i,a={owner:this,originalEvent:e.detail.originalEvent,drag:e.detail.owner,dragData:e.detail.owner.data,offsetX:r,offsetY:o,cancel:!1};this._zone.run(function(){t.onDrop.emit(a)}),a.cancel||(this._renderer.removeChild(e.detail.owner.element.nativeElement.parentNode,e.detail.owner.element.nativeElement),this._renderer.appendChild(this.element.nativeElement,e.detail.owner.element.nativeElement),setTimeout(function(){e.detail.owner.dropFinished()},0))},e.prototype.getWindowScrollTop=function(){return window.scrollY?window.scrollY:window.pageYOffset?window.pageYOffset:0},e.prototype.getWindowScrollLeft=function(){return window.scrollX?window.scrollX:window.pageXOffset?window.pageXOffset:0},e.decorators=[{type:o.t,args:[{selector:"[igxDrop]"}]}],e.ctorParameters=function(){return[{type:o.u},{type:o.Z},{type:o.Q}]},e.propDecorators={data:[{type:o.G,args:["igxDrop"]}],onEnter:[{type:o.S}],onLeave:[{type:o.S}],onDrop:[{type:o.S}],droppable:[{type:o.z,args:["attr.droppable"]}],dragover:[{type:o.z,args:["class.dragOver"]}],onDragDrop:[{type:o.A,args:["igxDrop",["$event"]]}]},e}(),Wi=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Hi,Ni],exports:[Hi,Ni]}]}],e}(),Yi=(function(){function e(){this.inputValue=""}e.prototype.get_value=function(e,t){var n="";return t&&e[t]?n=e[t].toString():e.element&&(e.element.nativeElement?n=e.element.nativeElement.textContent.trim():e.element.textContent&&(n=e.element.textContent.trim())),n},e.prototype.formatter=function(e){return e.toLowerCase()},e.prototype.matchFn=function(e,t){return e.indexOf(t&&t.toLowerCase()||"")>-1},e.prototype.metConditionFn=function(e){e.hasOwnProperty("hidden")&&(e.hidden=!1)},e.prototype.overdueConditionFn=function(e){e.hasOwnProperty("hidden")&&(e.hidden=!0)}}(),function(){function e(e,t){this.element=e,this.filtering=new o.x(!1),this.filtered=new o.x}return e.prototype.ngOnChanges=function(e){e.filterOptions&&e.filterOptions.currentValue&&void 0!==e.filterOptions.currentValue.inputValue&&e.filterOptions.previousValue&&e.filterOptions.currentValue.inputValue!==e.filterOptions.previousValue.inputValue&&this.filter()},e.prototype.filter=function(){if(this.filterOptions.items){var e={cancel:!1,items:this.filterOptions.items};if(this.filtering.emit(e),!e.cancel){var t=(new Ui).transform(this.filterOptions.items,this.filterOptions);this.filtered.emit({filteredItems:t})}}},e.decorators=[{type:o.t,args:[{selector:"[igxFilter]"}]}],e.ctorParameters=function(){return[{type:o.u},{type:o.Z}]},e.propDecorators={filtering:[{type:o.S}],filtered:[{type:o.S}],filterOptions:[{type:o.G,args:["igxFilter"]}]},e}()),Ui=function(){function e(){}return e.prototype.transform=function(e,t){if(e&&e.length&&t)return t.items&&(e=t.items),e.filter(function(e){var n=t.matchFn(t.formatter(t.get_value(e,t.key)),t.inputValue);return n?t.metConditionFn&&t.metConditionFn(e):t.overdueConditionFn&&t.overdueConditionFn(e),n})},e.decorators=[{type:o.W,args:[{name:"igxFilter",pure:!1}]}],e}(),Ki=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Yi,Ui],exports:[Yi,Ui],imports:[a.b]}]}],e}(),$i=function(){function e(e,t){this.element=e,this.comp=t,this.focusState=!0}return Object.defineProperty(e.prototype,"focused",{get:function(){return this.focusState},set:function(e){this.focusState=e,this.trigger()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.comp&&this.comp[0]&&this.comp[0].getEditElement?this.comp[0].getEditElement():this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.trigger=function(){var e=this;this.focusState&&requestAnimationFrame(function(){return e.nativeElement.focus()})},e.decorators=[{type:o.t,args:[{exportAs:"igxFocus",selector:"[igxFocus]"}]}],e.ctorParameters=function(){return[{type:o.u},{type:Array,decorators:[{type:o.C,args:[l.h]},{type:o.eb},{type:o.R}]}]},e.propDecorators={focused:[{type:o.G,args:["igxFocus"]}]},e}(),Xi=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[$i],exports:[$i]}]}],e}(),qi=function(){function e(){this.dir="row",this.reverse=!1,this.wrap="nowrap",this.justify="flex-start",this.itemAlign="stretch",this.display="flex"}return Object.defineProperty(e.prototype,"flexwrap",{get:function(){return this.wrap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"justifycontent",{get:function(){return this.justify},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this.itemAlign},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this.reverse?"row"===this.dir?"row-reverse":"column-reverse":"row"===this.dir?"row":"column"},enumerable:!0,configurable:!0}),e.decorators=[{type:o.t,args:[{selector:"[igxLayout]"}]}],e.propDecorators={dir:[{type:o.G,args:["igxLayoutDir"]}],reverse:[{type:o.G,args:["igxLayoutReverse"]}],wrap:[{type:o.G,args:["igxLayoutWrap"]}],justify:[{type:o.G,args:["igxLayoutJustify"]}],itemAlign:[{type:o.G,args:["igxLayoutItemAlign"]}],display:[{type:o.z,args:["style.display"]}],flexwrap:[{type:o.z,args:["style.flex-wrap"]}],justifycontent:[{type:o.z,args:["style.justify-content"]}],align:[{type:o.z,args:["style.align-items"]}],direction:[{type:o.z,args:["style.flex-direction"]}]},e}(),Zi=function(){function e(){this.grow=1,this.shrink=1,this.flex="",this.order=0,this.basis="auto"}return Object.defineProperty(e.prototype,"style",{get:function(){return this.flex?""+this.flex:this.grow+" "+this.shrink+" "+this.basis},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemorder",{get:function(){return this.order||0},enumerable:!0,configurable:!0}),e.decorators=[{type:o.t,args:[{selector:"[igxFlex]"}]}],e.propDecorators={grow:[{type:o.G,args:["igxFlexGrow"]}],shrink:[{type:o.G,args:["igxFlexShrink"]}],flex:[{type:o.G,args:["igxFlex"]}],order:[{type:o.G,args:["igxFlexOrder"]}],basis:[{type:o.G,args:["igxFlexBasis"]}],style:[{type:o.z,args:["style.flex"]}],itemorder:[{type:o.z,args:["style.order"]}]},e}(),Qi=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[Zi,qi],exports:[Zi,qi]}]}]}(),["C","&","a","A","?","L","9","0","#"]),Ji=17,er=90,tr=89,nr=8,ir=46,rr=function(){function e(){}return Object.defineProperty(e.prototype,"cursor",{get:function(){return this._cursor},enumerable:!0,configurable:!0}),e.prototype.parseValueByMask=function(e,t,n){var i=e,r=t.format,o=this.getMaskLiterals(r),a=Array.from(o.keys()),s=this.getNonLiteralIndeces(r,a);if(i.length<r.length){if(""===i&&-1===n)return this._cursor=0,this.parseValueByMaskOnInit(e,t);if(-1!==s.indexOf(n+1))i=this.insertCharAt(i,n+1,t.promptChar),this._cursor=n+1;else{i=this.insertCharAt(i,n+1,r[n+1]),this._cursor=n+1;for(var l=this._cursor;l<0&&-1!==a.indexOf(this._cursor);l--)this._cursor--}}else{var c=i[n],d=this.validateCharOnPostion(c,n,r);if(-1!==s.indexOf(n))i=this.replaceCharAt(i,n,""),d?(i=this.replaceCharAt(i,n,c),this._cursor=n+1):this._cursor=n;else{i=this.replaceCharAt(i,n,""),this._cursor=++n;for(l=n;l<r.length;l++){if(-1===a.indexOf(this._cursor)){if(d=this.validateCharOnPostion(c,n,r)){i=this.replaceCharAt(i,n,c),this._cursor=++n;break}break}this._cursor=++n}}}return i},e.prototype.parseMask=function(e){var t,n,i=this,o="",a=e.format,s=this.getMaskLiterals(a);try{for(var l=Object(r.j)(a),c=l.next();!c.done;c=l.next()){c.value;o+=e.promptChar}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return s.forEach(function(e,t){o=i.replaceCharAt(o,t,e)}),o},e.prototype.parseValueByMaskOnInit=function(e,t){var n,i,o,a,s=this,l="",c="",d=t.format,p=this.getMaskLiterals(d),u=Array.from(p.keys()),h=this.getNonLiteralIndeces(d,u),g=Array.from(p.values());null!=e&&(c=e.toString());try{for(var f=Object(r.j)(d),m=f.next();!m.done;m=f.next()){m.value;l+=t.promptChar}}catch(C){n={error:C}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}if(p.forEach(function(e,t){l=s.replaceCharAt(l,t,e)}),!c)return l;for(var y=this.getNonLiteralValues(c,g),b=0;b<y.length;b++){var v=y[b];this.validateCharOnPostion(v,h[b],d)||v===t.promptChar||(y[b]=t.promptChar)}y.length>h.length&&y.splice(h.length);var x=0;try{for(var _=Object(r.j)(y),w=_.next();!w.done;w=_.next()){v=w.value;l=this.replaceCharAt(l,h[x++],v)}}catch(S){o={error:S}}finally{try{w&&!w.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}return l},e.prototype.restoreValueFromMask=function(e,t){var n,i,o="",a=t.format,s=this.getMaskLiterals(a),l=Array.from(s.values());try{for(var c=Object(r.j)(e),d=c.next();!d.done;d=c.next()){var p=d.value;-1===l.indexOf(p)&&p!==t.promptChar&&(o+=p)}}catch(u){n={error:u}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return o},e.prototype.parseValueByMaskUponSelection=function(e,t,n,i){var r=e,o=r[n],a=t.format,s=this.getMaskLiterals(a),l=Array.from(s.keys()),c=this.getNonLiteralIndeces(a,l);if(this.data){if(""===r&&-1===n)return this._cursor=0,this.parseValueByMaskOnInit(e,t);this._cursor<0&&(this._cursor++,n++),n++,this._cursor=n;for(d=0;d<i;d++)-1!==c.indexOf(n)?(r=this.insertCharAt(r,n,t.promptChar),n++):(r=this.insertCharAt(r,n,a[n]),n++)}else if(this._cursor=n<0?++n:n,-1!==c.indexOf(this._cursor)){if(r=this.validateCharOnPostion(o,this._cursor,a)?this.replaceCharAt(r,this._cursor++,o):r=this.replaceCharAt(r,this._cursor++,t.promptChar),--i>0)for(var d=0;d<i;d++)n++,r=-1!==c.indexOf(n)?this.insertCharAt(r,n,t.promptChar):this.insertCharAt(r,n,a[n])}else{r=this.replaceCharAt(r,this._cursor,a[this._cursor]),this._cursor++;var p=!1;if(--i>0){n=this._cursor;for(var d=0;d<i;d++)-1!==c.indexOf(n)?this.validateCharOnPostion(o,n,a)&&!p?(r=this.insertCharAt(r,n,o),n++,this._cursor++,p=!0):(r=this.insertCharAt(r,n,t.promptChar),n++):(r=this.insertCharAt(r,n,a[n]),n===this._cursor&&this._cursor++,n++)}}return r},e.prototype.parseValueByMaskUponCopyPaste=function(e,t,n,i,o){var a,s,l=e,c=t.format,d=this.getMaskLiterals(c),p=Array.from(d.keys()),u=this.getNonLiteralIndeces(c,p),h=n+o;this._cursor=n;try{for(var g=Object(r.j)(i),f=g.next();!f.done;f=g.next()){var m=f.value;if(this._cursor>c.length)return l;if(-1!==u.indexOf(this._cursor))this.validateCharOnPostion(m,this._cursor,c)&&(l=this.replaceCharAt(l,this._cursor++,m));else for(var y=n;y<c.length;y++){if(-1===p.indexOf(this._cursor)){this.validateCharOnPostion(m,this._cursor,c)&&(l=this.replaceCharAt(l,this._cursor++,m));break}this._cursor++}o--}}catch(b){a={error:b}}finally{try{f&&!f.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}if(o>0)for(y=this._cursor;y<h;y++)-1!==p.indexOf(this._cursor)?this._cursor++:l=this.replaceCharAt(l,this._cursor++,t.promptChar);return l},e.prototype.validateCharOnPostion=function(e,t,n){var i;switch(n.charAt(t)){case"C":i=""!==e;break;case"&":i=!new RegExp("[\\u0020]").test(e);break;case"a":i=new RegExp("[\\d\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z\\u0020]").test(e);break;case"A":i=new RegExp("[\\d\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z]").test(e);break;case"?":i=new RegExp("[\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z\\u0020]").test(e);break;case"L":i=new RegExp("[\\u00C0-\\u1FFF\\u2C00-\\uD7FFa-zA-Z]").test(e);break;case"0":i=new RegExp("[\\d]").test(e);break;case"9":i=new RegExp("[\\d\\u0020]").test(e);break;case"#":i=new RegExp("[\\d-\\+]").test(e);break;default:i=null}return i},e.prototype.replaceCharAt=function(e,t,n){if(void 0!==e)return e.substring(0,t)+n+e.substring(t+1)},e.prototype.insertCharAt=function(e,t,n){if(void 0!==e)return e.substring(0,t)+n+e.substring(t)},e.prototype.getMaskLiterals=function(e){for(var t=new Map,n=0;n<e.length;n++){var i=e.charAt(n);-1===Qi.indexOf(i)&&t.set(n,i)}return t},e.prototype.getNonLiteralIndeces=function(e,t){for(var n=new Array,i=0;i<e.length;i++)-1===t.indexOf(i)&&n.push(i);return n},e.prototype.getNonLiteralValues=function(e,t){var n,i,o=new Array;try{for(var a=Object(r.j)(e),s=a.next();!s.done;s=a.next()){var l=s.value;-1===t.indexOf(l)&&o.push(l)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o},e}(),or=function(){},ar=function(){function e(e){this.elementRef=e,this.onValueChange=new o.x,this._maskOptions={format:"",promptChar:""},this._onTouchedCallback=or,this._onChangeCallback=or,this.maskHelper=new rr}return Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.nativeElement.setAttribute("placeholder",this._placeholder)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.nativeElement.value},set:function(e){this.nativeElement.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionStart",{get:function(){return this.nativeElement.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionEnd",{get:function(){return this.nativeElement.selectionEnd},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.promptChar&&this.promptChar.length>1&&(this._maskOptions.promptChar=this.promptChar=this.promptChar.substring(0,1)),this._maskOptions.format=this.mask?this.mask:"CCCCCCCCCC",this._maskOptions.promptChar=this.promptChar?this.promptChar:"_",this.nativeElement.setAttribute("placeholder",this.placeholder?this.placeholder:this._maskOptions.format)},e.prototype.onKeydown=function(e){var t=e.keyCode||e.charCode;ct()&&this._stopPropagation&&(this._stopPropagation=!1),t===Ji&&(this._ctrlDown=!0),(this._ctrlDown&&t===er||this._ctrlDown&&t===tr)&&e.preventDefault(),this._key=t,this._selection=Math.abs(this.selectionEnd-this.selectionStart)},e.prototype.onKeyup=function(e){(e.keyCode||e.charCode)===Ji&&(this._ctrlDown=!1)},e.prototype.onPaste=function(e){this._paste=!0,this._valOnPaste=this.value,this._cursorOnPaste=this.getCursorPosition()},e.prototype.onInputChanged=function(e){if(ct()&&this._stopPropagation)this._stopPropagation=!1;else{if(this._paste){this._paste=!1;var t=this.value.substring(this._cursorOnPaste,this.getCursorPosition());this.value=this.maskHelper.parseValueByMaskUponCopyPaste(this._valOnPaste,this._maskOptions,this._cursorOnPaste,t,this._selection),this.setCursorPosition(this.maskHelper.cursor)}else{var n=this.getCursorPosition();this.maskHelper.data=this._key===nr||this._key===ir,this.value=this._selection&&0!==this._selection?this.maskHelper.parseValueByMaskUponSelection(this.value,this._maskOptions,n-1,this._selection):this.maskHelper.parseValueByMask(this.value,this._maskOptions,n-1),this.setCursorPosition(this.maskHelper.cursor)}var i=this.maskHelper.restoreValueFromMask(this.value,this._maskOptions);this.dataValue=this.includeLiterals?this.value:i,this._onChangeCallback(this.dataValue),this.onValueChange.emit({rawValue:i,formattedValue:this.value})}},e.prototype.onFocus=function(e){this.focusedValuePipe?(ct()&&(this._stopPropagation=!0),this.value=this.focusedValuePipe.transform(e)):this.value=this.maskHelper.parseValueByMaskOnInit(this.value,this._maskOptions)},e.prototype.onBlur=function(e){this.displayValuePipe?this.value=this.displayValuePipe.transform(e):e===this.maskHelper.parseMask(this._maskOptions)&&(this.value="")},e.prototype.getCursorPosition=function(){return this.nativeElement.selectionStart},e.prototype.setCursorPosition=function(e,t){void 0===t&&(t=e),this.nativeElement.setSelectionRange(e,t)},e.prototype.writeValue=function(e){this.promptChar&&this.promptChar.length>1&&(this._maskOptions.promptChar=this.promptChar.substring(0,1)),this.value=e?this.maskHelper.parseValueByMaskOnInit(e,this._maskOptions):"",this.displayValuePipe&&(this.value=this.displayValuePipe.transform(this.value)),this.dataValue=this.includeLiterals?this.value:e,this._onChangeCallback(this.dataValue),this.onValueChange.emit({rawValue:e,formattedValue:this.value})},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.decorators=[{type:o.t,args:[{providers:[{provide:l.h,useExisting:e,multi:!0}],selector:"[igxMask]"}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={mask:[{type:o.G,args:["igxMask"]}],promptChar:[{type:o.G}],includeLiterals:[{type:o.G}],placeholder:[{type:o.G}],displayValuePipe:[{type:o.G}],focusedValuePipe:[{type:o.G}],dataValue:[{type:o.G}],onValueChange:[{type:o.S}],onKeydown:[{type:o.A,args:["keydown",["$event"]]}],onKeyup:[{type:o.A,args:["keyup",["$event"]]}],onPaste:[{type:o.A,args:["paste",["$event"]]}],onInputChanged:[{type:o.A,args:["input",["$event"]]}],onFocus:[{type:o.A,args:["focus",["$event.target.value"]]}],onBlur:[{type:o.A,args:["blur",["$event.target.value"]]}]},e}(),sr=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[ar],exports:[ar],imports:[a.b]}]}],e}(),lr="before",cr="after",dr=0,pr=function(){},ur=function(){function e(){this.id="igx-radio-"+dr++,this.labelId=this.id+"-label",this.labelPosition="after",this.tabindex=null,this.disableRipple=!1,this.required=!1,this.ariaLabelledBy=this.labelId,this.ariaLabel=null,this.change=new o.x,this.cssClass="igx-radio",this.checked=!1,this.disabled=!1,this.focused=!1,this.inputId=this.id+"-input",this._value=null,this._onTouchedCallback=pr,this._onChangeCallback=pr}return e.prototype._onRadioChange=function(e){e.stopPropagation()},e.prototype._onRadioClick=function(e){e.stopPropagation(),this.select(),ct()&&this.nativeRadio.nativeElement.blur()},e.prototype._onLabelClick=function(){this.select()},e.prototype.select=function(){this.disabled||(this.checked=!0,this.focused=!1,this.change.emit({value:this.value,radio:this}),this._onChangeCallback(this.value))},e.prototype.writeValue=function(e){this._value=e,this.checked=this._value===this.value},e.prototype.getEditElement=function(){return this.nativeRadio.nativeElement},Object.defineProperty(e.prototype,"labelClass",{get:function(){switch(this.labelPosition){case lr:return this.cssClass+"__label--before";case cr:default:return this.cssClass+"__label"}},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(e){this.focused=!0},e.prototype.onBlur=function(e){this.focused=!1,this._onTouchedCallback()},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.decorators=[{type:o.n,args:[{providers:[{provide:l.h,useExisting:e,multi:!0}],selector:"igx-radio",template:'<input #radio class="igx-radio__input" type="radio"\n    [id]="inputId"\n    [name]="name"\n    [value]="value"\n    [tabindex]="tabindex"\n    [disabled]="disabled"\n    [checked]="checked"\n    [required]="required"\n    [attr.aria-checked]="checked"\n    [attr.aria-labelledby]="ariaLabelledBy"\n    [attr.aria-label]="ariaLabel"\n    (click)="_onRadioClick($event)"\n    (change)="_onRadioChange($event)"\n    (focus)="onFocus($event)"\n    (blur)="onBlur($event)" />\n\n<label #nativeLabel class="igx-radio__composite" igxRipple\n    igxRippleTarget=".igx-radio__ripple"\n    [igxRippleDisabled]="disableRipple"\n    [igxRippleCentered]="true"\n    [igxRippleDuration]="300"\n    [for]="inputId">\n    <div class="igx-radio__ripple"></div>\n</label>\n\n<span #placeholderLabel role="label"\n    [id]="labelId"\n    [class]="labelClass"\n    (click)="_onLabelClick()">\n    <ng-content></ng-content>\n</span>\n'}]}],e.ctorParameters=function(){return[]},e.propDecorators={nativeRadio:[{type:o.ob,args:["radio",{static:!0}]}],nativeLabel:[{type:o.ob,args:["nativeLabel",{static:!0}]}],placeholderLabel:[{type:o.ob,args:["placeholderLabel",{static:!0}]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],labelId:[{type:o.G}],labelPosition:[{type:o.G}],value:[{type:o.G}],name:[{type:o.G}],tabindex:[{type:o.G}],disableRipple:[{type:o.G}],required:[{type:o.G}],ariaLabelledBy:[{type:o.G,args:["aria-labelledby"]}],ariaLabel:[{type:o.G,args:["aria-label"]}],change:[{type:o.S}],cssClass:[{type:o.z,args:["class.igx-radio"]}],checked:[{type:o.z,args:["class.igx-radio--checked"]},{type:o.G}],disabled:[{type:o.z,args:["class.igx-radio--disabled"]},{type:o.G}],focused:[{type:o.z,args:["class.igx-radio--focused"]}]},e}(),hr=function(){function e(e,t,n,i){this.builder=e,this.elementRef=t,this.renderer=n,this.zone=i,this.rippleTarget="",this.rippleDuration=600,this.rippleDisabled=!1,this.rippleElementClass="igx-ripple__inner",this.rippleHostClass="igx-ripple",this._centered=!1,this.animationQueue=[]}return Object.defineProperty(e.prototype,"centered",{set:function(e){this._centered=e||this.centered},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onMouseDown=function(e){var t=this;this.zone.runOutsideAngular(function(){return t._ripple(e)})},e.prototype.setStyles=function(e,t){this.renderer.addClass(e,this.rippleElementClass),this.renderer.setStyle(e,"width",t.radius+"px"),this.renderer.setStyle(e,"height",t.radius+"px"),this.renderer.setStyle(e,"top",t.top+"px"),this.renderer.setStyle(e,"left",t.left+"px"),this.rippleColor&&this.renderer.setStyle(e,"background",this.rippleColor)},e.prototype._ripple=function(e){var t=this;if(!this.rippleDisabled){var n=this.rippleTarget&&this.nativeElement.querySelector(this.rippleTarget)||this.nativeElement,i=n.getBoundingClientRect(),r=Math.max(i.width,i.height),o=e.clientX-i.left-r/2,a=e.clientY-i.top-r/2;this._centered&&(o=a=0);var s={radius:r,top:a,left:o},l=this.renderer.createElement("span");this.setStyles(l,s),this.renderer.addClass(n,this.rippleHostClass),this.renderer.appendChild(n,l);var c=this.builder.build([Object(P.m)({opacity:.5,transform:"scale(.3)"}),Object(P.e)(this.rippleDuration,Object(P.m)({opacity:0,transform:"scale(2)"}))]).create(l);this.animationQueue.push(c),c.onDone(function(){t.animationQueue.splice(t.animationQueue.indexOf(c),1),n.removeChild(l),t.animationQueue.length<1&&t.renderer.removeClass(n,t.rippleHostClass)}),c.play()}},e.decorators=[{type:o.t,args:[{selector:"[igxRipple]"}]}],e.ctorParameters=function(){return[{type:P.b},{type:o.u},{type:o.Z},{type:o.Q}]},e.propDecorators={rippleTarget:[{type:o.G,args:["igxRippleTarget"]}],rippleColor:[{type:o.G,args:["igxRipple"]}],rippleDuration:[{type:o.G,args:["igxRippleDuration"]}],centered:[{type:o.G,args:["igxRippleCentered"]}],rippleDisabled:[{type:o.G,args:["igxRippleDisabled"]}],onMouseDown:[{type:o.A,args:["mousedown",["$event"]]}]},e}(),gr=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[hr],exports:[hr]}]}],e}(),fr=function(){},mr=0,yr=function(){function e(){this.change=new o.x,this.cssClass="igx-radio-group",this._onChangeCallback=fr,this._name="igx-radio-group-"+mr++,this._value=null,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this.destroy$=new E.a}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,this._selectRadioButton())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._setRadioButtonNames())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(e){this._required!==e&&(this._required=e,this._setRadioButtonsRequired())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled!==e&&(this._disabled=e,this._disableRadioButtons())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(e){this._labelPosition!==e&&(this._labelPosition=e===lr?lr:cr,this._setRadioButtonLabelPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected!==e&&(this._selected=e,this.value=e?e.value:null)},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this._isInitialized=!0,setTimeout(function(){e._initRadioButtons()})},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.radioButtons&&this.radioButtons.forEach(function(t){t.registerOnTouched(e)})},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype._initRadioButtons=function(){var e=this;this.radioButtons&&this.radioButtons.forEach(function(t){t.name=e._name,t.labelPosition=e._labelPosition,t.disabled=e._disabled,t.required=e._required,e._value&&t.value===e._value&&(t.checked=!0,e._selected=t),t.change.pipe(Object(H.a)(e.destroy$)).subscribe(function(t){return e._selectedRadioButtonChanged(t)})})},e.prototype._selectedRadioButtonChanged=function(e){this._selected!==e.radio&&(this._selected&&(this._selected.checked=!1),this._selected=e.radio),this._value=e.value,this._isInitialized&&(this.change.emit(e),this._onChangeCallback(this.value))},e.prototype._setRadioButtonNames=function(){var e=this;this.radioButtons&&this.radioButtons.forEach(function(t){t.name=e._name})},e.prototype._selectRadioButton=function(){var e=this;this.radioButtons&&this.radioButtons.forEach(function(t){e._value&&e._value===t.value?(e._selected!==t&&(e._selected=t),t.checked||t.select()):t.checked&&(t.checked=!1)})},e.prototype._setRadioButtonLabelPosition=function(){var e=this;this.radioButtons&&this.radioButtons.forEach(function(t){t.labelPosition=e._labelPosition})},e.prototype._disableRadioButtons=function(){var e=this;this.radioButtons&&this.radioButtons.forEach(function(t){t.disabled=e._disabled})},e.prototype._setRadioButtonsRequired=function(){var e=this;this.radioButtons&&this.radioButtons.forEach(function(t){t.required=e._required})},e.decorators=[{type:o.t,args:[{selector:"igx-radio-group, [igxRadioGroup]",providers:[{provide:l.h,useExisting:e,multi:!0}]}]}],e.propDecorators={radioButtons:[{type:o.s,args:[ur]}],value:[{type:o.G}],name:[{type:o.G}],required:[{type:o.G}],disabled:[{type:o.G}],labelPosition:[{type:o.G}],selected:[{type:o.G}],change:[{type:o.S}],cssClass:[{type:o.z,args:["class.igx-radio-group"]}]},e}(),br=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[yr,ur],exports:[yr,ur],imports:[gr]}]}]}(),function(){function e(t,n){var i=this;this.element=t,this.renderer=n,this._div=null,this._observer=null,this._nodeWasRemoved=!1,this._forceEvaluation=!1,this._activeElementIndex=-1,this.groupName="",this._value="",this.destroy$=new E.a,e.onActiveElementChanged.pipe(Object(H.a)(this.destroy$)).subscribe(function(e){i.groupName===e&&(-1!==i._activeElementIndex&&i.deactivate(),i.activateIfNecessary())})}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=null==e?"":e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastSearchInfo",{get:function(){return this._lastSearchInfo},enumerable:!0,configurable:!0}),e.setActiveHighlight=function(t,n){e.highlightGroupsMap.set(t,n),e.onActiveElementChanged.emit(t)},e.clearActiveHighlight=function(t){e.highlightGroupsMap.set(t,{index:-1}),e.onActiveElementChanged.emit(t)},e.prototype.ngOnDestroy=function(){this.clearHighlight(),null!==this._observer&&this._observer.disconnect(),this.destroy$.next(!0),this.destroy$.complete()},e.prototype.ngOnChanges=function(e){e.value&&!e.value.firstChange?this._valueChanged=!0:(void 0!==e.row&&!e.row.firstChange||void 0!==e.column&&!e.column.firstChange||void 0!==e.page&&!e.page.firstChange)&&(-1!==this._activeElementIndex&&this.deactivate(),this.activateIfNecessary())},e.prototype.ngAfterViewInit=function(){this.parentElement=this.renderer.parentNode(this.element.nativeElement),!1===e.highlightGroupsMap.has(this.groupName)&&e.highlightGroupsMap.set(this.groupName,{index:-1}),this._lastSearchInfo={searchedText:"",content:this.value,matchCount:0,caseSensitive:!1,exactMatch:!1},this._container=this.parentElement.firstElementChild},e.prototype.ngAfterViewChecked=function(){this._valueChanged&&(this.highlight(this._lastSearchInfo.searchedText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch),this.activateIfNecessary(),this._valueChanged=!1)},e.prototype.highlight=function(e,t,n){var i=!!t,r=!!n;return this.searchNeedsEvaluation(e,i,r)?(this._lastSearchInfo.searchedText=e,this._lastSearchInfo.caseSensitive=i,this._lastSearchInfo.exactMatch=r,this._lastSearchInfo.content=this.value,""===e||null==e?this.clearHighlight():(this.clearChildElements(!0),this._lastSearchInfo.matchCount=this.getHighlightedText(e,t,n))):this._nodeWasRemoved&&(this._lastSearchInfo.searchedText=e,this._lastSearchInfo.caseSensitive=i,this._lastSearchInfo.exactMatch=r),this._lastSearchInfo.matchCount},e.prototype.clearHighlight=function(){this.clearChildElements(!1),this._lastSearchInfo.searchedText="",this._lastSearchInfo.matchCount=0},e.prototype.activateIfNecessary=function(){var t=e.highlightGroupsMap.get(this.groupName),n=void 0===t.columnIndex?t.column:t.columnIndex,i=void 0===t.rowIndex?t.row:t.rowIndex;n===this.column&&i===this.row&&t.page===this.page&&this.activate(t.index)},e.prototype.observe=function(){var e=this;if(null===this._observer){this._observer=new MutationObserver(function(t){t.forEach(function(t){Array.from(t.removedNodes).forEach(function(t){t===e._container&&(e._nodeWasRemoved=!0,e.clearChildElements(!1))}),Array.from(t.addedNodes).forEach(function(t){t===e.parentElement.firstElementChild&&e._nodeWasRemoved&&(e._container=e.parentElement.firstElementChild,e._nodeWasRemoved=!1,e._forceEvaluation=!0,e.highlight(e._lastSearchInfo.searchedText,e._lastSearchInfo.caseSensitive,e._lastSearchInfo.exactMatch),e._forceEvaluation=!1,e.activateIfNecessary(),e._observer.disconnect(),e._observer=null)})})}),this._observer.observe(this.parentElement,{childList:!0})}},e.prototype.activate=function(e){if(this.deactivate(),null!==this._div){var t=this._div.querySelectorAll("span");if(this._activeElementIndex=e,t.length<=e)return;var n=t[e];this.renderer.addClass(n,this.activeCssClass),this.renderer.setAttribute(n,"style","background:orange;color:black")}},e.prototype.deactivate=function(){if(-1!==this._activeElementIndex){var e=this._div.querySelectorAll("span");if(e.length<=this._activeElementIndex)this._activeElementIndex=-1;else{var t=e[this._activeElementIndex];this.renderer.removeClass(t,this.activeCssClass),this.renderer.setAttribute(t,"style","background:yellow;color:black"),this._activeElementIndex=-1}}},e.prototype.clearChildElements=function(e){this.renderer.setProperty(this.element.nativeElement,"hidden",e),null!==this._div&&(this.renderer.removeChild(this.parentElement,this._div),this._div=null,this._activeElementIndex=-1)},e.prototype.getHighlightedText=function(e,t,n){this.appendDiv();var i=String(this.value),r=t?i:i.toLowerCase(),o=t?e:e.toLowerCase(),a=0;if(n)r===o?(this.appendSpan('<span class="'+this.cssClass+'" style="background:yellow;color:black">'+i+"</span>"),a++):this.appendText(i);else{for(var s=r.indexOf(o,0),l=0;-1!==s;){var c=s,d=s+o.length;this.appendText(i.substring(l,c)),this.appendSpan('<span class="'+this.cssClass+'" style="background:yellow;color:black">'+i.substring(c,d)+"</span>"),l=d,a++,s=r.indexOf(o,d)}this.appendText(i.substring(l,i.length))}return a},e.prototype.appendText=function(e){var t=this.renderer.createText(e);this.renderer.appendChild(this._div,t)},e.prototype.appendSpan=function(e){var t=this.renderer.createElement("span");this.renderer.appendChild(this._div,t),this.renderer.setProperty(t,"outerHTML",e)},e.prototype.appendDiv=function(){this._div=this.renderer.createElement("div"),this.containerClass&&this.renderer.addClass(this._div,this.containerClass),this.renderer.appendChild(this.parentElement,this._div)},e.prototype.searchNeedsEvaluation=function(e,t,n){var i=this._lastSearchInfo.searchedText;return!this._nodeWasRemoved&&(null===i||i!==e||this._lastSearchInfo.content!==this.value||this._lastSearchInfo.caseSensitive!==t||this._lastSearchInfo.exactMatch!==n||this._forceEvaluation)},e.onActiveElementChanged=new o.x,e.highlightGroupsMap=new Map,e.decorators=[{type:o.t,args:[{selector:"[igxTextHighlight]"}]}],e.ctorParameters=function(){return[{type:o.u},{type:o.Z}]},e.propDecorators={cssClass:[{type:o.G,args:["cssClass"]}],activeCssClass:[{type:o.G,args:["activeCssClass"]}],containerClass:[{type:o.G,args:["containerClass"]}],groupName:[{type:o.G,args:["groupName"]}],value:[{type:o.G,args:["value"]}],row:[{type:o.G,args:["row"]}],column:[{type:o.G,args:["column"]}],page:[{type:o.G,args:["page"]}]},Object(r.c)([kn("IgxTextHighlightDirective 'page' input property is deprecated."),Object(r.f)("design:type",Number)],e.prototype,"page",void 0),e}()),vr=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[br],exports:[br]}]}],e}(),xr=function(){function e(e){this.element=e,this.selectionState=!0}return Object.defineProperty(e.prototype,"selected",{get:function(){return this.selectionState},set:function(e){this.selectionState=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(){this.trigger()},e.prototype.trigger=function(){var e=this;this.selected&&this.nativeElement.value.length&&requestAnimationFrame(function(){return e.nativeElement.setSelectionRange(0,e.nativeElement.value.length)})},e.decorators=[{type:o.t,args:[{exportAs:"igxTextSelection",selector:"[igxTextSelection]"}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={selected:[{type:o.G,args:["igxTextSelection"]}],onFocus:[{type:o.A,args:["focus"]}]},e}(),_r=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[xr],exports:[xr]}]}],e}(),wr=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._element=t,i._navigationService=n,i.showDelay=500,i.hideDelay=500,i.tooltipDisabled=!1,i.onTooltipShow=new o.x,i.onTooltipHide=new o.x,i}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"target",{get:function(){return"string"==typeof this._target?this._navigationService.get(this._target):this._target},set:function(e){null!==e&&""!==e&&(this._target=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this._element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipHidden",{get:function(){return!this.target||this.target.collapsed},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this);var t={target:this.nativeElement,horizontalDirection:xn.Center,horizontalStartPoint:xn.Center,openAnimation:Object(P.p)(je,{params:{duration:"150ms"}}),closeAnimation:Object(P.p)(ve,{params:{duration:"75ms"}})};this._overlayDefaults.positionStrategy=new jn(t),this._overlayDefaults.closeOnOutsideClick=!1},t.prototype.checkOutletAndOutsideClick=function(){this.outlet&&(this._overlayDefaults.outlet=this.outlet)},Object.defineProperty(t.prototype,"mergedOverlaySettings",{get:function(){return Object.assign({},this._overlayDefaults,this.overlaySettings)},enumerable:!0,configurable:!0}),t.prototype.preMouseEnterCheck=function(){if(this.target.toBeShown&&(clearTimeout(this.target.timeoutId),this.target.toBeShown=!1),!this.target.collapsed||this.target.toBeHidden){clearTimeout(this.target.timeoutId);var e={target:this,tooltip:this.target,cancel:!1};if(this.onTooltipHide.emit(e),e.cancel)return!0;this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1}return!1},t.prototype.preMouseLeaveCheck=function(){return clearTimeout(this.target.timeoutId),!!this.target.toBeShown&&(this.target.toBeShown=!1,this.target.toBeHidden=!1,!0)},t.prototype.onKeydownEscape=function(e){var t={target:this,tooltip:this.target,cancel:!1};this.onTooltipHide.emit(t),t.cancel||(this.target.toBeHidden=!0,this.target.close(),this.target.toBeHidden=!1)},t.prototype.onClick=function(){if(!this.target.collapsed){var e={target:this,tooltip:this.target,cancel:!1};if(this.onTooltipHide.emit(e),e.cancel)return;this.target.forceClose(this.mergedOverlaySettings)}},t.prototype.onMouseEnter=function(){var e=this;if(!this.tooltipDisabled&&(this.checkOutletAndOutsideClick(),!this.preMouseEnterCheck())){var t={target:this,tooltip:this.target,cancel:!1};this.onTooltipShow.emit(t),t.cancel||(this.target.toBeShown=!0,this.target.timeoutId=setTimeout(function(){e.target.open(e.mergedOverlaySettings),e.target.toBeShown=!1},this.showDelay))}},t.prototype.onMouseLeave=function(){var e=this;if(!this.tooltipDisabled&&(this.checkOutletAndOutsideClick(),!this.preMouseLeaveCheck()&&!this.target.collapsed)){var t={target:this,tooltip:this.target,cancel:!1};this.onTooltipHide.emit(t),t.cancel||(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout(function(){e.target.close(),e.target.toBeHidden=!1},this.hideDelay))}},t.prototype.onTouchStart=function(e){this.tooltipDisabled||this.showTooltip()},t.prototype.onDocumentTouchStart=function(e){this.tooltipDisabled||this.nativeElement===e.target||this.nativeElement.contains(e.target)||this.hideTooltip()},t.prototype.showTooltip=function(){var e=this;if(clearTimeout(this.target.timeoutId),!this.target.collapsed){var t={target:this,tooltip:this.target,cancel:!1};if(this.onTooltipHide.emit(t),t.cancel)return;this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1}var n={target:this,tooltip:this.target,cancel:!1};this.onTooltipShow.emit(n),n.cancel||(this.target.toBeShown=!0,this.target.timeoutId=setTimeout(function(){e.target.open(e.mergedOverlaySettings),e.target.toBeShown=!1},this.showDelay))},t.prototype.hideTooltip=function(){var e=this;if(this.target.collapsed&&this.target.toBeShown&&clearTimeout(this.target.timeoutId),!this.target.collapsed&&!this.target.toBeHidden){var t={target:this,tooltip:this.target,cancel:!1};this.onTooltipHide.emit(t),t.cancel||(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout(function(){e.target.close(),e.target.toBeHidden=!1},this.hideDelay))}},t.decorators=[{type:o.t,args:[{exportAs:"tooltipTarget",selector:"[igxTooltipTarget]"}]}],t.ctorParameters=function(){return[{type:o.u},{type:Je,decorators:[{type:o.R}]}]},t.propDecorators={showDelay:[{type:o.G,args:["showDelay"]}],hideDelay:[{type:o.G,args:["hideDelay"]}],tooltipDisabled:[{type:o.G,args:["tooltipDisabled"]}],target:[{type:o.G,args:["igxTooltipTarget"]}],onTooltipShow:[{type:o.S}],onTooltipHide:[{type:o.S}],onKeydownEscape:[{type:o.A,args:["document:keydown.escape",["$event"]]}],onClick:[{type:o.A,args:["click"]}],onMouseEnter:[{type:o.A,args:["mouseenter"]}],onMouseLeave:[{type:o.A,args:["mouseleave"]}],onTouchStart:[{type:o.A,args:["touchstart",["$event"]]}],onDocumentTouchStart:[{type:o.A,args:["document:touchstart",["$event"]]}]},t}(Vn),Cr=0,Sr=function(e){function t(t,n,i,r){var o=e.call(this,t,n,i,r)||this;return o.toBeHidden=!1,o.toBeShown=!1,o.id="igx-tooltip-"+Cr++,o}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"hiddenClass",{get:function(){return this.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultClass",{get:function(){return!this.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"role",{get:function(){return"tooltip"},enumerable:!0,configurable:!0}),t.prototype.forceOpen=function(e){var t=this.overlayService.getOverlayById(this._overlayId);if(!!t&&t.openAnimationPlayer)t.openAnimationPlayer.finish(),t.openAnimationPlayer.reset(),t.openAnimationPlayer=null;else if(this.collapsed){var n=e.positionStrategy.settings.openAnimation;e.positionStrategy.settings.openAnimation=null,this.open(e),e.positionStrategy.settings.openAnimation=n}},t.prototype.forceClose=function(e){var t=this.overlayService.getOverlayById(this._overlayId);if(!!t&&t.closeAnimationPlayer)t.closeAnimationPlayer.finish(),t.closeAnimationPlayer.reset(),t.closeAnimationPlayer=null;else if(!this.collapsed){var n=e.positionStrategy.settings.closeAnimation;e.positionStrategy.settings.closeAnimation=null,this.close(),e.positionStrategy.settings.closeAnimation=n}},t.decorators=[{type:o.t,args:[{exportAs:"tooltip",selector:"[igxTooltip]"}]}],t.ctorParameters=function(){return[{type:o.u},{type:o.k},{type:Tn,decorators:[{type:o.C,args:[Tn]}]},{type:Je,decorators:[{type:o.R}]}]},t.propDecorators={hiddenClass:[{type:o.z,args:["class.igx-tooltip--hidden"]}],defaultClass:[{type:o.z,args:["class.igx-tooltip--desktop"]}],context:[{type:o.G,args:["context"]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],role:[{type:o.z,args:["attr.role"]}]},t}(zn),Dr=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[Sr,wr],exports:[Sr,wr],imports:[a.b],providers:[Tn]}]}]}(),function(){function e(){var e=this;this.operations=[{name:"null",isUnary:!0,iconName:"is_null",logic:function(e){return null===e}},{name:"notNull",isUnary:!0,iconName:"is_not_null",logic:function(e){return null!==e}},{name:"in",isUnary:!1,iconName:"is_in",hidden:!0,logic:function(t,n){return e.findValueInSet(t,n)}}]}return e.instance=function(){return this._instance||(this._instance=new this)},e.prototype.findValueInSet=function(e,t){return t.has(e)},e.prototype.conditionList=function(){return this.operations.filter(function(e){return!e.hidden}).map(function(e){return e.name})},e.prototype.condition=function(e){return this.operations.find(function(t){return t.name===e})},e.prototype.append=function(e){this.operations.push(e)},e._instance=null,e}()),Or=function(e){function t(){var t=e.call(this)||this;return t.operations=[{name:"all",isUnary:!0,iconName:"all",logic:function(e){return!0}},{name:"true",isUnary:!0,iconName:"is_true",logic:function(e){return!(!e||null==e)}},{name:"false",isUnary:!0,iconName:"is_false",logic:function(e){return!e&&null!=e}},{name:"empty",isUnary:!0,iconName:"empty",logic:function(e){return null==e}},{name:"notEmpty",isUnary:!0,iconName:"not_empty",logic:function(e){return null!=e}}].concat(t.operations),t}return Object(r.d)(t,e),t}(Dr),Ir=function(e){function t(){var n=e.call(this)||this;return n.operations=[{name:"equals",isUnary:!1,iconName:"equals",logic:function(e,i){if(!e)return!1;n.validateInputData(e);var r=t.getDateParts(e,"yMd"),o=t.getDateParts(i,"yMd");return r.year===o.year&&r.month===o.month&&r.day===o.day}},{name:"doesNotEqual",isUnary:!1,iconName:"not_equal",logic:function(e,i){if(!e)return!0;n.validateInputData(e);var r=t.getDateParts(e,"yMd"),o=t.getDateParts(i,"yMd");return r.year!==o.year||r.month!==o.month||r.day!==o.day}},{name:"before",isUnary:!1,iconName:"is_before",logic:function(e,t){return!!e&&(n.validateInputData(e),e<t)}},{name:"after",isUnary:!1,iconName:"is_after",logic:function(e,t){return!!e&&(n.validateInputData(e),e>t)}},{name:"today",isUnary:!0,iconName:"today",logic:function(e){if(!e)return!1;n.validateInputData(e);var i=t.getDateParts(e,"yMd"),r=t.getDateParts(new Date,"yMd");return i.year===r.year&&i.month===r.month&&i.day===r.day}},{name:"yesterday",isUnary:!0,iconName:"yesterday",logic:function(e){if(!e)return!1;n.validateInputData(e);var i,r=t.getDateParts(e,"yMd"),o=(i=new Date,new Date(i.setDate(i.getDate()-1))),a=t.getDateParts(o,"yMd");return r.year===a.year&&r.month===a.month&&r.day===a.day}},{name:"thisMonth",isUnary:!0,iconName:"this_month",logic:function(e){if(!e)return!1;n.validateInputData(e);var i=t.getDateParts(e,"yM"),r=t.getDateParts(new Date,"yM");return i.year===r.year&&i.month===r.month}},{name:"lastMonth",isUnary:!0,iconName:"last_month",logic:function(e){if(!e)return!1;n.validateInputData(e);var i=t.getDateParts(e,"yM"),r=t.getDateParts(new Date,"yM");return r.month?r.month--:(r.month=11,r.year-=1),i.year===r.year&&i.month===r.month}},{name:"nextMonth",isUnary:!0,iconName:"next_month",logic:function(e){if(!e)return!1;n.validateInputData(e);var i=t.getDateParts(e,"yM"),r=t.getDateParts(new Date,"yM");return 11===r.month?(r.month=0,r.year+=1):r.month++,i.year===r.year&&i.month===r.month}},{name:"thisYear",isUnary:!0,iconName:"this_year",logic:function(e){if(!e)return!1;n.validateInputData(e);var i=t.getDateParts(e,"y"),r=t.getDateParts(new Date,"y");return i.year===r.year}},{name:"lastYear",isUnary:!0,iconName:"last_year",logic:function(e){if(!e)return!1;n.validateInputData(e);var i=t.getDateParts(e,"y"),r=t.getDateParts(new Date,"y");return i.year===r.year-1}},{name:"nextYear",isUnary:!0,iconName:"next_year",logic:function(e){if(!e)return!1;n.validateInputData(e);var i=t.getDateParts(e,"y"),r=t.getDateParts(new Date,"y");return i.year===r.year+1}},{name:"empty",isUnary:!0,iconName:"empty",logic:function(e){return null==e}},{name:"notEmpty",isUnary:!0,iconName:"not_empty",logic:function(e){return null!=e}}].concat(n.operations),n}return Object(r.d)(t,e),t.getDateParts=function(e,t){var n={day:null,hours:null,milliseconds:null,minutes:null,month:null,seconds:null,year:null};return e&&t?(t.indexOf("y")>=0&&(n.year=e.getFullYear()),t.indexOf("M")>=0&&(n.month=e.getMonth()),t.indexOf("d")>=0&&(n.day=e.getDate()),t.indexOf("h")>=0&&(n.hours=e.getHours()),t.indexOf("m")>=0&&(n.minutes=e.getMinutes()),t.indexOf("s")>=0&&(n.seconds=e.getSeconds()),t.indexOf("f")>=0&&(n.milliseconds=e.getMilliseconds()),n):n},t.prototype.validateInputData=function(e){if(!(e instanceof Date))throw new Error("Could not perform filtering on 'date' column because the datasource object type is not 'Date'.")},t.prototype.findValueInSet=function(e,t){return!!e&&t.has(new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString())},t}(Dr),kr=function(e){function t(){var t=e.call(this)||this;return t.operations=[{name:"equals",isUnary:!1,iconName:"equals",logic:function(e,t){return e===t}},{name:"doesNotEqual",isUnary:!1,iconName:"not_equal",logic:function(e,t){return e!==t}},{name:"greaterThan",isUnary:!1,iconName:"greater_than",logic:function(e,t){return e>t}},{name:"lessThan",isUnary:!1,iconName:"less_than",logic:function(e,t){return e<t}},{name:"greaterThanOrEqualTo",isUnary:!1,iconName:"greater_than_or_equal",logic:function(e,t){return e>=t}},{name:"lessThanOrEqualTo",isUnary:!1,iconName:"less_than_or_equal",logic:function(e,t){return e<=t}},{name:"empty",isUnary:!0,iconName:"empty",logic:function(e){return null==e||isNaN(e)}},{name:"notEmpty",isUnary:!0,iconName:"not_empty",logic:function(e){return null!=e&&!isNaN(e)}}].concat(t.operations),t}return Object(r.d)(t,e),t}(Dr),Pr=function(e){function t(){var n=e.call(this)||this;return n.operations=[{name:"contains",isUnary:!1,iconName:"contains",logic:function(e,n,i){var r=t.applyIgnoreCase(n,i);return-1!==(e=t.applyIgnoreCase(e,i)).indexOf(r)}},{name:"doesNotContain",isUnary:!1,iconName:"does_not_contain",logic:function(e,n,i){var r=t.applyIgnoreCase(n,i);return-1===(e=t.applyIgnoreCase(e,i)).indexOf(r)}},{name:"startsWith",isUnary:!1,iconName:"starts_with",logic:function(e,n,i){var r=t.applyIgnoreCase(n,i);return(e=t.applyIgnoreCase(e,i)).startsWith(r)}},{name:"endsWith",isUnary:!1,iconName:"ends_with",logic:function(e,n,i){var r=t.applyIgnoreCase(n,i);return(e=t.applyIgnoreCase(e,i)).endsWith(r)}},{name:"equals",isUnary:!1,iconName:"equals",logic:function(e,n,i){var r=t.applyIgnoreCase(n,i);return(e=t.applyIgnoreCase(e,i))===r}},{name:"doesNotEqual",isUnary:!1,iconName:"not_equal",logic:function(e,n,i){var r=t.applyIgnoreCase(n,i);return(e=t.applyIgnoreCase(e,i))!==r}},{name:"empty",isUnary:!0,iconName:"empty",logic:function(e){return null==e||0===e.length}},{name:"notEmpty",isUnary:!0,iconName:"not_empty",logic:function(e){return null!=e&&e.length>0}}].concat(n.operations),n}return Object(r.d)(t,e),t.applyIgnoreCase=function(e,t){return e=e||"",t?(""+e).toLowerCase():e},t}(Dr),Er=(new At,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(r.d)(t,e)}(Array),function(){function e(e,t){this._sanitizer=e,this._document=t,this._fontSet="material-icons",this._fontSetAliases=new Map,this._cachedSvgIcons=new Set}return Object.defineProperty(e.prototype,"defaultFontSet",{get:function(){return this._fontSet},set:function(e){this._fontSet=e},enumerable:!0,configurable:!0}),e.prototype.registerFontSetAlias=function(e,t){return void 0===t&&(t=e),this._fontSetAliases.set(e,t),this},e.prototype.fontSetClassName=function(e){return this._fontSetAliases.get(e)||e},e.prototype.addSvgIcon=function(e,t,n){if(void 0===n&&(n=""),!e||!t)throw new Error("You should provide at least `iconName` and `url` to register an svg icon.");var i=this._sanitizer.bypassSecurityTrustResourceUrl(t);if(!i)throw new Error("The provided URL could not be processed as trusted resource URL by Angular's DomSanitizer: \""+t+'".');if(!this._sanitizer.sanitize(o.db.RESOURCE_URL,i))throw new Error('The URL provided was not trusted as a resource URL: "'+t+'".');this.fetchSvg(e,t,n)},e.prototype.addSvgIconFromText=function(e,t,n){if(void 0===n&&(n=""),!e||!t)throw new Error("You should provide at least `iconName` and `iconText` to register an svg icon.");this.cacheSvgIcon(e,t,n)},e.prototype.isSvgIconCached=function(e,t){void 0===t&&(t="");var n=this.getSvgIconKey(e,t);return this._cachedSvgIcons.has(n)},e.prototype.getSvgIconKey=function(e,t){return void 0===t&&(t=""),t+"_"+e},e.prototype.fetchSvg=function(e,t,n){void 0===n&&(n="");var i=this,r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="text",r.onload=function(r){if(!r)throw new Error("Could not fetch SVG from url: "+t+";");var o=r.target;if(200!==o.status)throw new Error("Could not fetch SVG from url: "+t+"; error: "+o.status+" ("+o.statusText+")");i.cacheSvgIcon(e,o.responseText,n)},r.onerror=function(e){if(e){var n=e.target;throw new Error("Could not fetch SVG from url: "+t+"; error status code: "+n.status+" ("+n.statusText+")")}throw new Error("Could not fetch SVG from url: "+t+";")},r.send()},e.prototype.cacheSvgIcon=function(e,t,n){if(void 0===n&&(n=""),e&&t){this.ensureSvgContainerCreated();var i=this._document.createElement("DIV");i.innerHTML=t;var r=i.querySelector("svg");if(r){var o=this.getSvgIconKey(e,n);if(r.setAttribute("id",o),r.setAttribute("fit",""),r.setAttribute("preserveAspectRatio","xMidYMid meet"),r.setAttribute("focusable","false"),this._cachedSvgIcons.has(o)){var a=this._svgContainer.querySelector("svg[id='"+o+"']");this._svgContainer.removeChild(a)}this._svgContainer.appendChild(r),this._cachedSvgIcons.add(o)}}},e.prototype.ensureSvgContainerCreated=function(){this._svgContainer||(this._svgContainer=this._document.documentElement.querySelector(".igx-svg-container"),this._svgContainer||(this._svgContainer=this._document.createElement("DIV"),this._svgContainer.classList.add("igx-svg-container"),this._document.documentElement.appendChild(this._svgContainer)))},e.decorators=[{type:o.D,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:ce.b},{type:void 0,decorators:[{type:o.C,args:[a.c]}]}]},e.ngInjectableDef=Object(o.nc)({factory:function(){return new e(Object(o.rc)(ce.b),Object(o.rc)(a.c))},token:e,providedIn:"root"}),e}()),Tr=0,Ar=function(){function e(e,t){this._el=e,this.iconService=t,this.cssClass="igx-icon",this.ariaHidden=!0,this.id="igx-icon-"+Tr++,this.active=!0,this.el=e,this.font=this.iconService.defaultFontSet,this.iconService.registerFontSetAlias("material","material-icons")}return e.prototype.ngOnInit=function(){this.updateIconClass()},Object.defineProperty(e.prototype,"getFontSet",{get:function(){return this.font},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getInactive",{get:function(){return!this.active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getIconColor",{get:function(){return this.iconColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getIconName",{get:function(){return this.iconName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getSvgKey",{get:function(){return this.iconService.isSvgIconCached(this.iconName,this.font)?"#"+this.iconService.getSvgIconKey(this.iconName,this.font):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.iconName?this.iconService.isSvgIconCached(this.iconName,this.font)?this.svgImage:this.noLigature:this.explicitLigature},enumerable:!0,configurable:!0}),e.prototype.updateIconClass=function(){var e=this.iconService.fontSetClassName(this.font);this.el.nativeElement.classList.add(e),this.iconName&&!this.iconService.isSvgIconCached(this.iconName,this.font)&&this.el.nativeElement.classList.add(this.iconName)},e.decorators=[{type:o.n,args:[{selector:"igx-icon",template:'<ng-template #noLigature></ng-template>\n\n<ng-template #explicitLigature>\n    <ng-content></ng-content>\n</ng-template>\n\n<ng-template #svgImage>\n    <svg>\n        <use [attr.href]="getSvgKey"></use>\n    </svg>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template"></ng-container>\n'}]}],e.ctorParameters=function(){return[{type:o.u},{type:Er}]},e.propDecorators={noLigature:[{type:o.ob,args:["noLigature",{read:o.kb,static:!0}]}],explicitLigature:[{type:o.ob,args:["explicitLigature",{read:o.kb,static:!0}]}],svgImage:[{type:o.ob,args:["svgImage",{read:o.kb,static:!0}]}],cssClass:[{type:o.z,args:["class.igx-icon"]}],ariaHidden:[{type:o.z,args:["attr.aria-hidden"]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],font:[{type:o.G,args:["fontSet"]}],active:[{type:o.G,args:["isActive"]}],iconColor:[{type:o.G,args:["color"]}],iconName:[{type:o.G,args:["name"]}],getInactive:[{type:o.z,args:["class.igx-icon--inactive"]}],getIconColor:[{type:o.z,args:["style.color"]}]},e}(),Rr=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.decorators=[{type:o.L,args:[{declarations:[Ar],exports:[Ar],imports:[a.b]}]}],Object(r.c)([In("IgxIconModule.forRoot method is deprecated. Use IgxIconModule instead."),Object(r.f)("design:type",Function),Object(r.f)("design:paramtypes",[]),Object(r.f)("design:returntype",void 0)],e,"forRoot",null),e}(),jr=0,Fr="default",Lr="initials",Mr="image",Gr="icon",zr=function(){function e(e){this.elementRef=e,this.ariaLabel="avatar",this.role="img",this.cssClass="igx-avatar",this._size="small",this.id="igx-avatar-"+jr++,this.roundShape=!1}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(e){switch(e){case"small":case"medium":case"large":this._size=e;break;default:this._size="small"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.src?Mr:this.icon?Gr:this.initials?Lr:Fr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){switch(this.type){case Mr:return this.imageTemplate;case Lr:return this.initialsTemplate;case Gr:return this.iconTemplate;default:return this.defaultTemplate}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.roleDescription=this.getRole()},e.prototype.ngAfterViewInit=function(){this.elementRef.nativeElement.classList.add("igx-avatar--"+this._size,"igx-avatar--"+this.type)},e.prototype.getRole=function(){switch(this.type){case Mr:return"image avatar";case Gr:return"icon avatar";case Lr:return"initials avatar";default:return"custom avatar"}},e.prototype.getSrcUrl=function(){return"url("+this.src+")"},e.decorators=[{type:o.n,args:[{selector:"igx-avatar",template:'<ng-template #defaultTemplate>\n    <ng-content></ng-content>\n</ng-template>\n\n<ng-template #imageTemplate>\n    <div #image class="igx-avatar__image" [style.backgroundImage]="getSrcUrl()"></div>\n</ng-template>\n\n<ng-template #initialsTemplate>\n    <span>{{initials.substring(0, 2)}}</span>\n</ng-template>\n\n<ng-template #iconTemplate>\n     <igx-icon>{{icon}}</igx-icon>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template"></ng-container>\n'}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={image:[{type:o.ob,args:["image",{static:!1}]}],defaultTemplate:[{type:o.ob,args:["defaultTemplate",{read:o.kb,static:!0}]}],imageTemplate:[{type:o.ob,args:["imageTemplate",{read:o.kb,static:!0}]}],initialsTemplate:[{type:o.ob,args:["initialsTemplate",{read:o.kb,static:!0}]}],iconTemplate:[{type:o.ob,args:["iconTemplate",{read:o.kb,static:!0}]}],ariaLabel:[{type:o.z,args:["attr.aria-label"]}],role:[{type:o.z,args:["attr.role"]}],cssClass:[{type:o.z,args:["class.igx-avatar"]}],roleDescription:[{type:o.z,args:["attr.aria-roledescription"]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],roundShape:[{type:o.z,args:["class.igx-avatar--rounded"]},{type:o.G}],color:[{type:o.z,args:["style.color"]},{type:o.G}],bgColor:[{type:o.z,args:["style.background"]},{type:o.G}],initials:[{type:o.G}],icon:[{type:o.G}],src:[{type:o.G}],size:[{type:o.G}]},e}(),Vr=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[zr],exports:[zr],imports:[a.b,Rr]}]}],e}(),Br=0,Hr={DEFAULT:"default",INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error"},Nr=function(){function e(){this.id="igx-badge-"+Br++,this.type="default",this.value="",this.role="status",this.cssClass="igx-badge",this.label="badge"}return Object.defineProperty(e.prototype,"roleDescription",{get:function(){return this.icon?this.type+" type badge with icon type "+this.icon:this.value?this.type+" badge type with value "+this.value:this.type+" badge type without value"},enumerable:!0,configurable:!0}),e.prototype.setClasses=function(){var e,t,n,i,r,o={};switch(Hr[this.type.toUpperCase()]){case Hr.DEFAULT:(e={})[this.cssClass+"__circle--default"]=!0,o=e;break;case Hr.INFO:(t={})[this.cssClass+"__circle--info"]=!0,o=t;break;case Hr.SUCCESS:(n={})[this.cssClass+"__circle--success"]=!0,o=n;break;case Hr.WARNING:(i={})[this.cssClass+"__circle--warning"]=!0,o=i;break;case Hr.ERROR:(r={})[this.cssClass+"__circle--error"]=!0,o=r}return o},e.decorators=[{type:o.n,args:[{selector:"igx-badge",template:'<div class="igx-badge__circle" [ngClass]="setClasses()" [attr.aria-roledescription]="roleDescription">\n    <span *ngIf="!icon" class="igx-badge__circle-value">{{value}}</span>\n    <igx-icon *ngIf="icon" fontSet="material">{{icon}}</igx-icon>\n</div>\n'}]}],e.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],type:[{type:o.G}],value:[{type:o.G}],icon:[{type:o.G}],role:[{type:o.z,args:["attr.role"]}],cssClass:[{type:o.z,args:["class.igx-badge"]}],label:[{type:o.z,args:["attr.aria-label"]}]},e}(),Wr=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Nr],exports:[Nr],imports:[a.b,Rr]}]}],e}(),Yr=function(){function e(e,t,n){this.panel=e,this.element=t,this.cdr=n,this._labelledBy="",this._label="",this.cssClass="igx-expansion-panel__body",this.role="region"}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label||this.panel.id+"-region"},set:function(e){this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelledBy",{get:function(){return this._labelledBy},set:function(e){this._labelledBy=e},enumerable:!0,configurable:!0}),e.decorators=[{type:o.n,args:[{selector:"igx-expansion-panel-body",template:"<ng-content></ng-content>"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.C,args:["IgxExpansionPanelToken"]}]},{type:o.u},{type:o.k}]},e.propDecorators={cssClass:[{type:o.z,args:["class.igx-expansion-panel__body"]}],label:[{type:o.G},{type:o.z,args:["attr.aria-label"]}],labelledBy:[{type:o.G},{type:o.z,args:["attr.aria-labelledby"]}],role:[{type:o.G},{type:o.z,args:["attr.role"]}]},e}(),Ur=function(){function e(){this.cssClass="igx-expansion-panel__header-title"}return e.decorators=[{type:o.t,args:[{selector:"igx-expansion-panel-title"}]}],e.propDecorators={cssClass:[{type:o.z,args:["class.igx-expansion-panel__header-title"]}]},e}(),Kr=function(){function e(){this.cssClass="igx-expansion-panel__header-description"}return e.decorators=[{type:o.t,args:[{selector:"igx-expansion-panel-description"}]}],e.propDecorators={cssClass:[{type:o.z,args:["class.igx-expansion-panel__header-description"]}]},e}(),$r=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"igx-expansion-panel-icon"}]}],e}(),Xr={LEFT:"left",NONE:"none",RIGHT:"right"},qr=function(){function e(e,t,n){this.panel=e,this.cdr=t,this.elementRef=n,this._iconTemplate=!1,this.id="",this.lv="3",this.role="heading",this.iconPosition=Xr.LEFT,this.onInteraction=new o.x,this.cssClass="igx-expansion-panel__header",this.disabled=!1,this.id=this.panel.id+"-header"}return Object.defineProperty(e.prototype,"iconTemplate",{get:function(){return this._iconTemplate},set:function(e){this._iconTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.panel.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return!this.panel.collapsed},enumerable:!0,configurable:!0}),e.prototype.onAction=function(e){this.disabled?e.stopPropagation():(this.onInteraction.emit({event:e,panel:this.panel}),this.panel.toggle(e),e.preventDefault())},e.prototype.openPanel=function(e){e.altKey&&(this.panel.expand(e),this.onInteraction.emit({event:e,panel:this.panel}))},e.prototype.closePanel=function(e){e.altKey&&(this.panel.collapse(e),this.onInteraction.emit({event:e,panel:this.panel}))},Object.defineProperty(e.prototype,"iconPositionClass",{get:function(){switch(this.iconPosition){case Xr.LEFT:return"igx-expansion-panel__header-icon--start";case Xr.RIGHT:return"igx-expansion-panel__header-icon--end";case Xr.NONE:return"igx-expansion-panel__header-icon--none";default:return""}},enumerable:!0,configurable:!0}),e.decorators=[{type:o.n,args:[{selector:"igx-expansion-panel-header",template:'<div class="igx-expansion-panel__header-inner" tabindex="0" role="button" [attr.id]="id"\n[attr.aria-disabled]="disabled" [attr.aria-expanded]="isExpanded" [attr.aria-controls]="controls">\n    <div class="igx-expansion-panel__title-wrapper">\n        <ng-content select="igx-expansion-panel-title"></ng-content>\n        <ng-content select="igx-expansion-panel-description"></ng-content>\n    </div>\n    <ng-content></ng-content>\n    <div [class]="iconPositionClass">\n        <ng-content *ngIf="iconTemplate" select="igx-expansion-panel-icon"></ng-content>\n        <igx-icon *ngIf="!iconTemplate" fontSet="material">\n            {{panel.collapsed? \'expand_more\':\'expand_less\'}}\n        </igx-icon>\n    </div>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.y},{type:o.C,args:["IgxExpansionPanelToken"]}]},{type:o.k},{type:o.u}]},e.propDecorators={iconTemplate:[{type:o.r,args:[$r,{static:!1}]}],lv:[{type:o.z,args:["attr.aria-level"]},{type:o.G}],role:[{type:o.z,args:["attr.role"]},{type:o.G}],iconPosition:[{type:o.G}],onInteraction:[{type:o.S}],cssClass:[{type:o.z,args:["class.igx-expansion-panel__header"]}],isExpanded:[{type:o.z,args:["class.igx-expansion-panel__header--expanded"]}],disabled:[{type:o.G},{type:o.z,args:["class.igx-expansion-panel--disabled"]}],onAction:[{type:o.A,args:["keydown.Enter",["$event"]]},{type:o.A,args:["keydown.Space",["$event"]]},{type:o.A,args:["keydown.Spacebar",["$event"]]},{type:o.A,args:["click",["$event"]]}],openPanel:[{type:o.A,args:["keydown.Alt.ArrowDown",["$event"]]}],closePanel:[{type:o.A,args:["keydown.Alt.ArrowUp",["$event"]]}]},e}(),Zr=0,Qr=function(){function e(e,t){this.cdr=e,this.builder=t,this.animationSettings={openAnimation:Ze,closeAnimation:Qe},this.id="igx-expansion-panel-"+Zr++,this.cssClass="igx-expansion-panel",this.collapsed=!0,this.onCollapsed=new o.x,this.onExpanded=new o.x}return Object.defineProperty(e.prototype,"headerId",{get:function(){return this.header?this.id+"-header":""},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.body&&this.header&&Promise.resolve().then(function(){e.body.labelledBy=e.body.labelledBy||e.headerId,e.body.label=e.body.label||e.id+"-region"})},e.prototype.playOpenAnimation=function(e){if(this.body){var t=Object(P.p)(this.animationSettings.openAnimation),n=this.builder.build(t).create(this.body.element.nativeElement);n.onDone(function(){e(),n.reset()}),n.play()}},e.prototype.playCloseAnimation=function(e){if(this.body){var t=Object(P.p)(this.animationSettings.closeAnimation),n=this.builder.build(t).create(this.body.element.nativeElement);n.onDone(function(){e(),n.reset()}),n.play()}},e.prototype.collapse=function(e){var t=this;this.collapsed||this.playCloseAnimation(function(){t.onCollapsed.emit({event:e,panel:t}),t.collapsed=!0})},e.prototype.expand=function(e){var t=this;this.collapsed&&(this.collapsed=!1,this.cdr.detectChanges(),this.playOpenAnimation(function(){t.onExpanded.emit({event:e,panel:t})}))},e.prototype.toggle=function(e){this.collapsed?this.open(e):this.close(e)},e.prototype.open=function(e){this.expand(e)},e.prototype.close=function(e){this.collapse(e)},e.decorators=[{type:o.n,args:[{selector:"igx-expansion-panel",template:'<ng-content select="igx-expansion-panel-header"></ng-content>\n<ng-content *ngIf="!collapsed" select="igx-expansion-panel-body"></ng-content>\n',providers:[{provide:"IgxExpansionPanelToken",useExisting:e}]}]}],e.ctorParameters=function(){return[{type:o.k},{type:P.b}]},e.propDecorators={animationSettings:[{type:o.G}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],cssClass:[{type:o.z,args:["class.igx-expansion-panel"]}],collapsed:[{type:o.G}],onCollapsed:[{type:o.S}],onExpanded:[{type:o.S}],body:[{type:o.r,args:[Object(o.vb)(function(){return Yr}),{read:Object(o.vb)(function(){return Yr}),static:!1}]}],header:[{type:o.r,args:[Object(o.vb)(function(){return qr}),{read:Object(o.vb)(function(){return qr}),static:!1}]}]},e}(),Jr=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Qr,qr,Yr,Kr,Ur,$r],entryComponents:[],exports:[Qr,qr,Yr,Kr,Ur,$r],imports:[a.b,gr,Rr,Mi,Vr]}]}],e}(),eo=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"igx-banner-actions"}]}],e}(),to=function(){function e(e){this.elementRef=e,this.onOpened=new o.x,this.onOpening=new o.x,this.onClosed=new o.x,this.onClosing=new o.x}return Object.defineProperty(e.prototype,"useDefaultTemplate",{get:function(){return!this._bannerActionTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationSettings",{get:function(){return this._animationSettings?this._animationSettings:this._expansionPanel.animationSettings},set:function(e){this._animationSettings=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsed",{get:function(){return this._expansionPanel.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayStyle",{get:function(){return this.collapsed?"":"block"},enumerable:!0,configurable:!0}),e.prototype.open=function(e){this._bannerEvent={banner:this,event:e};var t={banner:this,event:e,cancel:!1};this.onOpening.emit(t),t.cancel||this._expansionPanel.open(e)},e.prototype.close=function(e){this._bannerEvent={banner:this,event:e};var t={banner:this,event:e,cancel:!1};this.onClosing.emit(t),t.cancel||this._expansionPanel.close(e)},e.prototype.toggle=function(e){this.collapsed?this.open(e):this.close(e)},e.prototype.onExpansionPanelOpen=function(){this.onOpened.emit(this._bannerEvent)},e.prototype.onExpansionPanelClose=function(){this.onClosed.emit(this._bannerEvent)},e.decorators=[{type:o.n,args:[{selector:"igx-banner",template:'<igx-expansion-panel #expansionPanel [animationSettings]="animationSettings" (onCollapsed)="onExpansionPanelClose()" (onExpanded)="onExpansionPanelOpen()"\n    [collapsed]="collapsed" aria-live="polite" [attr.aria-hidden]="collapsed">\n    <igx-expansion-panel-body>\n        <div class="igx-banner">\n            <div class="igx-banner__message">\n                <div *ngIf="bannerIcon" class="igx-banner__illustration">\n                    <ng-content select="igx-icon"></ng-content>\n                </div>\n                <span class="igx-banner__text">\n                    <ng-content></ng-content>\n                </span>\n            </div>\n            <div class="igx-banner__actions">\n                <div class="igx-banner__row">\n                    <ng-container *ngIf="useDefaultTemplate">\n                        <button igxButton="flat" igxRipple (click)="close()">\n                            Dismiss\n                        </button>\n                    </ng-container>\n                    <ng-container *ngIf="!useDefaultTemplate">\n                        <ng-content select="igx-banner-actions"></ng-content>\n                    </ng-container>\n                </div>\n            </div>\n        </div>\n    </igx-expansion-panel-body>\n</igx-expansion-panel>'}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={_expansionPanel:[{type:o.ob,args:["expansionPanel",{static:!0}]}],_bannerActionTemplate:[{type:o.r,args:[eo,{static:!1}]}],bannerIcon:[{type:o.r,args:[Ar,{static:!1}]}],onOpened:[{type:o.S}],onOpening:[{type:o.S}],onClosed:[{type:o.S}],onClosing:[{type:o.S}],animationSettings:[{type:o.G}],displayStyle:[{type:o.z,args:["style.display"]}]},e}(),no=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[to,eo],exports:[to,eo],imports:[a.b,Jr,Rr,Mi,gr]}]}]}(),{horizontal:0,vertical:1});no[no.horizontal]="horizontal",no[no.vertical]="vertical";var io=0,ro=function(e){function t(t,n,i){var r=e.call(this,i)||this;return r._cdr=t,r._renderer=n,r._displayDensityOptions=i,r._disabled=!1,r.buttonClickNotifier$=new E.a,r.queryListNotifier$=new E.a,r.id="igx-buttongroup-"+io++,r.zIndex=0,r.multiSelection=!1,r.selectedIndexes=[],r.onSelect=new o.x,r.onUnselect=new o.x,r}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"buttons",{get:function(){return Object(r.i)(this.viewButtons.toArray(),this.templateButtons.toArray())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemContentCssClass",{get:function(){return this._itemContentCssClass},set:function(e){this._itemContentCssClass=e||this._itemContentCssClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(e){var t=this;this._disabled!==e&&(this._disabled=e,this.viewButtons&&this.templateButtons&&this.buttons.forEach(function(e){return e.disabled=t._disabled}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._isVertical?no.vertical:no.horizontal},set:function(e){this._isVertical=e===no.vertical},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVertical",{get:function(){return this._isVertical},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedButtons",{get:function(){var e=this;return this.buttons.filter(function(t,n){return-1!==e.selectedIndexes.indexOf(n)})},enumerable:!0,configurable:!0}),t.prototype.selectButton=function(e){var t=this;if(!(e>=this.buttons.length||e<0)){var n=this.buttons[e],i=n.nativeElement;if(!i.classList.contains("igx-button--disabled")){this.selectedIndexes.push(e),n.selected=!0,this._renderer.setAttribute(i,"aria-pressed","true"),this._renderer.addClass(i,"igx-button-group__item--selected"),this.onSelect.emit({button:n,index:e});var r=this.viewButtons.toArray().indexOf(n);-1!==r&&(this.values[r].selected=!0),!this.multiSelection&&this.selectedIndexes.length>1&&this.buttons.forEach(function(n,i){i!==e&&-1!==t.selectedIndexes.indexOf(i)&&t.deselectButton(i)})}}},t.prototype.deselectButton=function(e){if(!(e>=this.buttons.length||e<0)){var t=this.buttons[e],n=t.nativeElement;if(!n.classList.contains("igx-button--disabled")){this.selectedIndexes.splice(this.selectedIndexes.indexOf(e),1),t.selected=!1,this._renderer.setAttribute(n,"aria-pressed","false"),this._renderer.removeClass(n,"igx-button-group__item--selected"),this.onUnselect.emit({button:t,index:e});var i=this.viewButtons.toArray().indexOf(t);-1!==i&&(this.values[i].selected=!1)}}},t.prototype.ngAfterContentInit=function(){var e=this;this.templateButtons.forEach(function(t){t.initialDensity||(t.displayDensity=e.displayDensity)})},t.prototype.ngAfterViewInit=function(){var e=this,t=function(){e.buttonClickNotifier$.next(),e.selectedIndexes.splice(0,e.selectedIndexes.length),e.buttons.forEach(function(t,n){var i=t.nativeElement;e.disabled&&(t.disabled=!0),!t.disabled&&t.selected&&e.selectButton(n),t.buttonClick.pipe(Object(H.a)(e.buttonClickNotifier$)).subscribe(function(t){return e._clickHandler(t,n)}),e._renderer.addClass(i,"igx-button-group__item")})};this.viewButtons.changes.pipe(Object(H.a)(this.queryListNotifier$)).subscribe(function(){return t()}),this.templateButtons.changes.pipe(Object(H.a)(this.queryListNotifier$)).subscribe(function(){return t()}),t(),this._cdr.detectChanges()},t.prototype.ngOnDestroy=function(){this.buttonClickNotifier$.next(),this.buttonClickNotifier$.complete(),this.queryListNotifier$.next(),this.queryListNotifier$.complete()},t.prototype._clickHandler=function(e,t){-1!==this.selectedIndexes.indexOf(t)?this.deselectButton(t):this.selectButton(t)},t.decorators=[{type:o.n,args:[{selector:"igx-buttongroup",template:'<div class="igx-button-group" role="group" [class.igx-button-group--vertical]="isVertical">\n    <button *ngFor="let button of values; let i = \'index\'"\n        type="button"\n        igxButton="flat"\n        [displayDensity]="displayDensity"\n        [selected]="button.selected"\n        [attr.data-togglable]="button.togglable"\n        [disabled]="disabled || button.disabled"\n        [igxButtonColor]="button.color"\n        [igxButtonBackground]="button.bgcolor"\n        [igxLabel]="button.label"\n        [igxRipple]="button.ripple"\n    >\n        <div class="igx-button-group__item-content {{ itemContentCssClass }}">\n            <igx-icon *ngIf="button.icon" fontSet="material">{{button.icon}}</igx-icon>\n            <span *ngIf="button.label">{{button.label}}</span>\n        </div>\n    </button>\n    <ng-content></ng-content>\n</div>\n'}]}],t.ctorParameters=function(){return[{type:o.k},{type:o.Z},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={viewButtons:[{type:o.pb,args:[Li]}],templateButtons:[{type:o.s,args:[Li]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],zIndex:[{type:o.z,args:["style.zIndex"]}],itemContentCssClass:[{type:o.G}],multiSelection:[{type:o.G}],values:[{type:o.G}],disabled:[{type:o.G}],alignment:[{type:o.G}],onSelect:[{type:o.S}],onUnselect:[{type:o.S}]},t}(ni),oo=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[ro],exports:[ro],imports:[Mi,a.b,gr,Rr]}]}],e}(),ao={After:0,Before:1,Between:2,Specific:3,Weekdays:4,Weekends:5};ao[ao.After]="After",ao[ao.Before]="Before",ao[ao.Between]="Between",ao[ao.Specific]="Specific",ao[ao.Weekdays]="Weekdays",ao[ao.Weekends]="Weekends";var so=[31,28,31,30,31,30,31,31,30,31,30,31],lo=1;function co(e,t,n){void 0===e&&(e=0),void 0===n&&(n=1);for(var i=[],r=void 0===t?e:t,o=void 0===t?0:e;n<0?o>r:o<r;o+=n)i.push(o);return i}function po(e,t){if(t<0||t>11)throw new Error("Invalid month specified");var n=function(e,t,n){return new Date(e,t,n).getDay()}(e,t,1),i=so[t];return t===lo&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(e)&&i++,[n,i]}function uo(e,t){var n,i,o,a,s=(e=new Date(e.getFullYear(),e.getMonth(),e.getDate())).getTime();try{for(var l=Object(r.j)(t),c=l.next();!c.done;c=l.next()){var d=c.value,p=d.dateRange?d.dateRange.map(function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}):void 0;switch(d.type){case ao.After:if(s>p[0].getTime())return!0;break;case ao.Before:if(s<p[0].getTime())return!0;break;case ao.Between:var u=p.map(function(e){return e.getTime()}),h=Math.min(u[0],u[1]),g=Math.max(u[0],u[1]);if(s>=h&&s<=g)return!0;break;case ao.Specific:var f=p.map(function(e){return e.getTime()});try{for(var m=Object(r.j)(f),y=m.next();!y.done;y=m.next()){if(s===y.value)return!0}}catch(b){o={error:b}}finally{try{y&&!y.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}break;case ao.Weekdays:if(e.getDay()%6!=0)return!0;break;case ao.Weekends:if(e.getDay()%6==0)return!0;break;default:return!1}}}catch(v){n={error:v}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return!1}var ho={SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6};ho[ho.SUNDAY]="SUNDAY",ho[ho.MONDAY]="MONDAY",ho[ho.TUESDAY]="TUESDAY",ho[ho.WEDNESDAY]="WEDNESDAY",ho[ho.THURSDAY]="THURSDAY",ho[ho.FRIDAY]="FRIDAY",ho[ho.SATURDAY]="SATURDAY";var go=function(){function e(e){void 0===e&&(e=ho.SUNDAY),this._firstWeekDay=e}return Object.defineProperty(e.prototype,"firstWeekDay",{get:function(){return this._firstWeekDay%7},set:function(e){this._firstWeekDay=e},enumerable:!0,configurable:!0}),e.prototype.weekdays=function(){var e,t,n=[];try{for(var i=Object(r.j)(co(this.firstWeekDay,this.firstWeekDay+7)),o=i.next();!o.done;o=i.next()){var a=o.value;n.push(a%7)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},e.prototype.monthdates=function(e,t,n){var i,o;void 0===n&&(n=!1);var a=new Date(e,t,1),s=(a.getDay()-this.firstWeekDay)%7;s<0&&(s=7-Math.abs(s)),a=this.timedelta(a,"day",-s);for(var l,c=[];;)if(l=this.generateICalendarDate(a,e,t),c.push(l),(a=this.timedelta(a,"day",1)).getMonth()!==t&&a.getDay()===this.firstWeekDay){if(n&&c.length<=35)try{for(var d=Object(r.j)(co(0,7)),p=d.next();!p.done;p=d.next()){p.value;l=this.generateICalendarDate(a,e,t),c.push(l),a=this.timedelta(a,"day",1)}}catch(u){i={error:u}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}break}return c},e.prototype.monthdatescalendar=function(e,t,n){var i,o;void 0===n&&(n=!1);var a=this.monthdates(e,t,n),s=[];try{for(var l=Object(r.j)(co(0,a.length,7)),c=l.next();!c.done;c=l.next()){var d=c.value;s.push(a.slice(d,d+7))}}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return s},e.prototype.timedelta=function(e,t,n){var i=new Date(e),r=function(){i.getDate()!==e.getDate()&&i.setDate(0)};switch(t.toLowerCase()){case"year":i.setFullYear(i.getFullYear()+n),r();break;case"quarter":i.setMonth(i.getMonth()+3*n),r();break;case"month":i.setMonth(i.getMonth()+n),r();break;case"week":i.setDate(i.getDate()+7*n);break;case"day":i.setDate(i.getDate()+n);break;case"hour":i.setTime(i.getTime()+36e5*n);break;case"minute":i.setTime(i.getTime()+6e4*n);break;case"second":i.setTime(i.getTime()+1e3*n);break;default:throw new Error("Invalid interval specifier")}return i},e.prototype.formatToParts=function(e,t,n,i){var o,a,s,l,c=new Intl.DateTimeFormat(t,n),d={date:e,full:c.format(e)};if(c.formatToParts){var p=c.formatToParts(e),u=function(e){var t=p.findIndex(function(t){return t.type===e}),n={value:"",literal:"",combined:""};return"era"===e&&t>-1?(n.value=p[t].value,n):"era"===e&&-1===t?n:(n.value=p[t].value,n.literal=p[t+1]?p[t+1].value:"",n.combined=[n.value,n.literal].join(""),n)};try{for(var h=Object(r.j)(i),g=h.next();!g.done;g=h.next()){d[y=g.value]=u(y)}}catch(b){o={error:b}}finally{try{g&&!g.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}}else try{for(var f=Object(r.j)(i),m=f.next();!m.done;m=f.next()){var y;d[y=m.value]={value:"",literal:"",combined:""}}}catch(v){s={error:v}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}return d},e.prototype.generateICalendarDate=function(e,t,n){return{date:e,isCurrentMonth:e.getFullYear()===t&&e.getMonth()===n,isNextMonth:this.isNextMonth(e,t,n),isPrevMonth:this.isPreviousMonth(e,t,n)}},e.prototype.isPreviousMonth=function(e,t,n){return e.getFullYear()===t?e.getMonth()<n:e.getFullYear()<t},e.prototype.isNextMonth=function(e,t,n){return e.getFullYear()===t?e.getMonth()>n:e.getFullYear()>t},e}(),fo=function(){function e(){this.onYearSelection=new o.x}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!this.isCurrentYear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentCSS",{get:function(){return this.isCurrentYear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCurrentYear",{get:function(){return this.date.getFullYear()===this.value.getFullYear()},enumerable:!0,configurable:!0}),e.prototype.onClick=function(){this.onYearSelection.emit(this.value)},e.decorators=[{type:o.t,args:[{selector:"[igxCalendarYear]"}]}],e.propDecorators={value:[{type:o.G,args:["igxCalendarYear"]}],date:[{type:o.G}],onYearSelection:[{type:o.S}],defaultCSS:[{type:o.z,args:["class.igx-calendar__year"]}],currentCSS:[{type:o.z,args:["class.igx-calendar__year--current"]}],onClick:[{type:o.A,args:["click"]}]},e}(),mo=function(){function e(e){this.elementRef=e,this.onMonthSelection=new o.x,this.tabindex=0}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!this.isCurrentMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentCSS",{get:function(){return this.isCurrentMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCurrentMonth",{get:function(){return this.date.getMonth()===this.value.getMonth()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onClick=function(){var e=new Date(this.value.getFullYear(),this.value.getMonth(),this.date.getDate());this.onMonthSelection.emit(e)},e.decorators=[{type:o.t,args:[{selector:"[igxCalendarMonth]"}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={value:[{type:o.G,args:["igxCalendarMonth"]}],date:[{type:o.G}],index:[{type:o.G}],onMonthSelection:[{type:o.S}],tabindex:[{type:o.z,args:["attr.tabindex"]}],defaultCSS:[{type:o.z,args:["class.igx-calendar__month"]}],currentCSS:[{type:o.z,args:["class.igx-calendar__month--current"]}],onClick:[{type:o.A,args:["click"]}]},e}(),yo=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxCalendarHeader]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),bo=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxCalendarSubheader]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),vo=function(){function e(e,t){this.element=e,this.zone=t,this.destroy$=new E.a}return e.prototype.ngAfterViewInit=function(){var e=this;Object(T.a)(this.element.nativeElement,"keyup").pipe(Z(function(){return F(100)}),Object(H.a)(this.destroy$)).subscribe(function(t){e.stopScroll(t)}),this.zone.runOutsideAngular(function(){Object(T.a)(e.element.nativeElement,"keydown").pipe(Object(ee.a)(function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation())}),Z(function(){return F(100)}),Object(H.a)(e.destroy$)).subscribe(function(t){" "!==t.key&&"Spacebar"!==t.key&&"Enter"!==t.key||e.zone.run(function(){return e.startScroll(!0)})})})},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype.onMouseDown=function(){this.startScroll()},e.prototype.onMouseUp=function(e){this.stopScroll(e)},e.decorators=[{type:o.t,args:[{selector:"[igxCalendarScrollMonth]"}]}],e.ctorParameters=function(){return[{type:o.u},{type:o.Q}]},e.propDecorators={startScroll:[{type:o.G}],stopScroll:[{type:o.G}],onMouseDown:[{type:o.A,args:["mousedown"]}],onMouseUp:[{type:o.A,args:["mouseup",["$event"]]}]},e}(),xo={SINGLE:"single",MULTI:"multi",RANGE:"range"},_o={PREV:"prev",NEXT:"next",NONE:"none"},wo=function(){function e(){this.onSelection=new o.x,this._selection=xo.SINGLE,this.rangeStarted=!1,this._locale="en",this._disabledDates=null,this._specialDates=null,this._formatOptions={day:"numeric",month:"short",weekday:"short",year:"numeric"},this._formatViews={day:!1,month:!0,year:!1},this.monthScrollDirection=_o.NONE,this.scrollMonth$=new E.a,this.stopMonthScroll$=new E.a,this.startMonthScroll$=new E.a,this._onTouchedCallback=function(){},this._onChangeCallback=function(){},this.calendarModel=new go,this.viewDate=this.viewDate?this.viewDate:new Date,this.calendarModel.firstWeekDay=this.weekStart,this.initFormatters()}return Object.defineProperty(e.prototype,"weekStart",{get:function(){return this.calendarModel.firstWeekDay},set:function(e){this.calendarModel.firstWeekDay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale=e,this.initFormatters()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatOptions",{get:function(){return this._formatOptions},set:function(e){this._formatOptions=Object.assign(this._formatOptions,e),this.initFormatters()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatViews",{get:function(){return this._formatViews},set:function(e){this._formatViews=Object.assign(this._formatViews,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},set:function(e){switch(e){case xo.SINGLE:this.selectedDates=null;break;case xo.MULTI:case xo.RANGE:this.selectedDates=[];break;default:throw new Error("Invalid selection value")}this._onChangeCallback(this.selectedDates),this.rangeStarted=!1,this._selection=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.selectedDates},set:function(e){this.selectDate(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewDate",{get:function(){return this._viewDate},set:function(e){this._viewDate=this.getDateOnly(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabledDates",{get:function(){return this._disabledDates},set:function(e){this._disabledDates=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specialDates",{get:function(){return this._specialDates},set:function(e){this._specialDates=e},enumerable:!0,configurable:!0}),e.prototype.getDateOnlyInMs=function(e){return this.getDateOnly(e).getTime()},e.prototype.generateDateRange=function(e,t){var n=[];for(e=this.getDateOnly(e),t=this.getDateOnly(t);e.getTime()!==t.getTime();)e=this.calendarModel.timedelta(e,"day",1),n.push(e);return n},e.prototype.selectSingle=function(e){this.selectedDates=this.getDateOnly(e),this._onChangeCallback(this.selectedDates)},e.prototype.selectMultiple=function(e){var t=this;if(Array.isArray(e))this.selectedDates=this.selectedDates.concat(e.map(function(e){return t.getDateOnly(e)}));else{var n=this.getDateOnly(e),i=[];this.selectedDates.every(function(e){return e.getTime()!==n.getTime()})?i.push(n):this.selectedDates=this.selectedDates.filter(function(e){return e.getTime()!==n.getTime()}),i.length>0&&(this.selectedDates=this.selectedDates.concat(i))}this._onChangeCallback(this.selectedDates)},e.prototype.selectRange=function(e,t){var n,i,o=this;if(void 0===t&&(t=!1),Array.isArray(e))e.sort(function(e,t){return e.valueOf()-t.valueOf()}),n=this.getDateOnly(e[0]),i=this.getDateOnly(e[e.length-1]),this.selectedDates=Object(r.i)([n],this.generateDateRange(n,i));else if(this.rangeStarted){if(this.rangeStarted=!1,this.selectedDates[0].getTime()===e.getTime())return this.selectedDates=[],void this._onChangeCallback(this.selectedDates);this.selectedDates.push(e),this.selectedDates.sort(function(e,t){return e.valueOf()-t.valueOf()}),n=this.selectedDates.shift(),i=this.selectedDates.pop(),this.selectedDates=Object(r.i)([n],this.generateDateRange(n,i))}else this.rangeStarted=!0,this.selectedDates=[e];t&&(this.selectedDates=this.selectedDates.filter(function(e){return!o.isDateDisabled(e)})),this._onChangeCallback(this.selectedDates)},e.prototype.deselectSingle=function(e){null!==this.selectedDates&&this.getDateOnlyInMs(e)===this.getDateOnlyInMs(this.selectedDates)&&(this.selectedDates=null,this._onChangeCallback(this.selectedDates))},e.prototype.deselectMultiple=function(e){var t=this;e=e.filter(function(e){return null!==e});for(var n=this.selectedDates.length,i=new Set(e.map(function(e){return t.getDateOnlyInMs(e)})),r=this.selectedDates.length-1;r>=0;r--)i.has(this.getDateOnlyInMs(this.selectedDates[r]))&&this.selectedDates.splice(r,1);this.selectedDates.length!==n&&this._onChangeCallback(this.selectedDates)},e.prototype.deselectRange=function(e){if(!((e=e.filter(function(e){return null!==e})).length<1)){e.sort(function(e,t){return e.valueOf()-t.valueOf()});var t=this.getDateOnlyInMs(e[0]),n=this.getDateOnlyInMs(e[e.length-1]);this.selectedDates.sort(function(e,t){return e.valueOf()-t.valueOf()});var i=this.getDateOnlyInMs(this.selectedDates[0]),r=this.getDateOnlyInMs(this.selectedDates[this.selectedDates.length-1]);n<i||t>r||(this.selectedDates=[],this.rangeStarted=!1,this._onChangeCallback(this.selectedDates))}},e.prototype.initFormatters=function(){this.formatterDay=new Intl.DateTimeFormat(this._locale,{day:this._formatOptions.day}),this.formatterWeekday=new Intl.DateTimeFormat(this._locale,{weekday:this._formatOptions.weekday}),this.formatterMonth=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month}),this.formatterYear=new Intl.DateTimeFormat(this._locale,{year:this._formatOptions.year}),this.formatterMonthday=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month,day:this._formatOptions.day})},e.prototype.getDateOnly=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.writeValue=function(e){this.selectedDates=e},e.prototype.isDateDisabled=function(e){return null!==this.disabledDates&&uo(e,this.disabledDates)},e.prototype.selectDate=function(e){if(null==e||Array.isArray(e)&&0===e.length)return new Date;switch(this.selection){case xo.SINGLE:this.selectSingle(e);break;case xo.MULTI:this.selectMultiple(e);break;case xo.RANGE:this.selectRange(e,!0)}},e.prototype.deselectDate=function(e){if(null!==this.selectedDates&&this.selectedDates!==[]){if(null==e)return this.selectedDates=this.selection===xo.SINGLE?null:[],this.rangeStarted=!1,void this._onChangeCallback(this.selectedDates);switch(this.selection){case xo.SINGLE:this.deselectSingle(e);break;case xo.MULTI:this.deselectMultiple(e);break;case xo.RANGE:this.deselectRange(e)}}},e.prototype.selectDateFromClient=function(e){switch(this.selection){case xo.SINGLE:case xo.MULTI:this.isDateDisabled(e)||this.selectDate(e);break;case xo.RANGE:this.selectRange(e,!0)}},e.propDecorators={weekStart:[{type:o.G}],locale:[{type:o.G}],formatOptions:[{type:o.G}],formatViews:[{type:o.G}],selection:[{type:o.G}],value:[{type:o.G}],viewDate:[{type:o.G}],disabledDates:[{type:o.G}],specialDates:[{type:o.G}],onSelection:[{type:o.S}]},e}(),Co={DEFAULT:0,YEAR:1,DECADE:2};Co[Co.DEFAULT]="DEFAULT",Co[Co.YEAR]="YEAR",Co[Co.DECADE]="DECADE";var So=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tabindex=0,t._activeView=Co.DEFAULT,t}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"activeView",{get:function(){return this._activeView},set:function(e){this._activeView=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDefaultView",{get:function(){return this._activeView===Co.DEFAULT},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDecadeView",{get:function(){return this._activeView===Co.DECADE},enumerable:!0,configurable:!0}),t.prototype.changeYear=function(e){var t=this;this.viewDate=new Date(e.getFullYear(),this.viewDate.getMonth()),this._activeView=Co.DEFAULT,requestAnimationFrame(function(){t.yearsBtn.nativeElement.focus()})},t.prototype.activeViewDecade=function(){this._activeView=Co.DECADE},t.prototype.activeViewDecadeKB=function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),this.activeViewDecade())},t.prototype.formattedYear=function(e){return this.formatViews.year?this.formatterYear.format(e):""+e.getFullYear()},t.propDecorators={yearsBtn:[{type:o.ob,args:["yearsBtn",{static:!1}]}],tabindex:[{type:o.z,args:["attr.tabindex"]}]},t}(wo),Do=0,Oo=function(){function e(e){this.el=e,this.id="igx-months-view-"+Do++,this.date=new Date,this.formatView=!0,this.onSelection=new o.x,this.styleClass=!0,this.tabindex=0,this._locale="en",this._monthFormat="short",this._onTouchedCallback=function(){},this._onChangeCallback=function(){},this.initMonthFormatter(),this._calendarModel=new go}return Object.defineProperty(e.prototype,"monthFormat",{get:function(){return this._monthFormat},set:function(e){this._monthFormat=e,this.initMonthFormatter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale=e,this.initMonthFormatter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"months",{get:function(){for(var e=new Date(this.date.getFullYear(),0,1),t=[],n=0;n<12;n++)t.push(e),e=this._calendarModel.timedelta(e,"month",1);return t},enumerable:!0,configurable:!0}),e.prototype.formattedMonth=function(e){return this.formatView?this._formatterMonth.format(e):""+e.getMonth()},e.prototype.selectMonth=function(e){this.onSelection.emit(e),this.date=e,this._onChangeCallback(this.date)},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.writeValue=function(e){e&&(this.date=e)},e.prototype.monthTracker=function(e,t){return t.getMonth()+"}"},e.prototype.initMonthFormatter=function(){this._formatterMonth=new Intl.DateTimeFormat(this._locale,{month:this.monthFormat})},e.prototype.onKeydownArrowUp=function(e){e.preventDefault(),e.stopPropagation();var t=this.dates.find(function(t){return t.nativeElement===e.target});if(t)for(var n=this.dates.toArray(),i=t.nativeElement.getBoundingClientRect(),r=n.indexOf(t)-1;r>=0;r--){var o=n[r].nativeElement.getBoundingClientRect();if(i.top!==o.top&&i.left===o.left){n[r].nativeElement.focus();break}}},e.prototype.onKeydownArrowDown=function(e){e.preventDefault(),e.stopPropagation();var t=this.dates.find(function(t){return t.nativeElement===e.target});if(t)for(var n=this.dates.toArray(),i=t.nativeElement.getBoundingClientRect(),r=n.indexOf(t)+1;r<n.length;r++){var o=n[r].nativeElement.getBoundingClientRect();if(i.top!==o.top&&i.left===o.left){n[r].nativeElement.focus();break}}},e.prototype.onKeydownArrowRight=function(e){e.preventDefault(),e.stopPropagation();var t=this.dates.find(function(t){return t.nativeElement===e.target});if(t){var n=this.dates.toArray();if(n.indexOf(t)+1<n.length)n[n.indexOf(t)+1].nativeElement.focus()}},e.prototype.onKeydownArrowLeft=function(e){e.preventDefault(),e.stopPropagation();var t=this.dates.find(function(t){return t.nativeElement===e.target});if(t){var n=this.dates.toArray();if(n.indexOf(t)-1>=0)n[n.indexOf(t)-1].nativeElement.focus()}},e.prototype.onKeydownHome=function(e){e.preventDefault(),e.stopPropagation(),this.dates.toArray()[0].nativeElement.focus()},e.prototype.onKeydownEnd=function(e){e.preventDefault(),e.stopPropagation();var t=this.dates.toArray();t[t.length-1].nativeElement.focus()},e.prototype.onKeydownEnter=function(e){var t=this.dates.find(function(t){return t.nativeElement===e.target}).value;this.date=new Date(t.getFullYear(),t.getMonth(),this.date.getDate()),this.onSelection.emit(this.date),this._onChangeCallback(this.date)},e.decorators=[{type:o.n,args:[{providers:[{provide:l.h,useExisting:e,multi:!0}],selector:"igx-months-view",template:'<div class="igx-calendar__body">\n    <div class="igx-calendar__body-row--wrap">\n        <div [igxCalendarMonth]="month" [date]="date" (onMonthSelection)="selectMonth($event)" [index]="i" *ngFor="let month of months; index as i; trackBy: monthTracker">\n            {{ formattedMonth(month) | titlecase }}\n        </div>\n    </div>\n</div>\n\n'}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],date:[{type:o.G}],monthFormat:[{type:o.G}],locale:[{type:o.G}],formatView:[{type:o.G}],onSelection:[{type:o.S}],styleClass:[{type:o.z,args:["class.igx-calendar"]}],dates:[{type:o.pb,args:[mo,{read:mo}]}],tabindex:[{type:o.z,args:["attr.tabindex"]}],onKeydownArrowUp:[{type:o.A,args:["keydown.arrowup",["$event"]]}],onKeydownArrowDown:[{type:o.A,args:["keydown.arrowdown",["$event"]]}],onKeydownArrowRight:[{type:o.A,args:["keydown.arrowright",["$event"]]}],onKeydownArrowLeft:[{type:o.A,args:["keydown.arrowleft",["$event"]]}],onKeydownHome:[{type:o.A,args:["keydown.home",["$event"]]}],onKeydownEnd:[{type:o.A,args:["keydown.end",["$event"]]}],onKeydownEnter:[{type:o.A,args:["keydown.enter",["$event"]]}]},e}(),Io=0,ko=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overrides={pan:{direction:Hammer.DIRECTION_VERTICAL,threshold:1}},t}return Object(r.d)(t,e),t.decorators=[{type:o.D}],t}(ce.e),Po=function(){function e(e){this.el=e,this.id="igx-years-view-"+Io++,this.date=new Date,this.onSelection=new o.x,this.styleClass=!0,this.tabindex=0,this._locale="en",this._yearFormat="numeric",this._onTouchedCallback=function(){},this._onChangeCallback=function(){},this.initYearFormatter(),this._calendarModel=new go}return Object.defineProperty(e.prototype,"yearFormat",{get:function(){return this._yearFormat},set:function(e){this._yearFormat=e,this.initYearFormatter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(e){this._locale=e,this.initYearFormatter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decade",{get:function(){var e,t,n=[],i=this.date.getFullYear()-3,o=this.date.getFullYear()+4;try{for(var a=Object(r.j)(co(i,o)),s=a.next();!s.done;s=a.next()){var l=s.value;n.push(new Date(l,this.date.getMonth(),this.date.getDate()))}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},enumerable:!0,configurable:!0}),e.prototype.formattedYear=function(e){return this.formatView?this._formatterYear.format(e):""+e.getFullYear()},e.prototype.selectYear=function(e){this.date=e,this.onSelection.emit(this.date),this._onChangeCallback(this.date)},e.prototype.scroll=function(e){e.preventDefault(),e.stopPropagation();var t=e.deltaY<0?-1:1;this.generateYearRange(t)},e.prototype.pan=function(e){var t=e.deltaY<0?1:-1;this.generateYearRange(t)},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.yearTracker=function(e,t){return t.getFullYear()+"}"},e.prototype.writeValue=function(e){e&&(this.date=e)},e.prototype.onKeydownArrowDown=function(e){e.preventDefault(),e.stopPropagation(),this.generateYearRange(1)},e.prototype.onKeydownArrowUp=function(e){e.preventDefault(),e.stopPropagation(),this.generateYearRange(-1)},e.prototype.onKeydownEnter=function(){this.onSelection.emit(this.date),this._onChangeCallback(this.date)},e.prototype.initYearFormatter=function(){this._formatterYear=new Intl.DateTimeFormat(this._locale,{year:this.yearFormat})},e.prototype.generateYearRange=function(e){var t=(new Date).getFullYear();e>0&&this.date.getFullYear()-t>=95||e<0&&t-this.date.getFullYear()>=95||(this.date=this._calendarModel.timedelta(this.date,"year",e))},e.decorators=[{type:o.n,args:[{providers:[{provide:l.h,useExisting:e,multi:!0},{provide:ce.c,useClass:ko}],selector:"igx-years-view",template:'<div class="igx-calendar__body">\n    <div class="igx-calendar__body-column" (wheel)="scroll($event)" (pan)="pan($event)">\n        <span [igxCalendarYear]="year" [date]="date" (onYearSelection)="selectYear($event)" *ngFor="let year of decade; trackBy: yearTracker">\n            {{ formattedYear(year) }}\n        </span>\n    </div>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],date:[{type:o.G}],yearFormat:[{type:o.G}],locale:[{type:o.G}],formatView:[{type:o.G}],onSelection:[{type:o.S}],styleClass:[{type:o.z,args:["class.igx-calendar"]}],tabindex:[{type:o.z,args:["attr.tabindex"]}],onKeydownArrowDown:[{type:o.A,args:["keydown.arrowdown",["$event"]]}],onKeydownArrowUp:[{type:o.A,args:["keydown.arrowup",["$event"]]}],onKeydownEnter:[{type:o.A,args:["keydown.enter"]}]},e}(),Eo=function(){function e(e){this.elementRef=e,this.onDateSelection=new o.x,this.tabindex=0,this._selected=!1}return Object.defineProperty(e.prototype,"selected",{get:function(){var e=this.date.date;if(this.value)return this.selection===xo.SINGLE?this._selected=this.value.getTime()===e.getTime():this._selected=this.value.some(function(t){return t.getTime()===e.getTime()}),this._selected},set:function(e){this._selected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCurrentMonth",{get:function(){return this.date.isCurrentMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPreviousMonth",{get:function(){return this.date.isPrevMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isNextMonth",{get:function(){return this.date.isNextMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInactive",{get:function(){return this.date.isNextMonth||this.date.isPrevMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isToday",{get:function(){var e=new Date(Date.now()),t=this.date.date;return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWeekend",{get:function(){var e=this.date.date.getDay();return 0===e||6===e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return null!==this.disabledDates&&uo(this.date.date,this.disabledDates)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOutOfRange",{get:function(){return!!this.outOfRangeDates&&uo(this.date.date,this.outOfRangeDates)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpecial",{get:function(){return null!==this.specialDates&&uo(this.date.date,this.specialDates)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return this.date.isCurrentMonth&&!(this.isWeekend&&this.selected)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInactiveCSS",{get:function(){return this.isInactive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTodayCSS",{get:function(){return this.isToday&&!this.selected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedCSS",{get:function(){return this.selected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWeekendCSS",{get:function(){return this.isWeekend},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabledCSS",{get:function(){return this.isDisabled||this.isOutOfRange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpecialCSS",{get:function(){return this.isSpecial},enumerable:!0,configurable:!0}),e.prototype.onSelect=function(){this.onDateSelection.emit(this.date)},e.decorators=[{type:o.n,args:[{selector:"igx-day-item",template:"<ng-content></ng-content>\n"}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={date:[{type:o.G}],selection:[{type:o.G}],value:[{type:o.G}],disabledDates:[{type:o.G}],outOfRangeDates:[{type:o.G}],specialDates:[{type:o.G}],onDateSelection:[{type:o.S}],tabindex:[{type:o.z,args:["attr.tabindex"]}],defaultCSS:[{type:o.z,args:["class.igx-calendar__date"]}],isInactiveCSS:[{type:o.z,args:["class.igx-calendar__date--inactive"]}],isTodayCSS:[{type:o.z,args:["class.igx-calendar__date--current"]}],isSelectedCSS:[{type:o.z,args:["class.igx-calendar__date--selected"]}],isWeekendCSS:[{type:o.z,args:["class.igx-calendar__date--weekend"]}],isDisabledCSS:[{type:o.z,args:["class.igx-calendar__date--disabled"]}],isSpecialCSS:[{type:o.z,args:["class.igx-calendar__date--special"]}],onSelect:[{type:o.A,args:["click"]},{type:o.A,args:["keydown.enter"]}]},e}(),To=0,Ao=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="igx-days-view-"+To++,t.animationAction="",t.changeDaysView=!1,t.onDateSelection=new o.x,t.onViewChanged=new o.x,t.isKeydownTrigger=!1,t.styleClass=!0,t}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"getCalendarMonth",{get:function(){return this.calendarModel.monthdatescalendar(this.viewDate.getFullYear(),this.viewDate.getMonth(),!0)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){!this.changeDaysView&&this.dates&&this.disableOutOfRangeDates()},t.prototype.formattedDate=function(e){return this.formatViews.day?this.formatterDay.format(e):""+e.getDate()},t.prototype.generateWeekHeader=function(){var e,t,n=[],i=this.calendarModel.monthdatescalendar(this.viewDate.getFullYear(),this.viewDate.getMonth())[0];try{for(var o=Object(r.j)(i),a=o.next();!a.done;a=o.next()){var s=a.value;n.push(this.formatterWeekday.format(s.date))}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},t.prototype.rowTracker=function(e,t){return""+t[e].date.getMonth()+t[e].date.getDate()},t.prototype.dateTracker=function(e,t){return t.date.getMonth()+"--"+t.date.getDate()},t.prototype.isCurrentMonth=function(e){return this.viewDate.getMonth()===e.getMonth()},t.prototype.isCurrentYear=function(e){return this.viewDate.getFullYear()===e.getFullYear()},t.prototype.focusActiveDate=function(){var e=this.dates.find(function(e){return e.selected});e||(e=this.dates.find(function(e){return e.isToday})),e&&e.nativeElement.focus()},t.prototype.selectDay=function(e){this.selectDateFromClient(e.date),this.onDateSelection.emit(e),this.onSelection.emit(this.selectedDates)},t.prototype.animationDone=function(e,t){if(t){this.monthScrollDirection!==_o.NONE&&this.scrollMonth$.next();var n=this.dates.find(function(e){return e.selected});n&&!this.isKeydownTrigger?setTimeout(function(){n.nativeElement.focus()},parseInt(He.options.params.duration,10)):!this.callback||"next"!==e.toState&&"prev"!==e.toState||this.callback(this.dates,this.nextDate)}},t.prototype.focusPreviousUpDate=function(e,t){var n=this;void 0===t&&(t=!1);var i=this.dates.find(function(t){return t.nativeElement===e});if(i){for(var r=this.dates.toArray(),o=r.indexOf(i);o-7>-1;o-=7){var a=t?r[o]:r[o-7];if(!a.isDisabled&&!a.isOutOfRange){a.nativeElement.focus();break}}if(this.changeDaysView&&r.indexOf(i)-7<0){var s=r[r.indexOf(i)];this.nextDate=new Date(s.date.date),this.nextDate.setDate(this.nextDate.getDate()-7),this.isKeydownTrigger=!0,this.animationAction="prev",this.callback=function(e,t){var i=e.find(function(e){return e.date.date.getTime()===t.getTime()});i&&n.focusPreviousUpDate(i.nativeElement,!0)},this.onViewChanged.emit(this.nextDate)}}},t.prototype.focusNextDownDate=function(e,t){var n=this;void 0===t&&(t=!1);var i=this.dates.find(function(t){return t.nativeElement===e});if(i){for(var r=this.dates.toArray(),o=r.indexOf(i);o+7<this.dates.length;o+=7){var a=t?r[o]:r[o+7];if(!a.isDisabled&&!a.isOutOfRange){a.nativeElement.focus();break}}if(this.changeDaysView&&r.indexOf(i)+7>this.dates.length-1){var s=r[r.indexOf(i)];this.nextDate=new Date(s.date.date),this.nextDate.setDate(this.nextDate.getDate()+7),this.isKeydownTrigger=!0,this.animationAction="next",this.callback=function(e,t){var i=e.find(function(e){return e.date.date.getTime()===t.getTime()});i&&n.focusNextDownDate(i.nativeElement,!0)},this.onViewChanged.emit(this.nextDate)}}},t.prototype.focusPreviousDate=function(e){var t=this,n=this.dates.find(function(t){return t.nativeElement===e});if(n){for(var i=this.dates.toArray(),r=i.indexOf(n);r>0;r--){var o=i[r-1];if(!o.isDisabled&&!o.isOutOfRange){o.nativeElement.focus();break}}if(this.changeDaysView&&0===i.indexOf(n)){var a=i[0];a.isCurrentMonth?this.nextDate=this.calendarModel.timedelta(a.date.date,"day",-1):this.nextDate=new Date(a.date.date),this.isKeydownTrigger=!0,this.animationAction="prev",this.callback=function(e,n){var i=e.find(function(e){return e.date.date.getTime()===n.getTime()});i&&t.focusPreviousDate(i.nativeElement)},this.onViewChanged.emit(this.nextDate)}}},t.prototype.focusNextDate=function(e){var t=this,n=this.dates.find(function(t){return t.nativeElement===e});if(n){for(var i=this.dates.toArray(),r=i.indexOf(n);r<this.dates.length-1;r++){var o=i[r+1];if(!o.isDisabled&&!o.isOutOfRange){o.nativeElement.focus();break}}if(this.changeDaysView&&i.indexOf(n)===this.dates.length-1){var a=i[this.dates.length-1];this.nextDate=new Date(a.date.date),this.isKeydownTrigger=!0,this.animationAction="next",this.callback=function(e,n){var i=e.find(function(e){return e.date.date.getTime()===n.getTime()});i&&t.focusNextDate(i.nativeElement)},this.onViewChanged.emit(this.nextDate)}}},t.prototype.disableOutOfRangeDates=function(){var e=[];this.dates.toArray().forEach(function(t){t.isCurrentMonth||e.push(t.date.date)}),this.outOfRangeDates=[{type:ao.Specific,dateRange:e}]},t.prototype.onKeydownArrowUp=function(e){e.preventDefault(),e.stopPropagation(),this.focusPreviousUpDate(e.target)},t.prototype.onKeydownArrowDown=function(e){e.preventDefault(),e.stopPropagation(),this.focusNextDownDate(e.target)},t.prototype.onKeydownArrowLeft=function(e){e.preventDefault(),e.stopPropagation(),this.focusPreviousDate(e.target)},t.prototype.onKeydownArrowRight=function(e){e.preventDefault(),e.stopPropagation(),this.focusNextDate(e.target)},t.prototype.onKeydownHome=function(e){e.preventDefault(),e.stopPropagation();for(var t=this.dates.filter(function(e){return e.isCurrentMonth}),n=0;n<t.length;n++)if(!t[n].isDisabled){t[n].nativeElement.focus();break}},t.prototype.onKeydownEnd=function(e){e.preventDefault(),e.stopPropagation();for(var t=this.dates.filter(function(e){return e.isCurrentMonth}),n=t.length-1;n>=0;n--)if(!t[n].isDisabled){t[n].nativeElement.focus();break}},t.decorators=[{type:o.n,args:[{providers:[{multi:!0,provide:l.h,useExisting:t}],animations:[Object(P.o)("animateChange",[Object(P.n)("* => prev",Object(P.p)(Be,{params:{fromPosition:"translateX(-30%)"}})),Object(P.n)("* => next",Object(P.p)(He,{params:{fromPosition:"translateX(30%)"}}))])],selector:"igx-days-view",template:'<div class="igx-calendar__body-row">\n    <span *ngFor="let dayName of generateWeekHeader()" class="igx-calendar__label">\n        {{ dayName | titlecase }}\n    </span>\n</div>\n\n<div *ngFor="let week of getCalendarMonth; last as isLast; index as i; trackBy: rowTracker" class="igx-calendar__body-row" [@animateChange]="animationAction" (@animateChange.done)="animationDone($event, isLast)">\n    <igx-day-item [date]="day" [selection]="selection" [value]="value" [disabledDates]="disabledDates" [specialDates]="specialDates" [outOfRangeDates]="outOfRangeDates" (onDateSelection)="selectDay($event)" *ngFor="let day of week; trackBy: dateTracker">\n        {{ formattedDate(day.date) }}\n    </igx-day-item>\n</div>\n'}]}],t.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],animationAction:[{type:o.G}],changeDaysView:[{type:o.G}],onDateSelection:[{type:o.S}],onViewChanged:[{type:o.S}],dates:[{type:o.pb,args:[Eo,{read:Eo}]}],styleClass:[{type:o.z,args:["class.igx-calendar"]}],onKeydownArrowUp:[{type:o.A,args:["keydown.arrowup",["$event"]]}],onKeydownArrowDown:[{type:o.A,args:["keydown.arrowdown",["$event"]]}],onKeydownArrowLeft:[{type:o.A,args:["keydown.arrowleft",["$event"]]}],onKeydownArrowRight:[{type:o.A,args:["keydown.arrowright",["$event"]]}],onKeydownHome:[{type:o.A,args:["keydown.home",["$event"]]}],onKeydownEnd:[{type:o.A,args:["keydown.end",["$event"]]}]},t}(wo),Ro=0,jo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="igx-calendar-"+Ro++,t.hasHeader=!0,t.vertical=!1,t.tabindex=0,t.role="grid",t.ariaLabelledBy="calendar",t.styleClass=!0,t._monthAction="",t.startPrevMonthScroll=function(e){void 0===e&&(e=!1),t.startMonthScroll$.next(),t.daysView.monthScrollDirection=_o.PREV,t.previousMonth(e)},t.startNextMonthScroll=function(e){void 0===e&&(e=!1),t.startMonthScroll$.next(),t.daysView.monthScrollDirection=_o.NEXT,t.nextMonth(e)},t.stopMonthScroll=function(e){e.stopPropagation(),t.daysView.stopMonthScroll$.next(!0),t.daysView.stopMonthScroll$.complete(),t.daysView.monthScrollDirection===_o.PREV?t.prevMonthBtn.nativeElement.focus():t.daysView.monthScrollDirection===_o.NEXT&&t.nextMonthBtn.nativeElement.focus(),t.daysView.monthScrollDirection=_o.NONE},t}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"styleVerticalClass",{get:function(){return this.vertical},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isYearView",{get:function(){return this.activeView===Co.YEAR},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthAction",{get:function(){return this._monthAction},set:function(e){this._monthAction=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerTemplate",{get:function(){return this.headerTemplateDirective?this.headerTemplateDirective.template:null},set:function(e){this.headerTemplateDirective=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subheaderTemplate",{get:function(){return this.subheaderTemplateDirective?this.subheaderTemplateDirective.template:null},set:function(e){this.subheaderTemplateDirective=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerContext",{get:function(){var e=this.headerDate;return this.generateContext(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){var e=this.viewDate;return this.generateContext(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerDate",{get:function(){return this.selectedDates?this.selectedDates:new Date},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var e=this;this.startMonthScroll$.pipe(Object(H.a)(this.stopMonthScroll$),Object(te.a)(function(){return e.daysView.scrollMonth$.pipe((t=1,function(e){return e.lift(new re(t))}),Z(function(){return F(300)}),Object(H.a)(e.stopMonthScroll$));var t})).subscribe(function(){switch(e.daysView.monthScrollDirection){case _o.PREV:e.previousMonth();break;case _o.NEXT:e.nextMonth();break;case _o.NONE:}})},t.prototype.formattedMonth=function(e){return this.formatViews.month?this.formatterMonth.format(e):""+e.getMonth()},t.prototype.previousMonth=function(e){void 0===e&&(e=!1),this.viewDate=this.calendarModel.timedelta(this.viewDate,"month",-1),this._monthAction="prev",this.daysView&&(this.daysView.isKeydownTrigger=e)},t.prototype.nextMonth=function(e){void 0===e&&(e=!1),this.viewDate=this.calendarModel.timedelta(this.viewDate,"month",1),this._monthAction="next",this.daysView&&(this.daysView.isKeydownTrigger=e)},t.prototype.activeViewDecade=function(){var t=this;e.prototype.activeViewDecade.call(this),requestAnimationFrame(function(){t.dacadeView&&t.dacadeView.el.nativeElement.focus()})},t.prototype.activeViewDecadeKB=function(t){var n=this;e.prototype.activeViewDecadeKB.call(this,t),requestAnimationFrame(function(){n.dacadeView&&n.dacadeView.el.nativeElement.focus()})},t.prototype.getFormattedDate=function(){var e=this.headerDate;return{monthday:this.formatterMonthday.format(e),weekday:this.formatterWeekday.format(e)}},t.prototype.childClicked=function(e){e.isPrevMonth&&this.previousMonth(),e.isNextMonth&&this.nextMonth(),this.selectDateFromClient(e.date),this.onSelection.emit(this.selectedDates)},t.prototype.viewChanged=function(e){this.viewDate=this.calendarModel.timedelta(e,"month",0)},t.prototype.changeMonth=function(e){var t=this;this.viewDate=new Date(this.viewDate.getFullYear(),e.getMonth()),this.activeView=Co.DEFAULT,requestAnimationFrame(function(){t.monthsBtn.nativeElement.focus()})},t.prototype.activeViewYear=function(){var e=this;this.activeView=Co.YEAR,requestAnimationFrame(function(){e.monthsView.dates.find(function(e){return e.isCurrentMonth}).nativeElement.focus()})},t.prototype.activeViewYearKB=function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),this.activeViewYear())},t.prototype.deselectDate=function(t){e.prototype.deselectDate.call(this,t),this.daysView.selectedDates=this.selectedDates,this._onChangeCallback(this.selectedDates)},t.prototype.onKeydownPageUp=function(e){e.preventDefault();var t=this.daysView.dates.find(function(e){return e.nativeElement===document.activeElement});if(t){this.daysView.nextDate=new Date(t.date.date);var n=this.daysView.nextDate.getFullYear(),i=this.daysView.nextDate.getMonth()-1;i<0&&(i=11,n-=1);var r=po(this.daysView.nextDate.getFullYear(),i),o=this.daysView.nextDate.getDate();o>r[1]&&(o=r[1]),this.daysView.nextDate.setDate(o),this.daysView.nextDate.setMonth(i),this.daysView.nextDate.setFullYear(n),this.daysView.callback=function(e,t){var n=e.find(function(e){return e.date.date.getTime()===t.getTime()});n&&n.nativeElement.focus()}}this.previousMonth(!0)},t.prototype.onKeydownPageDown=function(e){e.preventDefault(),this.nextMonth(!0);var t=this.daysView.dates.find(function(e){return e.nativeElement===document.activeElement});if(t){this.daysView.nextDate=new Date(t.date.date);var n=this.daysView.nextDate.getFullYear(),i=this.daysView.nextDate.getMonth()+1;i>11&&(i=0,n+=1);var r=po(this.daysView.nextDate.getFullYear(),i),o=this.daysView.nextDate.getDate();o>r[1]&&(o=r[1]),this.daysView.nextDate.setDate(o),this.daysView.nextDate.setMonth(i),this.daysView.nextDate.setFullYear(n),this.daysView.callback=function(e,t){var n=e.find(function(e){return e.date.date.getTime()===t.getTime()});n&&n.nativeElement.focus()}}},t.prototype.onKeydownShiftPageUp=function(e){e.preventDefault(),this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",-1),this.daysView.animationAction="prev",this.daysView.isKeydownTrigger=!0;var t=this.daysView.dates.find(function(e){return e.nativeElement===document.activeElement});if(t){this.daysView.nextDate=new Date(t.date.date);var n=this.daysView.nextDate.getFullYear()-1,i=po(n,this.daysView.nextDate.getMonth()),r=this.daysView.nextDate.getDate();r>i[1]&&(r=i[1]),this.daysView.nextDate.setDate(r),this.daysView.nextDate.setFullYear(n),this.daysView.callback=function(e,t){var n=e.find(function(e){return e.date.date.getTime()===t.getTime()});n&&n.nativeElement.focus()}}},t.prototype.onKeydownShiftPageDown=function(e){e.preventDefault(),this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",1),this.daysView.animationAction="next",this.daysView.isKeydownTrigger=!0;var t=this.daysView.dates.find(function(e){return e.nativeElement===document.activeElement});if(t){this.daysView.nextDate=new Date(t.date.date);var n=this.daysView.nextDate.getFullYear()+1,i=po(n,this.daysView.nextDate.getMonth()),r=this.daysView.nextDate.getDate();r>i[1]&&(r=i[1]),this.daysView.nextDate.setDate(r),this.daysView.nextDate.setFullYear(n),this.daysView.callback=function(e,t){var n=e.find(function(e){return e.date.date.getTime()===t.getTime()});n&&n.nativeElement.focus()}}},t.prototype.onKeydownHome=function(e){this.daysView&&this.daysView.onKeydownHome(e)},t.prototype.onKeydownEnd=function(e){this.daysView&&this.daysView.onKeydownEnd(e)},t.prototype.onMouseUp=function(e){this.daysView&&this.daysView.monthScrollDirection!==_o.NONE&&this.stopMonthScroll(e)},t.prototype.generateContext=function(e){var t=this;return{$implicit:Object(r.a)({monthView:function(){return t.activeViewYear()},yearView:function(){return t.activeViewDecade()}},this.calendarModel.formatToParts(e,this.locale,this.formatOptions,["era","year","month","day","weekday"]))}},t.decorators=[{type:o.n,args:[{providers:[{multi:!0,provide:l.h,useExisting:t}],animations:[Object(P.o)("animateView",[Object(P.n)("void => 0",Object(P.p)(be)),Object(P.n)("void => *",Object(P.p)(je,{params:{duration:".2s",fromScale:.9}}))])],selector:"igx-calendar",template:'<ng-template let-result #defaultHeader>\n    <span>{{ getFormattedDate().weekday }},&nbsp;</span>\n    <span>{{ getFormattedDate().monthday }}</span>\n</ng-template>\n\n<ng-template let-result #defaultMonth>\n    <span tabindex="0" #monthsBtn (keydown)="activeViewYearKB($event)" (click)="activeViewYear()"\n        class="igx-calendar-picker__date">\n        {{ formattedMonth(viewDate) }}\n    </span>\n    <span tabindex="0" #yearsBtn (keydown)="activeViewDecadeKB($event)" (click)="activeViewDecade()"\n        class="igx-calendar-picker__date">\n        {{ formattedYear(viewDate) }}\n    </span>\n</ng-template>\n\n<div *ngIf="selection === \'single\' && hasHeader" class="igx-calendar__header">\n    <h5 class="igx-calendar__header-year">{{ formattedYear(headerDate) }}</h5>\n    <h2 class="igx-calendar__header-date">\n        <ng-container *ngTemplateOutlet="headerTemplate ? headerTemplate : defaultHeader; context: headerContext">\n        </ng-container>\n    </h2>\n</div>\n\n<div *ngIf="isDefaultView" class="igx-calendar__body" [@animateView]="activeView" (swiperight)="previousMonth()"\n    (swipeleft)="nextMonth()">\n    <div class="igx-calendar-picker">\n        <div tabindex="0" class="igx-calendar-picker__prev" #prevMonthBtn\n            igxCalendarScrollMonth [startScroll]="startPrevMonthScroll" [stopScroll]="stopMonthScroll">\n            <igx-icon fontSet="material">keyboard_arrow_left</igx-icon>\n        </div>\n        <div>\n            <ng-container *ngTemplateOutlet="subheaderTemplate ? subheaderTemplate : defaultMonth; context: context">\n            </ng-container>\n        </div>\n        <div tabindex="0" class="igx-calendar-picker__next" #nextMonthBtn\n            igxCalendarScrollMonth [startScroll]="startNextMonthScroll" [stopScroll]="stopMonthScroll">\n            <igx-icon fontSet="material">keyboard_arrow_right</igx-icon>\n        </div>\n    </div>\n\n    <igx-days-view [changeDaysView]="true" #days\n                   [animationAction]="monthAction"\n                   [locale]="locale"\n                   [value]="value"\n                   [viewDate]="viewDate"\n                   [weekStart]="weekStart"\n                   [formatOptions]="formatOptions"\n                   [formatViews]="formatViews"\n                   [selection]="selection"\n                   [disabledDates]="disabledDates"\n                   [specialDates]="specialDates"\n                   (onViewChanged)="viewChanged($event)"\n                   (onDateSelection)="childClicked($event)">\n    </igx-days-view>\n</div>\n\n<igx-months-view *ngIf="isYearView" [@animateView]="activeView" #months \n                 [date]="viewDate" \n                 [locale]="locale"\n                 [formatView]="formatViews.month"\n                 [monthFormat]="formatOptions.month" \n                 (onSelection)="changeMonth($event)">\n</igx-months-view>\n\n<igx-years-view *ngIf="isDecadeView" [@animateView]="activeView" #decade \n                [date]="viewDate" \n                [locale]="locale"\n                [formatView]="formatViews.year"\n                [yearFormat]="formatOptions.year" \n                (onSelection)="changeYear($event)">\n</igx-years-view>'}]}],t.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],hasHeader:[{type:o.G}],vertical:[{type:o.G}],tabindex:[{type:o.z,args:["attr.tabindex"]}],role:[{type:o.z,args:["attr.role"]}],ariaLabelledBy:[{type:o.z,args:["attr.aria-labelledby"]}],styleVerticalClass:[{type:o.z,args:["class.igx-calendar--vertical"]}],styleClass:[{type:o.z,args:["class.igx-calendar"]}],monthsView:[{type:o.ob,args:["months",{read:Oo,static:!1}]}],monthsBtn:[{type:o.ob,args:["monthsBtn",{static:!1}]}],dacadeView:[{type:o.ob,args:["decade",{read:Po,static:!1}]}],daysView:[{type:o.ob,args:["days",{read:Ao,static:!1}]}],prevMonthBtn:[{type:o.ob,args:["prevMonthBtn",{static:!1}]}],nextMonthBtn:[{type:o.ob,args:["nextMonthBtn",{static:!1}]}],headerTemplateDirective:[{type:o.r,args:[Object(o.vb)(function(){return yo}),{read:yo,static:!0}]}],subheaderTemplateDirective:[{type:o.r,args:[Object(o.vb)(function(){return bo}),{read:bo,static:!0}]}],onKeydownPageUp:[{type:o.A,args:["keydown.pageup",["$event"]]}],onKeydownPageDown:[{type:o.A,args:["keydown.pagedown",["$event"]]}],onKeydownShiftPageUp:[{type:o.A,args:["keydown.shift.pageup",["$event"]]}],onKeydownShiftPageDown:[{type:o.A,args:["keydown.shift.pagedown",["$event"]]}],onKeydownHome:[{type:o.A,args:["keydown.home",["$event"]]}],onKeydownEnd:[{type:o.A,args:["keydown.end",["$event"]]}],onMouseUp:[{type:o.A,args:["document:mouseup",["$event"]]}]},t}(So),Fo=0,Lo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="igx-month-picker-"+Fo++,t.styleClass=!0,t.yearAction="",t}return Object(r.d)(t,e),t.prototype.animationDone=function(){this.yearAction=""},t.prototype.activeViewDecadeKB=function(t){var n=this;e.prototype.activeViewDecadeKB.call(this,t),"ArrowRight"!==t.key&&"Right"!==t.key||(t.preventDefault(),this.nextYear()),"ArrowLeft"!==t.key&&"Left"!==t.key||(t.preventDefault(),this.previousYear()),requestAnimationFrame(function(){n.dacadeView&&n.dacadeView.el.nativeElement.focus()})},t.prototype.activeViewDecade=function(){var t=this;e.prototype.activeViewDecade.call(this),requestAnimationFrame(function(){t.dacadeView.el.nativeElement.focus()})},t.prototype.nextYear=function(){this.yearAction="next",this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",1),this.selectDate(this.viewDate),this.onSelection.emit(this.selectedDates)},t.prototype.nextYearKB=function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.nextYear())},t.prototype.previousYear=function(){this.yearAction="prev",this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",-1),this.selectDate(this.viewDate),this.onSelection.emit(this.selectedDates)},t.prototype.previousYearKB=function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.previousYear())},t.prototype.selectYear=function(e){var t=this;this.viewDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()),this.activeView=Co.DEFAULT,this.selectDate(e),this.onSelection.emit(this.selectedDates),requestAnimationFrame(function(){t.yearsBtn.nativeElement.focus()})},t.prototype.selectMonth=function(e){this.selectDate(e),this.onSelection.emit(this.selectedDates)},t.prototype.selectDate=function(t){if(!t)return new Date;e.prototype.selectDate.call(this,t),this.viewDate=t},t.prototype.writeValue=function(e){e&&(this.viewDate=this.selectedDates=e)},t.prototype.onKeydownPageUp=function(e){e.preventDefault(),this.yearAction="prev",this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",-1)},t.prototype.onKeydownPageDown=function(e){e.preventDefault(),this.yearAction="next",this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",1)},t.prototype.onKeydownHome=function(e){this.monthsView&&(this.monthsView.el.nativeElement.focus(),this.monthsView.onKeydownHome(e))},t.prototype.onKeydownEnd=function(e){this.monthsView&&(this.monthsView.el.nativeElement.focus(),this.monthsView.onKeydownEnd(e))},t.decorators=[{type:o.n,args:[{providers:[{multi:!0,provide:l.h,useExisting:t}],animations:[Object(P.o)("animateView",[Object(P.n)("void => 0",Object(P.p)(be)),Object(P.n)("void => *",Object(P.p)(je,{params:{duration:".2s",fromScale:.9}}))]),Object(P.o)("animateChange",[Object(P.n)("* => prev",Object(P.p)(Be,{params:{fromPosition:"translateX(-30%)"}})),Object(P.n)("* => next",Object(P.p)(He,{params:{fromPosition:"translateX(30%)"}}))])],selector:"igx-month-picker",template:'<div *ngIf="isDefaultView" [@animateView]="activeView" class="igx-calendar__body" (swiperight)="previousYear()" (swipeleft)="nextYear()">\n    <div class="igx-calendar-picker">\n        <div tabindex="0" class="igx-calendar-picker__prev" (click)="previousYear()" (keydown)="previousYearKB($event)">\n            <igx-icon fontSet="material">keyboard_arrow_left</igx-icon>\n        </div>\n        <div>\n            <span tabindex="0" #yearsBtn (keydown)="activeViewDecadeKB($event)" (click)="activeViewDecade()" class="igx-calendar-picker__date">\n                {{ formattedYear(viewDate) }}\n            </span>\n        </div>\n        <div tabindex="0" class="igx-calendar-picker__next" (click)="nextYear()" (keydown)="nextYearKB($event)">\n            <igx-icon fontSet="material">keyboard_arrow_right</igx-icon>\n        </div>\n    </div>\n\n    <igx-months-view [@animateChange]="yearAction" #months\n                     (@animateChange.done)="animationDone()"\n                     [date]="viewDate"\n                     [locale]="locale"\n                     [formatView]="formatViews.month"\n                     [monthFormat]="formatOptions.month"\n                     (onSelection)="selectMonth($event)">\n    </igx-months-view>\n</div>\n<igx-years-view *ngIf="isDecadeView" [@animateView]="activeView" #decade\n                [date]="viewDate"\n                [locale]="locale"\n                [formatView]="formatViews.year"\n                [yearFormat]="formatOptions.year"\n                (onSelection)="selectYear($event)">\n</igx-years-view>\n'}]}],t.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],styleClass:[{type:o.z,args:["class.igx-calendar"]}],monthsView:[{type:o.ob,args:["months",{read:Oo,static:!1}]}],dacadeView:[{type:o.ob,args:["decade",{read:Po,static:!1}]}],daysView:[{type:o.ob,args:["days",{read:Ao,static:!1}]}],onKeydownPageUp:[{type:o.A,args:["keydown.pageup",["$event"]]}],onKeydownPageDown:[{type:o.A,args:["keydown.pagedown",["$event"]]}],onKeydownHome:[{type:o.A,args:["keydown.home",["$event"]]}],onKeydownEnd:[{type:o.A,args:["keydown.end",["$event"]]}]},t}(So),Mo=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Eo,Ao,jo,yo,mo,fo,bo,vo,Oo,Po,Lo],exports:[jo,Ao,Oo,Po,Lo,yo,mo,fo,bo],imports:[a.b,l.f,Rr]}]}],e}(),Go=0,zo=function(){function e(){this.cssClass="igx-card__media",this.width="auto",this.height="auto",this.role="img"}return e.decorators=[{type:o.t,args:[{selector:"igx-card-media"}]}],e.propDecorators={cssClass:[{type:o.z,args:["class.igx-card__media"]}],width:[{type:o.z,args:["style.width"]},{type:o.z,args:["style.min-width"]},{type:o.G}],height:[{type:o.z,args:["style.height"]},{type:o.G}],role:[{type:o.z,args:["attr.role"]},{type:o.G}]},e}(),Vo=function(){function e(){this.cssClass="igx-card-header",this.vertical=!1,this.role="header"}return e.decorators=[{type:o.n,args:[{selector:"igx-card-header",template:'<div class="igx-card-header__thumbnail">\n    <ng-content select="igx-avatar, igx-card-media, [igxCardThumbnail]"></ng-content>\n</div>\n\n<div class="igx-card-header__titles">\n    <ng-content select="\n        [igxCardHeaderTitle],\n        [igxCardHeaderSubtitle],\n        .igx-card-header__title,\n        .igx-card-header__subtitle">\n    </ng-content>\n</div>\n\n<ng-content></ng-content>\n'}]}],e.propDecorators={cssClass:[{type:o.z,args:["class.igx-card-header"]}],vertical:[{type:o.z,args:["class.igx-card-header--vertical"]},{type:o.G}],role:[{type:o.z,args:["attr.role"]}]},e}(),Bo=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxCardThumbnail]"}]}],e}(),Ho=function(){function e(){this.cssClass="igx-card__header__title"}return e.decorators=[{type:o.t,args:[{selector:"[igxCardHeaderTitle]"}]}],e.propDecorators={cssClass:[{type:o.z,args:["class.igx-card-header__title"]}]},e}(),No=function(){function e(){this.cssClass="igx-card-header__subtitle"}return e.decorators=[{type:o.t,args:[{selector:"[igxCardHeaderSubtitle]"}]}],e.propDecorators={cssClass:[{type:o.z,args:["class.igx-card-header__subtitle"]}]},e}(),Wo=function(){function e(){this.cssClass="igx-card-content"}return e.decorators=[{type:o.t,args:[{selector:"igx-card-content"}]}],e.propDecorators={cssClass:[{type:o.z,args:["class.igx-card-content"]}]},e}(),Yo=function(){function e(){this.role="footer"}return e.decorators=[{type:o.t,args:[{selector:"igx-card-footer"}]}],e.propDecorators={role:[{type:o.z,args:["attr.role"]},{type:o.G}]},e}(),Uo={DEFAULT:"default",OUTLINED:"outlined"},Ko=function(){function e(){this.id="igx-card-"+Go++,this.role="group",this.type=Uo.DEFAULT,this.horizontal=!1}return Object.defineProperty(e.prototype,"isOutlinedCard",{get:function(){return this.type===Uo.OUTLINED},enumerable:!0,configurable:!0}),e.decorators=[{type:o.n,args:[{selector:"igx-card",template:"<ng-container select='igx-card-media'></ng-container>\n\n<ng-container select='igx-card-header'></ng-container>\n<ng-container select='igx-card-content'>\n    <ng-content></ng-content>\n</ng-container>\n\n<ng-container select='igx-card-actions'></ng-container>\n"}]}],e.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],role:[{type:o.z,args:["attr.role"]},{type:o.G}],type:[{type:o.z,args:["class.igx-card"]},{type:o.G}],isOutlinedCard:[{type:o.z,args:["class.igx-card--outlined"]}],horizontal:[{type:o.z,args:["class.igx-card--horizontal"]},{type:o.G}]},e}(),$o="justify",Xo=function(){function e(e){this.card=e,this.isVerticalSet=!1,this.layout="default",this.reverse=!1}return Object.defineProperty(e.prototype,"isJustifyLayout",{get:function(){return this.layout===$o},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){for(var t in e)"vertical"===t&&(this.isVerticalSet=!0)},e.prototype.ngOnInit=function(){this.vertical=!this.isVerticalSet&&this.card.horizontal},e.decorators=[{type:o.n,args:[{selector:"igx-card-actions",template:'<div class="igx-card-actions__icons">\n    <ng-content select="igx-icon, [igxButton=\'icon\']"></ng-content>\n</div>\n\n<div #buttons class="igx-card-actions__buttons">\n    <ng-content select="[igxButton]"></ng-content>\n</div>\n\n\n<ng-content></ng-content>\n'}]}],e.ctorParameters=function(){return[{type:Ko,decorators:[{type:o.R},{type:o.C,args:[Ko]}]}]},e.propDecorators={layout:[{type:o.z,args:["class.igx-card-actions"]},{type:o.G}],vertical:[{type:o.z,args:["class.igx-card-actions--vertical"]},{type:o.G}],isJustifyLayout:[{type:o.z,args:["class.igx-card-actions--justify"]}],reverse:[{type:o.z,args:["class.igx-card-actions--reverse"]},{type:o.G}]},e}(),qo=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[Ko,Vo,zo,Wo,Xo,Yo,Ho,No,Bo],exports:[Ko,Vo,zo,Wo,Xo,Yo,Ho,No,Bo],imports:[a.b,Mi]}]}]}(),0),Zo={NONE:0,NEXT:1,PREV:2};Zo[Zo.NONE]="NONE",Zo[Zo.NEXT]="NEXT",Zo[Zo.PREV]="PREV";var Qo=function(){function e(e){this.element=e,this.role="region",this.id="igx-carousel-"+qo++,this.loop=!0,this.pause=!0,this.navigation=!0,this.onSlideChanged=new o.x,this.onSlideAdded=new o.x,this.onSlideRemoved=new o.x,this.onCarouselPaused=new o.x,this.onCarouselPlaying=new o.x,this.slides=[],this._total=0}return Object.defineProperty(e.prototype,"interval",{get:function(){return this._interval},set:function(e){this._interval=+e,this._restartInterval()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._destroyed=!0,this._lastInterval&&clearInterval(this._lastInterval)},e.prototype.setAriaLabel=function(e){return"Item "+(e.index+1)+" of "+this.total},Object.defineProperty(e.prototype,"total",{get:function(){return this._total},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this._currentSlide?this._currentSlide.index:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._playing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDestroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t,n;try{for(var i=Object(r.j)(this.slides),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.index===e)return a}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.add=function(e){e.index=this.total,this.slides.push(e),this._total+=1,1===this.total||e.active?(this.select(e),1===this.total&&this.play()):e.active=!1,this.onSlideAdded.emit({carousel:this,slide:e})},e.prototype.remove=function(e){if(e&&e===this.get(e.index)){if(e.index===this.current&&(e.active=!1,this.next()),this.slides.splice(e.index,1),this._total-=1,!this.total)return void(this._currentSlide=null);for(var t=0;t<this.total;t++)this.slides[t].index=t;this.onSlideRemoved.emit({carousel:this,slide:e})}},e.prototype.select=function(e,t){void 0===t&&(t=Zo.NONE);var n=e.index;t===Zo.NONE&&(t=n>this.current?Zo.NEXT:Zo.PREV),e&&e!==this._currentSlide&&this._moveTo(e,t)},e.prototype.next=function(){var e=(this.current+1)%this.total;if(0!==e||this.loop)return this.select(this.get(e),Zo.NEXT);this.stop()},e.prototype.prev=function(){var e=this.current-1<0?this.total-1:this.current-1;if(this.loop||e!==this.total-1)return this.select(this.get(e),Zo.PREV);this.stop()},e.prototype.play=function(){this._playing||(this._playing=!0,this.onCarouselPlaying.emit(this),this._restartInterval())},e.prototype.stop=function(){this.pause&&(this._playing=!1,this.onCarouselPaused.emit(this),this._resetInterval())},e.prototype._moveTo=function(e,t){this._destroyed||(e.direction=t,e.active=!0,this._currentSlide&&(this._currentSlide.direction=t,this._currentSlide.active=!1),this._currentSlide=e,this.onSlideChanged.emit({carousel:this,slide:e}),this._restartInterval())},e.prototype._resetInterval=function(){this._lastInterval&&(clearInterval(this._lastInterval),this._lastInterval=null)},e.prototype._restartInterval=function(){var e=this;this._resetInterval(),!isNaN(this.interval)&&this.interval>0&&(this._lastInterval=setInterval(function(){var t=+e.interval;e._playing&&e.total&&!isNaN(t)&&t>0?e.next():e.stop()},this.interval))},e.prototype.onKeydownArrowRight=function(){var e=this;this.next(),requestAnimationFrame(function(){return e.nativeElement.focus()})},e.prototype.onKeydownArrowLeft=function(){var e=this;this.prev(),requestAnimationFrame(function(){return e.nativeElement.focus()})},e.decorators=[{type:o.n,args:[{selector:"igx-carousel",template:'<div tabindex="0" aria-label="carousel" class="igx-carousel"\n        (mouseenter)="stop()"\n        (mouseleave)="play()"\n        (swipeleft)="next()"\n        (swiperight)="prev()"\n        (tap)="isPlaying ? stop() : play()">\n    <ul class="igx-carousel__indicators" [hidden]="slides.length <= 1">\n        <li *ngFor="let slide of slides" [attr.aria-label]="setAriaLabel(slide)" [attr.aria-selected]="slide.active" [class.active]="slide.active === true"\n            (click)="select(slide)"></li>\n    </ul>\n    <div class="igx-carousel__inner" role="list">\n        <ng-content></ng-content>\n    </div>\n    <div *ngIf="navigation">\n        <a role="button" tabindex="0" class="igx-carousel__arrow--prev" (click)="prev()" [hidden]="!slides.length">\n            <igx-icon fontSet="material">arrow_back</igx-icon>\n        </a>\n        <a role="button" tabindex="0" class="igx-carousel__arrow--next" (click)="next()" [hidden]="!slides.length">\n            <igx-icon fontSet="material">arrow_forward</igx-icon>\n        </a>\n    </div>\n</div>\n',styles:["\n    :host {\n        display: block;\n        outline-style: none;\n    }"]}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={role:[{type:o.z,args:["attr.role"]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],loop:[{type:o.G}],pause:[{type:o.G}],interval:[{type:o.G}],tabIndex:[{type:o.z,args:["attr.tabindex"]}],navigation:[{type:o.G}],onSlideChanged:[{type:o.S}],onSlideAdded:[{type:o.S}],onSlideRemoved:[{type:o.S}],onCarouselPaused:[{type:o.S}],onCarouselPlaying:[{type:o.S}],onKeydownArrowRight:[{type:o.A,args:["keydown.arrowright"]}],onKeydownArrowLeft:[{type:o.A,args:["keydown.arrowleft"]}]},e}(),Jo=function(){function e(e){this.carousel=e}return e.prototype.ngOnInit=function(){this.carousel.add(this)},e.prototype.ngOnDestroy=function(){this.carousel.remove(this)},e.decorators=[{type:o.n,args:[{selector:"igx-slide",template:'<div\n    role="listitem"\n    [class.active]="active"\n    class="igx-slide"\n    [attr.aria-selected]="active"\n    [attr.aria-live]="active ? \'polite\' : null"\n    [attr.tabIndex]="active ? 0 : null"\n>\n    <ng-content></ng-content>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:Qo}]},e.propDecorators={index:[{type:o.G}],direction:[{type:o.G}],active:[{type:o.z,args:["class.active"]},{type:o.G}]},e}(),ea=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[Qo,Jo],exports:[Qo,Jo],imports:[a.b,Rr]}]}]}(),{BEFORE:"before",AFTER:"after"}),ta=function(){},na=0,ia=function(){function e(){this.id="igx-checkbox-"+na++,this.labelId=this.id+"-label",this.tabindex=null,this.labelPosition=ea.AFTER,this.disableRipple=!1,this.required=!1,this.ariaLabelledBy=this.labelId,this.ariaLabel=null,this.change=new o.x,this.cssClass="igx-checkbox",this.focused=!1,this.indeterminate=!1,this.checked=!1,this.disabled=!1,this.disableTransitions=!1,this.inputId=this.id+"-input",this._onTouchedCallback=ta,this._onChangeCallback=ta}return e.prototype.toggle=function(){this.disabled||(this.indeterminate=!1,this.focused=!1,this.checked=!this.checked,this.change.emit({checked:this.checked,checkbox:this}),this._onChangeCallback(this.checked))},e.prototype._onCheckboxChange=function(e){e.stopPropagation()},e.prototype._onCheckboxClick=function(e){e.stopPropagation(),ct()&&this.nativeCheckbox.nativeElement.blur(),this.toggle()},e.prototype._onLabelClick=function(e){this.toggle()},e.prototype.onFocus=function(e){this.focused=!0},e.prototype.onBlur=function(e){this.focused=!1,this._onTouchedCallback()},e.prototype.writeValue=function(e){this._value=e,this.checked=!!this._value},Object.defineProperty(e.prototype,"labelClass",{get:function(){switch(this.labelPosition){case ea.BEFORE:return this.cssClass+"__label--before";case ea.AFTER:default:return this.cssClass+"__label"}},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.getEditElement=function(){return this.nativeCheckbox.nativeElement},e.decorators=[{type:o.n,args:[{providers:[{provide:l.h,useExisting:e,multi:!0}],selector:"igx-checkbox",preserveWhitespaces:!1,template:'<input #checkbox class="igx-checkbox__input"\n    type="checkbox"\n    [id]="inputId"\n    [name]="name"\n    [value]="value"\n    [tabindex]="tabindex"\n    [disabled]="disabled"\n    [indeterminate]="indeterminate"\n    [checked]="checked"\n    [required]="required"\n    [attr.aria-checked]="checked"\n    [attr.aria-labelledby]="ariaLabelledBy"\n    [attr.aria-label]="ariaLabel"\n    (change)="_onCheckboxChange($event)"\n    (click)="_onCheckboxClick($event)"\n    (focus)="onFocus($event)"\n    (blur)="onBlur($event)" />\n\n<div\n    igxRipple\n    igxRippleTarget=".igx-checkbox__ripple"\n    [igxRippleDisabled]="disableRipple"\n    [igxRippleCentered]="true"\n    [igxRippleDuration]="300"\n    class="igx-checkbox__composite-wrapper"\n>\n    <label #label class="igx-checkbox__composite"\n        [attr.for]="inputId">\n        <svg class="igx-checkbox__composite-mark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n            <path d="M4.1,12.7 9,17.6 20.3,6.3" />\n        </svg>\n    </label>\n\n    <div class="igx-checkbox__ripple"></div>\n</div>\n\n<span #placeholderLabel role="label"\n    [class]="labelClass"\n    [id]="labelId"\n    (click)="_onLabelClick($event)">\n    <ng-content></ng-content>\n</span>\n'}]}],e.propDecorators={nativeCheckbox:[{type:o.ob,args:["checkbox",{static:!0}]}],nativeLabel:[{type:o.ob,args:["label",{static:!0}]}],placeholderLabel:[{type:o.ob,args:["placeholderLabel",{static:!0}]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],labelId:[{type:o.G}],value:[{type:o.G}],name:[{type:o.G}],tabindex:[{type:o.G}],labelPosition:[{type:o.G}],disableRipple:[{type:o.G}],required:[{type:o.G}],ariaLabelledBy:[{type:o.G,args:["aria-labelledby"]}],ariaLabel:[{type:o.G,args:["aria-label"]}],change:[{type:o.S}],cssClass:[{type:o.z,args:["class.igx-checkbox"]}],focused:[{type:o.z,args:["class.igx-checkbox--focused"]}],indeterminate:[{type:o.z,args:["class.igx-checkbox--indeterminate"]},{type:o.G}],checked:[{type:o.z,args:["class.igx-checkbox--checked"]},{type:o.G}],disabled:[{type:o.z,args:["class.igx-checkbox--disabled"]},{type:o.G}],disableTransitions:[{type:o.z,args:["class.igx-checkbox--plain"]},{type:o.G}]},e}(),ra={provide:l.g,useExisting:Object(o.vb)(function(){return oa}),multi:!0},oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.decorators=[{type:o.t,args:[{selector:"igx-checkbox[required][formControlName],\n    igx-checkbox[required][formControl],\n    igx-checkbox[required][ngModel]",providers:[ra]}]}],t}(l.a),aa=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[ia,oa],exports:[ia,oa],imports:[gr]}]}],e}(),sa=0,la=function(e){function t(t,n,i,r){var a=e.call(this,r)||this;return a.cdr=t,a.elementRef=n,a.renderer=i,a._displayDensityOptions=r,a.id="igx-chip-"+sa++,a.draggable=!1,a.animateOnRelease=!0,a.hideBaseOnDrag=!0,a.removable=!1,a.selectable=!1,a.class="",a.disabled=!1,a.onMoveStart=new o.x,a.onMoveEnd=new o.x,a.onRemove=new o.x,a.onClick=new o.x,a.onSelection=new o.x,a.onKeyDown=new o.x,a.onDragEnter=new o.x,a._selected=!1,a._selectedItemClass="igx-chip__item--selected",a._movedWhileRemoving=!1,a}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){this.changeSelection(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.chipArea.nativeElement.style.backgroundColor},set:function(e){this.chipArea.nativeElement.style.backgroundColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostClass",{get:function(){var e=[this.getComponentDensityClass("igx-chip")];return e.push(this.disabled?"igx-chip--disabled":""),e.push(this.class),e.join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeButtonTemplate",{get:function(){return this.removeIcon||this.defaultRemoveIcon},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectIconTemplate",{get:function(){return this.selectIcon||this.defaultSelectIcon},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ghostClass",{get:function(){return this.getComponentDensityClass("igx-chip__ghost")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chipTabindex",{get:function(){return this.disabled?"":0},enumerable:!0,configurable:!0}),t.prototype.selectClass=function(e){var t;return(t={})["igx-chip__select"]=e,t["igx-chip__select--hidden"]=!e,t},t.prototype.changeSelection=function(e,t){void 0===t&&(t=null);var n={originalEvent:t,owner:this,selected:!1,cancel:!1};e&&!this._selected?(n.selected=!0,this.onSelection.emit(n),n.cancel||(this.renderer.addClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e)):!e&&this._selected&&(this.onSelection.emit(n),n.cancel||(this.renderer.removeClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e))},t.prototype.onChipKeyDown=function(e){var t={originalEvent:e,owner:this,cancel:!1};this.onKeyDown.emit(t),t.cancel||("Delete"!==e.key&&"Del"!==e.key||!this.removable||this.onRemove.emit({originalEvent:e,owner:this})," "!==e.key&&"Spacebar"!==e.key||!this.selectable||this.disabled||this.changeSelection(!this.selected,e),"Tab"!==e.key&&e.preventDefault())},t.prototype.onRemoveBtnKeyDown=function(e){" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||(this.onRemove.emit({originalEvent:e,owner:this}),e.preventDefault(),e.stopPropagation())},t.prototype.onRemoveMouseDown=function(e){e.stopPropagation()},t.prototype.onRemoveClick=function(e){this.onRemove.emit({originalEvent:e,owner:this})},t.prototype.onRemoveTouchMove=function(){this._movedWhileRemoving=!0},t.prototype.onRemoveTouchEnd=function(e){this._movedWhileRemoving||this.onRemoveClick(e),this._movedWhileRemoving=!1},t.prototype.onChipDragStart=function(e){this.onMoveStart.emit({originalEvent:e.originalEvent,owner:this}),e.cancel=!this.draggable||this.disabled},t.prototype.onChipDragEnd=function(){this.dragDirective.dropFinished()},t.prototype.onChipMoveEnd=function(e){this.onMoveEnd.emit({originalEvent:e.originalEvent,owner:this}),this.selected&&this.chipArea.nativeElement.focus()},t.prototype.onChipDragClicked=function(e){var t={originalEvent:e.originalEvent,owner:this,cancel:!1};this.onClick.emit(t),t.cancel||!this.selectable||this.disabled||this.changeSelection(!this.selected,e.originalEvent)},t.prototype.onChipDragEnterHandler=function(e){if(this.dragDirective!==e.drag&&e.dragData&&e.dragData.chip){var t={owner:this,dragChip:e.dragData.chip,originalEvent:e};this.onDragEnter.emit(t)}},t.prototype.onChipDrop=function(e){e.cancel=!0},t.decorators=[{type:o.n,args:[{selector:"igx-chip",template:'<div #chipArea class="igx-chip__item"\n    [attr.tabindex]="chipTabindex"\n    (keydown)="onChipKeyDown($event)"\n    [igxDrag]="{chip: this}"\n    [hideBaseOnDrag]="hideBaseOnDrag"\n    [animateOnRelease]="animateOnRelease"\n    [ghostImageClass]="ghostClass"\n    (dragStart)="onChipDragStart($event)"\n    (dragEnd)="onChipDragEnd()"\n    (returnMoveEnd)="onChipMoveEnd($event)"\n    (dragClicked)="onChipDragClicked($event)"\n    igxDrop\n    (onEnter)="onChipDragEnterHandler($event)"\n    (onDrop)="onChipDrop($event)">\n\n    <div [ngClass]="selectClass(selected)">\n        <ng-container *ngTemplateOutlet="selectIconTemplate"></ng-container>\n    </div>\n\n    <ng-content select="igx-prefix,[igxPrefix]"></ng-content>\n\n    <div class="igx-chip__content">\n        <ng-content></ng-content>\n    </div>\n\n    <ng-content select="igx-suffix,[igxSuffix]"></ng-content>\n\n    <div class="igx-chip__remove" *ngIf="removable"\n        tabindex="0"\n        (keydown)="onRemoveBtnKeyDown($event)"\n        (pointerdown)="onRemoveMouseDown($event)"\n        (mousedown)="onRemoveMouseDown($event)"\n        (click)="onRemoveClick($event)"\n        (touchmove)="onRemoveTouchMove()"\n        (touchend)="onRemoveTouchEnd($event)">\n        <ng-container *ngTemplateOutlet="removeButtonTemplate"></ng-container>\n    </div>\n</div>\n\n<ng-template #defaultSelectIcon>\n    <igx-icon>done</igx-icon>\n</ng-template>\n\n<ng-template #defaultRemoveIcon>\n    <igx-icon>cancel</igx-icon>\n</ng-template>\n'}]}],t.ctorParameters=function(){return[{type:o.k},{type:o.u},{type:o.Z},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],data:[{type:o.G}],draggable:[{type:o.G}],animateOnRelease:[{type:o.G}],hideBaseOnDrag:[{type:o.G}],removable:[{type:o.G}],removeIcon:[{type:o.G}],selectable:[{type:o.G}],selectIcon:[{type:o.G}],class:[{type:o.G}],disabled:[{type:o.G}],selected:[{type:o.G}],color:[{type:o.G}],onMoveStart:[{type:o.S}],onMoveEnd:[{type:o.S}],onRemove:[{type:o.S}],onClick:[{type:o.S}],onSelection:[{type:o.S}],onKeyDown:[{type:o.S}],onDragEnter:[{type:o.S}],hostClass:[{type:o.z,args:["attr.class"]}],dragDirective:[{type:o.ob,args:["chipArea",{read:Hi,static:!0}]}],chipArea:[{type:o.ob,args:["chipArea",{read:o.u,static:!0}]}],defaultRemoveIcon:[{type:o.ob,args:["defaultRemoveIcon",{read:o.kb,static:!0}]}],defaultSelectIcon:[{type:o.ob,args:["defaultSelectIcon",{read:o.kb,static:!0}]}]},t}(ni),ca=function(){function e(e,t,n){this.cdr=e,this.element=t,this._iterableDiffers=n,this.class="",this.onReorder=new o.x,this.onSelection=new o.x,this.onMoveStart=new o.x,this.onMoveEnd=new o.x,this._differ=null,this.selectedChips=[],this.destroy$=new de.Subject,this._differ=this._iterableDiffers.find([]).create(null)}return Object.defineProperty(e.prototype,"hostClass",{get:function(){var e=["igx-chip-area"];return e.push(this.class),e.join(" ")},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.chipsList.length&&(this.selectedChips=this.chipsList.filter(function(e){return e.selected}),this.selectedChips.length&&this.onSelection.emit({originalEvent:null,newSelection:this.selectedChips,owner:this}))},e.prototype.ngDoCheck=function(){var e=this;if(this.chipsList){var t=this._differ.diff(this.chipsList.toArray());t&&(t.forEachAddedItem(function(t){t.item.onMoveStart.pipe(Object(H.a)(e.destroy$)).subscribe(function(t){e.onChipMoveStart(t)}),t.item.onMoveEnd.pipe(Object(H.a)(e.destroy$)).subscribe(function(t){e.onChipMoveEnd(t)}),t.item.onDragEnter.pipe(Object(H.a)(e.destroy$)).subscribe(function(t){e.onChipDragEnter(t)}),t.item.onKeyDown.pipe(Object(H.a)(e.destroy$)).subscribe(function(t){e.onChipKeyDown(t)}),t.item.selectable&&t.item.onSelection.pipe(Object(H.a)(e.destroy$)).subscribe(function(t){e.onChipSelectionChange(t)})}),this.modifiedChipsArray=this.chipsList.toArray())}},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype.onChipKeyDown=function(e){var t=this,n=this.chipsList.toArray(),i=n.findIndex(function(t){return t===e.owner});!0===e.originalEvent.shiftKey?"ArrowLeft"===e.originalEvent.key||"Left"===e.originalEvent.key?this.positionChipAtIndex(i,i-1,!1,e.originalEvent)&&setTimeout(function(){t.chipsList.toArray()[i-1].chipArea.nativeElement.focus()}):"ArrowRight"!==e.originalEvent.key&&"Right"!==e.originalEvent.key||this.positionChipAtIndex(i,i+1,!0,e.originalEvent):("ArrowLeft"===e.originalEvent.key||"Left"===e.originalEvent.key)&&i>0?n[i-1].chipArea.nativeElement.focus():("ArrowRight"===e.originalEvent.key||"Right"===e.originalEvent.key)&&i<n.length-1&&n[i+1].chipArea.nativeElement.focus()},e.prototype.onChipMoveStart=function(e){this.onMoveStart.emit({originalEvent:e.originalEvent,owner:this})},e.prototype.onChipMoveEnd=function(e){this.onMoveEnd.emit({originalEvent:e.originalEvent,owner:this})},e.prototype.onChipDragEnter=function(e){e.owner.elementRef.nativeElement.getBoundingClientRect();var t=this.chipsList.toArray().findIndex(function(t){return t===e.owner}),n=this.chipsList.toArray().findIndex(function(t){return t===e.dragChip});n<t?this.positionChipAtIndex(n,t,!0,e.originalEvent):this.positionChipAtIndex(n,t,!1,e.originalEvent)},e.prototype.positionChipAtIndex=function(e,t,n,i){if(e<0||this.chipsList.length<=e||t<0||this.chipsList.length<=t)return!1;for(var r=this.chipsList.toArray(),o=[],a=0;a<r.length;a++)n?e<=a&&a<t?o.push(r[a+1]):a===t?o.push(r[e]):o.push(r[a]):t<a&&a<=e?o.push(r[a-1]):a===t?o.push(r[e]):o.push(r[a]);this.modifiedChipsArray=o;var s={chipsArray:this.modifiedChipsArray,originalEvent:i,owner:this};return this.onReorder.emit(s),!0},e.prototype.onChipSelectionChange=function(e){e.selected?this.selectedChips.push(e.owner):e.selected||(this.selectedChips=this.selectedChips.filter(function(t){return t.id!==e.owner.id})),this.onSelection.emit({originalEvent:e.originalEvent,newSelection:this.selectedChips,owner:this})},e.decorators=[{type:o.n,args:[{selector:"igx-chips-area",template:"<ng-content></ng-content>\n"}]}],e.ctorParameters=function(){return[{type:o.k},{type:o.u},{type:o.H}]},e.propDecorators={class:[{type:o.G}],hostClass:[{type:o.z,args:["attr.class"]}],width:[{type:o.z,args:["style.width.px"]},{type:o.G}],height:[{type:o.z,args:["style.height.px"]},{type:o.G}],onReorder:[{type:o.S}],onSelection:[{type:o.S}],onMoveStart:[{type:o.S}],onMoveEnd:[{type:o.S}],chipsList:[{type:o.s,args:[la]}]},e}(),da=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[ca,la],exports:[ca,la,Ii,Pi],imports:[a.b,gr,Rr,Mi,Vr,Wi,ki,Ei]}]}],e}(),pa=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxComboHeader]"}]}],e}(),ua=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxComboFooter]"}]}],e}(),ha=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxComboItem]"}]}],e}(),ga=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxComboEmpty]"}]}],e}(),fa=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxComboHeaderItem]"}]}],e}(),ma=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxComboAddItem]"}]}],e}(),ya=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxComboToggleIcon]"}]}],e}(),ba=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxComboClearIcon]"}]}],e}(),va=function(){function e(){this.disableTransitions=!1}return e.prototype.register=function(e){this.combo=e},e.prototype.clear=function(){this.combo=null},Object.defineProperty(e.prototype,"item_focusable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRemote",{get:function(){return this.combo.isRemote},enumerable:!0,configurable:!0}),e.prototype.add_custom_item=function(){this.combo&&this.combo.addItemToCollection()},Object.defineProperty(e.prototype,"comboID",{get:function(){return this.combo.id},enumerable:!0,configurable:!0}),e.prototype.set_selected_item=function(e,t){var n=this.combo.isItemSelected(e);null!=e&&(n?this.combo.deselectItems([e],t):this.combo.selectItems([e],!1,t))},e.prototype.is_item_selected=function(e){return this.combo.isItemSelected(e)},e}(),xa=function(e){function t(t,n,i,r){var o=e.call(this,n,i,null,r)||this;return o.comboAPI=t,o.dropDown=n,o.elementRef=i,o.selection=r,o.itemHeight="",o}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"itemID",{get:function(){return this.comboAPI.isRemote?JSON.stringify(this.value):this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"comboID",{get:function(){return this.comboAPI.comboID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableTransitions",{get:function(){return this.comboAPI.disableTransitions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.comboAPI.is_item_selected(this.itemID)},set:function(e){this.isHeader||(this._selected=e)},enumerable:!0,configurable:!0}),t.prototype.isVisible=function(e){var t=this.element.nativeElement.getBoundingClientRect(),n=this.element.nativeElement.parentElement.parentElement.getBoundingClientRect();return e===Nn.Down?t.y+t.height<=n.y+n.height:t.y>=n.y},t.prototype.clicked=function(e){if(this.comboAPI.disableTransitions=!1,this.disabled||this.isHeader){var t=this.dropDown.items.find(function(e){return e.focused});this.dropDown.allowItemsFocus&&t&&t.element.nativeElement.focus({preventScroll:!0})}else this.dropDown.navigateItem(this.index),this.comboAPI.set_selected_item(this.itemID,e)},t.prototype.disableCheck=function(e){e.preventDefault()},t.prototype.ngDoCheck=function(){},t.decorators=[{type:o.n,args:[{selector:"igx-combo-item",template:'<ng-container *ngIf="!isHeader">\n    <igx-checkbox [checked]="selected" disableRipple="true" [disableTransitions]="disableTransitions" [tabindex]="-1" (click)="disableCheck($event)" class="igx-combo__checkbox"></igx-checkbox>\n</ng-container>\n<ng-content></ng-content>'}]}],t.ctorParameters=function(){return[{type:va},{type:void 0,decorators:[{type:o.C,args:["IgxDropDownBaseToken"]}]},{type:o.u},{type:Kn,decorators:[{type:o.C,args:[Kn]}]}]},t.propDecorators={itemHeight:[{type:o.G},{type:o.z,args:["style.height.px"]}],clicked:[{type:o.A,args:["click",["$event"]]}]},t}(Jn),_a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.clicked=function(e){this.comboAPI.disableTransitions=!1,this.comboAPI.add_custom_item()},t.decorators=[{type:o.n,args:[{selector:"igx-combo-add-item",template:"<ng-content></ng-content>",providers:[{provide:xa,useExisting:t}]}]}],t}(xa),wa=function(e){function t(t,n,i,r,o,a){var s=e.call(this,t,n,i,a)||this;return s.elementRef=t,s.cdr=n,s.selection=i,s.combo=r,s.comboAPI=o,s._displayDensityOptions=a,s.children=null,s.scrollHandler=function(){s.comboAPI.disableTransitions=!0},s}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"scrollContainer",{get:function(){return this.virtDir.dc.location.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isScrolledToLast",{get:function(){var e=this.virtDir.getVerticalScroll().scrollTop,t=this.virtDir.getVerticalScroll().scrollHeight;return Math.floor(e+this.virtDir.igxForContainerSize)===t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastVisibleIndex",{get:function(){return this.combo.totalItemCount?Math.floor(this.combo.itemsMaxHeight/this.combo.itemHeight):this.items.length-1},enumerable:!0,configurable:!0}),t.prototype.onFocus=function(){this.focusedItem=this._focusedItem||this.items[0]},t.prototype.onBlur=function(e){this.focusedItem=null},t.prototype.onToggleOpened=function(){this.onOpened.emit()},t.prototype.navigateFirst=function(){this.navigateItem(this.virtDir.igxForOf.findIndex(function(e){return!e.isHeader}))},t.prototype.navigatePrev=function(){this._focusedItem&&0===this._focusedItem.index&&0===this.virtDir.state.startIndex?this.combo.focusSearchInput(!1):e.prototype.navigatePrev.call(this)},t.prototype.navigateNext=function(){var t=this.combo.totalItemCount?this.combo.totalItemCount-1:this.virtDir.igxForOf.length-1;this._focusedItem&&this._focusedItem.index===t?this.focusAddItemButton():e.prototype.navigateNext.call(this)},t.prototype.selectItem=function(e){null!=e&&(this.comboAPI.set_selected_item(e.itemID),this._focusedItem=e)},t.prototype.focusAddItemButton=function(){this.combo.isAddButtonVisible()&&(this.focusedItem=this.items[this.items.length-1])},t.prototype.scrollToHiddenItem=function(e){},Object.defineProperty(t.prototype,"sortedChildren",{get:function(){return void 0!==this.children?this.children.toArray().sort(function(e,t){return e.index-t.index}):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e,t,n=[];if(void 0!==this.children){var i=this.sortedChildren;try{for(var o=Object(r.j)(i),a=o.next();!a.done;a=o.next()){var s=a.value;s.isHeader||n.push(s)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}return n},enumerable:!0,configurable:!0}),t.prototype.updateScrollPosition=function(){this.virtDir.getVerticalScroll().scrollTop=this._scrollPosition},t.prototype.onItemActionKey=function(e){switch(e){case Yn:this.handleEnter();break;case Un:this.handleSpace();break;case Wn:this.close()}},t.prototype.handleEnter=function(){this.isAddItemFocused()?this.combo.addItemToCollection():this.close()},t.prototype.handleSpace=function(){this.isAddItemFocused()||this.selectItem(this.focusedItem)},t.prototype.isAddItemFocused=function(){return this.focusedItem instanceof _a},t.prototype.ngAfterViewInit=function(){this.virtDir.getVerticalScroll().addEventListener("scroll",this.scrollHandler)},t.prototype.ngOnDestroy=function(){this.virtDir.getVerticalScroll().removeEventListener("scroll",this.scrollHandler),this.destroy$.next(!0),this.destroy$.complete()},t.decorators=[{type:o.n,args:[{selector:"igx-combo-drop-down",template:'<div class="igx-drop-down__list" igxToggle [style.width]="width" [style.height]="height"\n[style.maxHeight]="maxHeight" [attr.id]="this.listId" role="listbox"\n    (onOpening)="onToggleOpening($event)" (onOpened)="onToggleOpened()"\n    (onClosing)="onToggleClosing($event)" (onClosed)="onToggleClosed()">\n    <ng-container *ngIf="!collapsed">\n        <ng-content></ng-content>\n    </ng-container>\n</div>\n',providers:[{provide:"IgxDropDownBaseToken",useExisting:t}]}]}],t.ctorParameters=function(){return[{type:o.u},{type:o.k},{type:Kn},{type:void 0,decorators:[{type:o.C,args:["IgxComboComponentToken"]}]},{type:va},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={children:[{type:o.s,args:[xa,{descendants:!0}]}]},t}(mi),Ca=function(){function e(e){this.combo=e}return e.prototype.transform=function(e,t,n){var i=new Dt(n);i.filteringOperands=t;var r={expressionsTree:i,strategy:new Sa};return r.expressionsTree.filteringOperands=this.combo.filteringExpressions,r.expressionsTree.filteringOperands.length?Lt.filter(nt(e),r):e},e.decorators=[{type:o.W,args:[{name:"comboFiltering"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.C,args:["IgxComboComponentToken"]}]}]},e}(),Sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.findMatchByExpression=function(e,t){var n=t.condition,i=void 0===t.fieldName?e:e[t.fieldName];return n.logic(i,t.searchVal,t.ignoreCase)},t}(At),Da=function(){function e(){}return e.prototype.transform=function(e,t){return t.length?Lt.sort(nt(e),t):e},e.decorators=[{type:o.W,args:[{name:"comboSorting",pure:!0}]}],e.ctorParameters=function(){return[]},e}(),Oa=function(){function e(e){this.combo=e}return e.prototype.transform=function(e,t){var n;if(this.combo.filteredData=e,!t&&0!==t||!e.length)return e;for(var i=nt(e),r=0,o=null,a=0;a<e.length;a++){var s=0;o!==e[a][t]&&(o=e[a][t],s=1),s&&(i.splice(a+r,0,((n={})[this.combo.valueKey]=o,n[this.combo.groupKey]=o,n.isHeader=!0,n)),r++)}return i},e.decorators=[{type:o.W,args:[{name:"comboGrouping"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.C,args:["IgxComboComponentToken"]}]}]},e}(),Ia=function(){function e(){}return e.prototype.transform=function(e){return e.split(/(?=[A-Z])/).join(" ")},e.decorators=[{type:o.W,args:[{name:"filterCondition",pure:!0}]}],e}(),ka="primitive",Pa="complex",Ea={comfortable:40,cosy:32,compact:28},Ta={INITIAL:0,VALID:1,INVALID:2};function Aa(e,t){var n=[];return e.forEach(function(e){t.has(e)||n.push(e)}),n}Ta[Ta.INITIAL]="INITIAL",Ta[Ta.VALID]="VALID",Ta[Ta.INVALID]="INVALID";var Ra=0,ja=function(){},Fa=function(e){function t(t,n,i,r,a,s){var l=e.call(this,a)||this;return l.elementRef=t,l.cdr=n,l.selection=i,l.comboAPI=r,l._displayDensityOptions=a,l.injector=s,l.customValueFlag=!0,l.defaultFallbackGroup="Other",l.stringFilters=Pr,l.booleanFilters=Or,l._filteringLogic=Et.Or,l._filteringExpressions=[],l._sortingExpressions=[],l._groupKey="",l._prevInputValue="",l._dataType="",l.ngControl=null,l.destroy$=new E.a,l._data=[],l._filteredData=[],l._itemHeight=null,l._itemsMaxHeight=null,l._onChangeCallback=ja,l._overlaySettings={scrollStrategy:new Fn,positionStrategy:new An,modal:!1,closeOnOutsideClick:!0,excludePositionTarget:!0},l._value="",l.overlaySettings=null,l.searchInput=null,l.comboInput=null,l.itemTemplate=null,l.headerTemplate=null,l.footerTemplate=null,l.headerItemTemplate=null,l.addItemTemplate=null,l.emptyTemplate=null,l.toggleIconTemplate=null,l.clearIconTemplate=null,l.dropdownContainer=null,l.onSelectionChange=new o.x,l.onOpening=new o.x,l.onOpened=new o.x,l.onClosing=new o.x,l.onClosed=new o.x,l.onAddition=new o.x,l.onSearchInput=new o.x,l.onDataPreLoad=new o.x,l.id="igx-combo-"+Ra++,l.cssClass="igx-combo",l.role="combobox",l.allowCustomValues=!1,l.filteringLogic=Et.Or,l.searchPlaceholder="Enter a Search Term",l.filterable=!0,l.disabled=!1,l.type="box",l.valid=Ta.INITIAL,l.searchValue="",l.onStatusChanged=function(){(l.ngControl.control.touched||l.ngControl.control.dirty)&&(l.ngControl.control.validator||l.ngControl.control.asyncValidator)&&(l.valid=l.ngControl.valid?Ta.VALID:Ta.INVALID)},l.comboAPI.register(l),l}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"displaySearchInput",{get:function(){return this.filterable||this.allowCustomValues},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validClass",{get:function(){return this.valid===Ta.VALID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalidClass",{get:function(){return this.valid===Ta.INVALID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaExpanded",{get:function(){return!this.dropdown.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPopUp",{get:function(){return"listbox"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaOwns",{get:function(){return this.dropdown.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsMaxHeight",{get:function(){return null===this._itemsMaxHeight||void 0===this._itemsMaxHeight?10*this.itemHeight:this._itemsMaxHeight},set:function(e){this._itemsMaxHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemHeight",{get:function(){return null===this._itemHeight||void 0===this._itemHeight?Ea[this.displayDensity]:this._itemHeight},set:function(e){this._itemHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputEmpty",{get:function(){return!this.value&&!this.placeholder},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayKey",{get:function(){return this._displayKey?this._displayKey:this.valueKey},set:function(e){this._displayKey=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupKey",{get:function(){return this._groupKey},set:function(e){this.clearSorting(this._groupKey),this._groupKey=e,this.sort(this._groupKey)},enumerable:!0,configurable:!0}),t.prototype.onArrowDown=function(e){e.preventDefault(),e.stopPropagation(),this.open()},t.prototype.onInputClick=function(e){e.stopPropagation(),e.preventDefault(),this.toggle()},Object.defineProperty(t.prototype,"virtualizationState",{get:function(){return this.virtDir.state},set:function(e){this.virtDir.state=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalItemCount",{get:function(){return this.virtDir.totalItemCount},set:function(e){this.virtDir.totalItemCount=e,this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteringExpressions",{get:function(){return this.filterable?this._filteringExpressions:[]},set:function(e){this._filteringExpressions=e,this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortingExpressions",{get:function(){return this._sortingExpressions},set:function(e){this._sortingExpressions=e,this.cdr.markForCheck()},enumerable:!0,configurable:!0}),t.prototype.clearSorting=function(e){if(null!=e){var t=nt(this.sortingExpressions),n=t.findIndex(function(t){return t.fieldName===e});n>-1&&(t.splice(n,1),this.sortingExpressions=t)}else this.sortingExpressions=[]},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteredData",{get:function(){return this.filterable?this._filteredData:this.data},set:function(e){this._filteredData=this.groupKey?(e||[]).filter(function(e){return!0!==e.isHeader}):e,this.checkMatch()},enumerable:!0,configurable:!0}),t.prototype.handleKeyUp=function(e){"ArrowDown"===e.key||"Down"===e.key?(this.dropdown.focusedItem=this.dropdown.items[0],this.dropdownContainer.nativeElement.focus()):"Escape"!==e.key&&"Esc"!==e.key||this.toggle()},t.prototype.handleKeyDown=function(e){"ArrowUp"!==e.key&&"Up"!==e.key||(e.preventDefault(),e.stopPropagation(),this.close())},t.prototype.checkMatch=function(){var e=this,t=this.displayKey,n=this.filteredData.some(function(n){return(t?n[t]:n).toString().toLowerCase()===e.searchValue.trim().toLowerCase()});this.customValueFlag=this.allowCustomValues&&!n},t.prototype.handleInputChange=function(e){var t=this,n=!1,i=this.virtDir;void 0!==e&&this._prevInputValue===e||(this._prevInputValue=void 0!==e?e:"",void 0!==e?(i.isScrollable()?i.scrollTo(0):n=!0,this.onSearchInput.emit(e)):n=!0,this.filterable?(this.filter(),n&&i.onChunkLoad.pipe(Object(N.a)(1)).subscribe(function(){i.isScrollable()&&t.cdr.detectChanges()})):this.checkMatch())},t.prototype.sort=function(e,t,n,i){if(void 0===t&&(t=vt.Asc),void 0===n&&(n=!0),void 0===i&&(i=xt.instance()),e){var r=nt(this.sortingExpressions,!0);this.prepare_sorting_expression(r,e,t,n,i),this.sortingExpressions=r}},t.prototype.getValueByValueKey=function(e){var t=this;if(e||0===e)return this.valueKey?this.data.filter(function(n){return n[t.valueKey]===e})[0]:this.data.filter(function(t){return t===e})},t.prototype.prepare_sorting_expression=function(e,t,n,i,r){if(n!==vt.None){var o=e.find(function(e){return e.fieldName===t});o?Object.assign(o,{fieldName:t,dir:n,ignoreCase:i}):e.push({fieldName:t,dir:n,ignoreCase:i,strategy:r})}else e.splice(e.findIndex(function(e){return e.fieldName===t}),1)},Object.defineProperty(t.prototype,"dataType",{get:function(){return this.valueKey?Pa:ka},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRemote",{get:function(){return this.totalItemCount>0&&this.valueKey&&this.dataType===Pa},enumerable:!0,configurable:!0}),t.prototype._stringifyItemID=function(e){return this.isRemote&&"object"==typeof e?JSON.stringify(e):e},t.prototype._parseItemID=function(e){return this.isRemote&&"string"==typeof e?JSON.parse(e):e},t.prototype.isItemSelected=function(e){return this.selection.is_item_selected(this.id,this._stringifyItemID(e))},t.prototype.triggerCheck=function(){this.cdr.detectChanges()},t.prototype.isAddButtonVisible=function(){return""!==this.searchValue&&this.customValueFlag},t.prototype.handleSelectAll=function(e){e.checked?this.selectAllItems():this.deselectAllItems()},t.prototype.addItemToCollection=function(){var e,t;if(this.searchValue){var n=this.searchValue.trim(),i=this.displayKey?((e={})[this.valueKey]=n,e[this.displayKey]=n,e):n;this.groupKey&&Object.assign(i,((t={})[this.groupKey]=this.defaultFallbackGroup,t));var o=this.data,a=Object(r.i)(this.data);a.push(i);var s={oldCollection:o,addedItem:i,newCollection:a};this.onAddition.emit(s),this.data.push(i),this.data=nt(this.data),this.selectItems([i],!1),this.customValueFlag=!1,this.searchInput.nativeElement.focus(),this.dropdown.focusedItem=null,this.handleInputChange()}},t.prototype.focusSearchInput=function(e){this.displaySearchInput&&this.searchInput?this.searchInput.nativeElement.focus():e?this.dropdownContainer.nativeElement.focus():(this.comboInput.nativeElement.focus(),this.toggle())},t.prototype.prepare_filtering_expression=function(e,t,n,i){var o=Object(r.i)(this.filteringExpressions),a=o.find(function(e){return e.fieldName===i}),s={fieldName:i,searchVal:e,condition:t,ignoreCase:n};if(a?Object.assign(a,s):o.push(s),this.groupKey){var l=o.find(function(e){return"isHeader"===e.fieldName}),c={fieldName:"isHeader",searchVale:"",condition:Or.instance().condition("true"),ignoreCase:!0};l?Object.assign(l,c):o.push(c)}this.filteringExpressions=o},t.prototype.onBlur=function(){this.collapsed&&(this.ngControl&&!this.ngControl.valid?this.valid=Ta.INVALID:this.valid=Ta.INITIAL)},t.prototype.filter=function(){this.prepare_filtering_expression(this.searchValue.trim(),Pr.instance().condition("contains"),!0,this.dataType===ka?void 0:this.displayKey)},t.prototype.ngOnInit=function(){this.ngControl=this.injector.get(l.i,null),this._overlaySettings.positionStrategy.settings.target=this.elementRef.nativeElement,this.selection.set(this.id,new Set)},t.prototype.ngAfterViewInit=function(){this.filteredData=Object(r.i)(this.data),this.ngControl&&this.ngControl.statusChanges.pipe(Object(H.a)(this.destroy$)).subscribe(this.onStatusChanged)},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete(),this.comboAPI.clear(),this.selection.clear(this.id)},t.prototype.dataLoading=function(e){this.onDataPreLoad.emit(e)},t.prototype.writeValue=function(e){this.selectItems(e,!0),this.cdr.markForCheck()},t.prototype.registerOnChange=function(e){this._onChangeCallback=e},t.prototype.registerOnTouched=function(e){},t.prototype.setDisabledState=function(e){this.disabled=e},t.prototype.getEditElement=function(){return this.comboInput.nativeElement},Object.defineProperty(t.prototype,"template",{get:function(){return this._dataType=this.dataType,this.itemTemplate?this.itemTemplate:this._dataType===Pa?this.complexTemplate:this.primitiveTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return{$implicit:this}},enumerable:!0,configurable:!0}),t.prototype.handleClearItems=function(e){this.deselectAllItems(!0,e),e.stopPropagation()},t.prototype.toggle=function(){var e=Object.assign({},this._overlaySettings,this.overlaySettings);this.dropdown.toggle(e)},t.prototype.open=function(){var e=Object.assign({},this._overlaySettings,this.overlaySettings);this.dropdown.open(e)},t.prototype.close=function(){this.dropdown.close()},Object.defineProperty(t.prototype,"collapsed",{get:function(){return this.dropdown.collapsed},enumerable:!0,configurable:!0}),t.prototype.selectedItems=function(){var e=this,t=Array.from(this.selection.get(this.id));return this.isRemote?t.map(function(t){return e._parseItemID(t)}):t},t.prototype.selectItems=function(e,t,n){if(e){var i=this.selection.add_items(this.id,e,t);this.setSelection(i,n)}},t.prototype.deselectItems=function(e,t){if(e){var n=this.selection.delete_items(this.id,e);this.setSelection(n,t)}},t.prototype.selectAllItems=function(e,t){var n=this.selection.get_all_ids(e?this.data:this.filteredData),i=this.selection.add_items(this.id,n);this.setSelection(i,t)},t.prototype.deselectAllItems=function(e,t){var n=this.selection.get_empty();this.filteredData.length===this.data.length||e||(n=this.selection.delete_items(this.id,this.selection.get_all_ids(this.filteredData))),this.setSelection(n,t)},t.prototype.setSelectedItem=function(e,t,n){if(void 0===t&&(t=!0),null!=e){var i=this.getValueByValueKey(e);null!=i&&(t?this.selectItems([i],!1,n):this.deselectItems([i],n))}},t.prototype.setSelection=function(e,t){var n=this,i=Aa(this.selection.get(this.id),e),r=Aa(e,this.selection.get(this.id)),o=Array.from(this.selection.get(this.id)||[]),a={newSelection:Array.from(e||[]),oldSelection:o,added:r,removed:i,event:t,cancel:!1};this.onSelectionChange.emit(a),a.cancel||(this.selection.select_items(this.id,a.newSelection,!0),this._value=this.dataType!==ka?a.newSelection.map(function(e){return n._parseItemID(e)[n.displayKey]}).join(", "):a.newSelection.join(", "),this._onChangeCallback(a.newSelection))},t.prototype.handleOpening=function(e){this.onOpening.emit(e),e.cancel||this.handleInputChange()},t.prototype.handleOpened=function(){this.triggerCheck(),this.focusSearchInput(!0),this.onOpened.emit()},t.prototype.handleClosing=function(e){this.onClosing.emit(e),e.cancel||(this.searchValue="",this.comboInput.nativeElement.focus())},t.prototype.handleClosed=function(){this.onClosed.emit()},t.decorators=[{type:o.n,args:[{selector:"igx-combo",template:'<ng-template #complex let-display let-data="data" let-key="displayKey">\n    {{display[key]}}\n</ng-template>\n<ng-template #primitive let-display>\n    {{display}}\n</ng-template>\n<ng-template #empty>\n    <span>The list is empty</span>\n</ng-template>\n<ng-template #addItemDefault let-control>\n    <button igxButton="flat" igxRipple>Add item</button>\n</ng-template>\n<ng-template #headerItemBase let-item let-key="valueKey" let-groupKey="groupKey">\n    {{ item[key] }}\n</ng-template>\n\n<igx-input-group [displayDensity]="displayDensity" [type]="type" (click)="onInputClick($event)">\n    <ng-container ngProjectAs="[igxLabel]">\n        <ng-content select="[igxLabel]"></ng-content>\n    </ng-container>\n    <ng-container ngProjectAs="igx-prefix">\n        <ng-content select="igx-prefix"></ng-content>\n    </ng-container>\n    <ng-container ngProjectAs="igx-hint, [igxHint]">\n            <ng-content select="igx-hint, [igxHint]"></ng-content>\n        </ng-container>\n    <input igxInput #comboInput name="comboInput" type="text" [value]="value" readonly [attr.placeholder]="placeholder"\n        [disabled]="disabled" (blur)="onBlur()" />\n    <ng-container ngProjectAs="igx-suffix">\n        <ng-content select="igx-suffix"></ng-content>\n    </ng-container>\n    <igx-suffix *ngIf="value.length" aria-label="Clear Selection" class="igx-combo__clear-button" igxRipple (click)="handleClearItems($event)">\n        <ng-container *ngIf="clearIconTemplate">\n            <ng-container *ngTemplateOutlet="clearIconTemplate"></ng-container>\n        </ng-container>\n        <igx-icon *ngIf="!clearIconTemplate" fontSet="material">clear</igx-icon>\n    </igx-suffix>\n    <igx-suffix igxButton="icon" class="igx-combo__toggle-button" igxRipple>\n        <ng-container *ngIf="toggleIconTemplate">\n            <ng-container *ngTemplateOutlet="toggleIconTemplate; context: {$implicit: this.collapsed}"></ng-container>\n        </ng-container>\n        <igx-icon *ngIf="!toggleIconTemplate" fontSet="material">{{ dropdown.collapsed ? \'arrow_drop_down\' : \'arrow_drop_up\'}}</igx-icon>\n    </igx-suffix>\n</igx-input-group>\n<igx-combo-drop-down #igxComboDropDown class="igx-combo__drop-down" [displayDensity]="displayDensity" [width]="itemsWidth || \'100%\'" (onOpening)="handleOpening($event)"\n    (onClosing)="handleClosing($event)" (onOpened)="handleOpened()" (onClosed)="handleClosed()">\n    <igx-input-group *ngIf="displaySearchInput" [displayDensity]="displayDensity" class="igx-combo__search">\n        <input class="igx-combo-input" igxInput #searchInput name="searchInput" autocomplete="off" type="text"\n            [(ngModel)]="searchValue" (ngModelChange)="handleInputChange($event)" (keyup)="handleKeyUp($event)"\n            (keydown)="handleKeyDown($event)" (focus)="dropdown.onBlur($event)" [attr.placeholder]="searchPlaceholder"\n            aria-autocomplete="both" [attr.aria-owns]="dropdown.id" [attr.aria-labelledby]="ariaLabelledBy" />\n    </igx-input-group>\n    <ng-container *ngTemplateOutlet="headerTemplate">\n    </ng-container>\n    <div #dropdownItemContainer class="igx-combo__content" [style.overflow]="\'hidden\'" [style.maxHeight.px]="itemsMaxHeight"\n        [igxDropDownItemNavigation]="dropdown" (focus)="dropdown.onFocus()" [tabindex]="dropdown.collapsed ? -1 : 0"\n        role="listbox" [attr.id]="dropdown.id">\n        <ng-template igxFor let-item let-index="index" [igxForOf]="data | comboFiltering:filteringExpressions:filteringLogic | comboSorting:sortingExpressions | comboGrouping:groupKey"\n            [igxForScrollOrientation]="\'vertical\'" [igxForContainerSize]="itemsMaxHeight" [igxForItemSize]="itemHeight"\n            (onChunkPreload)="dataLoading($event)">\n            <igx-combo-item  [itemHeight]=\'itemHeight\' [value]="item" [isHeader]="item.isHeader" role="option" [index]="index">\n                <ng-container *ngIf="item.isHeader">\n                    <ng-container *ngTemplateOutlet="headerItemTemplate ? headerItemTemplate : headerItemBase; context: {$implicit: item, data: data, valueKey: valueKey, groupKey: groupKey, displayKey: displayKey}"></ng-container>\n                </ng-container>\n                <ng-container *ngIf="!item.isHeader">\n                    <ng-container #listItem *ngTemplateOutlet="template; context: {$implicit: item, data: data, valueKey: valueKey, displayKey: displayKey};"></ng-container>\n                </ng-container>\n            </igx-combo-item>\n        </ng-template>\n    </div>\n    <div class="igx-combo__add" *ngIf="filteredData.length === 0 || isAddButtonVisible()">\n        <div class="igx-combo__empty" *ngIf="filteredData.length === 0">\n            <ng-container *ngTemplateOutlet="emptyTemplate ? emptyTemplate : empty">\n            </ng-container>\n        </div>\n        <igx-combo-add-item [itemHeight]=\'itemHeight\' *ngIf="isAddButtonVisible()" [tabindex]="dropdown.collapsed ? -1 : customValueFlag ? 1 : -1"\n            class="igx-combo__add-item" role="button" aria-label="Add Item" [index]="virtualScrollContainer.igxForOf.length">\n            <ng-container *ngTemplateOutlet="addItemTemplate ? addItemTemplate : addItemDefault">\n            </ng-container>\n        </igx-combo-add-item>\n    </div>\n    <ng-container *ngTemplateOutlet="footerTemplate">\n    </ng-container>\n</igx-combo-drop-down>',providers:[va,{provide:"IgxComboComponentToken",useExisting:t},{provide:l.h,useExisting:Object(o.vb)(function(){return t}),multi:!0}]}]}],t.ctorParameters=function(){return[{type:o.u},{type:o.k},{type:Kn},{type:va},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]},{type:o.F,decorators:[{type:o.R}]}]},t.propDecorators={virtDir:[{type:o.ob,args:[ui,{read:ui,static:!0}]}],overlaySettings:[{type:o.G}],dropdown:[{type:o.ob,args:[wa,{read:wa,static:!0}]}],searchInput:[{type:o.ob,args:["searchInput",{static:!1}]}],comboInput:[{type:o.ob,args:["comboInput",{static:!0}]}],itemTemplate:[{type:o.r,args:[ha,{read:o.kb,static:!1}]}],headerTemplate:[{type:o.r,args:[pa,{read:o.kb,static:!1}]}],footerTemplate:[{type:o.r,args:[ua,{read:o.kb,static:!1}]}],headerItemTemplate:[{type:o.r,args:[fa,{read:o.kb,static:!1}]}],addItemTemplate:[{type:o.r,args:[ma,{read:o.kb,static:!1}]}],emptyTemplate:[{type:o.r,args:[ga,{read:o.kb,static:!1}]}],toggleIconTemplate:[{type:o.r,args:[ya,{read:o.kb,static:!1}]}],clearIconTemplate:[{type:o.r,args:[ba,{read:o.kb,static:!1}]}],primitiveTemplate:[{type:o.ob,args:["primitive",{read:o.kb,static:!0}]}],complexTemplate:[{type:o.ob,args:["complex",{read:o.kb,static:!0}]}],virtualScrollContainer:[{type:o.ob,args:[ui,{static:!0}]}],dropdownContainer:[{type:o.ob,args:["dropdownItemContainer",{static:!0}]}],onSelectionChange:[{type:o.S}],onOpening:[{type:o.S}],onOpened:[{type:o.S}],onClosing:[{type:o.S}],onClosed:[{type:o.S}],onAddition:[{type:o.S}],onSearchInput:[{type:o.S}],onDataPreLoad:[{type:o.S}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],width:[{type:o.z,args:["style.width"]},{type:o.G}],validClass:[{type:o.z,args:["class.igx-input-group--valid"]}],invalidClass:[{type:o.z,args:["class.igx-input-group--invalid"]}],cssClass:[{type:o.z,args:["class.igx-combo"]}],role:[{type:o.z,args:["attr.role"]}],ariaExpanded:[{type:o.z,args:["attr.aria-expanded"]}],hasPopUp:[{type:o.z,args:["attr.aria-haspopup"]}],ariaOwns:[{type:o.z,args:["attr.aria-owns"]}],allowCustomValues:[{type:o.G}],itemsMaxHeight:[{type:o.G}],itemsWidth:[{type:o.G}],itemHeight:[{type:o.G}],placeholder:[{type:o.G}],searchPlaceholder:[{type:o.G}],data:[{type:o.G}],valueKey:[{type:o.G}],displayKey:[{type:o.G}],groupKey:[{type:o.G}],filterable:[{type:o.G}],ariaLabelledBy:[{type:o.G},{type:o.z,args:["attr.aria-labelledby"]}],disabled:[{type:o.G}],type:[{type:o.G}],onArrowDown:[{type:o.A,args:["keydown.ArrowDown",["$event"]]},{type:o.A,args:["keydown.Alt.ArrowDown",["$event"]]}]},t}(ni),La=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[Fa,xa,Ia,Oa,Ca,Da,wa,_a,ha,ga,fa,pa,ua,ma,ya,ba],exports:[Fa,xa,wa,_a,ha,ga,fa,pa,ua,ma,ya,ba],imports:[gr,a.b,ji,l.f,l.l,fi,Hn,aa,bi,Mi,Rr],providers:[Kn]}]}]}(),function(){function e(){}return e.parseDateFormat=function(t,n){void 0===n&&(n=e.DEFAULT_LOCALE);var i=[];if(void 0!==t||ct()){var r=t||e.SHORT_DATE_MASK,o=Array.from(r),a=r.indexOf("M"),s=r.indexOf("d"),l=r.indexOf("y");-1!==l&&i.push({type:"year",initialPosition:l,formatType:e.getYearFormatType(r)}),-1!==a&&i.push({type:"month",initialPosition:a,formatType:e.getMonthFormatType(r)}),-1!==s&&i.push({type:"day",initialPosition:s,formatType:e.getDayFormatType(r)});for(var c=0;c<o.length;c++)e.isDateChar(o[c])||i.push({type:e.SEPARATOR,initialPosition:c,value:o[c]});i.sort(function(e,t){return e.initialPosition-t.initialPosition}),e.fillDatePartsPositions(i)}else i=e.getDefaultLocaleMask(n);return i},e.getInputMask=function(t){for(var n=[],i=0;i<t.length;i++)if(t[i].type===e.SEPARATOR)n.push(t[i].value);else if("day"===t[i].type||"month"===t[i].type)n.push("00");else if("year"===t[i].type)switch(t[i].formatType){case"numeric":n.push("0000");break;case"2-digit":n.push("00")}return n.join("")},e.getMask=function(t){for(var n=[],i=0;i<t.length;i++){switch(t[i].formatType){case"numeric":"day"===t[i].type?n.push("d"):"month"===t[i].type?n.push("M"):n.push("yyyy");break;case"2-digit":"day"===t[i].type?n.push("dd"):"month"===t[i].type?n.push("MM"):n.push("yy")}t[i].type===e.SEPARATOR&&n.push(t[i].value)}return n.join("")},e.parseDateArray=function(t,n,i){var r,o,a=e.getDayValueFromInput(t,i),s=e.getMonthValueFromInput(t,i),l=e.getYearValueFromInput(t,i),c=e.getDateFormatPart(t,"year").formatType,d=""!==a?parseInt(a,10):1,p=""!==s?parseInt(s,10)-1:0;if(r=""===l?"2-digit"===c?"00":"2000":l,n){var u=n.getFullYear().toString();4===u.length&&(o=u.substring(0,2))}else o="20";var h="2-digit"===c?o.concat(r):r;return p<0||p>11||NaN===p?{state:"invalid",value:i}:d<1||d>e.daysInMonth(h,p+1)||NaN===d?{state:"invalid",value:i}:{state:"valid",date:new Date(h,p,d)}},e.maskToPromptChars=function(t){return t.replace(/0|L/g,e.PROMPT_CHAR)},e.trimUnderlines=function(e){return e.replace(/_/g,"")},e.getModifiedDateInput=function(t,n,i,r,o){var a,s,l,c=e.getDatePartOnPosition(t,i),d=c.type,p=c.formatType,u=e.getDateValueFromInput(t,d,n);a=parseInt(u,10);var h=e.getMinMaxValue(t,c,n);l=h.min,s=h.max,isNaN(a)&&(a="infinite"===l?2e3:l);var g=a;g+=r,"infinite"===s&&"infinite"===l&&(a=g),o?(g>s&&(g=l),g<l&&(g=s),a=g):g<=s&&g>=l&&(a=g);var f=c.position[0],m=c.position[1],y=n.slice(0,f),b=n.slice(m,n.length),v=e.getNumericFormatPrefix(p);return""+y+(a<10?""+v+a:""+a)+b},e.addPromptCharsEditMode=function(t,n,i){for(var r=Array.from(i),o=0;o<t.length;o++)"numeric"===t[o].formatType&&("day"===t[o].type&&n.getDate()<10||"month"===t[o].type&&n.getMonth()+1<10)&&(r.splice(t[o].position[0],0,e.PROMPT_CHAR),r.join(""));return r.join("")},e.checkForCompleteDateInput=function(t,n){var i=e.getDayValueFromInput(t,n),r=e.getMonthValueFromInput(t,n),o=e.getYearValueFromInput(t,n),a=e.getDayValueFromInput(t,n,!1),s=e.getMonthValueFromInput(t,n,!1);return e.isFullInput(i,a)&&e.isFullInput(r,s)&&e.isFullYearInput(t,o)?"complete":""===i&&""===r&&""===o?"empty":""===i||""===r||""===o?"partial":""},e.getYearFormatType=function(e){switch(e.match(new RegExp("y","g")).length){case 1:case 4:return"numeric";case 2:return"2-digit"}},e.getMonthFormatType=function(e){switch(e.match(new RegExp("M","g")).length){case 1:return"numeric";case 2:return"2-digit"}},e.getDayFormatType=function(e){switch(e.match(new RegExp("d","g")).length){case 1:return"numeric";case 2:return"2-digit"}},e.getDefaultLocaleMask=function(t){for(var n=[],i=new Intl.DateTimeFormat(t),r=i.formatToParts(new Date),o=0;o<r.length;o++)r[o].type===e.SEPARATOR?n.push({type:e.SEPARATOR,value:r[o].value}):n.push({type:r[o].type});var a=i.resolvedOptions();for(o=0;o<n.length;o++)switch(n[o].type){case"day":n[o].formatType=a.day;break;case"month":case"year":n[o].formatType=a.month}return e.fillDatePartsPositions(n),n},e.isDateChar=function(e){return"y"===e||"M"===e||"d"===e},e.getNumericFormatPrefix=function(t){switch(t){case"2-digit":return"0";case"numeric":return e.PROMPT_CHAR}},e.getMinMaxValue=function(t,n,i){var r,o;switch(n.type){case"month":o=1,r=e.NUMBER_OF_MONTHS;break;case"day":o=1,r=e.daysInMonth(e.getFullYearFromString(e.getDateFormatPart(t,"year"),i),parseInt(e.getMonthValueFromInput(t,i),10));break;case"year":"2-digit"===n.formatType?(o=0,r=99):(o="infinite",r="infinite")}return{min:o,max:r}},e.daysInMonth=function(e,t){return new Date(e,t,0).getDate()},e.getDateValueFromInput=function(t,n,i,r){void 0===r&&(r=!0);var o=e.getDateFormatPart(t,n).position,a=i.substring(o[0],o[1]);return r?e.trimUnderlines(a):a},e.getDayValueFromInput=function(t,n,i){return void 0===i&&(i=!0),e.getDateValueFromInput(t,"day",n,i)},e.getMonthValueFromInput=function(t,n,i){return void 0===i&&(i=!0),e.getDateValueFromInput(t,"month",n,i)},e.getYearValueFromInput=function(t,n,i){return void 0===i&&(i=!0),e.getDateValueFromInput(t,"year",n,i)},e.getDateFormatPart=function(e,t){return e.filter(function(e){return e.type===t})[0]},e.isFullInput=function(t,n){return""!==t&&2===n.length&&n.charAt(1)!==e.PROMPT_CHAR},e.isFullYearInput=function(t,n){switch(e.getDateFormatPart(t,"year").formatType){case"numeric":return""!==n&&4===n.length;case"2-digit":return""!==n&&2===n.length;default:return!1}},e.getDatePartOnPosition=function(t,n){return t.filter(function(t){return t.position[0]<=n&&n<=t.position[1]&&t.type!==e.SEPARATOR})[0]},e.getFullYearFromString=function(e,t){return parseInt(t.substring(e.position[0],e.position[1]),10)},e.fillDatePartsPositions=function(t){for(var n=0,i=0;i<t.length;i++)if("day"===t[i].type||"month"===t[i].type)t[i].position=[n,n+2],n+=2;else if("year"===t[i].type)switch(t[i].formatType){case"numeric":t[i].position=[n,n+4],n+=4;break;case"2-digit":t[i].position=[n,n+2],n+=2}else t[i].type===e.SEPARATOR&&(t[i].position=[n,n+1],n++)},e.SHORT_DATE_MASK="MM/dd/yy",e.SEPARATOR="literal",e.NUMBER_OF_MONTHS=12,e.PROMPT_CHAR="_",e.DEFAULT_LOCALE="en",e}()),Ma=function(){function e(e){this._datePicker=e}return e.prototype.transform=function(e,t){return""!==e?e===La.maskToPromptChars(this._datePicker.inputMask)?"":(this._datePicker.rawDateString=e,La.trimUnderlines(e)):""},e.decorators=[{type:o.W,args:[{name:"displayValue"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.C,args:["IgxDatePickerComponentToken"]}]}]},e}(),Ga=function(){function e(e){this._datePicker=e}return e.prototype.transform=function(e,t){return""!==this._datePicker.invalidDate?this._datePicker.invalidDate:null===this._datePicker.value||void 0===this._datePicker.value?La.maskToPromptChars(this._datePicker.inputMask):La.addPromptCharsEditMode(this._datePicker.dateFormatParts,this._datePicker.value,e)},e.decorators=[{type:o.W,args:[{name:"inputValue"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.C,args:["IgxDatePickerComponentToken"]}]}]},e}(),za=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxDatePickerTemplate]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),Va=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxDatePickerActions]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),Ba={DropDown:"dropdown",Dialog:"dialog"},Ha=function(){function e(){this.mode=Ba.Dialog,this.vertical=!1,this.onClose=new o.x,this.onTodaySelection=new o.x,this.styleClass="igx-date-picker"}return Object.defineProperty(e.prototype,"dropdownCSS",{get:function(){return this.mode===Ba.DropDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalCSS",{get:function(){return this.vertical&&this.mode===Ba.Dialog},enumerable:!0,configurable:!0}),e.prototype.onEscape=function(e){e.preventDefault(),this.onClose.emit()},Object.defineProperty(e.prototype,"isReadonly",{get:function(){return this.mode===Ba.Dialog},enumerable:!0,configurable:!0}),e.prototype.closeCalendar=function(){this.onClose.emit()},e.prototype.triggerTodaySelection=function(){this.onTodaySelection.emit()},e.decorators=[{type:o.n,args:[{selector:"igx-calendar-container",template:'<ng-template #defaultDatePickerActions>\n    <div *ngIf="cancelButtonLabel || todayButtonLabel" class="igx-date-picker__buttons">\n        <button #closeButton *ngIf="cancelButtonLabel" igxButton="flat" igxRipple (click)="closeCalendar()">\n            {{ cancelButtonLabel }}\n        </button>\n        <button #todayButton *ngIf="todayButtonLabel" igxButton="flat" igxRipple (click)="triggerTodaySelection()">\n            {{ todayButtonLabel }}\n        </button>\n    </div>\n</ng-template>\n<igx-calendar #calendar></igx-calendar>\n<ng-container *ngTemplateOutlet="datePickerActions ? datePickerActions.template : defaultDatePickerActions"></ng-container>\n',styles:[":host {display: block;}"]}]}],e.propDecorators={calendar:[{type:o.ob,args:["calendar",{static:!0}]}],mode:[{type:o.G}],vertical:[{type:o.G}],cancelButtonLabel:[{type:o.G}],todayButtonLabel:[{type:o.G}],datePickerActions:[{type:o.G}],onClose:[{type:o.S}],onTodaySelection:[{type:o.S}],styleClass:[{type:o.z,args:["class.igx-date-picker"]}],dropdownCSS:[{type:o.z,args:["class.igx-date-picker--dropdown"]}],verticalCSS:[{type:o.z,args:["class.igx-date-picker--vertical"]}],onEscape:[{type:o.A,args:["keydown.esc",["$event"]]},{type:o.A,args:["keydown.alt.arrowup",["$event"]]}]},e}(),Na=0,Wa="shortDate",Ya=function(){function e(e,t,n,i){this._overlayService=e,this.element=t,this._cdr=n,this._moduleRef=i,this.label="Date",this.labelVisibility=!0,this.weekStart=ho.SUNDAY,this.id="igx-date-picker-"+Na++,this.vertical=!1,this.mode=Ba.Dialog,this.isSpinLoop=!0,this.onOpened=new o.x,this.onClosed=new o.x,this.onClosing=new o.x,this.onSelection=new o.x,this.valueChange=new o.x,this.onDisabledDate=new o.x,this.onValidationFailed=new o.x,this.hasHeader=!0,this.collapsed=!0,this.displayValuePipe=new Ma(this),this.inputValuePipe=new Ga(this),this.dateFormatParts=[],this.isEmpty=!0,this.invalidDate="",this.spinDelta=1,this.defaultLocale="en",this._formatOptions={day:"numeric",month:"short",weekday:"short",year:"numeric"},this._formatViews={day:!1,month:!0,year:!1},this._destroy$=new E.a,this._disabledDates=null,this._specialDates=null,this._onOpen=new o.x,this._onClose=new o.x,this._onTouchedCallback=function(){},this._onChangeCallback=function(){}}return Object.defineProperty(e.prototype,"formatOptions",{get:function(){return this._formatOptions},set:function(e){this._formatOptions=Object.assign(this._formatOptions,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return void 0===this._format?Wa:this._format},set:function(e){this._format=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatViews",{get:function(){return this._formatViews},set:function(e){this._formatViews=Object.assign(this._formatViews,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabledDates",{get:function(){return this._disabledDates},set:function(e){this._disabledDates=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specialDates",{get:function(){return this._specialDates},set:function(e){this._specialDates=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modalOverlaySettings",{get:function(){return this._modalOverlay},set:function(e){this._modalOverlay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDownOverlaySettings",{get:function(){return this._dropDownOverlaySettings||this._defaultDropDownOverlaySettings},set:function(e){this._dropDownOverlaySettings=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayData",{get:function(){return this.value?this._customFormatChecker(this.formatter,this.value):""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformedDate",{get:function(){return this._value?(this._transformedDate=this._isInEditMode?this._getEditorDate(this._value):this._getDisplayDate(this._value),this.isEmpty=!1):this._transformedDate=this._isInEditMode?La.maskToPromptChars(this.inputMask):"",this._transformedDate},set:function(e){this._transformedDate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.datePickerTemplateDirective?this.datePickerTemplateDirective.template:this.mode===Ba.Dialog?this.readOnlyDatePickerTemplate:this.editableDatePickerTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){var e=this;return{disabled:this.disabled,disabledDates:this.disabledDates,displayData:this.displayData,format:this.format,isSpinLoop:this.isSpinLoop,label:this.label,labelVisibility:this.labelVisibility,locale:this.locale,mask:this.mask,mode:this.mode,specialDates:this.specialDates,value:this.value,openDialog:function(t){return e.openDialog(t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this._onChangeCallback(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onOpen",{get:function(){return this._onOpen},set:function(e){this._onOpen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onClose",{get:function(){return this._onClose},set:function(e){this._onClose=e},enumerable:!0,configurable:!0}),e.prototype.onSpaceClick=function(e){this.openDialog(this.getInputGroupElement()),e.preventDefault()},e.prototype.writeValue=function(e){this.value=e,this._cdr.markForCheck()},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.getEditElement=function(){var e=this.editableInput||this.readonlyInput||this.input;return e?e.nativeElement:null},e.prototype.getInputGroupElement=function(){return this.inputGroup?this.inputGroup.element.nativeElement:null},e.prototype.ngOnInit=function(){var e=this;this._positionSettings={openAnimation:be,closeAnimation:ve},this._defaultDropDownOverlaySettings={closeOnOutsideClick:!0,modal:!1,scrollStrategy:new Fn,positionStrategy:new jn(this._positionSettings),outlet:this.outlet},this._modalOverlaySettings={closeOnOutsideClick:!0,modal:!0,outlet:this.outlet},this._overlayService.onOpening.pipe(Object(B.a)(function(t){return t.id===e._componentID}),Object(H.a)(this._destroy$)).subscribe(function(t){e._onOpening(t)}),this._overlayService.onOpened.pipe(Object(B.a)(function(t){return t.id===e._componentID}),Object(H.a)(this._destroy$)).subscribe(function(){e._onOpened()}),this._overlayService.onClosed.pipe(Object(B.a)(function(t){return t.id===e._componentID}),Object(H.a)(this._destroy$)).subscribe(function(){e._onClosed()}),this._overlayService.onClosing.pipe(Object(B.a)(function(t){return t.id===e._componentID}),Object(H.a)(this._destroy$)).subscribe(function(t){e.onClosing.emit(t)}),this.mode===Ba.DropDown&&(this.dateFormatParts=La.parseDateFormat(this.mask,this.locale),void 0===this.mask&&(this.mask=La.getMask(this.dateFormatParts)),this.inputMask=La.getInputMask(this.dateFormatParts))},e.prototype.ngAfterViewInit=function(){var e=this;this.mode===Ba.DropDown&&this.editableInput&&Object(T.a)(this.editableInput.nativeElement,"keydown").pipe($(function(){return F(0,M.a)}),Object(H.a)(this._destroy$)).subscribe(function(t){return e.onKeyDown(t)})},e.prototype.ngOnDestroy=function(){this._componentID&&this._overlayService.hide(this._componentID),this._destroy$.next(!0),this._destroy$.complete()},e.prototype.triggerTodaySelection=function(){var e=new Date(Date.now());this.handleSelection(e)},e.prototype.selectDate=function(e){var t=this.value;this.value=e,this.emitValueChangeEvent(t,this.value),this.onSelection.emit(e),this._onChangeCallback(e)},e.prototype.deselectDate=function(){var e=this.value;this.value=null,this.emitValueChangeEvent(e,this.value),this.calendar&&this.calendar.deselectDate(),this._onChangeCallback(null)},e.prototype.openDialog=function(e){if(this.collapsed)switch(this.mode){case Ba.Dialog:this.hasHeader=!0;var t=void 0!==this.modalOverlaySettings?this._modalOverlay:this._modalOverlaySettings;this._componentID=this._overlayService.attach(Ha,t,this._moduleRef),this._overlayService.show(this._componentID);break;case Ba.DropDown:this.hasHeader=!1,e&&(this.dropDownOverlaySettings.positionStrategy.settings.target=e),this._componentID=this._overlayService.attach(Ha,this.dropDownOverlaySettings,this._moduleRef),this._overlayService.show(this._componentID)}},e.prototype.closeCalendar=function(){this._overlayService.hide(this._componentID)},e.prototype.clear=function(){this.isEmpty=!0,this.invalidDate="",this.deselectDate(),this._setCursorPosition(0)},e.prototype.handleSelection=function(e){this.value&&(e.setHours(this.value.getHours()),e.setMinutes(this.value.getMinutes()),e.setSeconds(this.value.getSeconds()),e.setMilliseconds(this.value.getMilliseconds()));var t=this.value;this.value=e,this.emitValueChangeEvent(t,this.value),this.calendar.viewDate=e,this._onChangeCallback(e),this.closeCalendar(),this.onSelection.emit(e)},e.prototype.onBlur=function(e){this._isInEditMode=!1,this.calculateDate(e.target.value,e.type)},e.prototype.onFocus=function(){this._isInEditMode=!0,this.value&&""===this.invalidDate&&(this._transformedDate=this._getEditorDate(this.value))},e.prototype.onKeyDown=function(e){switch(e.key){case"ArrowUp":case"Up":e.preventDefault(),e.stopPropagation(),this.spinValue(e.target.value,1,e.type);break;case"ArrowDown":case"Down":e.altKey?this.openDialog(this.getInputGroupElement()):(e.preventDefault(),e.stopPropagation(),this.spinValue(e.target.value,-1,e.type))}},e.prototype.onWheel=function(e){if(this._isInEditMode){e.preventDefault(),e.stopPropagation();var t=e.deltaY>0?-1:1;this.spinValue(e.target.value,t,e.type)}},e.prototype.onInput=function(e){var t=this,n=e.target.value,i=this._getCursorPosition(),r=La.checkForCompleteDateInput(this.dateFormatParts,n);this._isInEditMode=!0,n!==La.maskToPromptChars(this.inputMask)&&(this.isEmpty=!1),"complete"===r&&"deleteContentBackward"!==e.inputType?(this._transformedDate=n,this.calculateDate(n,e.type),this._setCursorPosition(i)):"partial"===r?(this.deselectDate(),requestAnimationFrame(function(){t.getEditElement().value=n,t._setCursorPosition(i)})):"empty"===r&&(this.isEmpty=!0,this.deselectDate())},e.prototype.emitValueChangeEvent=function(e,t){st(e,t)||this.valueChange.emit(t)},e.prototype.calculateDate=function(e,t){if(""!==e){var n=this.value,i="blur"===t?this.rawDateString:e,r=La.parseDateArray(this.dateFormatParts,n,i);if("valid"===r.state){var o=r.date;if(n&&(o.setHours(n.getHours()),o.setMinutes(n.getMinutes()),o.setSeconds(n.getSeconds()),o.setMilliseconds(n.getMilliseconds())),null===this.disabledDates||null!==this.disabledDates&&!uo(o,this.disabledDates)){var a=this.value;this.value=o,this.emitValueChangeEvent(a,this.value),this.invalidDate="",this._onChangeCallback(o)}else{var s={datePicker:this,currentValue:o};this.onDisabledDate.emit(s)}}else{s={datePicker:this,prevValue:n};this.invalidDate=e,this.onValidationFailed.emit(s)}}},e.prototype.spinValue=function(e,t,n){this._isInEditMode=!0,this.isEmpty=!1;var i=this._getCursorPosition(),r=La.getModifiedDateInput(this.dateFormatParts,e,i,this.spinDelta*t,this.isSpinLoop);this.getEditElement().value=r,this._setCursorPosition(i),"complete"===La.checkForCompleteDateInput(this.dateFormatParts,r)&&(this._isInEditMode=!0,this.calculateDate(r,n),this._setCursorPosition(i))},e.prototype._onOpening=function(e){this._initializeCalendarContainer(e.componentRef.instance),this.collapsed=!1},e.prototype._onOpened=function(){this._onTouchedCallback(),this.onOpened.emit(this),this._onOpen.emit(this),this.calendar&&this._focusCalendarDate()},e.prototype._onClosed=function(){this.collapsed=!0,this._componentID=null,this.onClosed.emit(this),this.onClose.emit(this),this.getEditElement()&&this.getEditElement().focus()},e.prototype._initializeCalendarContainer=function(e){var t=this;this.calendar=e.calendar;var n=this.vertical&&this.mode===Ba.Dialog;this.calendar.hasHeader=this.hasHeader,this.calendar.formatOptions=this.formatOptions,this.calendar.formatViews=this.formatViews,this.calendar.locale=this.locale,this.calendar.vertical=n,this.calendar.weekStart=this.weekStart,this.calendar.specialDates=this.specialDates,this.calendar.disabledDates=this.disabledDates,this.calendar.headerTemplate=this.headerTemplate,this.calendar.subheaderTemplate=this.subheaderTemplate,this.calendar.onSelection.pipe(Object(H.a)(this._destroy$)).subscribe(function(e){return t.handleSelection(e)}),this.value&&(this.calendar.value=this.value,this.calendar.viewDate=this.value),e.mode=this.mode,e.vertical=n,e.cancelButtonLabel=this.cancelButtonLabel,e.todayButtonLabel=this.todayButtonLabel,e.datePickerActions=this.datePickerActionsDirective,e.onClose.pipe(Object(H.a)(this._destroy$)).subscribe(function(){return t.closeCalendar()}),e.onTodaySelection.pipe(Object(H.a)(this._destroy$)).subscribe(function(){return t.triggerTodaySelection()})},e.prototype._focusCalendarDate=function(){var e=this;requestAnimationFrame(function(){e.calendar.daysView.focusActiveDate()})},e.prototype._setLocaleToDate=function(e){return ct()?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()).toLocaleDateString(this.locale):e.toLocaleDateString(this.locale)},e.prototype._getCursorPosition=function(){return this.getEditElement().selectionStart},e.prototype._setCursorPosition=function(e,t){var n=this;void 0===t&&(t=e),requestAnimationFrame(function(){n.getEditElement().setSelectionRange(e,t)})},e.prototype._customFormatChecker=function(e,t){return this.formatter?this.formatter(t):this._setLocaleToDate(t)},e.prototype._getDisplayDate=function(e){if(this.format&&!this.formatter){var t=this.locale||this.defaultLocale;return Object(a.m)(e,this.format,t)}return this._customFormatChecker(this.formatter,e)},e.prototype._getEditorDate=function(e){var t=this.locale||this.defaultLocale,n=e?Object(a.m)(e,this.mask,t):"";return La.addPromptCharsEditMode(this.dateFormatParts,this.value,n)},e.decorators=[{type:o.n,args:[{providers:[{provide:l.h,useExisting:e,multi:!0}],selector:"igx-date-picker",template:'<ng-template #readOnlyDatePickerTemplate>\n    <igx-input-group (click)="openDialog()">\n        <igx-prefix>\n            <igx-icon>today</igx-icon>\n        </igx-prefix>\n        <label *ngIf="labelVisibility" igxLabel>{{label}}</label>\n        <input #readonlyInput class="igx-date-picker__input-date" igxInput [value]="displayData || \'\'"\n            [disabled]="disabled" readonly />\n    </igx-input-group>\n</ng-template>\n\n<ng-template #editableDatePickerTemplate>\n    <igx-input-group #editableInputGroup [supressInputAutofocus]="true">\n        <igx-prefix (click)="openDialog(editableInputGroup.element.nativeElement)">\n            <igx-icon>today</igx-icon>\n        </igx-prefix>\n        <label *ngIf="labelVisibility" igxLabel>{{label}}</label>\n        <input #editableInput class="igx-date-picker__input-date" igxInput type="text" [value]="transformedDate"\n            [igxMask]="inputMask" [placeholder]="mask" [disabled]="disabled" [displayValuePipe]="displayValuePipe"\n            [focusedValuePipe]="inputValuePipe" (blur)="onBlur($event)" (wheel)="onWheel($event)"\n            (input)="onInput($event)" (focus)="onFocus()" />\n        <igx-suffix *ngIf="!isEmpty" (click)="clear()">\n            <igx-icon>clear</igx-icon>\n        </igx-suffix>\n    </igx-input-group>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template; context: context"></ng-container>',styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:Tn,decorators:[{type:o.C,args:[Tn]}]},{type:o.u},{type:o.k},{type:o.O}]},e.propDecorators={label:[{type:o.G}],labelVisibility:[{type:o.G}],locale:[{type:o.G}],weekStart:[{type:o.G}],formatOptions:[{type:o.G}],format:[{type:o.G}],mask:[{type:o.G}],formatViews:[{type:o.G}],disabledDates:[{type:o.G}],specialDates:[{type:o.G}],modalOverlaySettings:[{type:o.G}],dropDownOverlaySettings:[{type:o.G}],value:[{type:o.G}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],formatter:[{type:o.G}],disabled:[{type:o.G}],vertical:[{type:o.G}],todayButtonLabel:[{type:o.G}],cancelButtonLabel:[{type:o.G}],mode:[{type:o.G}],isSpinLoop:[{type:o.G}],outlet:[{type:o.G}],onOpen:[{type:o.S}],onOpened:[{type:o.S}],onClose:[{type:o.S}],onClosed:[{type:o.S}],onClosing:[{type:o.S}],onSelection:[{type:o.S}],valueChange:[{type:o.S}],onDisabledDate:[{type:o.S}],onValidationFailed:[{type:o.S}],readOnlyDatePickerTemplate:[{type:o.ob,args:["readOnlyDatePickerTemplate",{read:o.kb,static:!0}]}],editableDatePickerTemplate:[{type:o.ob,args:["editableDatePickerTemplate",{read:o.kb,static:!0}]}],inputGroup:[{type:o.ob,args:[Ri,{static:!1}]}],editableInput:[{type:o.ob,args:["editableInput",{read:o.u,static:!1}]}],readonlyInput:[{type:o.ob,args:["readonlyInput",{read:o.u,static:!1}]}],input:[{type:o.r,args:[Si,{static:!1}]}],datePickerTemplateDirective:[{type:o.r,args:[za,{read:za,static:!1}]}],headerTemplate:[{type:o.r,args:[yo,{read:yo,static:!1}]}],subheaderTemplate:[{type:o.r,args:[bo,{read:bo,static:!1}]}],datePickerActionsDirective:[{type:o.r,args:[Va,{read:Va,static:!1}]}],onSpaceClick:[{type:o.A,args:["keydown.spacebar",["$event"]]},{type:o.A,args:["keydown.space",["$event"]]}]},Object(r.c)([kn("'onOpen' @Output property is deprecated. Use 'onOpened' instead."),Object(r.f)("design:type",o.x),Object(r.f)("design:paramtypes",[o.x])],e.prototype,"onOpen",null),Object(r.c)([kn("'onClose' @Output property is deprecated. Use 'onClosed' instead."),Object(r.f)("design:type",o.x),Object(r.f)("design:paramtypes",[o.x])],e.prototype,"onClose",null),e}(),Ua=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Ya,Ha,Va,za,Ma,Ga],exports:[Ya,za,Va,Ma,Ga],imports:[a.b,Rr,ji,Mo,Mi,gr,sr],entryComponents:[Ha]}]}],e}(),Ka=function(){function e(){this.defaultStyle=!0}return e.decorators=[{type:o.t,args:[{selector:"igx-dialog-title,[igxDialogTitle]"}]}],e.propDecorators={defaultStyle:[{type:o.z,args:["class.igx-dialog__window-title"]}]},e}(),$a=function(){function e(){this.defaultClass=!0}return e.decorators=[{type:o.t,args:[{selector:"igx-dialog-actions,[igxDialogActions]"}]}],e.propDecorators={defaultClass:[{type:o.z,args:["class.igx-dialog__window-actions"]}]},e}(),Xa=0,qa=function(){function e(t,n){this.elementRef=t,this.navService=n,this.id="igx-dialog-"+Xa++,this.title="",this.message="",this.leftButtonLabel="",this.leftButtonType="flat",this.leftButtonColor="",this.leftButtonBackgroundColor="",this.leftButtonRipple="",this.rightButtonLabel="",this.rightButtonType="flat",this.rightButtonColor="",this.rightButtonBackgroundColor="",this.rightButtonRipple="",this.onOpen=new o.x,this.onClose=new o.x,this.onLeftButtonSelect=new o.x,this.onRightButtonSelect=new o.x,this._positionSettings={openAnimation:Object(P.p)(Ne,{params:{fromPosition:"translateY(100%)"}}),closeAnimation:Object(P.p)(We,{params:{toPosition:"translateY(-100%)"}})},this._closeOnOutsideSelect=!1,this._isModal=!0,this.destroy$=new E.a,this.tabindex=-1,this._titleId=e.NEXT_ID+++"_title",this._overlayDefaultSettings={positionStrategy:new Sn(this._positionSettings),scrollStrategy:new On,modal:this.isModal,closeOnOutsideClick:this.closeOnOutsideSelect}}return Object.defineProperty(e.prototype,"isModal",{get:function(){return this._isModal},set:function(e){this._overlayDefaultSettings.modal=e,this._isModal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closeOnOutsideSelect",{get:function(){return this._closeOnOutsideSelect},set:function(e){this._overlayDefaultSettings.closeOnOutsideClick=e,this._closeOnOutsideSelect=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positionSettings",{get:function(){return this._positionSettings},set:function(e){this._positionSettings=e,this._overlayDefaultSettings.positionStrategy=new Sn(this._positionSettings)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.isOpen?"open":"close"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return!this.toggleRef.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this.toggleRef.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return""!==this.leftButtonLabel&&""!==this.rightButtonLabel?"dialog":""!==this.leftButtonLabel||""!==this.rightButtonLabel?"alertdialog":"alert"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleId",{get:function(){return this._titleId},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.toggleRef.onClosing.pipe(Object(H.a)(this.destroy$)).subscribe(function(){return e.emitCloseFromDialog()})},e.prototype.emitCloseFromDialog=function(){this.onClose.emit({dialog:this,event:null})},e.prototype.open=function(e){void 0===e&&(e=this._overlayDefaultSettings),this.toggleRef.open(e),this.onOpen.emit({dialog:this,event:null}),this.leftButtonLabel||this.rightButtonLabel||this.toggleRef.element.focus()},e.prototype.close=function(){this.toggleRef.close()},e.prototype.toggle=function(){this.isOpen?this.close():this.open()},e.prototype.onDialogSelected=function(t){t.stopPropagation(),this.isOpen&&this.closeOnOutsideSelect&&t.target.classList.contains(e.DIALOG_CLASS)&&this.close()},e.prototype.onInternalLeftButtonSelect=function(e){this.onLeftButtonSelect.emit({dialog:this,event:e})},e.prototype.onInternalRightButtonSelect=function(e){this.onRightButtonSelect.emit({dialog:this,event:e})},e.prototype.ngOnInit=function(){this.navService&&this.id&&this.navService.add(this.id,this)},e.prototype.ngOnDestroy=function(){this.navService&&this.id&&this.navService.remove(this.id)},e.NEXT_ID=1,e.DIALOG_CLASS="igx-dialog",e.decorators=[{type:o.n,args:[{selector:"igx-dialog",template:'<div tabindex="0" #dialog class="igx-dialog" igxToggle (click)="onDialogSelected($event)">\n    <div #dialogWindow class="igx-dialog__window"  [attr.role]="role" [attr.aria-labelledby]="titleId">\n\n        <div *ngIf="title" [attr.id]="titleId" class="igx-dialog__window-title">\n            {{ title }}\n        </div>\n        <ng-content *ngIf="!title" select="igx-dialog-title,[igxDialogTitle]"></ng-content>\n\n        <div class="igx-dialog__window-content" *ngIf="message">{{ message }}</div>\n        <ng-content *ngIf="!message"></ng-content>\n\n        <div *ngIf="leftButtonLabel || rightButtonLabel" class="igx-dialog__window-actions">\n            <button *ngIf="leftButtonLabel" type="button" [igxFocus]="isOpen" igxButton="{{ leftButtonType }}" igxButtonColor="{{ leftButtonColor }}" igxButtonBackground="{{ leftButtonBackgroundColor }}"\n                igxRipple="{{ leftButtonRipple }}" (click)="onInternalLeftButtonSelect($event)">\n                {{ leftButtonLabel }}\n            </button>\n            <button *ngIf="rightButtonLabel" type="button" [igxFocus]="isOpen" igxButton="{{ rightButtonType }}" igxButtonColor="{{ rightButtonColor }}" igxButtonBackground="{{ rightButtonBackgroundColor }}"\n                igxRipple="{{ rightButtonRipple }}" (click)="onInternalRightButtonSelect($event)">\n                {{ rightButtonLabel }}\n            </button>\n        </div>\n        <ng-content *ngIf="!leftButtonLabel && !rightButtonLabel" select="igx-dialog-actions,[igxDialogActions]"></ng-content>\n\n    </div>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:o.u},{type:Je,decorators:[{type:o.R}]}]},e.propDecorators={toggleRef:[{type:o.ob,args:[zn,{static:!0}]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],isModal:[{type:o.G}],title:[{type:o.G}],message:[{type:o.G}],leftButtonLabel:[{type:o.G}],leftButtonType:[{type:o.G}],leftButtonColor:[{type:o.G}],leftButtonBackgroundColor:[{type:o.G}],leftButtonRipple:[{type:o.G}],rightButtonLabel:[{type:o.G}],rightButtonType:[{type:o.G}],rightButtonColor:[{type:o.G}],rightButtonBackgroundColor:[{type:o.G}],rightButtonRipple:[{type:o.G}],closeOnOutsideSelect:[{type:o.G}],positionSettings:[{type:o.G}],onOpen:[{type:o.S}],onClose:[{type:o.S}],onLeftButtonSelect:[{type:o.S}],onRightButtonSelect:[{type:o.S}],tabindex:[{type:o.z,args:["attr.tabindex"]}],isOpen:[{type:o.G}],isCollapsed:[{type:o.z,args:["class.igx-dialog--hidden"]}],role:[{type:o.G}],titleId:[{type:o.G}]},e}(),Za=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[qa,Ka,$a],exports:[qa,Ka,$a],imports:[a.b,Hn,Mi,gr,Xi]}]}]}(),function(e){return 0===e||Boolean(e)}),Qa=function(){function e(){}return e.count=function(e){return e.length},e.prototype.operate=function(t){return void 0===t&&(t=[]),[{key:"count",label:"Count",summaryResult:e.count(t)}]},e}(),Ja=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.min=function(e){return e.length&&e.filter(Za).length?e.filter(Za).reduce(function(e,t){return Math.min(e,t)}):0},t.max=function(e){return e.length&&e.filter(Za).length?e.filter(Za).reduce(function(e,t){return Math.max(e,t)}):0},t.sum=function(e){return e.length&&e.filter(Za).length?e.filter(Za).reduce(function(e,t){return+e+ +t}):0},t.average=function(e){return e.length&&e.filter(Za).length?this.sum(e)/this.count(e):0},t.prototype.operate=function(n){void 0===n&&(n=[]);var i=e.prototype.operate.call(this,n);return i.push({key:"min",label:"Min",summaryResult:t.min(n)}),i.push({key:"max",label:"Max",summaryResult:t.max(n)}),i.push({key:"sum",label:"Sum",summaryResult:t.sum(n)}),i.push({key:"average",label:"Avg",summaryResult:t.average(n)}),i},t}(Qa),es=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.latest=function(e){return e.length&&e.filter(Za).length?e.filter(Za).sort(function(e,t){return new Date(t).valueOf()-new Date(e).valueOf()})[0]:void 0},t.earliest=function(e){return e.length&&e.filter(Za).length?(t=e.filter(Za).sort(function(e,t){return new Date(t).valueOf()-new Date(e).valueOf()}))[t.length-1]:void 0;var t},t.prototype.operate=function(n){void 0===n&&(n=[]);var i=e.prototype.operate.call(this,n);return i.push({key:"earliest",label:"Earliest",summaryResult:t.earliest(n)}),i.push({key:"latest",label:"Latest",summaryResult:t.latest(n)}),i},t}(Qa),ts=function(){function e(e,t,n){this.id=e,this.index=t,this.data=n}return e.prototype.createEditEventArgs=function(){return{rowID:this.id,oldValue:Object(r.a)({},this.data),newValue:this.newData,cancel:!1}},e}(),ns=function(){function e(e,t,n,i,r,o){this.id=e,this.rowIndex=t,this.column=n,this.value=i,this.editValue=r,this.rowData=o}return e.prototype.castToNumber=function(e){if("number"===this.column.dataType&&!this.column.inlineEditorTemplate){var t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:0}return e},e.prototype.createEditEventArgs=function(){return{rowID:this.id.rowID,cellID:this.id,oldValue:this.value,newValue:this.editValue,cancel:!1}},e}(),is=function(){function e(){this.cell=null,this.row=null}return e.prototype.createCell=function(e){return new ns(e.cellID,e.rowIndex,e.column,e.value,e.value,e.row.rowData)},e.prototype.createRow=function(e){return new ts(e.id.rowID,e.rowIndex,e.rowData)},e.prototype.sameRow=function(e){return this.row&&this.row.id===e},e.prototype.sameCell=function(e){return this.cell.id.rowID===e.id.rowID&&this.cell.id.columnID===e.id.columnID},Object.defineProperty(e.prototype,"inEditMode",{get:function(){return!!this.cell},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowEditing",{get:function(){return this.grid.rowEditable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primaryKey",{get:function(){return this.grid.primaryKey},enumerable:!0,configurable:!0}),e.prototype.beginRowEdit=function(){!this.grid.rowEditable||void 0!==this.grid.primaryKey&&null!==this.grid.primaryKey||console.warn("The grid must have a `primaryKey` specified when using `rowEditable`!"),this.row=this.createRow(this.cell);var e={rowID:this.row.id,oldValue:this.row.data,cancel:!1};this.grid.onRowEditEnter.emit(e),e.cancel?this.endRowEdit():(this.row.transactionState=this.grid.transactions.getAggregatedValue(this.row.id,!0),this.grid.transactions.startPending(),this.grid.openRowOverlay(this.row.id))},e.prototype.endRowEdit=function(){this.row=null},e.prototype.begin=function(e){var t=this.createCell(e);t.primaryKey=this.primaryKey;var n={cellID:t.id,rowID:t.id.rowID,oldValue:t.value,cancel:!1};if(this.grid.onCellEditEnter.emit(n),n.cancel)this.end();else if(this.rowEditing){if(this.row&&!this.sameRow(t.id.rowID))return this.grid.endEdit(!0),this.cell=t,void this.beginRowEdit();if(this.cell=t,!this.row)return void this.beginRowEdit()}else this.cell=t,this.endRowEdit()},e.prototype.end=function(){this.cell=null},e.prototype.isInEditMode=function(e,t){return!!this.cell&&(this.cell.column.index===t&&this.cell.rowIndex===e)},e.decorators=[{type:o.D}],e}(),rs=function(){function e(e){this.zone=e,this.dragMode=!1,this.keyboardState={},this.pointerState={},this.selection=new Map,this.temp=new Map,this._ranges=new Set,this.initPointerState(),this.initKeyboardState()}return Object.defineProperty(e.prototype,"ranges",{get:function(){this.addKeyboardRange();var e=Array.from(this._ranges).map(function(e){return JSON.parse(e)});return!e.length&&this.activeElement&&e.push(this.generateRange(this.activeElement)),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primaryButton",{get:function(){return this.pointerState.primaryButton},set:function(e){this.pointerState.primaryButton=e},enumerable:!0,configurable:!0}),e.prototype.initKeyboardState=function(){this.keyboardState.node=null,this.keyboardState.shift=!1,this.keyboardState.range=null,this.keyboardState.active=!1},e.prototype.initPointerState=function(){this.pointerState.node=null,this.pointerState.ctrl=!1,this.pointerState.shift=!1,this.pointerState.range=null,this.pointerState.primaryButton=!0},e.prototype.add=function(e){this.selection.has(e.row)?this.selection.get(e.row).add(e.column):this.selection.set(e.row,new Set).get(e.row).add(e.column),this._ranges.add(JSON.stringify(this.generateRange(e)))},e.prototype.addKeyboardRange=function(){this.keyboardState.range&&this._ranges.add(JSON.stringify(this.keyboardState.range))},e.prototype.remove=function(e){this.selection.has(e.row)&&this.selection.get(e.row).delete(e.column),this.isActiveNode(e)&&(this.activeElement=null),this._ranges.delete(JSON.stringify(this.generateRange(e)))},e.prototype.isInMap=function(e){return this.selection.has(e.row)&&this.selection.get(e.row).has(e.column)||this.temp.has(e.row)&&this.temp.get(e.row).has(e.column)},e.prototype.selected=function(e){return this.isActiveNode(e)||this.isInMap(e)},e.prototype.isActiveNode=function(e,t){if(void 0===t&&(t=!1),this.activeElement){var n=this.activeElement.column===e.column&&this.activeElement.row===e.row;if(t){var i=this.activeElement.layout;return n&&this.isActiveLayout(i,e.layout)}return n}return!1},e.prototype.isActiveLayout=function(e,t){return e.columnVisibleIndex===t.columnVisibleIndex},e.prototype.addRangeMeta=function(e,t){this._ranges.add(JSON.stringify(this.generateRange(e,t)))},e.prototype.removeRangeMeta=function(e,t){this._ranges.delete(JSON.stringify(this.generateRange(e,t)))},e.prototype.generateRange=function(e,t){if(!t)return{rowStart:e.row,rowEnd:e.row,columnStart:e.column,columnEnd:e.column};var n=t.node,i=n.row,r=n.column;return{rowStart:Math.min(e.row,i),rowEnd:Math.max(e.row,i),columnStart:Math.min(e.column,r),columnEnd:Math.max(e.column,r)}},e.prototype.keyboardStateOnKeydown=function(e,t,n){this.keyboardState.active=!0,this.initPointerState(),this.keyboardState.shift=t&&!n,this.keyboardState.shift&&!this.keyboardState.node&&(this.clear(),this.keyboardState.node=e)},e.prototype.keyboardStateOnFocus=function(e,t,n){var i=this.keyboardState;if(i.active){if(!/Chrom|e?ium/g.test(navigator.userAgent)&&!/Google Inc/g.test(navigator.vendor)||/Edge/g.test(navigator.userAgent)||this._moveSelectionChrome(n),i.shift)return this.dragSelect(e,i),i.range=this.generateRange(e,i),void t.emit(this.generateRange(e,i));this.initKeyboardState(),this.clear(),this.add(e)}},e.prototype.pointerDown=function(e,t,n){if(this.addKeyboardRange(),this.initKeyboardState(),this.pointerState.ctrl=n,this.pointerState.shift=t,n||this.clear(),t)return this.pointerState.node||(this.pointerState.node=this.activeElement||e),this.pointerDownShiftKey(e),void this.clearTextSelection();this.removeRangeMeta(e),this.pointerState.node=e},e.prototype.pointerDownShiftKey=function(e){this.clear(),this.selectRange(e,this.pointerState)},e.prototype.mergeMap=function(e,t){for(var n,i,o=t.entries(),a=o.next(),s=function(){var t;if(t=Object(r.h)(a.value,2),n=t[0],i=t[1],e.has(n)){var s=e.get(n);i.forEach(function(e){return s.add(e)}),e.set(n,s)}else e.set(n,i);a=o.next()};!a.done;)s()},e.prototype.pointerEnter=function(e,t){return this.dragMode=1===t.buttons&&-1===t.button,!!this.dragMode&&(this.clearTextSelection(),this.pointerState.node||(this.pointerState.node=e),this.pointerState.ctrl?this.selectRange(e,this.pointerState,this.temp):this.dragSelect(e,this.pointerState),!0)},e.prototype.pointerUp=function(e,t){var n=this;return this.dragMode?(this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),this.mergeMap(this.selection,this.temp),this.zone.runTask(function(){return t.emit(n.generateRange(e,n.pointerState))}),this.temp.clear(),this.dragMode=!1,!0):this.pointerState.shift?(this.clearTextSelection(),this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),t.emit(this.generateRange(e,this.pointerState)),!0):(this.add(e),!1)},e.prototype.selectRange=function(e,t,n){void 0===n&&(n=this.selection),n===this.temp&&n.clear();for(var i=this.generateRange(e,t),r=i.rowStart,o=i.rowEnd,a=i.columnStart,s=i.columnEnd,l=r;l<=o;l++)for(var c=a;c<=s;c++)n.has(l)?n.get(l).add(c):n.set(l,new Set).get(l).add(c)},e.prototype.dragSelect=function(e,t){this.pointerState.ctrl||this.selection.clear(),this.selectRange(e,t)},e.prototype.clear=function(){this.selection.clear(),this.temp.clear(),this._ranges.clear()},e.prototype.clearTextSelection=function(){var e=window.getSelection();e.rangeCount&&(this._selectionRange=e.getRangeAt(0),this._selectionRange.collapse(!0),e.removeAllRanges())},e.prototype.restoreTextSelection=function(){var e=window.getSelection();e.rangeCount||e.addRange(this._selectionRange||document.createRange())},e.prototype._moveSelectionChrome=function(e){var t=window.getSelection();t.removeAllRanges();var n=new Range;n.selectNode(e),n.collapse(!0),t.addRange(n)},e.decorators=[{type:o.D}],e.ctorParameters=function(){return[{type:o.Q}]},e}();var os=function(){function e(e,t,n,i,r,o){this.gridAPI=e,this.crudService=t,this.selectionService=n,this.selection=i,this.element=r,this.cdr=o,this.role="row",this.dragging=!1,this.focused=!1,this.defaultCssClass="igx-grid__tr",this._rowSelection=!1}return Object.defineProperty(e.prototype,"rowData",{get:function(){return this.inEditMode?Object.assign({},this._rowData,this.grid.transactions.getAggregatedValue(this.rowID,!1)):this._rowData},set:function(e){this._rowData=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataRowIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleClasses",{get:function(){return this.resolveClasses()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this.grid.visibleColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pinnedColumns",{get:function(){return this.grid.pinnedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unpinnedColumns",{get:function(){return this.grid.unpinnedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowSelectable",{get:function(){return this.grid.rowSelectable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showRowCheckboxes",{get:function(){return this.grid.showRowCheckboxes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){var e=this.grid.transactions.getState(this.rowID);return!!e&&(e.type===Ot||e.type===kt)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowDraggable",{get:function(){return this.grid.rowDraggable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"added",{get:function(){var e=this.grid.transactions.getState(this.rowID);return!!e&&e.type===Ot},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deleted",{get:function(){return this.gridAPI.row_deleted_transaction(this.rowID)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inEditMode",{get:function(){if(this.grid.rowEditable){var e=this.crudService.row;return e&&e.id===this.rowID||!1}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowID",{get:function(){var e=this.grid.primaryKey;return e?this._rowData[e]:this._rowData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.onCheckboxClick=function(e){var t=e.checked?this.selection.add_item(this.gridID,this.rowID):this.selection.delete_item(this.gridID,this.rowID);this.grid.triggerRowSelectionChange(t,this,e)},e.prototype.update=function(e){var t=this.crudService;t.inEditMode&&t.cell.id.rowID===this.rowID&&this.grid.endEdit(!1);var n=new ts(this.rowID,this.index,this.rowData);this.gridAPI.update_row(n,e),this.cdr.markForCheck()},e.prototype.delete=function(){this.grid.deleteRowById(this.rowID)},Object.defineProperty(e.prototype,"rowCheckboxAriaLabel",{get:function(){return this.grid.primaryKey?this.isSelected?"Deselect row with key "+this.rowID:"Select row with key "+this.rowID:this.isSelected?"Deselect row":"Select row"},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this.isSelected=this.rowSelectable&&!!this.grid.allRowsSelected||this.selection.is_item_selected(this.gridID,this.rowID),this.cdr.markForCheck(),this.checkboxElement&&(this.checkboxElement.checked=this.isSelected)},e.prototype.resolveClasses=function(){var e=this.index%2?this.grid.evenRowCSS:this.grid.oddRowCSS,t=this.isSelected?"igx-grid__tr--selected":"",n=this.inEditMode?"igx-grid__tr--edit":"",i=this.dirty?"igx-grid__tr--edited":"",r=this.deleted?"igx-grid__tr--deleted":"",o=this.grid.hasColumnLayouts?"igx-grid__tr--mrl":"",a=this.dragging?"igx-grid__tr--drag":"";return(this.defaultCssClass+" "+e+" "+t+" "+n+" "+i+"\n         "+r+" "+o+" "+a).trim()},Object.defineProperty(e.prototype,"resolveDragIndicatorClasses",{get:function(){return"igx-grid__drag-indicator "+(this.grid.rowDragging&&!this.dragging?"igx-grid__drag-indicator--off":"")},enumerable:!0,configurable:!0}),e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-row",template:'<ng-container *ngIf="grid.groupingExpressions.length > 0">\n    <div class="igx-grid__row-indentation igx-grid__row-indentation--level-{{grid.groupingExpressions.length}}"></div>\n</ng-container>\n<ng-container *ngIf="rowDraggable">\n    <div [class]="resolveDragIndicatorClasses" [igxRowDrag]="this">\n        <ng-container *ngTemplateOutlet="this.grid.dragIndicatorIconTemplate ? this.grid.dragIndicatorIconTemplate : this.grid.dragIndicatorIconBase"></ng-container>\n    </div>\n</ng-container>\n<ng-container *ngIf="showRowCheckboxes">\n    <div class="igx-grid__cbx-selection">\n        <igx-checkbox [checked]="isSelected" [disabled]="deleted" (change)="onCheckboxClick($event)" disableRipple="true" [disableTransitions]="grid.disableTransitions" [aria-label]="rowCheckboxAriaLabel"></igx-checkbox>\n    </div>\n</ng-container>\n\n<ng-container *ngIf="!grid.hasColumnLayouts">\n    <ng-container *ngIf="pinnedColumns.length > 0">\n        <igx-grid-cell *ngFor="let col of pinnedColumns | igxNotGrouped"\n            class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n            [class.igx-grid__td--number]="col.dataType === \'number\'"\n            [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [lastPinned]="col.isLastPinned"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width.px]="col.width"\n            [style.flex-basis.px]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [cellTemplate]="col.bodyTemplate">\n        </igx-grid-cell>\n    </ng-container>\n    <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForSizePropName]=\'"calcPixelWidth"\' [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n        <igx-grid-cell\n            class="igx-grid__td igx-grid__td--fw"\n            [class.igx-grid__td--number]="col.dataType === \'number\'"\n            [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width.px]="col.width"\n            [style.flex-basis.px]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [cellTemplate]="col.bodyTemplate">\n        </igx-grid-cell>\n    </ng-template>\n</ng-container>\n\n<ng-container *ngIf="grid.hasColumnLayouts">\n    <ng-container *ngIf="pinnedColumns.length > 0">\n        <div *ngFor="let col of pinnedColumns | igxTopLevel" class="igx-grid__mrl-block"\n        [ngClass]="{\'igx-grid__td--pinned-last\': col.hasLastPinnedChildColumn}"\n        [ngStyle]="{\'grid-template-rows\':col.getGridTemplate(true, false),\n        \'grid-template-columns\':col.getGridTemplate(false, false),\n        \'z-index\': col.pinned ? 1 : null,\n        \'-ms-grid-rows\':col.getGridTemplate(true, true),\n        \'-ms-grid-columns\':col.getGridTemplate(false, true)}">\n            <igx-grid-cell *ngFor="let child of col.children"\n                class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n                [class.igx-grid__td--number]="child.dataType === \'number\'"\n                [ngClass]="child.cellClasses | igxCellStyles:rowData[child.field]:rowData:child.field"\n                [editMode]="child.editable && crudService.isInEditMode(index, child.index)"\n                [column]="child"\n                [formatter]="child.formatter"\n                [row]="this"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [visibleColumnIndex]="child.visibleIndex"\n                [value]="rowData[child.field]"\n                [cellTemplate]="child.bodyTemplate"></igx-grid-cell>\n        </div>\n    </ng-container>\n    <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForSizePropName]=\'"calcPixelWidth"\' [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n        <div class="igx-grid__mrl-block"\n        [ngStyle]="{\'grid-template-rows\':col.getGridTemplate(true, false),\n     \'grid-template-columns\':col.getGridTemplate(false, false),\n     \'-ms-grid-rows\':col.getGridTemplate(true, true),\n     \'-ms-grid-columns\':col.getGridTemplate(false, true)}">\n            <igx-grid-cell *ngFor="let child of col.children"\n                class="igx-grid__td igx-grid__td--fw"\n                [class.igx-grid__td--number]="child.dataType === \'number\'"\n                [ngClass]="child.cellClasses | igxCellStyles:rowData[child.field]:rowData:child.field"\n                [editMode]="child.editable && crudService.isInEditMode(index, child.index)"\n                [column]="child"\n                [formatter]="child.formatter"\n                [row]="this"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [visibleColumnIndex]="child.visibleIndex"\n                [value]="rowData[child.field]"\n                [cellTemplate]="child.bodyTemplate"></igx-grid-cell>\n        </div>\n    </ng-template>\n</ng-container>\n'}]}],e.ctorParameters=function(){return[{type:Pt},{type:is},{type:rs},{type:Kn},{type:o.u},{type:o.k}]},e.propDecorators={rowData:[{type:o.G}],index:[{type:o.G}],gridID:[{type:o.G}],virtDirRow:[{type:o.ob,args:["igxDirRef",{read:gi,static:!1}]}],checkboxElement:[{type:o.ob,args:[Object(o.vb)(function(){return ia}),{read:ia,static:!1}]}],cells:[{type:o.pb,args:[Object(o.vb)(function(){return Os})]}],role:[{type:o.z,args:["attr.role"]}],dataRowIndex:[{type:o.z,args:["attr.data-rowIndex"]}],styleClasses:[{type:o.z,args:["class"]}],isSelected:[{type:o.z,args:["attr.aria-selected"]}]},e}(),as=function(){function e(e){this.zone=e,this.resizeCursor=null,this.showResizer=!1}return Object.defineProperty(e.prototype,"resizerHeight",{get:function(){var e=this.column.grid.getVisibleContentHeight(),t=1;return this.column.columnLayoutChild&&(t=this.column.grid.multiRowLayoutRowSize-this.column.rowStart+1),0!==this.column.level&&(e-=this.column.topLevelParent.headerGroup.height-this.column.headerGroup.height*t),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restrictResizeMin",{get:function(){var e=parseFloat(this.column.minWidth),t=e<parseFloat(this.column.width)?e:parseFloat(this.column.width);return this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width-t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restrictResizeMax",{get:function(){var e=this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width;if(this.column.pinned){var t=this.pinnedMaxWidth=this.column.grid.calcPinnedContainerMaxWidth-this.column.grid.getPinnedWidth(!0)+e;return this.column.maxWidth&&parseFloat(this.column.maxWidth)<t?(this.pinnedMaxWidth=this.column.maxWidth,parseFloat(this.column.maxWidth)-e):t-e}return this.column.maxWidth?parseFloat(this.column.maxWidth)-e:Number.MAX_SAFE_INTEGER},enumerable:!0,configurable:!0}),e.prototype.autosizeColumnOnDblClick=function(){var e=this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width,t=this.column.getLargestCellWidth();this.column.pinned?this.column.grid.getPinnedWidth(!0)-e+parseFloat(t)<=this.column.grid.calcPinnedContainerMaxWidth&&(this.column.width=t):this.column.maxWidth&&parseFloat(t)>parseFloat(this.column.maxWidth)?this.column.width=parseFloat(this.column.maxWidth)+"px":parseFloat(t)<parseFloat(this.column.minWidth)?this.column.width=this.column.minWidth+"px":this.column.width=t;this.zone.run(function(){}),this.column.grid.reflow(),this.column.grid.onColumnResized.emit({column:this.column,prevWidth:e.toString(),newWidth:this.column.width})},e.prototype.resizeColumn=function(e){this.showResizer=!1;var t=e.clientX-this.startResizePos,n=parseFloat(this.column.width),i=this.column.headerCell.elementRef.nativeElement.getBoundingClientRect().width;n=Number.isNaN(n)||n<i?i:n;var r=this.getColMinWidth(this.column),o=this.getColMaxWidth(this.column);this.column.grid.hasColumnLayouts?this.resizeColumnLayoutFor(this.column,t):this.column.width=n+t<r?r+"px":o&&n+t>o?o+"px":n+t+"px",this.zone.run(function(){}),this.column.grid.reflow(),n!==parseFloat(this.column.width)&&this.column.grid.onColumnResized.emit({column:this.column,prevWidth:n.toString(),newWidth:this.column.width}),this.isColumnResizing=!1},e.prototype.getColMinWidth=function(e){var t=parseFloat(e.width),n=e.headerCell.elementRef.nativeElement.getBoundingClientRect().width;t=Number.isNaN(t)||t<n?n:t;var i=parseFloat(e.minWidth);return i<t?i:t},e.prototype.getColMaxWidth=function(e){return e.pinned?parseFloat(this.pinnedMaxWidth):parseFloat(e.maxWidth)},e.prototype.resizeColumnLayoutFor=function(e,t){var n=this,i=e.getResizableColUnderEnd(),o=i.reduce(function(e,t){return e+t.spanUsed},0);if(e.pinned){var a=this.column.grid.getPinnedWidth(!0),s=this.column.grid.calcPinnedContainerMaxWidth;a+t>s&&(t=s-a)}var l=Object(r.i)(i),c=t,d=o,p=!1,u=function(){p=!1;var e=d,i=[];l.forEach(function(r){var o=parseFloat(r.target.calcWidth),a=t/d*r.target.gridColumnSpan,s=n.getColMinWidth(r.target),l=n.getColMaxWidth(r.target);o+a<s?(r.target.width=s+"px",c+=o-s,e-=r.spanUsed,p=!0):l&&o+a>l?(r.target.width=l+"px",c-=l-o,e-=r.spanUsed,p=!0):i.push(r)}),d=e,l=i};do{u()}while(p);l.forEach(function(e){var t=parseFloat(e.target.calcWidth),n=c/d*e.target.gridColumnSpan;e.target.width=t+n+"px"})},e.decorators=[{type:o.D}],e.ctorParameters=function(){return[{type:o.Q}]},e}(),ss=function(){function e(e,t,n){this.zone=e,this.element=t,this.colResizingService=n,this._dblClick=!1,this.destroy$=new E.a}return e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype.ngAfterViewInit=function(){var e=this;!this.column.columnGroup&&this.column.resizable&&(this.zone.runOutsideAngular(function(){Object(T.a)(e.element.nativeElement,"mousedown").pipe(Object(ae.a)(200),Object(H.a)(e.destroy$)).subscribe(function(t){e._dblClick?e._dblClick=!1:0===t.button&&(e._onResizeAreaMouseDown(t),e.column.grid.resizeLine.resizer.onMousedown(t))})}),Object(T.a)(this.element.nativeElement,"mouseup").pipe(Object(ae.a)(200),Object(H.a)(this.destroy$)).subscribe(function(){e.colResizingService.isColumnResizing=!1,e.colResizingService.showResizer=!1,e.column.grid.cdr.detectChanges()}))},e.prototype.onMouseOver=function(){this.colResizingService.resizeCursor="col-resize"},e.prototype.onDoubleClick=function(){this._dblClick=!0,this.colResizingService.column=this.column,this.colResizingService.autosizeColumnOnDblClick()},e.prototype._onResizeAreaMouseDown=function(e){this.colResizingService.column=this.column,this.colResizingService.isColumnResizing=!0,this.colResizingService.startResizePos=e.clientX,this.colResizingService.showResizer=!0,this.column.grid.cdr.detectChanges()},e.decorators=[{type:o.t,args:[{selector:"[igxResizeHandle]"}]}],e.ctorParameters=function(){return[{type:o.Q},{type:o.u},{type:as}]},e.propDecorators={column:[{type:o.G,args:["igxResizeHandle"]}],onMouseOver:[{type:o.A,args:["mouseover"]}],onDoubleClick:[{type:o.A,args:["dblclick"]}]},e}(),ls=function(){function e(e,t,n){var i=this;this.element=e,this.document=t,this.zone=n,this.restrictHResizeMin=Number.MIN_SAFE_INTEGER,this.restrictHResizeMax=Number.MAX_SAFE_INTEGER,this.resizeEnd=new E.a,this.resizeStart=new E.a,this.resize=new E.a,this._destroy=new E.a,this.resizeStart.pipe(Object(se.a)(function(e){return e.clientX}),Object(H.a)(this._destroy),Object(te.a)(function(e){return i.resize.pipe(Object(se.a)(function(t){return t.clientX-e}),Object(H.a)(i.resizeEnd),Object(H.a)(i._destroy))})).subscribe(function(e){var t=i._left+e,n=i._left-i.restrictHResizeMin,r=i._left+i.restrictHResizeMax;i.left=t<n?n:t,t>r&&(i.left=r)})}return e.prototype.ngOnInit=function(){var e=this;this.zone.runOutsideAngular(function(){Object(T.a)(e.document.defaultView,"mousemove").pipe($(function(){return F(0,M.a)}),Object(H.a)(e._destroy)).subscribe(function(t){return e.onMousemove(t)}),Object(T.a)(e.document.defaultView,"mouseup").pipe(Object(H.a)(e._destroy)).subscribe(function(t){return e.onMouseup(t)})})},e.prototype.ngOnDestroy=function(){this._destroy.next(!0),this._destroy.complete()},Object.defineProperty(e.prototype,"left",{set:function(e){var t=this;requestAnimationFrame(function(){return t.element.nativeElement.style.left=e+"px"})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{set:function(e){var t=this;requestAnimationFrame(function(){return t.element.nativeElement.style.top=e+"px"})},enumerable:!0,configurable:!0}),e.prototype.onMouseup=function(e){this.resizeEnd.next(e),this.resizeEnd.complete()},e.prototype.onMousedown=function(e){e.preventDefault();var t=this.element.nativeElement.parentElement.parentElement;this.left=this._left=e.clientX-t.getBoundingClientRect().left,this.top=e.target.getBoundingClientRect().top-t.getBoundingClientRect().top,this.resizeStart.next(e)},e.prototype.onMousemove=function(e){e.preventDefault(),this.resize.next(e)},e.decorators=[{type:o.t,args:[{selector:"[igxResizer]"}]}],e.ctorParameters=function(){return[{type:o.u},{type:void 0,decorators:[{type:o.C,args:[a.c]}]},{type:o.Q}]},e.propDecorators={restrictHResizeMin:[{type:o.G}],restrictHResizeMax:[{type:o.G}],resizeEnd:[{type:o.S}],resizeStart:[{type:o.S}],resize:[{type:o.S}]},e}(),cs=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxFilterCellTemplate]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),ds=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxCell]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),ps=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxHeader]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),us=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxFooter]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),hs=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxCellEditor]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),gs=function(){function e(){}return Object.defineProperty(e.prototype,"column",{get:function(){return this._column},set:function(e){e&&(this._column=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon},set:function(e){e&&(this._icon=e)},enumerable:!0,configurable:!0}),e.decorators=[{type:o.D,args:[{providedIn:"root"}]}],e.ngInjectableDef=Object(o.nc)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),fs={BeforeDropTarget:0,AfterDropTarget:1,None:2};fs[fs.BeforeDropTarget]="BeforeDropTarget",fs[fs.AfterDropTarget]="AfterDropTarget",fs[fs.None]="None";var ms=function(e){function t(t,n,i,r,o){var a=e.call(this,r,t,n,i)||this;return a.cms=o,a._ghostImageClass="igx-grid__drag-ghost-image",a.dragGhostImgIconClass="igx-grid__drag-ghost-image-icon",a.dragGhostImgIconGroupClass="igx-grid__drag-ghost-image-icon-group",a}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"data",{set:function(e){this._column=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this.column&&(this.column.movable||this.column.groupable&&!this.column.columnGroup)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this.cms.icon},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._unsubscribe()},t.prototype.onEscape=function(e){this.cms.cancelDrop=!0,this.onPointerUp(e)},t.prototype.onPointerDown=function(t){var n=this;if(this.draggable&&"false"!==t.target.getAttribute("draggable")){t.preventDefault(),t.stopPropagation(),this._removeOnDestroy=!1,this.cms.column=this.column,this.ghostImageClass=this._ghostImageClass,e.prototype.onPointerDown.call(this,t),this.cms.isColumnMoving=!0,this.column.grid.cdr.detectChanges();var i={source:this.column};this.column.grid.onColumnMovingStart.emit(i),this.subscription$=Object(T.a)(this.column.grid.document.defaultView,"keydown").subscribe(function(e){"Escape"!==e.key&&"Esc"!==e.key||n.onEscape(e)})}},t.prototype.onPointerMove=function(t){if(t.preventDefault(),e.prototype.onPointerMove.call(this,t),this._dragStarted&&this.dragGhost&&!this.column.grid.draggedColumn&&(this.column.grid.draggedColumn=this.column,this.column.grid.cdr.detectChanges()),this.cms.isColumnMoving){var n={source:this.column,cancel:!1};this.column.grid.onColumnMoving.emit(n),n.cancel&&this.onEscape(t)}},t.prototype.onPointerUp=function(t){var n=this;this.zone.run(function(){e.prototype.onPointerUp.call(n,t),n.cms.isColumnMoving=!1,n.column.grid.draggedColumn=null,n.column.grid.cdr.detectChanges()}),this._unsubscribe()},t.prototype.createDragGhost=function(t){var n,i;e.prototype.createDragGhost.call(this,t),this.pointerEventsEnabled||!this.touchEventsEnabled?(n=t.pageX,i=t.pageY):(n=t.touches[0].pageX,i=t.touches[0].pageY),this.dragGhost.style.height=null,this.dragGhost.style.minWidth=null,this.dragGhost.style.flexBasis=null,this.dragGhost.style.position=null;var r=document.createElement("i"),o=document.createTextNode("block");r.appendChild(o),r.classList.add("material-icons"),this.cms.icon=r;var a=this.dragGhostHost?this.dragGhostHost.getBoundingClientRect().left:0,s=this.dragGhostHost?this.dragGhostHost.getBoundingClientRect().top:0;this.column.columnGroup?(this.dragGhost.insertBefore(r,this.dragGhost.childNodes[0]),this.renderer.addClass(r,this.dragGhostImgIconGroupClass),this.dragGhost.children[0].style.paddingLeft="0px",this.left=this._dragStartX=n-this.dragGhost.getBoundingClientRect().width/3*2-a,this.top=this._dragStartY=i-this.dragGhost.getBoundingClientRect().height/3*2-s):(this.renderer.addClass(r,this.dragGhostImgIconClass),this.dragGhost.insertBefore(r,this.dragGhost.firstElementChild),this.left=this._dragStartX=n-this.dragGhost.getBoundingClientRect().width/3*2-a,this.top=this._dragStartY=i-this.dragGhost.getBoundingClientRect().height/3*2-s)},t.prototype._unsubscribe=function(){this.subscription$&&(this.subscription$.unsubscribe(),this.subscription$=null)},t.decorators=[{type:o.t,args:[{selector:"[igxColumnMovingDrag]"}]}],t.ctorParameters=function(){return[{type:o.u},{type:o.Q},{type:o.Z},{type:o.k},{type:gs}]},t.propDecorators={data:[{type:o.G,args:["igxColumnMovingDrag"]}]},t}(Hi),ys=function(e){function t(t,n,i,r){var o=e.call(this,t,n,i)||this;return o.elementRef=t,o.renderer=n,o.zone=i,o.cms=r,o._dropIndicator=null,o._lastDropIndicator=null,o._dragLeave=new E.a,o._dropIndicatorClass="igx-grid__th-drop-indicator--active",o}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"data",{set:function(e){e instanceof ws&&(this._column=e),e instanceof gi&&(this._hVirtDir=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDropTarget",{get:function(){return this._column&&this._column.grid.hasMovableColumns&&this.cms.column.movable&&(!this._column.pinned&&this.cms.column.disablePinning||!this.cms.column.disablePinning)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalScroll",{get:function(){if(this._hVirtDir)return this._hVirtDir},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._dragLeave.next(!0),this._dragLeave.complete()},t.prototype.onDragOver=function(e){if(e.detail.owner instanceof ms&&this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent){this._lastDropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass);var t=this.elementRef.nativeElement.getBoundingClientRect(),n=t.left+t.width/2,i=this.elementRef.nativeElement.parentElement;e.detail.pageX<n?(this._dropPos=fs.BeforeDropTarget,this._lastDropIndicator=this._dropIndicator=i.firstElementChild):(this._dropPos=fs.AfterDropTarget,this._lastDropIndicator=this._dropIndicator=i.lastElementChild),"block"!==this.cms.icon.innerText&&this.renderer.addClass(this._dropIndicator,this._dropIndicatorClass)}},t.prototype.onDragEnter=function(e){var t=this;if(e.detail.owner instanceof ms)if(this.column&&this.cms.column.grid.id!==this.column.grid.id)this.cms.icon.innerText="block";else{if(this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent){if((!this.column.pinned||this.column.pinned&&this.cms.column.pinned)&&(this.cms.icon.innerText="swap_horiz"),!this.cms.column.pinned&&this.column.pinned)this.column.grid.getPinnedWidth(!0)+parseFloat(this.cms.column.width)<=this.column.grid.calcPinnedContainerMaxWidth?this.cms.icon.innerText="lock":this.cms.icon.innerText="block"}else this.cms.icon.innerText="block";this.horizontalScroll&&(this.cms.icon.innerText="right"===e.target.id?"arrow_forward":"arrow_back",F(100).pipe(Object(H.a)(this._dragLeave)).subscribe(function(){t.cms.column.grid.wheelHandler(),"right"===e.target.id?t.horizontalScroll.getHorizontalScroll().scrollLeft+=15:t.horizontalScroll.getHorizontalScroll().scrollLeft-=15}))}},t.prototype.onDragLeave=function(e){e.detail.owner instanceof ms&&(this.cms.icon.innerText="block",this._dropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass),this.horizontalScroll&&this._dragLeave.next(!0))},t.prototype.onDragDrop=function(e){if(e.preventDefault(),e.detail.owner instanceof ms&&(!this.column||this.cms.column.grid.id===this.column.grid.id)&&(this.horizontalScroll&&this._dragLeave.next(!0),this.isDropTarget)){var t={source:this.cms.column,target:this.column},n=void 0;if(this.column.pinned&&!this.cms.column.pinned&&(n=this.column.grid.getPinnedWidth(!0)+parseFloat(this.cms.column.width)),n&&n>this.column.grid.calcPinnedContainerMaxWidth||this.column.level!==this.cms.column.level||this.column.parent!==this.cms.column.parent||this.cms.cancelDrop)return this.cms.cancelDrop=!1,void this.column.grid.onColumnMovingEnd.emit(t);this.column.grid.moveColumn(this.cms.column,this.column,this._dropPos),this.column.grid.draggedColumn=null,this.column.grid.cdr.detectChanges()}},t.decorators=[{type:o.t,args:[{selector:"[igxColumnMovingDrop]"}]}],t.ctorParameters=function(){return[{type:o.u},{type:o.Z},{type:o.Q},{type:gs}]},t.propDecorators={data:[{type:o.G,args:["igxColumnMovingDrop"]}]},t}(Ni),bs=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxGridBody]",providers:[di]}]}],e}(),vs=function(e){function t(t){return e.call(this,t)||this}return Object(r.d)(t,e),t.prototype.transform=function(t,n){return t&&t instanceof Date?n?e.prototype.transform.call(this,t,"mediumDate",void 0,n):e.prototype.transform.call(this,t):t},t.decorators=[{type:o.W,args:[{name:"igxdate"}]}],t.ctorParameters=function(){return[{type:String,decorators:[{type:o.C,args:[o.J]}]}]},t}(a.d),xs=function(e){function t(t){return e.call(this,t)||this}return Object(r.d)(t,e),t.prototype.transform=function(t,n){return t&&"number"==typeof t?n?e.prototype.transform.call(this,t,void 0,n):e.prototype.transform.call(this,t):t},t.decorators=[{type:o.W,args:[{name:"igxdecimal"}]}],t.ctorParameters=function(){return[{type:String,decorators:[{type:o.C,args:[o.J]}]}]},t}(a.e),_s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isTop=!1,t.isTopInitialPosition=null,t}return Object(r.d)(t,e),t.prototype.position=function(t,n,i,r){var o=this.settings.container,a=this.settings.target;this.isTop=null!==this.isTopInitialPosition?this.isTopInitialPosition:o.getBoundingClientRect().bottom<a.getBoundingClientRect().bottom+t.getBoundingClientRect().height,t.style.width=a.clientWidth+"px",this.settings.verticalStartPoint=this.settings.verticalDirection=this.isTop?_n.Top:_n.Bottom,this.settings.openAnimation=this.isTop?Le:Fe,e.prototype.position.call(this,t,{width:a.clientWidth,height:a.clientHeight},i,r)},t}(An),ws=function(){function e(e,t){this.gridAPI=e,this.cdr=t,this._filterable=!0,this._groupable=!1,this.header="",this.sortable=!1,this.resizable=!1,this.movable=!1,this._calcWidth=null,this.headerClasses="",this.headerGroupClasses="",this.filteringIgnoreCase=!0,this.sortingIgnoreCase=!0,this.dataType=Ft.String,this.searchable=!0,this.parent=null,this.destroy$=new E.a,this._pinned=!1,this._summaries=null,this._filters=null,this._sortStrategy=xt.instance(),this._hidden=!1,this._disableHiding=!1,this._disablePinning=!1,this._defaultMinWidth="",this._hasSummary=!1,this._vIndex=NaN}return Object.defineProperty(e.prototype,"groupable",{get:function(){return this._groupable},set:function(e){this._groupable=e,this.grid&&this.grid.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editable",{get:function(){var e=this.grid&&this.grid.rowEditable,t=this.grid&&this.grid.transactions.enabled;return(!this.isPrimaryColumn||!e&&!t)&&(void 0!==this._editable?this._editable:e)},set:function(e){this._editable=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterable",{get:function(){return this._filterable},set:function(e){this._filterable=e,this.grid&&this.grid.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasSummary",{get:function(){return this._hasSummary},set:function(e){this._hasSummary=e,this.grid&&this.grid.summaryService.recalculateSummaries()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden!==e&&(this._hidden=e,this.grid&&(this.grid.resetCaches(),this.grid.endEdit(!1)),this.check(),this.grid&&(this.grid.refreshSearch(!0),this.grid.summaryService.resetSummaryHeight(),this.grid.reflow(),this.grid.filteringService.refreshExpressions()),this.columnLayoutChild&&this.parent.hidden!==e&&(this.parent.hidden=e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disableHiding",{get:function(){return this._disableHiding},set:function(e){this._disableHiding!==e&&(this._disableHiding=e,this.check())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disablePinning",{get:function(){return this._disablePinning},set:function(e){this._disablePinning!==e&&(this._disablePinning=e,this.check())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.widthSetByUser?this._width:this.defaultWidth},set:function(e){e&&(this._calcWidth=null,this.calcPixelWidth=NaN,this.widthSetByUser=!0,this._width=e,this.grid&&(this.cacheCalcWidth(),this.grid._derivePossibleWidth(),this.grid.cdr.markForCheck()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"calcWidth",{get:function(){return this.getCalcWidth()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){return this._defaultMinWidth?this._defaultMinWidth:this.defaultMinWidth},set:function(e){var t=parseFloat(e);Number.isNaN(t)||(this._defaultMinWidth=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.grid.columns.indexOf(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pinned",{get:function(){return this._pinned},set:function(e){if(this._pinned!==e){if(this.grid&&this.width&&!isNaN(parseInt(this.width,10)))return void(e?this.pin():this.unpin());this._pinned=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"summaries",{get:function(){return this._summaries},set:function(e){this._summaries=new e,this.grid&&(this.grid.summaryService.removeSummariesCachePerColumn(this.field),this.grid._summaryPipeTrigger++,this.grid.summaryService.recalculateSummaries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters},set:function(e){this._filters=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortStrategy",{get:function(){return this._sortStrategy},set:function(e){this._sortStrategy=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupingComparer",{get:function(){return this._groupingComparer},set:function(e){this._groupingComparer=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultMinWidth",{get:function(){if(!this.grid)return"80";switch(this.grid.displayDensity){case ei.cosy:return"64";case ei.compact:return"56";default:return"80"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bodyTemplate",{get:function(){return this._bodyTemplate},set:function(e){this._bodyTemplate=e,this.grid&&this.grid.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerTemplate",{get:function(){return this._headerTemplate},set:function(e){this._headerTemplate=e,this.grid&&this.grid.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inlineEditorTemplate",{get:function(){return this._inlineEditorTemplate},set:function(e){this._inlineEditorTemplate=e,this.grid&&this.grid.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterCellTemplate",{get:function(){return this._filterCellTemplate},set:function(e){this._filterCellTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cells",{get:function(){var e=this;return this.grid.rowList.filter(function(e){return e instanceof os}).map(function(t){if(t.cells)return t.cells.filter(function(t){return t.columnIndex===e.index})}).reduce(function(e,t){return e.concat(t)},[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleIndex",{get:function(){var e=this;if(!isNaN(this._vIndex))return this._vIndex;var t=this.grid.unpinnedColumns.filter(function(e){return!e.columnGroup}),n=this.grid.pinnedColumns.filter(function(e){return!e.columnGroup}),i=this,r=-1;if(this.columnGroup&&(i=this.allChildren.filter(function(e){return!e.columnGroup})[0]),this.columnLayoutChild)return this.parent.childrenVisibleIndexes.find(function(t){return t.column===e}).index;if(this.pinned)r=n.indexOf(i);else{var o=t.indexOf(i);r=-1===o?-1:n.length+o}return this._vIndex=r,r},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnGroup",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnLayout",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnLayoutChild",{get:function(){return this.parent&&this.parent.columnLayout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allChildren",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){for(var e=this.parent,t=0;e;)t++,e=e.parent;return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLastPinned",{get:function(){return this.grid.pinnedColumns[this.grid.pinnedColumns.length-1]===this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridRowSpan",{get:function(){return this.rowEnd&&this.rowStart?this.rowEnd-this.rowStart:1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridColumnSpan",{get:function(){return this.colEnd&&this.colStart?this.colEnd-this.colStart:1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteringExpressionsTree",{get:function(){return this.grid.filteringExpressionsTree.find(this.field)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPrimaryColumn",{get:function(){return void 0!==this.field&&void 0!==this.grid&&this.field===this.grid.primaryKey},enumerable:!0,configurable:!0}),e.prototype.resetCaches=function(){this._vIndex=NaN,this.grid&&this.cacheCalcWidth()},e.prototype.ngAfterContentInit=function(){if(this.cellTemplate&&(this._bodyTemplate=this.cellTemplate.template),this.headTemplate&&this.headTemplate.length&&(this._headerTemplate=this.headTemplate.toArray()[0].template),this.editorTemplate&&(this._inlineEditorTemplate=this.editorTemplate.template),this.filterCellTemplateDirective&&(this._filterCellTemplate=this.filterCellTemplateDirective.template),!this.summaries)switch(this.dataType){case Ft.String:case Ft.Boolean:this.summaries=Qa;break;case Ft.Number:this.summaries=Ja;break;case Ft.Date:this.summaries=es;break;default:this.summaries=Qa}if(!this.filters)switch(this.dataType){case Ft.Boolean:this.filters=Or.instance();break;case Ft.Number:this.filters=kr.instance();break;case Ft.Date:this.filters=Ir.instance();break;case Ft.String:default:this.filters=Pr.instance()}},e.prototype.getGridTemplate=function(e,t){if(e){var n=this.grid.multiRowLayoutRowSize;return t?"(1fr)["+n+"]":"repeat("+n+",1fr)"}return this.getColumnSizesString(this.children)},e.prototype.getInitialChildColumnSizes=function(e){var t=this,n=[];e.forEach(function(e){if(e.colStart){var i=e.widthSetByUser&&n[e.colStart-1]&&!n[e.colStart-1].widthSetByUser,r=n[e.colStart-1]&&n[e.colStart-1].colSpan>e.gridColumnSpan,o=e.widthSetByUser&&n[e.colStart-1]&&n[e.colStart-1].widthSetByUser,a=!e.widthSetByUser&&n[e.colStart-1]&&!n[e.colStart-1].widthSetByUser;if(void 0===n[e.colStart-1])n[e.colStart-1]={ref:e,width:e.widthSetByUser||t.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser};else if(i||r&&(o||a)){if(o&&r)for(var s=e.colStart-1+e.gridColumnSpan;s<n[e.colStart-1].colEnd-1&&(!n[s]||!n[s].widthSetByUser);s++)n[s]=n[e.colStart-1];n[e.colStart-1]={ref:e,width:e.widthSetByUser||t.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}else if(o&&n[e.colStart-1].colSpan<e.gridColumnSpan)for(s=e.colStart-1+n[e.colStart-1].colSpan;s<e.colStart-1+e.gridColumnSpan&&(!n[s]||!n[s].widthSetByUser);s++)n[s]={ref:e,width:e.widthSetByUser||t.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}});for(var i=0;i<n.length;i++)if(n[i]&&n[i].colSpan>1){for(var r=1;r<n[i].colSpan&&i+r+1<n[i].colEnd&&(!n[i+r]||!(!n[i].width&&n[i+r].width||!n[i].width&&!n[i+r].width&&n[i+r].colSpan<=n[i].colSpan||n[i+r].width&&n[i+r].colSpan<=n[i].colSpan));r++){var o=n[i].widthSetByUser?n[i].width/n[i].colSpan:n[i].width;n[i+r]={ref:n[i].ref,width:o,colSpan:1,colEnd:n[i].colEnd,widthSetByUser:n[i].widthSetByUser}}n[i].width=n[i].widthSetByUser?n[i].width/n[i].colSpan:n[i].width,n[i].colSpan=1,i+=r-1}return n},e.prototype.getFilledChildColumnSizes=function(e){for(var t=this.getInitialChildColumnSizes(e),n=[],i=0;i<t.length;i++)t[i]&&t[i].width?n.push(t[i].width+"px"):n.push(parseInt(this.grid.getPossibleColumnWidth(),10)+"px");return n},e.prototype.getColumnSizesString=function(e){return this.getFilledChildColumnSizes(e).join(" ")},e.prototype.getResizableColUnderEnd=function(){if(this.columnLayout||!this.columnLayoutChild||this.columnGroup)return[{target:this,spanUsed:1}];for(var e=this.getInitialChildColumnSizes(this.parent.children),t=[],n=this.colEnd?this.colEnd:this.colStart+1,i=0;i<e.length;i++)this.colStart<=i+1&&i+1<n&&t.push({target:e[i].ref,spanUsed:1});for(var r=[],o=0;o<t.length;o++)r.length&&r[r.length-1].target.field===t[o].target.field?r[r.length-1].spanUsed++:r.push(t[o]);return r},e.prototype.pin=function(e){if(this.grid&&this.grid.endEdit(!0),this._pinned)return!1;if(this.parent&&!this.parent.pinned)return this.topLevelParent.pin(e);var t=this.grid,n=void 0!==e;if(n&&(e<0||e>=t.pinnedColumns.length))return!1;if(!this.parent&&!this.pinnable)return!1;this._pinned=!0,this._unpinnedIndex=t._unpinnedColumns.indexOf(this),e=void 0!==e?e:t._pinnedColumns.length;var i=t._pinnedColumns[e],r={column:this,insertAtIndex:e,isPinned:!0};return t.onColumnPinning.emit(r),-1===t._pinnedColumns.indexOf(this)&&(t._pinnedColumns.splice(r.insertAtIndex,0,this),-1!==t._unpinnedColumns.indexOf(this)&&t._unpinnedColumns.splice(t._unpinnedColumns.indexOf(this),1)),n&&t._moveColumns(this,i),this.columnGroup&&(this.allChildren.forEach(function(e){return e.pin()}),t.reinitPinStates()),t.resetCaches(),t.cdr.detectChanges(),this.columnLayoutChild&&this.grid.columns.filter(function(e){return e.columnLayout}).forEach(function(e){return e.populateVisibleIndexes()}),this.grid.filteringService.refreshExpressions(),this.grid.refreshSearch(!0),!0},e.prototype.unpin=function(e){if(this.grid&&this.grid.endEdit(!0),!this._pinned)return!1;if(this.parent&&this.parent.pinned)return this.topLevelParent.unpin(e);var t=this.grid,n=void 0!==e;if(n&&(e<0||e>=t._unpinnedColumns.length))return!1;e=void 0!==e?e:void 0!==this._unpinnedIndex?this._unpinnedIndex:this.index,this._pinned=!1;var i=t._unpinnedColumns[e];t._unpinnedColumns.splice(e,0,this),-1!==t._pinnedColumns.indexOf(this)&&t._pinnedColumns.splice(t._pinnedColumns.indexOf(this),1),n&&t._moveColumns(this,i),this.columnGroup&&this.allChildren.forEach(function(e){return e.unpin()}),t.reinitPinStates(),t.resetCaches();var r={column:this,insertAtIndex:t._unpinnedColumns.indexOf(this),isPinned:!1};return t.onColumnPinning.emit(r),t.cdr.detectChanges(),this.columnLayoutChild&&this.grid.columns.filter(function(e){return e.columnLayout}).forEach(function(e){return e.populateVisibleIndexes()}),this.grid.filteringService.refreshExpressions(),this.grid.refreshSearch(!0),!0},Object.defineProperty(e.prototype,"topLevelParent",{get:function(){for(var e=this.parent;e&&e.parent;)e=e.parent;return e},enumerable:!0,configurable:!0}),e.prototype.check=function(){this.grid&&this.grid.markForCheck()},Object.defineProperty(e.prototype,"headerCell",{get:function(){var e=this;return this.grid.headerCellList.find(function(t){return t.column===e})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterCell",{get:function(){var e=this;return this.grid.filterCellList.find(function(t){return t.column===e})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerGroup",{get:function(){var e=this;return this.grid.headerGroupsList.find(function(t){return t.column===e})},enumerable:!0,configurable:!0}),e.prototype.autosize=function(){this.columnGroup||(this.width=this.getLargestCellWidth(),this.grid.markForCheck(),this.grid.reflow())},e.prototype.getCalcWidth=function(){return null===this._calcWidth||isNaN(this.calcPixelWidth)?(this.cacheCalcWidth(),this._calcWidth):this._calcWidth},e.prototype.getLargestCellWidth=function(){var e=this.grid.document.createRange(),t=new Map;if(this.cells.length>0){var n=[];this.cells[0].nativeElement.children.length>0?this.cells.forEach(function(t){return n.push(t.calculateSizeToFit(e))}):n=this.cells.map(function(t){return lt(e,t.nativeElement)});var i=n.indexOf(Math.max.apply(Math,Object(r.i)(n))),o=this.grid.document.defaultView.getComputedStyle(this.cells[i].nativeElement),a=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderRightWidth);t.set(Math.max.apply(Math,Object(r.i)(n)),a)}if(this.headerCell){var s=void 0;s=this.headerTemplate&&this.headerCell.elementRef.nativeElement.children[0].children.length>0?Math.max.apply(Math,Object(r.i)(Array.from(this.headerCell.elementRef.nativeElement.children[0].children).map(function(t){return lt(e,t)}))):lt(e,this.headerCell.elementRef.nativeElement.children[0]),(this.sortable||this.filterable)&&(s+=this.headerCell.elementRef.nativeElement.children[1].getBoundingClientRect().width);var l=this.grid.document.defaultView.getComputedStyle(this.headerCell.elementRef.nativeElement),c=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)+parseFloat(l.borderRightWidth);t.set(s,c)}var d=Math.max.apply(Math,Object(r.i)(Array.from(t.keys()))),p=Math.ceil(d+t.get(d));return Number.isNaN(p)?this.width:p+"px"},e.prototype.getCellWidth=function(){var e=this.width,t=e&&"string"==typeof e&&-1!==e.indexOf("%");if(this.columnLayoutChild)return"";if(e&&!t){var n=e;return"string"==typeof n&&!1!==n.endsWith("px")||(n+="px"),n}return e},e.prototype.cacheCalcWidth=function(){var e=this.gridAPI.grid,t=this.width,n=t&&"string"==typeof t&&-1!==t.indexOf("%");this._calcWidth=n?parseInt(t,10)/100*(e.calcWidth-e.featureColumnsWidth):t?this.width:this.defaultWidth||e.getPossibleColumnWidth(),this.calcPixelWidth=parseInt(this._calcWidth,10)},Object.defineProperty(e.prototype,"pinnable",{get:function(){return!(this.grid.getUnpinnedWidth(!0)-(this.parent?parseInt(this.topLevelParent.width,10):parseInt(this.width,10))<this.grid.unpinnedAreaMinWidth)},enumerable:!0,configurable:!0}),e.prototype.populateVisibleIndexes=function(){},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-column",template:""}]}],e.ctorParameters=function(){return[{type:Pt},{type:o.k}]},e.propDecorators={field:[{type:o.G}],header:[{type:o.G}],sortable:[{type:o.G}],groupable:[{type:o.G}],editable:[{type:o.G}],filterable:[{type:o.G}],resizable:[{type:o.G}],hasSummary:[{type:o.G}],hidden:[{type:o.G}],disableHiding:[{type:o.G}],disablePinning:[{type:o.G}],movable:[{type:o.G}],width:[{type:o.G}],maxWidth:[{type:o.G}],minWidth:[{type:o.G}],headerClasses:[{type:o.G}],headerGroupClasses:[{type:o.G}],cellClasses:[{type:o.G}],formatter:[{type:o.G}],filteringIgnoreCase:[{type:o.G}],sortingIgnoreCase:[{type:o.G}],dataType:[{type:o.G}],pinned:[{type:o.G}],summaries:[{type:o.G}],searchable:[{type:o.G}],filters:[{type:o.G}],sortStrategy:[{type:o.G}],groupingComparer:[{type:o.G}],bodyTemplate:[{type:o.G,args:["cellTemplate"]}],headerTemplate:[{type:o.G}],inlineEditorTemplate:[{type:o.G,args:["cellEditorTemplate"]}],filterCellTemplate:[{type:o.G,args:["filterCellTemplate"]}],rowEnd:[{type:o.G}],colEnd:[{type:o.G}],rowStart:[{type:o.G}],colStart:[{type:o.G}],cellTemplate:[{type:o.r,args:[ds,{read:ds,static:!1}]}],headTemplate:[{type:o.s,args:[ps,{read:ps,descendants:!1}]}],editorTemplate:[{type:o.r,args:[hs,{read:hs,static:!1}]}],filterCellTemplateDirective:[{type:o.r,args:[cs,{read:cs,static:!1}]}]},Object(r.c)([kn("The property is deprecated. Please, use `column.grid.id` instead."),Object(r.f)("design:type",String)],e.prototype,"gridID",void 0),e}(),Cs=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.gridAPI=t,i.cdr=n,i.children=new o.X,i.searchable=!0,i}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"summaries",{get:function(){return this._summaries},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bodyTemplate",{get:function(){return this._bodyTemplate},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inlineEditorTemplate",{get:function(){return this._inlineEditorTemplate},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this.allChildren.every(function(e){return e.hidden})},set:function(e){this._hidden=e,this.children.forEach(function(t){return t.hidden=e})},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var e=this;this.headTemplate&&this.headTemplate.length&&(this._headerTemplate=this.headTemplate.toArray()[0].template),this.children.reset(this.children.toArray().slice(1)),this.children.forEach(function(t){t.parent=e}),this.children.changes.pipe(Object(H.a)(this.destroy$)).subscribe(function(t){t.length>1&&t.first===e&&(e.children.reset(e.children.toArray().slice(1)),e.children.forEach(function(t){t.parent=e}))})},Object.defineProperty(t.prototype,"allChildren",{get:function(){return gt(this.children.toArray())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroup",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var e,t=!1;return e=""+this.children.reduce(function(e,n){return n.hidden?e:("string"==typeof n.width&&-1!==n.width.indexOf("%")&&(t=!0),e+parseInt(n.width,10))},0),t?e+"%":e},set:function(e){},enumerable:!0,configurable:!0}),t.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,providers:[{provide:ws,useExisting:Object(o.vb)(function(){return t})}],selector:"igx-column-group",template:""}]}],t.ctorParameters=function(){return[{type:Pt},{type:o.k}]},t.propDecorators={children:[{type:o.s,args:[ws,{read:ws}]}],summaries:[{type:o.G}],searchable:[{type:o.G}],filters:[{type:o.G}],hidden:[{type:o.G}]},t}(ws),Ss=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.childrenVisibleIndexes=[],t}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this.getFilledChildColumnSizes(this.children).reduce(function(e,t){return e+parseInt(t,10)},0)},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.getCalcWidth=function(){var t=0;if(this.headerGroup&&this.headerGroup.hasLastPinnedChildColumn){var n=this.grid.document.defaultView.getComputedStyle(this.headerGroup.element.nativeElement.children[0]);t=parseInt(n.borderRightWidth,10)}return e.prototype.getCalcWidth.call(this)+t},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){if(!isNaN(this._vIndex))return this._vIndex;var e=this.grid.unpinnedColumns.filter(function(e){return e.columnLayout&&!e.hidden}),t=this.grid.pinnedColumns.filter(function(e){return e.columnLayout&&!e.hidden}),n=-1;if(this.pinned)n=t.indexOf(this);else{var i=e.indexOf(this);n=-1===i?-1:t.length+i}return this._vIndex=n,n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden=e,this.children.forEach(function(t){return t.hidden=e}),this.grid&&this.grid.columns&&this.grid.columns.length>0&&this.grid.columns.filter(function(e){return e.columnGroup}).forEach(function(e){return e.populateVisibleIndexes()})},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;e.prototype.ngAfterContentInit.call(this),this.hidden?this.children.forEach(function(e){return e.hidden=t.hidden}):this.hidden=this.allChildren.some(function(e){return e.hidden}),this.children.forEach(function(e){e.movable=!1})},Object.defineProperty(t.prototype,"hasLastPinnedChildColumn",{get:function(){return this.children.some(function(e){return e.isLastPinned})},enumerable:!0,configurable:!0}),t.prototype.populateVisibleIndexes=function(){var e=this;this.childrenVisibleIndexes=[];var t=this.gridAPI.grid,n=t&&t.pinnedColumns&&t.unpinnedColumns?t.pinnedColumns.concat(t.unpinnedColumns):[],i=n.filter(function(e){return!e.columnGroup&&!e.hidden}).sort(function(e,t){return e.rowStart-t.rowStart||n.indexOf(e.parent)-n.indexOf(t.parent)||e.colStart-t.colStart});this.children.forEach(function(t){var n,r=t.rowStart||1;n=i.filter(function(e){return!e.columnGroup&&(e.rowStart||1)<=r}).indexOf(t),e.childrenVisibleIndexes.push({column:t,index:n})})},t.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,providers:[{provide:ws,useExisting:Object(o.vb)(function(){return t})}],selector:"igx-column-layout",template:""}]}],t.propDecorators={hidden:[{type:o.G}]},t}(Cs),Ds=function(){function e(e,t,n){this._zone=e,this.doc=t,this.platformUtil=n,this.hammerOptions={},this._hammerManagers=[],this.platformBrowser=this.platformUtil.isBrowser,this.platformBrowser&&(this.hammerOptions={inputClass:Hammer.TouchInput,recognizers:[[Hammer.Pan,{threshold:0}],[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}],[Hammer.Tap],[Hammer.Tap,{event:"doubletap",taps:2},["tap"]]]})}return e.prototype.supports=function(e){return e.toLowerCase().endsWith(".precise")},e.prototype.addEventListener=function(e,t,n,i){var r=this;if(void 0===i&&(i=null),this.platformBrowser)return this._zone.runOutsideAngular(function(){var o=r.getManagerForElement(e);null===o&&(o=new Hammer(e,Object.assign(r.hammerOptions,i)),r.addManagerForElement(e,o));var a=function(e){r._zone.run(function(){n(e)})};return o.on(t,a),function(){o.off(t,a)}})},e.prototype.addGlobalEventListener=function(e,t,n){if(this.platformBrowser){var i=this.getGlobalEventTarget(e);return this.addEventListener(i,t,n)}},e.prototype.getGlobalEventTarget=function(e){return Object(ce.h)().getGlobalEventTarget(this.doc,e)},e.prototype.setManagerOption=function(e,t,n){this.getManagerForElement(e).get(t).set(n)},e.prototype.addManagerForElement=function(e,t){this._hammerManagers.push({element:e,manager:t})},e.prototype.getManagerForElement=function(e){var t=this._hammerManagers.filter(function(t,n,i){return t.element===e});return t.length?t[0].manager:null},e.prototype.removeManagerForElement=function(e){for(var t=null,n=0;n<this._hammerManagers.length;n++)if(e===this._hammerManagers[n].element){t=n;break}null!==t&&this._hammerManagers.splice(t,1)[0].manager.destroy()},e.prototype.destroy=function(){var e,t;try{for(var n=Object(r.j)(this._hammerManagers),i=n.next();!i.done;i=n.next()){i.value.manager.destroy()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this._hammerManagers=[]},e.decorators=[{type:o.D}],e.ctorParameters=function(){return[{type:o.Q},{type:void 0,decorators:[{type:o.C,args:[a.c]}]},{type:ut}]},e}(),Os=function(){function e(e,t,n,i,r,o,a,s,l){var c=this;this.selectionService=e,this.crudService=t,this.gridAPI=n,this.selection=i,this.cdr=r,this.element=o,this.zone=a,this.touchManager=s,this.platformUtil=l,this._vIndex=-1,this.highlightClass="igx-highlight",this.activeHighlightClass="igx-highlight__active",this.lastPinned=!1,this.editMode=!1,this.tabindex=0,this.role="gridcell",this.width="",this.focused=!1,this.isInCompositionMode=!1,this.pointerdown=function(e){if(!ht(e))return c.selectionService.addKeyboardRange(),c.selectionService.initKeyboardState(),void(c.selectionService.primaryButton=!1);c.selectionService.pointerDown(c.selectionNode,e.shiftKey,e.ctrlKey)},this.pointerenter=function(e){c.selectionService.pointerEnter(c.selectionNode,e)&&c.grid.cdr.detectChanges()},this.pointerup=function(e){c.grid.hasColumnLayouts&&c.grid.navigation.setStartNavigationCell(c.colStart,c.rowStart,null),ht(e)&&(c.selectionService.pointerUp(c.selectionNode,c.grid.onRangeSelection)&&c.grid.cdr.detectChanges(),c._updateCRUDStatus())},this.onDoubleClick=function(e){"doubletap"===e.type&&e.preventDefault(),!c.editable||c.editMode||c.row.deleted||c.crudService.begin(c),c.grid.onDoubleClick.emit({cell:c,event:e})}}return Object.defineProperty(e.prototype,"context",{get:function(){return{$implicit:this.value,cell:this}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){if(this.editMode){var e=this.column.inlineEditorTemplate;return e||this.inlineEditorTemplate}return this.cellTemplate?this.cellTemplate:this.defaultCellTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridID",{get:function(){return this.row.gridID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowIndex",{get:function(){return this.row.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnIndex",{get:function(){return this.column.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleColumnIndex",{get:function(){return this.column.columnLayoutChild?this.column.visibleIndex:this._vIndex},set:function(e){this._vIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellID",{get:function(){var e=this.grid.primaryKey;return{rowID:e?this.rowData[e]:this.rowData,columnID:this.columnIndex,rowIndex:this.rowIndex}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inEditMode",{get:function(){return this.editMode},set:function(e){this.setEditMode(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return!this.column.editable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridRowSpan",{get:function(){return this.column.gridRowSpan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridColumnSpan",{get:function(){return this.column.gridColumnSpan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowEnd",{get:function(){return this.column.rowEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colEnd",{get:function(){return this.column.colEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowStart",{get:function(){return this.column.rowStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colStart",{get:function(){return this.column.colStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"describedby",{get:function(){return this.row.gridID+"_"+this.column.field},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this.isCellSelected()},set:function(e){var t=this.selectionNode;e?this.selectionService.add(t):this.selectionService.remove(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){if(!this.grid.rowEditable){var e=this.grid.transactions.getState(this.row.rowID);return e&&e.value&&(e.value[this.column.field]||0===e.value[this.column.field]||!1===e.value[this.column.field])}var t=this.grid.transactions.getAggregatedValue(this.row.rowID,!1);return!!t&&(void 0!==t[this.column.field]&&null!==t[this.column.field])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editValue",{get:function(){if(this.crudService.inEditMode)return this.crudService.cell.editValue},set:function(e){this.crudService.inEditMode&&(this.crudService.cell.editValue=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editable",{get:function(){return this.column.editable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highlight",{get:function(){return this._highlight},set:function(e){this._highlight=e,this._highlight&&this.grid.lastSearchInfo.searchText&&(this._highlight.highlight(this.grid.lastSearchInfo.searchText,this.grid.lastSearchInfo.caseSensitive,this.grid.lastSearchInfo.exactMatch),this._highlight.activateIfNecessary())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionNode",{get:function(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.visibleColumnIndex}:null}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.zone.runOutsideAngular(function(){e.nativeElement.addEventListener("pointerdown",e.pointerdown),e.nativeElement.addEventListener("pointerenter",e.pointerenter),e.nativeElement.addEventListener("pointerup",e.pointerup),ct()&&(e.compositionStartHandler=function(){return e.isInCompositionMode=!0},e.compositionEndHandler=function(){return e.isInCompositionMode=!1},e.nativeElement.addEventListener("compositionstart",e.compositionStartHandler),e.nativeElement.addEventListener("compositionend",e.compositionEndHandler))}),this.platformUtil.isIOS&&this.touchManager.addEventListener(this.nativeElement,"doubletap",this.onDoubleClick,{cssProps:{}})},e.prototype.ngOnDestroy=function(){var e=this;this.zone.runOutsideAngular(function(){e.nativeElement.removeEventListener("pointerdown",e.pointerdown),e.nativeElement.removeEventListener("pointerenter",e.pointerenter),e.nativeElement.removeEventListener("pointerup",e.pointerup),ct()&&(e.nativeElement.removeEventListener("compositionstart",e.compositionStartHandler),e.nativeElement.removeEventListener("compositionend",e.compositionEndHandler))}),this.touchManager.destroy()},e.prototype._updateCRUDStatus=function(){if(!this.editMode){var e=this.crudService,t=this.crudService.cell,n=!(!e.row&&!e.cell);if(this.editable&&n&&!this.row.deleted)return t&&this.gridAPI.update_cell(t,t.editValue),e.end(),this.grid.cdr.markForCheck(),void e.begin(this);t&&e.sameRow(this.cellID.rowID)?this.gridAPI.submit_value():n&&!e.sameRow(this.cellID.rowID)&&this.grid.endEdit(!0)}},e.prototype.isCellSelected=function(){return this.selectionService.selected(this.selectionNode)},e.prototype.ngOnChanges=function(e){e.value&&!e.value.firstChange&&this.highlight&&(this.highlight.lastSearchInfo.searchedText=this.grid.lastSearchInfo.searchText,this.highlight.lastSearchInfo.caseSensitive=this.grid.lastSearchInfo.caseSensitive,this.highlight.lastSearchInfo.exactMatch=this.grid.lastSearchInfo.exactMatch)},e.prototype.setEditMode=function(e){this.row.deleted||(this.editable&&e?(this.gridAPI.submit_value(),this.crudService.begin(this)):this.gridAPI.escape_editMode(),this.grid.cdr.markForCheck())},e.prototype.update=function(e){if(!this.row.deleted){var t=this.crudService.createCell(this),n=this.gridAPI.update_cell(t,e);if(this.crudService.cell&&this.crudService.sameCell(t)){if(n.cancel)return;this.gridAPI.escape_editMode()}this.cdr.markForCheck()}},e.prototype.onClick=function(e){this.grid.onCellClick.emit({cell:this,event:e})},e.prototype.onContextMenu=function(e){this.grid.onContextMenu.emit({cell:this,event:e})},e.prototype.onFocus=function(e){if(!this.focused){var t=this.selectionNode,n=this.grid.hasColumnLayouts;this.focused=!0,this.row.focused=!0,this.selectionService.isActiveNode(t,n)||this.grid.onSelection.emit({cell:this,event:e}),this.selectionService.primaryButton?(this._updateCRUDStatus(),this.selectionService.activeElement=t):(this.selectionService.activeElement=null,this.crudService.inEditMode&&!this.editMode&&this.gridAPI.submit_value()),this.selectionService.primaryButton=!0,this.selectionService.keyboardStateOnFocus(t,this.grid.onRangeSelection,this.nativeElement)}},e.prototype.onBlur=function(){this.focused=!1,this.row.focused=!1},e.prototype.handleAlt=function(e,t){if("igx-tree-grid-row"===this.row.nativeElement.tagName.toLowerCase()&&this.isToggleKey(e)){var n=this.row.expanded&&yt.has(e),i=!this.row.expanded&&mt.has(e);n?this.gridAPI.trigger_row_expansion_toggle(this.row.treeRow,!this.row.expanded,t,this.visibleColumnIndex):i&&this.gridAPI.trigger_row_expansion_toggle(this.row.treeRow,!this.row.expanded,t,this.visibleColumnIndex)}},e.prototype.handleTab=function(e){e?this.grid.navigation.performShiftTabKey(this.row.nativeElement,this.selectionNode):this.grid.navigation.performTab(this.row.nativeElement,this.selectionNode)},e.prototype.handleEnd=function(e){e?this.grid.navigation.goToLastCell():this.grid.navigation.onKeydownEnd(this.rowIndex,!1,this.rowStart)},e.prototype.handleHome=function(e){e?this.grid.navigation.goToFirstCell():this.grid.navigation.onKeydownHome(this.rowIndex,!1,this.rowStart)},e.prototype.dispatchEvent=function(e){var t=e.key.toLowerCase(),n=e.shiftKey,i=e.ctrlKey,r=this.selectionNode;if(bt.has(t)){e.stopPropagation();var o={targetType:"dataCell",target:this,event:e,cancel:!1};if(this.grid.onGridKeydown.emit(o),o.cancel)return this.selectionService.clear(),void(this.selectionService.keyboardState.active=!0);if(e.altKey)return e.preventDefault(),void this.handleAlt(t,e);if(this.selectionService.keyboardStateOnKeydown(r,n,n&&"tab"===t),"tab"===t&&e.preventDefault(),this.editMode&&ft.has(t)){if(this.column.inlineEditorTemplate)return;["date","boolean"].indexOf(this.column.dataType)}else{ft.has(t)&&e.preventDefault();var a={cell:this,groupRow:null,event:e,cancel:!1};if(this.grid._onFocusChange.emit(a),!a.cancel)switch(t){case"tab":this.handleTab(n);break;case"end":this.handleEnd(i);break;case"home":this.handleHome(i);break;case"arrowleft":case"left":if(i){this.grid.navigation.onKeydownHome(r.row,!1,this.rowStart);break}this.grid.navigation.onKeydownArrowLeft(this.nativeElement,this.selectionNode);break;case"arrowright":case"right":if(i){this.grid.navigation.onKeydownEnd(r.row,!1,this.rowStart);break}this.grid.navigation.onKeydownArrowRight(this.nativeElement,this.selectionNode);break;case"arrowup":case"up":if(i){this.grid.navigation.navigateTop(this.visibleColumnIndex);break}this.grid.navigation.navigateUp(this.row.nativeElement,this.selectionNode);break;case"arrowdown":case"down":if(i){this.grid.navigation.navigateBottom(this.visibleColumnIndex);break}this.grid.navigation.navigateDown(this.row.nativeElement,this.selectionNode);break;case"enter":case"f2":this.onKeydownEnterEditMode();break;case"escape":case"esc":this.onKeydownExitEditMode();break;case" ":case"spacebar":case"space":this.row.rowSelectable&&this.row.checkboxElement.toggle();break;default:return}}}},e.prototype.onKeydownEnterEditMode=function(){this.isInCompositionMode||this.column.editable&&!this.row.deleted&&(this.editMode?(this.grid.endEdit(!0),this.nativeElement.focus()):this.crudService.begin(this))},e.prototype.onKeydownExitEditMode=function(){if(!this.isInCompositionMode&&this.editMode){var e=this.crudService.cell.createEditEventArgs();if(this.grid.onCellEditCancel.emit(e),e.cancel)return;this.grid.endEdit(!1),this.nativeElement.focus()}},e.prototype.highlightText=function(e,t,n){return this.highlight&&this.column.searchable?this.highlight.highlight(e,t,n):0},e.prototype.clearHighlight=function(){this.highlight&&this.column.searchable&&this.highlight.clearHighlight()},e.prototype.calculateSizeToFit=function(e){return Math.max.apply(Math,Object(r.i)(Array.from(this.nativeElement.children).map(function(t){return lt(e,t)})))},e.prototype.isToggleKey=function(e){return yt.has(e)||mt.has(e)},e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,selector:"igx-grid-cell",template:'<ng-template #defaultCell>\n    <div igxTextHighlight style="pointer-events: none" [cssClass]="highlightClass" [activeCssClass]="activeHighlightClass" [groupName]="gridID"\n        [value]="formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal: grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value"\n        [row]="rowData" [column]="this.column.field" [containerClass]="\'igx-grid__td-text\'"\n        class="igx-grid__td-text">{{ formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal:\n        grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value }}</div>\n</ng-template>\n<ng-template #inlineEditor let-cell="cell">\n    <ng-container *ngIf="column.dataType === \'string\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [value]="editValue" (input)="editValue = $event.target.value" [igxFocus]="focused" />\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'number\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [value]="editValue" (input)="editValue = $event.target.value" [igxFocus]="focused" type="number">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'boolean\'">\n        <igx-checkbox (change)="editValue = $event.checked" [value]="editValue" [checked]="editValue"\n            [igxFocus]="focused" [disableRipple]="true"></igx-checkbox>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'date\'">\n        <igx-date-picker [style.width.%]="100" [outlet]="grid.outletDirective" mode="dropdown"\n            [locale]="grid.locale" [(value)]="editValue" [igxFocus]="focused" [labelVisibility]="false">\n        </igx-date-picker>\n    </ng-container>\n</ng-template>\n<ng-container *ngTemplateOutlet="template; context: context">\n</ng-container>\n',providers:[Ds]}]}],e.ctorParameters=function(){return[{type:rs},{type:is},{type:Pt},{type:Kn},{type:o.k},{type:o.u},{type:o.Q},{type:Ds},{type:ut}]},e.propDecorators={column:[{type:o.G}],row:[{type:o.G}],rowData:[{type:o.G}],cellTemplate:[{type:o.G}],value:[{type:o.G}],formatter:[{type:o.G}],rowIndex:[{type:o.z,args:["attr.data-rowIndex"]}],visibleColumnIndex:[{type:o.z,args:["attr.data-visibleIndex"]},{type:o.G}],lastPinned:[{type:o.G},{type:o.z,args:["class.igx-grid__td--pinned-last"]}],editMode:[{type:o.G},{type:o.z,args:["class.igx-grid__td--editing"]}],tabindex:[{type:o.z,args:["attr.tabindex"]}],role:[{type:o.z,args:["attr.role"]}],readonly:[{type:o.z,args:["attr.aria-readonly"]}],gridRowSpan:[{type:o.z,args:["style.-ms-grid-row-span"]}],gridColumnSpan:[{type:o.z,args:["style.-ms-grid-column-span"]}],rowEnd:[{type:o.z,args:["style.grid-row-end"]}],colEnd:[{type:o.z,args:["style.grid-column-end"]}],rowStart:[{type:o.z,args:["style.-ms-grid-row"]},{type:o.z,args:["style.grid-row-start"]}],colStart:[{type:o.z,args:["style.-ms-grid-column"]},{type:o.z,args:["style.grid-column-start"]}],describedby:[{type:o.z,args:["attr.aria-describedby"]}],width:[{type:o.z,args:["style.min-width"]},{type:o.z,args:["style.max-width"]},{type:o.z,args:["style.flex-basis"]},{type:o.G}],selected:[{type:o.z,args:["attr.aria-selected"]},{type:o.z,args:["class.igx-grid__td--selected"]}],dirty:[{type:o.z,args:["class.igx-grid__td--edited"]}],focused:[{type:o.z,args:["class.igx-grid__td--active"]}],defaultCellTemplate:[{type:o.ob,args:["defaultCell",{read:o.kb,static:!0}]}],inlineEditorTemplate:[{type:o.ob,args:["inlineEditor",{read:o.kb,static:!0}]}],highlight:[{type:o.ob,args:[br,{read:br,static:!1}]}],onDoubleClick:[{type:o.A,args:["dblclick",["$event"]]}],onClick:[{type:o.A,args:["click",["$event"]]}],onContextMenu:[{type:o.A,args:["contextmenu",["$event"]]}],onFocus:[{type:o.A,args:["focus",["$event"]]}],onBlur:[{type:o.A,args:["blur"]}],dispatchEvent:[{type:o.A,args:["keydown",["$event"]]}]},Object(r.c)([kn("'inEditMode' is deprecated\nUse 'editMode' to get the current state and 'setEditMode(boolean)' as a setter"),Object(r.f)("design:type",Boolean),Object(r.f)("design:paramtypes",[Boolean])],e.prototype,"inEditMode",null),e}(),Is=function(e){function t(t){var n=e.call(this,t)||this;return n.prop=t,n.indentation=30,n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"column",{get:function(){return this.object},set:function(e){e&&(this.object=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.column?this.column.header?this.column.header:this.column.field:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.column.level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calcIndent",{get:function(){return this.indentation*this.level},enumerable:!0,configurable:!0}),t.propDecorators={column:[{type:o.G}],indentation:[{type:o.G}],container:[{type:o.G}]},t}(function(){function e(e){this.valueChanged=new o.x,this._propName=e}return Object.defineProperty(e.prototype,"object",{get:function(){return this._object},set:function(e){e&&(this._object=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.object?this.object[this._propName]:null},set:function(e){this.onValueChanged(e)},enumerable:!0,configurable:!0}),e.prototype.onValueChanged=function(e){var t=this.value;e!==t&&(this.object[this._propName]=e,this.valueChanged.emit({oldValue:t,newValue:e}))},e.propDecorators={value:[{type:o.G}],valueChanged:[{type:o.S}]},e}()),ks=function(e){function t(){return e.call(this,"hidden")||this}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.column.disableHiding},enumerable:!0,configurable:!0}),t.decorators=[{type:o.t,args:[{selector:"[igxColumnHidingItem]"}]}],t.ctorParameters=function(){return[]},t}(Is),Ps={Alphabetical:"Alphabetical",DisplayOrder:"DisplayOrder"},Es=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.filter=function(e,t){var n=this,i=[];return e.forEach(function(e){n.matchRecord(e,t.filteringOperands[0])?i.push(e):e.column.columnGroup&&e.column.allChildren.findIndex(function(e){return n.matchRecord(e,t.filteringOperands[1])||n.matchRecord(e,t.filteringOperands[2])})>-1&&i.push(e)}),i},t}(At),Ts=function(){function e(e){this.cdr=e,this.disableFilter=!1,this.columnsAreaMaxHeight="100%",this.cssClass="igx-column-hiding",this._currentColumns=[],this._gridColumns=[],this._rawColumns=[],this._columnDisplayOrder=Ps.DisplayOrder,this._filterCriteria="",this._filterColumnsPrompt="",this._title=""}return Object.defineProperty(e.prototype,"columns",{get:function(){return this._gridColumns},set:function(e){e&&(this._gridColumns=e,this.createColumnItems(),this.filterCriteria&&this.filter())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){this._title=e||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterColumnsPrompt",{get:function(){return this._filterColumnsPrompt},set:function(e){this._filterColumnsPrompt=e||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnItems",{get:function(){return this._currentColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterCriteria",{get:function(){return this._filterCriteria},set:function(e){if(!e||0===e.length)return this.clearFiltering(),this._filterCriteria="",void this.cdr.detectChanges();this._filterCriteria&&this._filterCriteria.length>e.length&&this.clearFiltering(),this._filterCriteria=e,this.filter(),this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnDisplayOrder",{get:function(){return this._columnDisplayOrder},set:function(e){void 0!==e&&(this.orderColumns(e),this._filterCriteria.length>0&&this.filter())},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){var e,t;try{for(var n=Object(r.j)(this._currentColumns),i=n.next();!i.done;i=n.next()){i.value.valueChanged.unsubscribe()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.createColumnItems=function(){var e=this;this._gridColumns.length>0&&(this._rawColumns=[],this._gridColumns.forEach(function(t){var n=e.createColumnItem(e,t);n&&e._rawColumns.push(n)}),this._currentColumns=this._rawColumns.slice(0),this.orderColumns(this._columnDisplayOrder))},e.prototype.orderColumns=function(e){this._columnDisplayOrder=e,e===Ps[Ps.Alphabetical]||e===Ps.Alphabetical?this._currentColumns=this._rawColumns.slice(0).sort(function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}):this._currentColumns=this._rawColumns},e.prototype.filter=function(){var e=new Dt(Et.Or);e.filteringOperands.push(this.createFilteringExpression("name")),e.filteringOperands.push(this.createFilteringExpression("field")),e.filteringOperands.push(this.createFilteringExpression("header"));var t=new Es;this._currentColumns=t.filter(this._currentColumns,e)},e.prototype.createFilteringExpression=function(e){return{condition:Pr.instance().condition("contains"),fieldName:e,ignoreCase:!0,searchVal:this._filterCriteria}},e.prototype.clearFiltering=function(){this.createColumnItems()},e.propDecorators={columns:[{type:o.G}],title:[{type:o.G}],filterColumnsPrompt:[{type:o.G}],disableFilter:[{type:o.G}],columnItems:[{type:o.G}],filterCriteria:[{type:o.G}],columnDisplayOrder:[{type:o.G}],columnsAreaMaxHeight:[{type:o.G}],cssClass:[{type:o.z,args:["attr.class"]}]},e}(),As=function(e){function t(t){var n=e.call(this,t)||this;return n.cdr=t,n.showAllText="Show All",n.hideAllText="Hide All",n.onColumnVisibilityChanged=new o.x,n.destroy$=new E.a,n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"disableHideAll",{get:function(){return!this.columnItems||this.columnItems.length<1||this.hiddenColumnsCount===this.columns.length||(this.hidableColumns.length<1||this.hidableColumns.length===this.hidableColumns.filter(function(e){return e.value}).length)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableShowAll",{get:function(){return!this.columnItems||this.columnItems.length<1||this.hiddenColumnsCount<1||this.hidableColumns.length<1||this.hidableColumns.length===this.hidableColumns.filter(function(e){return!e.value}).length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenColumnsCount",{get:function(){return this.columns?this.columns.filter(function(e){return e.hidden}).length:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidableColumns",{get:function(){return this.columnItems.filter(function(e){return!e.disabled})},enumerable:!0,configurable:!0}),t.prototype.createColumnItem=function(e,t){var n=this;if(t.grid.hasColumnLayouts&&!t.columnLayout)return null;var i=new ks;return i.container=e,i.column=t,i.valueChanged.pipe(Object(H.a)(this.destroy$)).subscribe(function(e){n.onVisibilityChanged({column:i.column,newValue:e.newValue})}),i},t.prototype.showAllColumns=function(){var e,t;try{for(var n=Object(r.j)(this.hidableColumns),i=n.next();!i.done;i=n.next()){i.value.value=!1}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.hideAllColumns=function(){var e,t;try{for(var n=Object(r.j)(this.hidableColumns),i=n.next();!i.done;i=n.next()){i.value.value=!0}}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.onVisibilityChanged=function(e){this.onColumnVisibilityChanged.emit(e)},t.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},t.decorators=[{type:o.n,args:[{preserveWhitespaces:!1,selector:"igx-column-hiding",template:'<div class="igx-column-hiding__header">\n    <h4 class="igx-column-hiding__header-title" *ngIf="title">{{ title }}</h4>\n\n    <igx-input-group class="igx-column-hiding__header-input" *ngIf="!disableFilter">\n        <input igxInput\n            type="text"\n            [(ngModel)]="filterCriteria"\n            [placeholder]="filterColumnsPrompt"\n            autocomplete="off" />\n    </igx-input-group>\n</div>\n\n<div class="igx-column-hiding__columns"\n    [style.max-height]="columnsAreaMaxHeight">\n    <igx-checkbox\n        *ngFor="let columnItem of hidableColumns"\n        class="igx-column-hiding__columns-item"\n        (onColumnVisibilityChanged)="onVisibilityChanged($event)"\n        (change)="columnItem.value = !columnItem.value"\n        [checked]="columnItem.value"\n        [disabled]="columnItem.disabled"\n        [style.margin-left.px]="columnItem.calcIndent">\n        {{ columnItem.name }}\n    </igx-checkbox>\n</div>\n\n<div class="igx-column-hiding__buttons">\n    <button igxButton igxRipple (click)="showAllColumns()" [disabled]="disableShowAll">{{ showAllText }}</button>\n    <button igxButton igxRipple (click)="hideAllColumns()" [disabled]="disableHideAll">{{ hideAllText }}</button>\n</div>\n'}]}],t.ctorParameters=function(){return[{type:o.k}]},t.propDecorators={disableHideAll:[{type:o.G}],disableShowAll:[{type:o.G}],showAllText:[{type:o.G}],hideAllText:[{type:o.G}],onColumnVisibilityChanged:[{type:o.S}]},t}(Ts),Rs=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[As,ks],exports:[As],imports:[Mi,aa,ji,a.b,l.f]}]}],e}(),js=function(e){function t(){return e.call(this,"pinned")||this}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"pinnable",{get:function(){return!(this.column.grid.getUnpinnedWidth(!0)-this.column.width<this.column.grid.unpinnedAreaMinWidth)},enumerable:!0,configurable:!0}),t.decorators=[{type:o.t,args:[{selector:"[igxColumnPinningItem]"}]}],t.ctorParameters=function(){return[]},t}(Is),Fs=function(e){function t(t){var n=e.call(this,t)||this;return n.cdr=t,n}return Object(r.d)(t,e),t.prototype.createColumnItem=function(e,t){if(0!==t.level||t.disablePinning)return null;var n=new js;return n.container=e,n.column=t,n},t.prototype.checkboxValueChange=function(e,t){if(e.checked&&!t.pinnable)return e.checkbox.checked=!1,!1;t.value=!t.value},t.decorators=[{type:o.n,args:[{preserveWhitespaces:!1,selector:"igx-column-pinning",template:'\n<div class="igx-column-hiding__header">\n    <h4 class="igx-column-hiding__header-title" *ngIf="title">{{ title }}</h4>\n\n    <igx-input-group class="igx-column-hiding__header-input" *ngIf="!disableFilter">\n        <input igxInput\n            type="text"\n            [(ngModel)]="filterCriteria"\n            [placeholder]="filterColumnsPrompt"\n            autocomplete="off" />\n    </igx-input-group>\n</div>\n\n<div class="igx-column-hiding__columns"\n    [style.max-height]="columnsAreaMaxHeight">\n    <igx-checkbox igxColumnPinningItem\n        *ngFor="let columnItem of columnItems"\n        class="igx-column-hiding__columns-item"\n        (change)="checkboxValueChange($event, columnItem)"\n        [checked]="columnItem.value">\n        {{ columnItem.name }}\n    </igx-checkbox>\n</div>\n'}]}],t.ctorParameters=function(){return[{type:o.k}]},t}(Ts),Ls=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Fs,js],exports:[Fs],imports:[aa,ji,a.b,l.f]}]}],e}(),Ms=function(e){function t(t,n,i,r,o){var a=e.call(this,o)||this;return a.gridAPI=t,a.cdr=n,a.excelExporter=i,a.csvExporter=r,a._displayDensityOptions=o,a._filterColumnsPrompt="Filter columns list ...",a._positionSettings={horizontalDirection:xn.Left,horizontalStartPoint:xn.Right,verticalDirection:_n.Bottom,verticalStartPoint:_n.Bottom},a._overlaySettings={positionStrategy:new An(a._positionSettings),scrollStrategy:new Fn,modal:!1,closeOnOutsideClick:!0,excludePositionTarget:!0},a}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"filterColumnsPrompt",{get:function(){return this._filterColumnsPrompt},set:function(e){this._filterColumnsPrompt=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultDropDownsMaxHeight",{get:function(){var e=this.grid.calcHeight;return e?.7*e+"px":"100%"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowExportButton",{get:function(){return null!=this.grid&&(this.grid.exportExcel||this.grid.exportCsv)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowExportExcelButton",{get:function(){return null!=this.grid&&this.grid.exportExcel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowExportCsvButton",{get:function(){return null!=this.grid&&this.grid.exportCsv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pinnedColumnsCount",{get:function(){return this.grid.pinnedColumns.filter(function(e){return!e.columnLayout}).length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostClass",{get:function(){return this.getComponentDensityClass("igx-grid-toolbar")},enumerable:!0,configurable:!0}),t.prototype.getTitle=function(){return null!=this.grid?this.grid.toolbarTitle:""},t.prototype.getExportText=function(){return null!=this.grid?this.grid.exportText:""},t.prototype.getExportExcelText=function(){return null!=this.grid?this.grid.exportExcelText:""},t.prototype.getExportCsvText=function(){return null!=this.grid?this.grid.exportCsvText:""},t.prototype.exportClicked=function(){this._overlaySettings.positionStrategy.settings.target=this.exportButton.nativeElement,this._overlaySettings.outlet=this.grid.outletDirective,this.exportDropdown.toggle(this._overlaySettings)},t.prototype.exportToExcelClicked=function(){this.performExport(this.excelExporter,"excel")},t.prototype.exportToCsvClicked=function(){this.performExport(this.csvExporter,"csv")},t.prototype.performExport=function(e,t){this.exportClicked();var n="excel"===t?new vn("ExportedData"):new Bt("ExportedData",Ht.CSV),i={grid:this.grid,exporter:e,options:n,cancel:!1};this.grid.onToolbarExporting.emit(i),i.cancel||e.export(this.grid,n)},t.prototype.toggleColumnHidingUI=function(){this._overlaySettings.positionStrategy.settings.target=this.columnHidingButton.nativeElement,this._overlaySettings.outlet=this.grid.outletDirective,this.columnHidingDropdown.toggle(this._overlaySettings)},t.prototype.toggleColumnPinningUI=function(){this._overlaySettings.positionStrategy.settings.target=this.columnPinningButton.nativeElement,this._overlaySettings.outlet=this.grid.outletDirective,this.columnPinningDropdown.toggle(this._overlaySettings)},Object.defineProperty(t.prototype,"context",{get:function(){return{grid:this.grid,toolbar:this}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customContentTemplate",{get:function(){return null!=this.grid&&null!=this.grid.toolbarCustomContentTemplate?this.grid.toolbarCustomContentTemplate.template:null},enumerable:!0,configurable:!0}),t.decorators=[{type:o.n,args:[{selector:"igx-grid-toolbar",template:'<span class="igx-grid-toolbar__title" *ngIf="getTitle()">\n    {{ getTitle() }}\n</span>\n\n<div class="igx-grid-toolbar__custom-content" *ngIf="customContentTemplate != null">\n    <ng-container *ngTemplateOutlet="customContentTemplate; context: context">\n    </ng-container>\n</div>\n\n<div class="igx-grid-toolbar__actions">\n    <div *ngIf="grid.columnHiding">\n        <button igxButton="flat" [displayDensity]="grid.displayDensity" #columnHidingButton name="btnColumnHiding" igxButton igxRipple\n            (click)="toggleColumnHidingUI()">\n            <div  class="igx-grid-toolbar__button-space">\n                <igx-icon *ngIf="grid.hiddenColumnsCount > 0">visibility_off</igx-icon>\n                <igx-icon *ngIf="grid.hiddenColumnsCount === 0">visibility</igx-icon>\n                <span>{{ grid.hiddenColumnsCount }}</span>\n                <span>{{ grid.hiddenColumnsText }}</span>\n            </div>\n        </button>\n        <igx-drop-down #columnHidingDropdown>\n            <igx-column-hiding\n                [columns]="grid.columns"\n                [title]="grid.columnHidingTitle"\n                [filterColumnsPrompt]="filterColumnsPrompt"\n                [columnsAreaMaxHeight]="defaultDropDownsMaxHeight"\n                (onColumnVisibilityChanged)="grid.toggleColumnVisibility($event)">\n            </igx-column-hiding>\n        </igx-drop-down>\n    </div>\n    <div *ngIf="grid.columnPinning">\n        <button igxButton="flat" [displayDensity]="grid.displayDensity" #columnPinningButton name="btnColumnPinning" igxButton igxRipple\n            (click)="toggleColumnPinningUI()">\n            <div  class="igx-grid-toolbar__button-space">\n                <igx-icon *ngIf="pinnedColumnsCount > 0">lock</igx-icon>\n                <igx-icon *ngIf="pinnedColumnsCount === 0">lock_open</igx-icon>\n                <span>{{ pinnedColumnsCount }}</span>\n                <span>{{ grid.pinnedColumnsText }}</span>\n                <span></span>\n            </div>\n        </button>\n        <igx-drop-down #columnPinningDropdown>\n            <igx-column-pinning\n                [columns]="grid.columns"\n                [title]="grid.columnPinningTitle"\n                [filterColumnsPrompt]="filterColumnsPrompt"\n                [columnsAreaMaxHeight]="defaultDropDownsMaxHeight"></igx-column-pinning>\n        </igx-drop-down>\n    </div>\n\n\n    <div class="igx-grid-toolbar__dropdown" *ngIf="shouldShowExportButton" id="btnExport">\n        <button igxButton="flat" [displayDensity]="grid.displayDensity" igxRipple #btnExport\n                (click)="exportClicked()">\n            <span class="igx-grid-toolbar__button-space">\n                <igx-icon fontSet="material">import_export</igx-icon>\n                <span>{{ getExportText() }}</span>\n                <igx-icon fontSet="material">arrow_drop_down</igx-icon>\n            </span>\n        </button>\n\n        <igx-drop-down #exportDropdown>\n            <ul class="igx-grid-toolbar__dd-list">\n                <li class="igx-grid-toolbar__dd-list-items" igxRipple *ngIf="shouldShowExportExcelButton" id="btnExportExcel"\n                (click)="exportToExcelClicked()">{{ getExportExcelText() }}</li>\n                <li class="igx-grid-toolbar__dd-list-items" igxRipple *ngIf="shouldShowExportCsvButton" id="btnExportCsv"\n                (click)="exportToCsvClicked()">{{ getExportCsvText() }}</li>\n            </ul>\n        </igx-drop-down>\n    </div>\n</div>\n'}]}],t.ctorParameters=function(){return[{type:Pt},{type:o.k},{type:bn,decorators:[{type:o.R}]},{type:Nt,decorators:[{type:o.R}]},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={gridID:[{type:o.z,args:["class.igx-grid-toolbar"]},{type:o.G}],filterColumnsPrompt:[{type:o.G}],defaultDropDownsMaxHeight:[{type:o.G}],columnHidingDropdown:[{type:o.ob,args:["columnHidingDropdown",{read:mi,static:!1}]}],columnHidingUI:[{type:o.ob,args:[As,{static:!1}]}],columnHidingButton:[{type:o.ob,args:["columnHidingButton",{read:Li,static:!1}]}],exportDropdown:[{type:o.ob,args:["exportDropdown",{read:mi,static:!1}]}],exportButton:[{type:o.ob,args:["btnExport",{read:Li,static:!1}]}],columnPinningDropdown:[{type:o.ob,args:["columnPinningDropdown",{read:mi,static:!1}]}],columnPinningUI:[{type:o.ob,args:[Fs,{static:!1}]}],columnPinningButton:[{type:o.ob,args:["columnPinningButton",{read:Li,static:!1}]}],hostClass:[{type:o.z,args:["attr.class"]}]},t}(ni),Gs=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxToolbarCustomContent]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),zs=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxRowEdit]"}]}],e}(),Vs=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxRowEditText]"}]}],e}(),Bs=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxRowEditActions]"}]}],e}(),Hs=function(){function e(e,t){var n=this;this.grid=e,this.element=t,this.activateCell=function(){var e=n.grid.rowInEditMode.cells.find(function(e){return e.visibleColumnIndex===n.currentCellIndex});e.nativeElement.focus(),e.setEditMode(!0),n.currentCellIndex=-1}}return Object.defineProperty(e.prototype,"allTabs",{get:function(){return this.grid.rowEditTabs},enumerable:!0,configurable:!0}),e.prototype.handleTab=function(e){e.stopPropagation(),(this.allTabs.last===this&&!e.shiftKey||this.allTabs.first===this&&e.shiftKey)&&this.move(e)},e.prototype.handleEscape=function(e){this.grid.endEdit(!1,e);var t=this.grid.selectionService.activeElement;t&&this.grid.navigation.getCellElementByVisibleIndex(t.row,t.layout?t.layout.columnVisibleIndex:t.column).focus()},e.prototype.move=function(e){e.preventDefault(),this.currentCellIndex=e.shiftKey?this.grid.lastEditableColumnIndex:this.grid.firstEditableColumnIndex,this.grid.navigation.isColumnFullyVisible(this.currentCellIndex)?this.activateCell():this.grid.navigation.performHorizontalScrollToCell(this.grid.rowInEditMode.index,this.currentCellIndex,!1,this.activateCell)},e.decorators=[{type:o.t,args:[{selector:"[igxRowEditTabStop]"}]}],e.ctorParameters=function(){return[{type:El,decorators:[{type:o.C,args:[Object(o.vb)(function(){return El})]}]},{type:o.u}]},e.propDecorators={handleTab:[{type:o.A,args:["keydown.Tab",["$event"]]},{type:o.A,args:["keydown.Shift.Tab",["$event"]]}],handleEscape:[{type:o.A,args:["keydown.Escape",["$event"]]}]},e}(),Ns=function(){function e(e,t,n,i){this.gridAPI=e,this.gridSelection=t,this.element=n,this.cdr=i,this.defaultCssClass="igx-grid__group-row",this.paddingIndentationCssClass="igx-grid__group-row--padding-level",this.isFocused=!1,this.tabindex=0}return Object.defineProperty(e.prototype,"focused",{get:function(){return this.isFocused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expanded",{get:function(){return this.grid.isExpandedGroup(this.groupRow)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"describedBy",{get:function(){var e=void 0!==this.groupRow.expression?this.groupRow.expression.fieldName:"";return this.gridID+"_"+e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataRowIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleClasses",{get:function(){return this.defaultCssClass+" "+this.paddingIndentationCssClass+"-"+this.groupRow.level+(this.focused?" "+this.defaultCssClass+"--active":"")},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(){this.isFocused=!0},e.prototype.onBlur=function(){this.isFocused=!1},e.prototype.toggle=function(){var e=!this.grid.verticalScrollContainer.dc.instance.notVirtual,t=this.index;if(this.grid.toggleGroup(this.groupRow),e){var n=this.grid.nativeElement.querySelector('[data-rowIndex="'+t+'"]');n&&n.focus()}},Object.defineProperty(e.prototype,"selectionNode",{get:function(){return{row:this.index,column:this.gridSelection.activeElement?this.gridSelection.activeElement.column:0}},enumerable:!0,configurable:!0}),e.prototype.onKeydown=function(e){var t=e.key.toLowerCase();if(bt.has(t)){e.stopPropagation();var n={targetType:"groupRow",target:this,event:e,cancel:!1};if(this.grid.onGridKeydown.emit(n),!n.cancel&&(e.preventDefault(),this.isKeySupportedInGroupRow(t,e.shiftKey,e.altKey)&&!e.ctrlKey))if(this.isToggleKey(t,e.altKey))(this.expanded&&yt.has(t)||!this.expanded&&mt.has(t))&&this.toggle();else{var i={cell:this,groupRow:null,event:e,cancel:!1};if(this.grid._onFocusChange.emit(i),!i.cancel){var r=this.gridSelection;r.keyboardState.shift=e.shiftKey&&!("tab"===t);r.activeElement&&-1!==this.grid.columnList.filter(function(e){return!e.hidden}).map(function(e){return e.visibleIndex}).indexOf(r.activeElement.column)&&r.activeElement.column;var o=r.activeElement?Object.assign({},r.activeElement):this.selectionNode;switch(o.row=this.index,t){case"arrowdown":case"down":this.grid.navigation.navigateDown(this.nativeElement,o);break;case"arrowup":case"up":this.grid.navigation.navigateUp(this.nativeElement,o);break;case"tab":this.handleTabKey(e.shiftKey,o)}}}}},Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataType",{get:function(){var e=this.grid.getColumnByName(this.groupRow.expression.fieldName);return e&&e.dataType||Ft.String},enumerable:!0,configurable:!0}),e.prototype.handleTabKey=function(e,t){if(e)this.grid.navigation.performShiftTabKey(this.nativeElement,t);else if(this.index===this.grid.verticalScrollContainer.igxForOf.length-1&&this.grid.rootSummariesEnabled)this.grid.navigation.onKeydownHome(0,!0);else{var n=this.grid.navigation.gridOrderedColumns,i=n[n.length-1];t.column=i.columnLayoutChild?i.parent.visibleIndex:i.visibleIndex,this.grid.navigation.performTab(this.nativeElement,t)}},e.prototype.isKeySupportedInGroupRow=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),t?-1!==["down","up","arrowdown","arrowup","tab"].indexOf(e):!!this.isToggleKey(e,n)||-1!==["down","up","arrowdown","arrowup","tab"].indexOf(e)},e.prototype.isToggleKey=function(e,t){return t&&-1!==["left","right","up","down","arrowleft","arrowright","arrowup","arrowdown"].indexOf(e)},e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-grid-groupby-row",template:'<ng-container #defaultGroupRow>\n    <div (click)="toggle()" class="igx-grid__grouping-indicator">\n        <igx-icon *ngIf="!expanded" fontSet="material">expand_more</igx-icon>\n        <igx-icon *ngIf="expanded" fontSet="material">expand_less</igx-icon>\n    </div>\n\n    <div class="igx-grid__group-content" #groupContent>\n        <ng-container *ngTemplateOutlet="grid.groupRowTemplate ? grid.groupRowTemplate : defaultGroupByTemplate; context: { $implicit: groupRow }">\n        </ng-container>\n    </div>\n\n    <ng-template #defaultGroupByTemplate>\n        <div class="igx-group-label">\n            <igx-icon fontSet="material" class="igx-group-label__icon">group_work</igx-icon>\n            <span class="igx-group-label__column-name">\n            {{ groupRow.expression ? groupRow.expression.fieldName : \'\' }}:\n            </span>\n\n            <ng-container *ngIf="dataType === \'boolean\' || dataType === \'string\'; else default" >\n                <span class="igx-group-label__text">{{ groupRow.value }}</span>\n            </ng-container>\n            <ng-template #default>\n                <ng-container *ngIf="dataType === \'number\'">\n                    <span class="igx-group-label__text">{{ groupRow.value | number }}</span>\n                </ng-container>\n                <ng-container *ngIf="dataType === \'date\'">\n                    <span class="igx-group-label__text">{{ groupRow.value | date }}</span>\n                </ng-container>\n            </ng-template>\n\n            <igx-badge [value]="groupRow.records ? groupRow.records.length : 0" class=\'igx-group-label__count-badge\'></igx-badge>\n        </div>\n    </ng-template>\n</ng-container>\n'}]}],e.ctorParameters=function(){return[{type:Pt},{type:rs},{type:o.u},{type:o.k}]},e.propDecorators={isFocused:[{type:o.G}],index:[{type:o.G}],gridID:[{type:o.G}],groupRow:[{type:o.G}],groupContent:[{type:o.ob,args:["groupContent",{static:!0}]}],expanded:[{type:o.z,args:["attr.aria-expanded"]}],tabindex:[{type:o.z,args:["attr.tabindex"]}],describedBy:[{type:o.z,args:["attr.aria-describedby"]}],dataRowIndex:[{type:o.z,args:["attr.data-rowIndex"]}],styleClasses:[{type:o.z,args:["class"]}],onFocus:[{type:o.A,args:["focus"]}],onBlur:[{type:o.A,args:["blur"]}],onKeydown:[{type:o.A,args:["keydown",["$event"]]}]},e}(),Ws="left",Ys="right",Us=function(){function e(){}return Object.defineProperty(e.prototype,"displayContainerWidth",{get:function(){return Math.round(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayContainerScrollLeft",{get:function(){return Math.ceil(this.grid.parentVirtDir.getHorizontalScroll().scrollLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalDisplayContainerElement",{get:function(){return this.grid.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.horizontalScroll=function(e){var t=this.grid.dataRowList.find(function(t){return t.index===e})||this.grid.dataRowList.first;return t||(t=this.grid.summariesRowList.find(function(t){return t.index===e})),t.virtDirRow},e.prototype.getColumnUnpinnedIndex=function(e){var t=this.grid.unpinnedColumns.find(function(t){return!t.columnGroup&&t.visibleIndex===e});return this.grid.pinnedColumns.length?this.grid.unpinnedColumns.filter(function(e){return!e.columnGroup}).indexOf(t):e},e.prototype.isColumnFullyVisible=function(e){return this.isColumnRightEdgeVisible(e)&&this.isColumnLeftEdgeVisible(e)},e.prototype.isColumnRightEdgeVisible=function(e){var t=this.forOfDir();if(this.isColumnPinned(e,t))return!0;var n=this.getColumnUnpinnedIndex(e);return this.displayContainerWidth>=t.getColumnScrollLeft(n+1)-this.displayContainerScrollLeft},e.prototype.isColumnLeftEdgeVisible=function(e){var t=this.forOfDir();if(this.isColumnPinned(e,t))return!0;var n=this.getColumnUnpinnedIndex(e);return this.displayContainerScrollLeft<=t.getColumnScrollLeft(n)},e.prototype.forOfDir=function(){return this.grid.dataRowList.length>0?this.grid.dataRowList.first.virtDirRow:this.grid.headerContainer},e.prototype.isColumnPinned=function(e,t){var n=t.getHorizontalScroll(),i=this.grid.columnList.filter(function(e){return!e.columnGroup}).find(function(t){return t.visibleIndex===e});return!n.clientWidth||i.pinned},Object.defineProperty(e.prototype,"gridOrderedColumns",{get:function(){return Object(r.i)(this.grid.pinnedColumns,this.grid.unpinnedColumns).filter(function(e){return!e.columnGroup})},enumerable:!0,configurable:!0}),e.prototype.isRowInEditMode=function(e){return this.grid.rowEditable&&this.grid.rowInEditMode&&this.grid.rowInEditMode.index===e},e.prototype.findNextEditable=function(e,t){var n=this.gridOrderedColumns,i=t,r=0,o=0,a=-1;e===Ws?(r=0,o=-1):e===Ys&&(r=n.length-1,o=1);for(var s=i;s*o<=r;s+=o){if(n[s].editable){a=s;break}}return a},e.prototype.getCellElementByVisibleIndex=function(e,t,n){void 0===n&&(n=!1);var i=this.getCellSelector(t,n);return this.grid.nativeElement.querySelector(i+'[data-rowindex="'+e+'"][data-visibleIndex="'+t+'"]')},e.prototype.onKeydownArrowRight=function(e,t){var n=t.row,i=t.column,r=t.isSummaryRow;this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex!==i&&(this.isColumnRightEdgeVisible(i+1)?e.classList.contains("igx-grid__td--pinned-last")||e.classList.contains("igx-grid-summary--pinned-last")?this.isColumnLeftEdgeVisible(i+1)?e.nextElementSibling.firstElementChild.focus({preventScroll:!0}):(this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.parentVirtDir.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){e.nextElementSibling.firstElementChild.focus({preventScroll:!0})}),this.horizontalScroll(n).scrollTo(0)):e.nextElementSibling.focus({preventScroll:!0}):this.performHorizontalScrollToCell(n,i+1,r))},e.prototype.onKeydownArrowLeft=function(e,t){var n=t.row,i=t.column,r=t.isSummaryRow;if(0!==i){var o=this.getColumnUnpinnedIndex(i-1);!e.previousElementSibling&&this.grid.pinnedColumns.length&&-1===o?e.parentNode.previousElementSibling.focus({preventScroll:!0}):this.isColumnLeftEdgeVisible(i-1)?e.previousElementSibling.focus({preventScroll:!0}):this.performHorizontalScrollToCell(n,i-1,r)}},e.prototype.movePreviousEditable=function(e,t){var n=this.findNextEditable(Ws,t-1);if(-1===n&&this.grid.rowEditTabs.length)return this.grid.gridAPI.submit_value(),void this.grid.rowEditTabs.last.element.nativeElement.focus();this.focusEditableTarget(e,n)},e.prototype.moveNextEditable=function(e,t){var n=this.findNextEditable(Ys,t+1);if(-1===n&&this.grid.rowEditTabs.length)return this.grid.gridAPI.submit_value(),void this.grid.rowEditTabs.first.element.nativeElement.focus();this.focusEditableTarget(e,n)},e.prototype.focusEditableTarget=function(e,t){this.isColumnFullyVisible(t)?this.getCellElementByVisibleIndex(e,t).focus():this.performHorizontalScrollToCell(e,t)},e.prototype.onKeydownHome=function(e,t){void 0===t&&(t=!1);var n=(t?this.grid.summariesRowList:this.grid.dataRowList).find(function(t){return t.index===e}),i=this.getCellSelector(0,t);if(n){var r=(n=n.nativeElement).querySelector(i);this.grid.pinnedColumns.length||0===this.displayContainerScrollLeft?r.focus({preventScroll:!0}):(this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.parentVirtDir.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){(r=n.querySelector(i)).focus({preventScroll:!0})}),this.horizontalScroll(e).scrollTo(0))}},e.prototype.onKeydownEnd=function(e,t){var n=this;void 0===t&&(t=!1);var i=this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex,r=(t?this.grid.summariesRowList:this.grid.dataRowList).find(function(t){return t.index===e});if(r)if(r=r.nativeElement,this.isColumnRightEdgeVisible(i)){var o=r.querySelectorAll(this.getCellSelector(-1,t));o[o.length-1].focus({preventScroll:!0})}else this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.parentVirtDir.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){var e=r.querySelectorAll(n.getCellSelector(-1,t));e[e.length-1].focus({preventScroll:!0})}),this.horizontalScroll(e).scrollTo(this.getColumnUnpinnedIndex(i))},e.prototype.navigateTop=function(e){var t=this,n=this.grid.verticalScrollContainer.getVerticalScroll(),i=this.getCellSelector(e);0===n.scrollTop?this.grid.nativeElement.querySelectorAll(i+'[data-visibleIndex="'+e+'"]')[0].focus():(this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.scrollTo(0),this.grid.verticalScrollContainer.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){var n=t.grid.nativeElement.querySelectorAll(i+'[data-visibleIndex="'+e+'"]');n.length>0&&n[0].focus()}))},e.prototype.navigateBottom=function(e){var t=this,n=this.grid.verticalScrollContainer.getVerticalScroll(),i=this.getCellSelector(e);if(0===n.scrollHeight||n.scrollTop===n.scrollHeight-this.grid.verticalScrollContainer.igxForContainerSize){var r=this.grid.nativeElement.querySelectorAll(i+'[data-visibleIndex="'+e+'"]');r[r.length-1].focus()}else this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.scrollTo(this.grid.verticalScrollContainer.igxForOf.length-1),this.grid.verticalScrollContainer.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){var n=t.grid.nativeElement.querySelectorAll(i+'[data-visibleIndex="'+e+'"]');n.length>0&&n[n.length-1].focus()})},e.prototype.navigateUp=function(e,t){var n=this,i=t.row,r=t.column;if(0!==i){var o=parseInt(this.verticalDisplayContainerElement.style.top,10);!e.previousElementSibling||e.previousElementSibling.offsetTop<Math.abs(o)?(this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.scrollTo(i-1),this.grid.verticalScrollContainer.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){var t=e.tagName.toLowerCase(),o=n.getRowSelector();e=t===o||"igx-grid-summary-row"===t?n.getRowByIndex(i,t):n.grid.nativeElement.querySelector('igx-grid-groupby-row[data-rowindex="'+i+'"]'),n.focusPreviousElement(e,r)})):this.focusPreviousElement(e,r)}},e.prototype.focusPreviousElement=function(e,t){this.focusElem(e.previousElementSibling,t)},e.prototype.navigateDown=function(e,t){var n=this,i=t.row,r=t.column;if(i!==this.grid.verticalScrollContainer.igxForOf.length-1&&(0!==i||"igx-grid-summary-row"!==e.tagName.toLowerCase())){var o=this.grid.verticalScrollContainer.getSizeAt(i+1),a=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,s=e.nextElementSibling?e.nextElementSibling.offsetTop+o+parseInt(this.verticalDisplayContainerElement.style.top,10):a+o;if(this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),a&&a<s){var l=i+1;this.grid.verticalScrollContainer.scrollTo(l),this.grid.verticalScrollContainer.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){e=n.getNextRowByIndex(l),n.focusElem(e,r)})}else this.focusNextElement(e,r)}},e.prototype.focusElem=function(e,t){if("igx-grid-groupby-row"===e.tagName.toLowerCase())e.focus();else{var n="igx-grid-summary-row"===e.tagName.toLowerCase();if(this.isColumnFullyVisible(t)){var i=this.getCellSelector(t,n),r=e.querySelector(i+'[data-visibleIndex="'+t+'"]');return r.focus(),r}this.performHorizontalScrollToCell(parseInt(e.getAttribute("data-rowindex"),10),t,n)}},e.prototype.focusNextElement=function(e,t){return this.focusElem(e.nextElementSibling,t)},e.prototype.goToFirstCell=function(){var e=this,t=this.grid.verticalScrollContainer.getVerticalScroll(),n=this.grid.dataRowList.first.virtDirRow.getHorizontalScroll();0===t.scrollTop?this.onKeydownHome(this.grid.dataRowList.first.index):!n.clientWidth||parseInt(n.scrollLeft,10)<=1||this.grid.pinnedColumns.length?this.navigateTop(0):(this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.horizontalScroll(this.grid.dataRowList.first.index).scrollTo(0),this.grid.parentVirtDir.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){e.navigateTop(0)}))},e.prototype.goToLastCell=function(){var e=this,t=this.grid.verticalScrollContainer.getVerticalScroll();if(0===t.scrollHeight||t.scrollTop===t.scrollHeight-this.grid.verticalScrollContainer.igxForContainerSize){var n=this.getAllRows(),i=parseInt(n[n.length-1].getAttribute("data-rowIndex"),10);this.onKeydownEnd(i)}else this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.scrollTo(this.grid.verticalScrollContainer.igxForOf.length-1),this.grid.verticalScrollContainer.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){var t=e.getAllRows();if(t.length>0){var n=parseInt(t[t.length-1].getAttribute("data-rowIndex"),10);e.onKeydownEnd(n)}})},e.prototype.goToLastBodyElement=function(){var e=this,t=this.grid.verticalScrollContainer.getVerticalScroll();if(0===t.scrollHeight||t.scrollTop===t.scrollHeight-this.grid.verticalScrollContainer.igxForContainerSize){var n=this.grid.verticalScrollContainer.igxForOf.length-1,i=this.grid.nativeElement.querySelector('[data-rowindex="'+n+'"]');if(i&&"igx-grid-groupby-row"===i.tagName.toLowerCase())return void i.focus();var r=!(!i||"igx-grid-summary-row"!==i.tagName.toLowerCase());this.onKeydownEnd(n,r)}else this.grid.verticalScrollContainer.scrollTo(this.grid.verticalScrollContainer.igxForOf.length-1),this.grid.verticalScrollContainer.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){var t=e.grid.verticalScrollContainer.igxForOf.length-1,n=e.grid.nativeElement.querySelector('[data-rowindex="'+t+'"]');if(n&&"igx-grid-groupby-row"===n.tagName.toLowerCase())n.focus();else{var i=!(!n||"igx-grid-summary-row"!==n.tagName.toLowerCase());e.onKeydownEnd(t,i)}})},e.prototype.performTab=function(e,t){var n=t.row,i=t.column,r=t.isSummaryRow;if(!r||0!==n||this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex!==i)if(this.isRowInEditMode(n))this.moveNextEditable(n,i);else if(this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex===i){var o=this.grid.rowList.find(function(e){return e.index===n+1})?this.grid.rowList.find(function(e){return e.index===n+1}):this.grid.summariesRowList.find(function(e){return e.index===n+1});if(n===this.grid.verticalScrollContainer.igxForOf.length-1&&this.grid.rootSummariesEnabled)return void this.onKeydownHome(0,!0);o&&this.navigateDown(e,{row:n,column:0})}else{var a=this.getCellElementByVisibleIndex(n,i,r);a&&this.onKeydownArrowRight(a,t)}},e.prototype.moveFocusToFilterCell=function(e){if(this.grid.filteringService.isFilterRowVisible)this.grid.filteringService.focusFilterRowCloseButton();else{var t=this.grid.filteringService.unpinnedFilterableColumns,n=e?0:t.length-1,i=t[n].visibleIndex;(e?this.isColumnLeftEdgeVisible(i):this.isColumnRightEdgeVisible(i))?this.grid.filteringService.focusFilterCellChip(t[n],!1):this.grid.filteringService.scrollToFilterCell(t[n],!1)}},e.prototype.navigatePrevFilterCell=function(e,t){var n=this.grid.filteringService.unpinnedFilterableColumns,i=n.indexOf(e)-1,r=e.visibleIndex;if(0===r||i<0){var o=this.getFirstPinnedFilterableColumn();o&&e!==o||t.preventDefault()}else{var a=n[i],s=a.visibleIndex;i>=0&&r>0&&!this.isColumnLeftEdgeVisible(s)&&!e.pinned&&(t.preventDefault(),this.grid.filteringService.scrollToFilterCell(a,!1))}},e.prototype.navigateFirstCellIfPossible=function(e){if(this.grid.rowList.length>0){if(this.grid.rowList.filter(function(e){return e instanceof Ns}).length>0)return void e.stopPropagation();this.goToFirstCell()}else this.grid.rootSummariesEnabled&&this.onKeydownHome(0,!0);e.preventDefault()},e.prototype.navigateNextFilterCell=function(e,t){var n=this.grid.filteringService.unpinnedFilterableColumns,i=n.indexOf(e)+1;if(i>=this.grid.filteringService.unpinnedFilterableColumns.length)this.navigateFirstCellIfPossible(t);else{var r=n[i],o=r.visibleIndex;e.pinned||this.isColumnRightEdgeVisible(o)?e!==this.getLastPinnedFilterableColumn()||this.isColumnRightEdgeVisible(o)||(this.grid.filteringService.scrollToFilterCell(r,!1),t.stopPropagation()):(t.preventDefault(),this.grid.filteringService.scrollToFilterCell(r,!0))}},e.prototype.getLastPinnedFilterableColumn=function(){var e=this.grid.pinnedColumns.filter(function(e){return!e.columnGroup&&e.filterable});return e[e.length-1]},e.prototype.getFirstPinnedFilterableColumn=function(){return this.grid.pinnedColumns.filter(function(e){return!e.columnGroup&&e.filterable})[0]},e.prototype.performShiftTabKey=function(e,t){var n=t.row,i=t.column,r=t.isSummaryRow;if(r&&0===n&&0===i&&this.grid.rowList.length)this.goToLastBodyElement();else if(this.isRowInEditMode(n))this.movePreviousEditable(n,i);else if(0===i)0===n&&this.grid.allowFiltering&&this.grid.filterMode===Dl.quickFilter?this.moveFocusToFilterCell():this.navigateUp(e,{row:n,column:this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex});else{var o=this.getCellElementByVisibleIndex(n,i,r);o&&this.onKeydownArrowLeft(o,t)}},e.prototype.shouldPerformVerticalScroll=function(e,t){var n=parseInt(this.verticalDisplayContainerElement.style.top,10),i=this.grid.summariesRowList.filter(function(e){return 0!==e.index}).concat(this.grid.rowList.toArray()).find(function(t){return t.index===e}),r=this.grid.verticalScrollContainer.getSizeAt(e),o=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,a=i?i.nativeElement.offsetTop+r+n:o+r;return!!(!i||i.nativeElement.offsetTop<Math.abs(n)||o&&o<a)},e.prototype.performVerticalScrollToCell=function(e,t,n){this.grid.verticalScrollContainer.scrollTo(e),this.grid.verticalScrollContainer.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){n()})},e.prototype.performHorizontalScrollToCell=function(e,t,n,i){var r=this;void 0===n&&(n=!1);var o=this.getColumnUnpinnedIndex(t);this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),this.grid.parentVirtDir.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){if(i)i();else{var o=r.getCellElementByVisibleIndex(e,t,n);o&&o.focus({preventScroll:!0})}}),this.horizontalScroll(e).scrollTo(o)},e.prototype.getFocusableGrid=function(){return this.grid},e.prototype.getRowByIndex=function(e,t){return void 0===t&&(t=this.getRowSelector()),this.grid.nativeElement.querySelector(t+'[data-rowindex="'+e+'"]')},e.prototype.getNextRowByIndex=function(e){return this.grid.tbody.nativeElement.querySelector('[data-rowindex="'+e+'"]')},e.prototype.getAllRows=function(){var e=this.getRowSelector();return this.grid.nativeElement.querySelectorAll(e)},e.prototype.getCellSelector=function(e,t){return void 0===t&&(t=!1),t?"igx-grid-summary-cell":"igx-grid-cell"},e.prototype.getRowSelector=function(){return"igx-grid-row"},e.decorators=[{type:o.D}],e}(),Ks=[{name:"add_filter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M19 15v-3h-2v3h-3v2h3v3h2v-3h3v-2h-3zM5 10h10v2H5zM2 5h16v2H2zM8 15h4v2H8z"/>\n      </svg>'},{name:"contains",value:'<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24">\n        <path d="M3 3v18h18V3zm16 16H5V5h14z"/>\n        <path d="M12 11.3a4.39 4.39 0 0 0-2.54.63 2.07 2.07 0 0 0-.9 1.78 2.29 2.29 0 0 0 .66 1.74 2.63 2.63 0 0 0 1.89.63 2.39 2.39 0 0 0 1.32-.37 3.05 3.05 0 0 0 1-.93 3.72 3.72 0 0 0 .08.57c0 .19.1.38.16.58h1.79a4.51 4.51 0 0 1-.21-.88 5.57 5.57 0 0 1-.07-.93v-3.5a2.44 2.44 0 0 0-.84-2 3.34 3.34 0 0 0-2.22-.7 3.54 3.54 0 0 0-2.3.72A1.93 1.93 0 0 0 9 10.29h1.71a.93.93 0 0 1 .29-.71 1.5 1.5 0 0 1 1-.29 1.45 1.45 0 0 1 1 .35 1.3 1.3 0 0 1 .37 1v.69zm1.4 1.08v1.17a1.61 1.61 0 0 1-.71.77 2.27 2.27 0 0 1-1.21.34 1.18 1.18 0 0 1-.84-.27.92.92 0 0 1-.3-.72 1.16 1.16 0 0 1 .44-.9 1.76 1.76 0 0 1 1.22-.39z"/>\n      </svg>'},{name:"does_not_contain",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M21,19.74V3H4.26L2.89,1.63,1.63,2.92,3,4.29V21H19.73l1.37,1.37,1.27-1.26ZM5,19V6.28l5.28,5.27a3.19,3.19,0,0,0-.81.38,2.07,2.07,0,0,0-.9,1.78,2.29,2.29,0,0,0,.66,1.74,2.63,2.63,0,0,0,1.89.63,2.39,2.39,0,0,0,1.32-.37,3.05,3.05,0,0,0,1-.93,3.72,3.72,0,0,0,.08.57c0,.19.1.38.16.58h1L17.73,19Zm5.79-6.23a1.31,1.31,0,0,1,.45-.25l1.37,1.36.28.29a1.57,1.57,0,0,1-.19.15,2.27,2.27,0,0,1-1.21.34,1.18,1.18,0,0,1-.84-.27.92.92,0,0,1-.3-.72A1.16,1.16,0,0,1,10.79,12.77Zm2.6-1.47h-.83L10.94,9.68l.08-.1a1.5,1.5,0,0,1,1-.29,1.45,1.45,0,0,1,1,.35,1.3,1.3,0,0,1,.37,1ZM19,17.74l-3.85-3.85V10.62a2.44,2.44,0,0,0-.84-2,3.34,3.34,0,0,0-2.22-.7,3.64,3.64,0,0,0-2.24.67L6.26,5H19Z"/>\n    </svg>'},{name:"all",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M2 14h8v2H2zM2 6h12v2H2zM16 17l-3-3-1.5 1.5L16 20l7-7-1.5-1.5L16 17zM2 10h12v2H2z"/>\n      </svg>\n      '},{name:"empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5 17h2v2H5zM13 17h2v2h-2zM5 13h2v2H5zM17 17h2v2h-2zM13 5h2v2h-2zM9 17h2v2H9zM17 9h2v2h-2zM17 13h2v2h-2zM17 5h2v2h-2zM5 9h2v2H5zM5 5h2v2H5zM9 5h2v2H9z"/>\n      </svg>'},{name:"end_expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M13.14 6.76L17.49 12l-4.35 5.24 1.54 1.28L20.09 12l-5.41-6.52-1.54 1.28z"/>\n        <path d="M11.91 11h2v2h-2zM7.91 11h2v2h-2zM3.91 11h2v2h-2z"/>\n      </svg>'},{name:"ends_with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M3 14.5h2v2H3zM11 14.5h2v2h-2zM7 14.5h2v2H7zM20.8 14.8v-3A2.1 2.1 0 0 0 20 10a3 3 0 0 0-2-.6 3 3 0 0 0-2 .6 1.7 1.7 0 0 0-.7 1.5h1.5a.8.8 0 0 1 .3-.7 1.3 1.3 0 0 1 .9-.3 1.3 1.3 0 0 1 .9.4 1.1 1.1 0 0 1 .3.8v.6H18a3.8 3.8 0 0 0-2.2.6 1.8 1.8 0 0 0-.8 1.5 2 2 0 0 0 .6 1.6 2.3 2.3 0 0 0 1.6.6 2.1 2.1 0 0 0 1.2-.4 2.8 2.8 0 0 0 .8-.8 4.3 4.3 0 0 0 .1.5l.1.5H21a4.1 4.1 0 0 1-.2-.7 5.4 5.4 0 0 1 0-1zm-1.6-.5a1.5 1.5 0 0 1-.6.7 2 2 0 0 1-1 .2 1.1 1.1 0 0 1-.8-.2.8.8 0 0 1-.2-.6 1 1 0 0 1 .3-.8 1.5 1.5 0 0 1 1.1-.3h1.2z"/>\n      </svg>'},{name:"equals",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5 13.5h14v2H5zM5 8.5h14v2H5z"/>\n      </svg>'},{name:"greater_than_or_equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5.99 19h12.02v2H5.99zM18 9.47L6 3v2.11L15.09 10 6 14.9v2.11l12-6.47V9.47z"/>\n      </svg>'},{name:"greater_than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M6 7.11L15.09 12 6 16.89V19l12-6.46v-1.08L6 5v2.11z"/>\n      </svg>\n      '},{name:"is_after",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M15 7h4v10h-4v2h6V5h-6v2zM11 3h2v18h-2zM7 5h2v2H7zM3 5h2v2H3zM3 17h2v2H3zM3 13h2v2H3zM3 9h2v2H3zM7 17h2v2H7z"/>\n      </svg>'},{name:"is_before",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M3 19h6v-2H5V7h4V5H3v14zM11 3h2v18h-2zM15 5h2v2h-2zM19 5h2v2h-2zM19 13h2v2h-2zM15 17h2v2h-2zM19 17h2v2h-2zM19 9h2v2h-2z"/>\n      </svg>'},{name:"is_false",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M8 5a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm4.31 9.79l-1.52 1.52L8 13.52l-2.79 2.79-1.52-1.52L6.48 12 3.69 9.21l1.52-1.52L8 10.48l2.79-2.79 1.52 1.52L9.52 12zM18 7a5 5 0 0 0-3 1.06 7.48 7.48 0 0 1 .49 1 3.89 3.89 0 1 1 0 5.82 8.08 8.08 0 0 1-.49 1A5 5 0 1 0 18 7z"/>\n        <path d="M17.52 13.85l2.91-2.92-.78-.78-2.13 2.12-1.17-1.15-.38.37-.41.41.42.42L17 13.34l.52.51z"/>\n      </svg>'},{name:"is_not_null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M16.58 6.07l.79-1.36-1.74-1-.78 1.35a7.5 7.5 0 0 0-7.43 12.87l-.79 1.36 1.74 1 .78-1.35a7.5 7.5 0 0 0 7.43-12.87zM6.5 12A5.5 5.5 0 0 1 12 6.5a5.65 5.65 0 0 1 1.84.32l-5.41 9.36A5.49 5.49 0 0 1 6.5 12zm5.5 5.5a5.65 5.65 0 0 1-1.84-.32l5.41-9.36A5.5 5.5 0 0 1 12 17.5z"/>\n      </svg>'},{name:"is_null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M12 4.5a7.5 7.5 0 1 0 7.5 7.5A7.5 7.5 0 0 0 12 4.5zm0 13a5.5 5.5 0 1 1 5.5-5.5 5.5 5.5 0 0 1-5.5 5.5z"/>\n      </svg>'},{name:"is_true",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M19.44 14.22zM16.56 14.22zM16.56 14.22L18 12.79l1.44 1.43.78-.78L18.79 12l1.43-1.44-.78-.78L18 11.21l-1.44-1.43-.78.78L17.21 12l-1.43 1.44.78.78z"/>\n        <path d="M18 7a5 5 0 0 0-3 1.06 7.48 7.48 0 0 1 .49 1 3.89 3.89 0 1 1 0 5.82 8.08 8.08 0 0 1-.49 1A5 5 0 1 0 18 7zM8 5a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm-.93 10.18l-3.38-3.37 1.13-1.12 2.25 2.25 4.11-4.12 1.13 1.12z"/>\n      </svg>'},{name:"last_month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M17.5 14a4.48 4.48 0 1 0 4.5 4.5 4.47 4.47 0 0 0-4.5-4.5zm3.5 5.5h-4v2l-3-3 3-3v2h4zM5 9h2v2H5zM5 13h2v2H5zM10 13h2v2h-2zM5 17h2v2H5zM10 17h2v2h-2zM10 9h2v2h-2zM15 9h2v2h-2z"/>\n        <path d="M4 8h14v4h2V5a2 2 0 0 0-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h7v-2H4z"/>\n      </svg>'},{name:"last_year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M21 10v11H7v2h14a2 2 0 0 0 2-2V10z"/>\n        <path d="M19 17V5a2 2 0 0 0-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM3 17V7h14v10H3z"/>\n        <path d="M8.87 9l-2.99 3 2.99 3v-2.25h5.26v-1.5H8.87V9z"/>\n      </svg>'},{name:"less_than_or_equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5.99 19h12.02v2H5.99zM18 14.9L8.91 10 18 5.11V3L6 9.47v1.07l12 6.47V14.9z"/>\n      </svg>'},{name:"less_than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M6 12.54L18 19v-2.11L8.91 12 18 7.11V5L6 11.46v1.08z"/>\n      </svg>'},{name:"next_month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M20 14.76a4.5 4.5 0 1 0 2 3.74 4.47 4.47 0 0 0-2-3.74zm-2 6.74v-2h-4v-2h4v-2l3 3zM5 9h2v2H5zM5 13h2v2H5zM10 13h2v2h-2zM5 17h2v2H5zM10 17h2v2h-2zM10 9h2v2h-2zM15 9h2v2h-2z"/>\n        <path d="M4 8h14v4h2V5a2 2 0 0 0-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h7v-2H4z"/>\n      </svg>'},{name:"next_year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M21 21H7v2h14a2 2 0 0 0 2-2V10h-2z"/>\n        <path d="M19 17V5a2 2 0 0 0-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM3 17V7h14v10H3z"/>\n        <path d="M11.13 11.25H5.88v1.5h5.25V15l3-3-3-3v2.25z"/>\n      </svg>'},{name:"not_empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M5 9h2v2H5zM9 17h2v2H9zM13 17h2v2h-2zM17 9h2v2h-2zM17 5h2v2h-2zM5 17h2v2H5zM13 5h2v2h-2zM5 13h2v2H5zM19 15v-2h-2v.47L18.53 15H19zM11 7V5H9v.46L10.54 7H11zM2.76 1.76L1.5 3.06 20.97 22.5l1.26-1.26-8.89-8.89L2.76 1.76z"/>\n      </svg>'},{name:"not_equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M17.37 4.71l-1.74-1-2.76 4.79H5v2h6.71l-1.73 3H5v2h3.82l-2.19 3.79 1.74 1 2.76-4.79H19v-2h-6.71l1.73-3H19v-2h-3.82l2.19-3.79z"/>\n      </svg>'},{name:"start_expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M18.1 11h2v2h-2zM10.1 11h2v2h-2z"/>\n        <path d="M10.9 6.8L9.3 5.5 4 12l5.4 6.5 1.6-1.3L6.5 12 11 6.8zM14.1 11h2v2h-2z"/>\n      </svg>'},{name:"starts_with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path fill="none" d="M4.97 13.23h3.06L6.5 9.12l-1.53 4.11z"/>\n        <path d="M5.89 7.5L2 16.5h1.72l.73-1.8h4.1l.73 1.8H11l-3.89-9zM5 13.23l1.5-4.11L8 13.23zM12 14.5h2v2h-2zM20 14.5h2v2h-2zM16 14.5h2v2h-2z"/>\n      </svg>'},{name:"this_month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M6 9h2v2H6zM6 13h2v2H6zM11 13h2v2h-2zM6 17h2v2H6zM11 17h2v2h-2zM11 9h2v2h-2zM16 9h2v2h-2zM21 14.76a4.5 4.5 0 1 0 2 3.74 4.47 4.47 0 0 0-2-3.74zm-2.94 5.41l-1.75-1.76.69-.71 1.05 1L20 16.83l.71.71z"/>\n        <path d="M5 8h14v4h2V5a2 2 0 0 0-2-2h-1V1h-2v2H8V1H6v2H5a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h7v-2H5z"/>\n      </svg>'},{name:"this_year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M21 21H7v2h14a2 2 0 0 0 2-2V10h-2z"/>\n        <path d="M19 17V5a2 2 0 0 0-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zM3 17V7h14v10H3z"/>\n        <path d="M8.85 13.15l-1.77-1.77-.88.89 2.65 2.65 4.95-4.96-.88-.88-4.07 4.07z"/>\n      </svg>'},{name:"today",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 16H5V9h14z"/>\n        <path d="M16.53 12.06L15.47 11l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 18l5.94-5.94z"/>\n      </svg>'},{name:"ungroup",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M15 15h5v5h-5zM6 13h5v5H6zM13 6h5v5h-5zM6 6h5v5H6z"/>\n        <path d="M20 2H4a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h9v-2H4V4h16v9h2V4a2 2 0 0 0-2-2z"/>\n      </svg>'},{name:"yesterday",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M10.68 15.38h6.13v-1.75h-6.13V11l-3.49 3.5 3.49 3.5v-2.62z"/>\n        <path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 16H5V9h14z"/>\n      </svg>'},{name:"pin",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path d="M15.18 2.25l7.07 7.07-2.83-.01-3.54 3.55.01 4.24-3.53-3.54-5.66 5.66H5.28V17.8l5.66-5.66L7.4 8.61l4.24.01 3.55-3.54-.01-2.83z"/>\n      </svg>'},{name:"unpin",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n        <path fill="none" d="M0 0h24v25H0V0z"/>\n        <path d="M11.84 14.08L6.7 19.22H5.28V17.8l5.14-5.14L2 4.26 3.29 3l18 18L20 22.21zm4-.49l-5-5h.73l3.55-3.54v-2.8l7.07 7.07h-2.77l-3.54 3.54z" />\n      </svg>'}],$s=function(){return function(){this.isSelected=!1,this.isVisible=!0}}(),Xs=function(){function e(e,t){this.gridAPI=e,this.iconService=t,this.columnsWithComplexFilter=new Set,this.areEventsSubscribed=!1,this.destroy$=new E.a,this.isFiltering=!1,this.columnToExpressionsMap=new Map,this.columnStartIndex=-1,this.isFilterRowVisible=!1,this.filteredColumn=null,this.selectedExpression=null,this.columnToFocus=null,this.shouldFocusNext=!1,this.columnToMoreIconHidden=new Map}return e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},Object.defineProperty(e.prototype,"displayContainerWidth",{get:function(){return parseInt(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayContainerScrollLeft",{get:function(){return parseInt(this.grid.parentVirtDir.getHorizontalScroll().scrollLeft,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"areAllColumnsInView",{get:function(){return 0===parseInt(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unpinnedFilterableColumns",{get:function(){return this.grid.unpinnedColumns.filter(function(e){return!e.columnGroup&&e.filterable})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unpinnedColumns",{get:function(){return this.grid.unpinnedColumns.filter(function(e){return!e.columnGroup})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"datePipe",{get:function(){return this._datePipe||(this._datePipe=new vs(this.grid.locale)),this._datePipe},enumerable:!0,configurable:!0}),e.prototype.subscribeToEvents=function(){var e=this;this.areEventsSubscribed||(this.areEventsSubscribed=!0,this.grid.onColumnResized.pipe(Object(H.a)(this.destroy$)).subscribe(function(t){e.updateFilteringCell(t.column)}),this.grid.parentVirtDir.onChunkLoad.pipe(Object(H.a)(this.destroy$)).subscribe(function(t){t.startIndex!==e.columnStartIndex&&(e.columnStartIndex=t.startIndex,e.grid.filterCellList.forEach(function(e){e.updateFilterCellArea()})),e.columnToFocus&&(e.focusFilterCellChip(e.columnToFocus,!1),e.columnToFocus=null)}),this.grid.onColumnMovingEnd.pipe(Object(H.a)(this.destroy$)).subscribe(function(){e.grid.filterCellList.forEach(function(e){e.updateFilterCellArea()})}),this.grid.onColumnVisibilityChanged.pipe(Object(H.a)(this.destroy$)).subscribe(function(t){e.grid.filteringRow&&e.grid.filteringRow.column===t.column&&e.grid.filteringRow.close()}))},e.prototype.filterInternal=function(e,t){var n;void 0===t&&(t=null),this.isFiltering=!0,0===(n=t instanceof Dt?t:this.createSimpleFilteringTree(e,t)).filteringOperands.length?this.clearFilter(e):this.filter(e,null,n),this.isFiltering=!1},e.prototype.filter=function(e,t,n,i){var r=this,o=this.gridAPI.get_column_by_name(e),a=i||!!o&&o.filteringIgnoreCase;if(n)this.gridAPI.filter(e,t,n,a);else{var s=this.grid.filteringExpressionsTree.find(e);if(!s)throw new Error("Invalid condition or Expression Tree!");if(s instanceof Dt)this.gridAPI.filter(e,t,s,a);else{var l=s;this.gridAPI.filter(e,t,l.condition,a)}}requestAnimationFrame(function(){return r.grid.onFilteringDone.emit(o.filteringExpressionsTree)})},e.prototype.clearFilter=function(e){var t=this;if(e&&!this.gridAPI.get_column_by_name(e))return;(this.isFiltering=!0,this.gridAPI.clear_filter(e),requestAnimationFrame(function(){return t.grid.onFilteringDone.emit(null)}),e)&&(this.getExpressions(e).length=0);this.isFiltering=!1},e.prototype.filterGlobal=function(e,t,n){var i=this;this.gridAPI.filter_global(e,t,n),requestAnimationFrame(function(){return i.grid.onFilteringDone.emit(i.grid.filteringExpressionsTree)})},e.prototype.registerSVGIcons=function(){var e,t;try{for(var n=Object(r.j)(Ks),i=n.next();!i.done;i=n.next()){var o=i.value;this.iconService.isSvgIconCached(o.name,"filtering-icons")||this.iconService.addSvgIconFromText(o.name,o.value,"filtering-icons")}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.getExpressions=function(e){if(!this.columnToExpressionsMap.has(e)){var t=this.grid.columns.find(function(t){return t.field===e}),n=new Array;return t&&(this.generateExpressionsList(t.filteringExpressionsTree,this.grid.filteringExpressionsTree.operator,n),this.columnToExpressionsMap.set(e,n)),n}return this.columnToExpressionsMap.get(e)},e.prototype.refreshExpressions=function(){var e=this;this.isFiltering||(this.columnsWithComplexFilter.clear(),this.columnToExpressionsMap.forEach(function(t,n){var i=e.grid.columns.find(function(e){return e.field===n});i?(t.length=0,e.generateExpressionsList(i.filteringExpressionsTree,e.grid.filteringExpressionsTree.operator,t),e.isFilteringTreeComplex(i.filteringExpressionsTree)&&e.columnsWithComplexFilter.add(n),e.updateFilteringCell(i)):e.columnToExpressionsMap.delete(n)}))},e.prototype.removeExpression=function(e,t){var n=this.getExpressions(e);0===t&&n.length>1?n[1].beforeOperator=null:t===n.length-1?n[t-1].afterOperator=null:(n[t-1].afterOperator=n[t+1].beforeOperator,n[0].beforeOperator=null,n[n.length-1].afterOperator=null),n.splice(t,1)},e.prototype.createSimpleFilteringTree=function(e,t){void 0===t&&(t=null);for(var n,i,r=t||this.getExpressions(e),o=new Dt(Et.Or,e),a=0;a<r.length;a++)(i=r[a]).expression.condition.isUnary||null!==i.expression.searchVal?void 0!==i.beforeOperator&&null!==i.beforeOperator&&i.beforeOperator!==Et.Or||i.afterOperator!==Et.And?i.beforeOperator===Et.And?n.filteringOperands.push(i.expression):(o.filteringOperands.push(i.expression),n=null):(n=new Dt(Et.And,e),o.filteringOperands.push(n),n.filteringOperands.push(i.expression)):i.afterOperator!==Et.And||n||(n=new Dt(Et.And,e),o.filteringOperands.push(n));return o},e.prototype.isFilterComplex=function(e){if(this.columnsWithComplexFilter.has(e))return!0;var t=this.grid.columns.find(function(t){return t.field===e}),n=t&&this.isFilteringTreeComplex(t.filteringExpressionsTree);return n&&this.columnsWithComplexFilter.add(e),n},e.prototype.getOperatorAsString=function(e){return 0===e?this.grid.resourceStrings.igx_grid_filter_operator_and:this.grid.resourceStrings.igx_grid_filter_operator_or},e.prototype.getChipLabel=function(e){return e.condition.isUnary?this.grid.resourceStrings["igx_grid_filter_"+e.condition.name]||e.condition.name:e.searchVal instanceof Date?this.datePipe.transform(e.searchVal,this.grid.locale):e.searchVal},e.prototype.updateFilteringCell=function(e){var t=e.filterCell;t&&t.updateFilterCellArea()},e.prototype.focusFilterCellChip=function(e,t){var n=e.filterCell;n&&n.focusChip(t)},e.prototype.focusFilterRowCloseButton=function(){this.grid.filteringRow.closeButton.nativeElement.focus()},Object.defineProperty(e.prototype,"filteredData",{get:function(){return this.grid.filteredData},enumerable:!0,configurable:!0}),e.prototype.scrollToFilterCell=function(e,t){this.grid.nativeElement.focus({preventScroll:!0}),this.columnToFocus=e,this.shouldFocusNext=t;for(var n=0,i=0,r=0;r<this.unpinnedColumns.length;r++)if(n+=parseInt(this.unpinnedColumns[r].width,10),this.unpinnedColumns[r]===e){i=n-parseInt(this.unpinnedColumns[r].width,10);break}var o=this.grid.headerContainer,a=this.displayContainerWidth+this.displayContainerScrollLeft;t?o.getHorizontalScroll().scrollLeft+=n-a:o.getHorizontalScroll().scrollLeft=i},e.prototype.isFilteringTreeComplex=function(e){if(!e)return!1;if(e instanceof Dt){var t=e;if(t.operator===Et.Or)return this.getChildAndOperatorsCount(t)>1;for(var n=!1,i=0;i<t.filteringOperands.length;i++)n=n||this.isFilteringTreeComplex(t.filteringOperands[i]);return n}return!1},e.prototype.getChildAndOperatorsCount=function(e){for(var t,n=0,i=0;i<e.filteringOperands.length;i++)(t=e[i])instanceof Dt&&(t.operator===Et.And&&n++,n+=this.getChildAndOperatorsCount(t));return n},e.prototype.generateExpressionsList=function(e,t,n){this.generateExpressionsListRecursive(e,t,n),n.length&&(n[n.length-1].afterOperator=null)},e.prototype.generateExpressionsListRecursive=function(e,t,n){if(e)if(e instanceof Dt){for(var i=e,r=0;r<i.filteringOperands.length;r++)this.generateExpressionsListRecursive(i.filteringOperands[r],i.operator,n);n.length&&(n[n.length-1].afterOperator=t)}else{var o=new $s;o.expression=e,o.afterOperator=t;var a=n[n.length-1];a&&(o.beforeOperator=a.afterOperator),n.push(o)}},e.prototype.isFilteringExpressionsTreeEmpty=function(){var e,t=this.grid.filteringExpressionsTree;if(!t.filteringOperands||!t.filteringOperands.length)return!0;for(var n=0;n<t.filteringOperands.length;n++){if(!((e=t.filteringOperands[n])instanceof Dt))return!1;var i=e;if(i.filteringOperands&&i.filteringOperands.length)return!1}return!0},e.decorators=[{type:o.D}],e.ctorParameters=function(){return[{type:Pt},{type:Er}]},e}();function qs(){return function(e,t,n){var i="_"+t.toString();(n=n||{configurable:!0,enumerable:!0}).get=n.get||function(){return this[i]};var r=n.set||function(e){this[i]=e};return n.set=function(e){var n,i=this._init,a=this[t];if((e!==a||"object"==typeof e&&e===a)&&(r.call(this,e),this.ngOnChanges&&!i)){var s=((n={})[t]=new o.fb(a,e,!1),n);this.ngOnChanges(s)}},n}}var Zs=function(){function e(){}return e.prototype.ngAfterViewInit=function(){var e=this;requestAnimationFrame(function(){e.virtDir.recalcUpdateSizes()})},e.prototype.clearInput=function(){this.searchValue=null},e.prototype.onCheckboxChange=function(e){var t=this;0===this.data.indexOf(e.checkbox.value)?this.data.forEach(function(n){n.isSelected=e.checked,t.data[0].indeterminate=!1}):(e.checkbox.value.isSelected=e.checked,this.data.slice(1,this.data.length).find(function(e){return!1===e.isSelected})?this.data.slice(1,this.data.length).find(function(e){return!0===e.isSelected})?this.data[0].indeterminate=!0:(this.data[0].indeterminate=!1,this.data[0].isSelected=!1):(this.data[0].indeterminate=!1,this.data[0].isSelected=!0)),e.checkbox.nativeCheckbox.nativeElement.blur()},Object.defineProperty(e.prototype,"itemSize",{get:function(){var e="40px";switch(this.displayDensity){case ei.cosy:e="32px";break;case ei.compact:e="24px"}return e},enumerable:!0,configurable:!0}),e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-search",template:'<igx-input-group\n            type="box"\n            [displayDensity]="displayDensity"\n            [supressInputAutofocus]="true">\n    <igx-icon igxPrefix>search</igx-icon>\n    <input\n        #input\n        igxInput\n        tabindex="0"\n        [(ngModel)]="searchValue"\n        [placeholder]="column.grid.resourceStrings.igx_grid_excel_search_placeholder"\n        autocomplete="off"/>\n    <igx-icon\n        igxSuffix\n        *ngIf="searchValue || searchValue === 0"\n        (click)="clearInput()"\n        tabindex="0">\n        clear\n    </igx-icon>\n</igx-input-group>\n\n        <igx-list [displayDensity]="displayDensity" [style.height.px]="250">\n            <div [style.overflow]="\'hidden\'" [style.position]="\'relative\'">\n                <igx-list-item\n                    *igxFor="let item of data | excelStyleSearchFilter: searchValue; scrollOrientation : \'vertical\'; containerSize: \'250px\'; itemSize: itemSize">\n                    <igx-checkbox\n                    [value]="item"\n                    tabindex="-1"\n                    [checked]="item.isSelected"\n                    [disableRipple]="true"\n                    [indeterminate]="item.indeterminate"\n                    [disableTransitions]="true"\n                    (change)="onCheckboxChange($event)">\n                        {{ column.formatter && !item.isSpecial ? column.formatter(item.label) : column.dataType === \'number\' ? (item.label | igxdecimal:\n                            column.grid.locale) : column.dataType === \'date\' ? (item.label | igxdate: column.grid.locale) : item.label }}\n                    </igx-checkbox>\n                </igx-list-item>\n            </div>\n        </igx-list>\n'}]}],e.ctorParameters=function(){return[]},e.propDecorators={data:[{type:o.G}],column:[{type:o.G}],searchInput:[{type:o.ob,args:["input",{read:Si,static:!0}]}],displayDensity:[{type:o.G}],virtDir:[{type:o.ob,args:[ui,{static:!0}]}]},e}(),Qs=function(){function e(e){this.cdr=e,this._dropDownOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new An,scrollStrategy:new Ln},this.onExpressionRemoved=new o.x,this.onLogicOperatorChanged=new o.x}return Object.defineProperty(e.prototype,"inputValuesElement",{get:function(){return this.inputValuesDirective},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLast",{get:function(){return this.expressionsList[this.expressionsList.length-1]===this.expressionUI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingle",{get:function(){return 1===this.expressionsList.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputConditionsPlaceholder",{get:function(){return this.grid.resourceStrings.igx_grid_filter_condition_placeholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputValuePlaceholder",{get:function(){return this.grid.resourceStrings.igx_grid_filter_row_placeholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){switch(this.column.dataType){case Ft.Number:return"number";default:return"text"}},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this._dropDownOverlaySettings.outlet=this.column.grid.outletDirective,this._dropDownOverlaySettings.positionStrategy.settings.target=this.inputGroupConditions.element.nativeElement},e.prototype.focus=function(){var e=this;requestAnimationFrame(function(){return e.inputValuesElement.focus()})},e.prototype.isConditionSelected=function(e){return this.expressionUI.expression.condition&&this.expressionUI.expression.condition.name===e},e.prototype.getConditionName=function(e){return e?this.translateCondition(e.name):null},e.prototype.getInputWidth=function(){return this.inputGroupConditions.element.nativeElement.offsetWidth+"px"},Object.defineProperty(e.prototype,"conditions",{get:function(){return this.column.filters.conditionList()},enumerable:!0,configurable:!0}),e.prototype.translateCondition=function(e){return this.grid.resourceStrings["igx_grid_filter_"+this.getCondition(e).name]||e},e.prototype.getIconName=function(){return this.column.dataType===Ft.Boolean&&null===this.expressionUI.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expressionUI.expression.condition?this.expressionUI.expression.condition.iconName:"filter_list"},e.prototype.toggleCustomDialogDropDown=function(){this.dropdownConditions.toggle(this._dropDownOverlaySettings)},e.prototype.getCondition=function(e){return this.column.filters.condition(e)},e.prototype.onConditionsChanged=function(e){var t=e.newSelection.value;this.expressionUI.expression.condition=this.getCondition(t),this.focus()},e.prototype.onValuesInput=function(e){this.expressionUI.expression.searchVal=this.transformValue(e.target.value)},e.prototype.onLogicOperatorButtonClicked=function(e,t){0===this.logicOperatorButtonGroup.selectedButtons.length?(e.stopPropagation(),this.logicOperatorButtonGroup.selectButton(t)):this.onLogicOperatorChanged.emit({target:this.expressionUI,newValue:t})},e.prototype.onLogicOperatorKeyDown=function(e,t){"Enter"===e.key&&(this.logicOperatorButtonGroup.selectButton(t),this.onLogicOperatorChanged.emit({target:this.expressionUI,newValue:t}))},e.prototype.onRemoveButtonClick=function(){this.onExpressionRemoved.emit(this.expressionUI)},e.prototype.onInputConditionsKeyDown=function(e){!e.altKey||"ArrowDown"!==e.key&&"Down"!==e.key||this.toggleCustomDialogDropDown(),"Tab"===e.key&&e.shiftKey&&this.expressionsList[0]===this.expressionUI&&e.preventDefault(),event.stopPropagation()},e.prototype.transformValue=function(e){return this.column.dataType===Ft.Number?e=parseFloat(e):this.column.dataType===Ft.Boolean&&(e=Boolean(e)),e},e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-default-expression",template:'<igx-drop-down\n    #dropdownConditions\n    [maxHeight]="\'200px\'"\n    [width]="getInputWidth()"\n    [displayDensity]="displayDensity"\n    (onSelection)="onConditionsChanged($event)">\n    <igx-drop-down-item *ngFor="let condition of conditions" [value]="condition" [selected]="isConditionSelected(condition)">\n        <igx-icon fontSet="filtering-icons" [name]="getCondition(condition).iconName"></igx-icon>\n        <span>{{ translateCondition(condition) }}</span>\n    </igx-drop-down-item>\n</igx-drop-down>\n\n<igx-input-group\n    #inputGroupConditions\n    (click)="toggleCustomDialogDropDown()"\n    type="box"\n    [displayDensity]="displayDensity"\n    [supressInputAutofocus]="true">\n\n    <igx-prefix>\n        <igx-icon *ngIf="expressionUI.expression.condition" fontSet="filtering-icons" [name]="getIconName()"></igx-icon>\n        <igx-icon *ngIf="!expressionUI.expression.condition">filter_list</igx-icon>\n    </igx-prefix>\n\n    <input\n        igxInput\n        (keydown)="onInputConditionsKeyDown($event)"\n        [igxDropDownItemNavigation]="dropdownConditions"\n        tabindex="0"\n        [placeholder]="inputConditionsPlaceholder"\n        autocomplete="off"\n        [value]="getConditionName(expressionUI.expression.condition)"\n        [readonly]="true"\n    />\n</igx-input-group>\n\n<igx-input-group #inputGroupValues type="box" [displayDensity]="displayDensity" [supressInputAutofocus]="true">\n    <input\n        #inputValues\n        igxInput\n        [type]="type"\n        tabindex="0"\n        [placeholder]="inputValuePlaceholder"\n        [disabled]="expressionUI.expression.condition && expressionUI.expression.condition.isUnary"\n        autocomplete="off"\n        [value]="expressionUI.expression.searchVal"\n        (input)="onValuesInput($event)"\n    />\n</igx-input-group>\n\n<button (click)="onRemoveButtonClick()" igxButton="icon" [displayDensity]="displayDensity" *ngIf="!isSingle">\n    <igx-icon>cancel</igx-icon>\n</button>\n\n<igx-buttongroup #logicOperatorButtonGroup\n    *ngIf="!isLast"\n    [multiSelection]="false">\n    <span igxButton [displayDensity]="displayDensity"\n        tabindex="0"\n        #andButton\n        (keydown)="onLogicOperatorKeyDown($event, 0)"\n        [selected]="expressionUI.afterOperator === 0"\n        type="button"\n        (click)="onLogicOperatorButtonClicked($event, 0)">\n        {{ grid.resourceStrings.igx_grid_filter_operator_and }}\n    </span>\n\n    <span igxButton [displayDensity]="displayDensity"\n        tabindex="0"\n        #orButton\n        (keydown)="onLogicOperatorKeyDown($event, 1)"\n        [selected]="expressionUI.afterOperator === 1"\n        type="button"\n        (click)="onLogicOperatorButtonClicked($event, 1)">\n        {{ grid.resourceStrings.igx_grid_filter_operator_or }}\n    </span>\n</igx-buttongroup>\n'}]}],e.ctorParameters=function(){return[{type:o.k}]},e.propDecorators={column:[{type:o.G}],expressionUI:[{type:o.G}],expressionsList:[{type:o.G}],grid:[{type:o.G}],displayDensity:[{type:o.G}],onExpressionRemoved:[{type:o.S}],onLogicOperatorChanged:[{type:o.S}],inputGroupConditions:[{type:o.ob,args:["inputGroupConditions",{read:Ri,static:!0}]}],inputValuesDirective:[{type:o.ob,args:["inputValues",{read:Si,static:!0}]}],dropdownConditions:[{type:o.ob,args:["dropdownConditions",{read:mi,static:!0}]}],logicOperatorButtonGroup:[{type:o.ob,args:["logicOperatorButtonGroup",{read:ro,static:!1}]}]},e}(),Js=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"inputValuesElement",{get:function(){return this.datePicker.getEditElement()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDatePlaceholder",{get:function(){return this.grid.resourceStrings.igx_grid_filter_row_date_placeholder},enumerable:!0,configurable:!0}),t.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-date-expression",template:'<igx-drop-down\n    #dropdownConditions\n    [maxHeight]="\'200px\'"\n    [width]="getInputWidth()"\n    [displayDensity]="displayDensity"\n    (onSelection)="onConditionsChanged($event)">\n    <igx-drop-down-item *ngFor="let condition of conditions" [value]="condition" [selected]="isConditionSelected(condition)">\n        <igx-icon fontSet="filtering-icons" [name]="getCondition(condition).iconName"></igx-icon>\n        <span>{{ translateCondition(condition) }}</span>\n    </igx-drop-down-item>\n</igx-drop-down>\n\n<igx-input-group\n    #inputGroupConditions\n    (click)="toggleCustomDialogDropDown()"\n    type="box"\n    [displayDensity]="displayDensity"\n    [supressInputAutofocus]="true">\n\n    <igx-prefix>\n        <igx-icon *ngIf="expressionUI.expression.condition" fontSet="filtering-icons" [name]="getIconName()"></igx-icon>\n        <igx-icon *ngIf="!expressionUI.expression.condition">filter_list</igx-icon>\n    </igx-prefix>\n\n    <input\n        igxInput\n        (keydown)="onInputConditionsKeyDown($event)"\n        tabindex="0"\n        [igxDropDownItemNavigation]="dropdownConditions"\n        [placeholder]="inputConditionsPlaceholder"\n        autocomplete="off"\n        [value]="getConditionName(expressionUI.expression.condition)"\n        [readonly]="true"\n    />\n</igx-input-group>\n\n<igx-date-picker #datePicker mode="dropdown" [(ngModel)]="expressionUI.expression.searchVal" [locale]="grid.locale" [outlet]="grid.outletDirective">\n    <ng-template igxDatePickerTemplate let-openDialog="openDialog" let-value="value">\n        <igx-input-group #dropDownTarget type="box" [displayDensity]="displayDensity" [supressInputAutofocus]="true">\n            <input #input\n                    igxInput\n                    tabindex="0"\n                    (click)="openDialog(dropDownTarget.element.nativeElement)"\n                    [placeholder]="inputDatePlaceholder"\n                    autocomplete="off"\n                    [value]="value | igxdate: grid.locale"\n                    [readonly]="true"\n                    [disabled]="expressionUI.expression.condition && expressionUI.expression.condition.isUnary"/>\n        </igx-input-group>\n    </ng-template>\n</igx-date-picker>\n\n<button (click)="onRemoveButtonClick()" igxButton="icon" [displayDensity]="displayDensity" *ngIf="!isSingle" >\n    <igx-icon>cancel</igx-icon>\n</button>\n\n<igx-buttongroup #logicOperatorButtonGroup\n    *ngIf="!isLast"\n    [multiSelection]="false">\n    <span igxButton [displayDensity]="displayDensity"\n        #andButton\n        (keydown)="onLogicOperatorKeyDown($event, 0)"\n        tabindex="0"\n        [selected]="expressionUI.afterOperator === 0"\n        type="button"\n        (click)="onLogicOperatorButtonClicked($event, 0)">\n        {{ grid.resourceStrings.igx_grid_filter_operator_and }}\n    </span>\n\n    <span igxButton [displayDensity]="displayDensity"\n        #orButton\n        tabindex="0"\n        (keydown)="onLogicOperatorKeyDown($event, 1)"\n        [selected]="expressionUI.afterOperator === 1"\n        type="button"\n        (click)="onLogicOperatorButtonClicked($event, 1)">\n        {{ grid.resourceStrings.igx_grid_filter_operator_or }}\n    </span>\n</igx-buttongroup>\n'}]}],t.propDecorators={datePicker:[{type:o.ob,args:["datePicker",{read:Ya,static:!0}]}],displayDensity:[{type:o.G}]},t}(Qs),el=function(){function e(e){this.cdr=e,this.expressionsList=new Array,this._customDialogPositionSettings={verticalDirection:_n.Middle,horizontalDirection:xn.Center,horizontalStartPoint:xn.Center,verticalStartPoint:_n.Middle},this._customDialogOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new An(this._customDialogPositionSettings),scrollStrategy:new Fn}}return e.prototype.ngAfterViewInit=function(){this._customDialogOverlaySettings.outlet=this.grid.outlet},Object.defineProperty(e.prototype,"template",{get:function(){return this.column.dataType===Ft.Date?this.dateExpressionTemplate:this.defaultExpressionTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.filteringService.grid},enumerable:!0,configurable:!0}),e.prototype.onCustomDialogOpening=function(){this.selectedOperator&&this.createInitialExpressionUIElement()},e.prototype.onCustomDialogOpened=function(){this.expressionComponents.first&&this.expressionComponents.first.focus()},e.prototype.open=function(){this._customDialogOverlaySettings.positionStrategy.settings.target=this.grid.rootGrid?this.grid.rootGrid.nativeElement:this.grid.nativeElement,this.toggle.open(this._customDialogOverlaySettings)},e.prototype.onClearButtonClick=function(){this.filteringService.clearFilter(this.column.field),this.createInitialExpressionUIElement(),this.cdr.detectChanges()},e.prototype.closeDialog=function(){this.overlayComponentId&&this.overlayService.hide(this.overlayComponentId)},e.prototype.onApplyButtonClick=function(){this.expressionsList=this.expressionsList.filter(function(e){return e.expression.condition&&(e.expression.searchVal||0===e.expression.searchVal||e.expression.condition.isUnary)}),this.expressionsList.length>0&&(this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.filteringService.filterInternal(this.column.field,this.expressionsList),this.closeDialog()},e.prototype.onAddButtonClick=function(){var e=new $s;e.expression={condition:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},this.expressionsList[this.expressionsList.length-1].afterOperator=Et.And,e.beforeOperator=this.expressionsList[this.expressionsList.length-1].afterOperator,this.expressionsList.push(e),this.markChildrenForCheck(),this.scrollToBottom()},e.prototype.onExpressionRemoved=function(e){var t=this.expressionsList.indexOf(e);0===t&&this.expressionsList.length>1?this.expressionsList[1].beforeOperator=null:t===this.expressionsList.length-1?this.expressionsList[t-1].afterOperator=null:(this.expressionsList[t-1].afterOperator=this.expressionsList[t+1].beforeOperator,this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.expressionsList.splice(t,1),this.cdr.detectChanges(),this.markChildrenForCheck()},e.prototype.onLogicOperatorChanged=function(e){var t=this.expressionsList.indexOf(e.target);e.target.afterOperator=e.newValue,t+1<this.expressionsList.length&&(this.expressionsList[t+1].beforeOperator=e.newValue)},e.prototype.onKeyDown=function(e){e.stopPropagation()},e.prototype.onApplyButtonKeyDown=function(e){"Tab"!==e.key||e.shiftKey||(e.stopPropagation(),e.preventDefault())},e.prototype.createCondition=function(e){switch(this.column.dataType){case Ft.Boolean:return Or.instance().condition(e);case Ft.Number:return kr.instance().condition(e);case Ft.Date:return Ir.instance().condition(e);default:return Pr.instance().condition(e)}},e.prototype.markChildrenForCheck=function(){this.expressionComponents.forEach(function(e){return e.cdr.markForCheck()}),this.expressionDateComponents.forEach(function(e){return e.cdr.markForCheck()})},e.prototype.createInitialExpressionUIElement=function(){this.expressionsList=[];var e=new $s;e.expression={condition:this.createCondition(this.selectedOperator),fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},e.afterOperator=Et.And,this.expressionsList.push(e);var t=new $s;t.expression={condition:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},t.beforeOperator=Et.And,this.expressionsList.push(t)},e.prototype.scrollToBottom=function(){var e=this;requestAnimationFrame(function(){e.expressionsContainer.nativeElement.scrollTop=e.expressionsContainer.nativeElement.scrollHeight})},e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-custom-dialog",template:'<article #toggle igxToggle\n    class="igx-excel-filter__secondary"\n    [ngClass]="{\n        \'igx-excel-filter__secondary--cosy\': grid.displayDensity === \'cosy\',\n        \'igx-excel-filter__secondary--compact\': grid.displayDensity === \'compact\'\n    }"\n    (keydown)="onKeyDown($event)"\n    (onOpening)="onCustomDialogOpening()"\n    (onOpened)="onCustomDialogOpened()">\n    <header class="igx-excel-filter__secondary-header">\n        <h4 class="igx-typography__h6">\n            {{ grid.resourceStrings.igx_grid_excel_custom_dialog_header }}{{ column.header || column.field }}\n        </h4>\n    </header>\n\n    <article #expressionsContainer class="igx-excel-filter__secondary-main">\n        <ng-container *ngIf="column.dataType === \'date\'">\n            <igx-excel-style-date-expression *ngFor="let expression of expressionsList;"\n                class="igx-excel-filter__condition"\n                [expressionUI]="expression"\n                [column]="column"\n                [grid]="grid"\n                [displayDensity]="displayDensity"\n                [expressionsList]="expressionsList"\n                (onExpressionRemoved)="onExpressionRemoved($event)"\n                (onLogicOperatorChanged)="onLogicOperatorChanged($event)">\n            </igx-excel-style-date-expression>\n        </ng-container>\n\n        <ng-container *ngIf="column.dataType !== \'date\'">\n            <igx-excel-style-default-expression *ngFor="let expression of expressionsList;"\n                class="igx-excel-filter__condition"\n                [expressionUI]="expression"\n                [column]="column"\n                [grid]="grid"\n                [displayDensity]="displayDensity"\n                [expressionsList]="expressionsList"\n                (onExpressionRemoved)="onExpressionRemoved($event)"\n                (onLogicOperatorChanged)="onLogicOperatorChanged($event)">\n            </igx-excel-style-default-expression>\n        </ng-container>\n\n        <button igxButton [displayDensity]="displayDensity"\n            class="igx-excel-filter__add-filter"\n            (click)="onAddButtonClick()">\n            <igx-icon>add</igx-icon>\n            <span>{{ grid.resourceStrings.igx_grid_excel_custom_dialog_add }}</span>\n        </button>\n    </article>\n\n    <footer class="igx-excel-filter__secondary-footer">\n        <button igxButton [displayDensity]="displayDensity" (click)="onClearButtonClick()">{{ grid.resourceStrings.igx_grid_excel_custom_dialog_clear }}</button>\n\n        <div>\n            <button igxButton [displayDensity]="displayDensity" (click)="closeDialog()">{{ grid.resourceStrings.igx_grid_excel_cancel }}</button>\n            <button igxButton="raised" [displayDensity]="displayDensity" (click)="onApplyButtonClick()" (keydown)="onApplyButtonKeyDown($event)">\n                {{ grid.resourceStrings.igx_grid_excel_apply }}\n            </button>\n        </div>\n    </footer>\n</article>\n'}]}],e.ctorParameters=function(){return[{type:o.k}]},e.propDecorators={expressionsList:[{type:o.G}],column:[{type:o.G}],selectedOperator:[{type:o.G}],filteringService:[{type:o.G}],overlayComponentId:[{type:o.G}],overlayService:[{type:o.G}],displayDensity:[{type:o.G}],expressionComponents:[{type:o.pb,args:[Qs]}],expressionDateComponents:[{type:o.pb,args:[Js]}],toggle:[{type:o.ob,args:["toggle",{read:zn,static:!0}]}],defaultExpressionTemplate:[{type:o.ob,args:["defaultExpressionTemplate",{read:o.kb,static:!1}]}],dateExpressionTemplate:[{type:o.ob,args:["dateExpressionTemplate",{read:o.kb,static:!1}]}],expressionsContainer:[{type:o.ob,args:["expressionsContainer",{static:!0}]}]},e}(),tl=function(){function e(){}return e.prototype.onSortButtonClicked=function(e){0===this.sortButtonGroup.selectedIndexes.length?this.grid.isColumnGrouped(this.column.field)?this.selectButton(e):this.grid.clearSort(this.column.field):this.grid.sort({fieldName:this.column.field,dir:e,ignoreCase:!0})},e.prototype.selectButton=function(e){1===e?this.sortButtonGroup.selectButton(0):this.sortButtonGroup.selectButton(1)},e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-sorting",template:'<header>\n    {{ grid.resourceStrings.igx_grid_excel_filter_sorting_header }}\n</header>\n<igx-buttongroup #sortButtonGroup [multiSelection]="false">\n    <span tabindex="0" igxButton type="button" [displayDensity]="displayDensity" [attr.data-togglable]="true" (click)="onSortButtonClicked(1)">\n        <igx-icon>arrow_upwards</igx-icon>\n        <span>\n            {{ displayDensity===\'compact\'?\n            grid.resourceStrings.igx_grid_excel_filter_sorting_asc_short:\n            grid.resourceStrings.igx_grid_excel_filter_sorting_asc  }}\n        </span>\n    </span>\n\n    <span tabindex="0" igxButton type="button" [displayDensity]="displayDensity" [attr.data-togglable]="true" (click)="onSortButtonClicked(2)">\n        <igx-icon>arrow_downwards</igx-icon>\n        <span>\n            {{ displayDensity===\'compact\'?\n            grid.resourceStrings.igx_grid_excel_filter_sorting_desc_short:\n            grid.resourceStrings.igx_grid_excel_filter_sorting_desc\n         }}\n        </span>\n    </span>\n</igx-buttongroup>\n'}]}],e.ctorParameters=function(){return[]},e.propDecorators={column:[{type:o.G}],grid:[{type:o.G}],displayDensity:[{type:o.G}],sortButtonGroup:[{type:o.ob,args:["sortButtonGroup",{read:ro,static:!0}]}]},e}(),nl=function(){return function(){this.isSpecial=!1}}(),il=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxExcelStyleSortingTemplate]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),rl=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxExcelStyleMovingTemplate]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),ol=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxExcelStyleHidingTemplate]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),al=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxExcelStylePinningTemplate]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),sl=function(){function e(e){this.cdr=e,this.shouldOpenSubMenu=!0,this.expressionsList=new Array,this.destroy$=new E.a,this.containsNullOrEmpty=!1,this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.filterValues=new Set,this.columnMoving=new G.a,this.listData=new Array,this.uniqueValues=[],this._subMenuPositionSettings={verticalStartPoint:_n.Top},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new jn(this._subMenuPositionSettings),scrollStrategy:new Fn},this.className="igx-excel-filter"}return Object.defineProperty(e.prototype,"grid",{get:function(){return this.filteringService.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conditions",{get:function(){return this.column.filters.conditionList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subMenuText",{get:function(){switch(this.column.dataType){case Ft.Boolean:return this.grid.resourceStrings.igx_grid_excel_boolean_filter;case Ft.Number:return this.grid.resourceStrings.igx_grid_excel_number_filter;case Ft.Date:return this.grid.resourceStrings.igx_grid_excel_date_filter;default:return this.grid.resourceStrings.igx_grid_excel_text_filter}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.isColumnPinnable=this.column.pinnable},e.prototype.ngOnDestroy=function(){this.destroy$.next(!0),this.destroy$.complete()},e.prototype.ngAfterViewInit=function(){var e=this;if(this.expressionsList=new Array,this.filteringService.generateExpressionsList(this.column.filteringExpressionsTree,this.grid.filteringLogic,this.expressionsList),this.expressionsList&&this.expressionsList.length&&"in"!==this.expressionsList[0].expression.condition.name&&(this.customDialog.expressionsList=this.expressionsList),this.populateColumnData(),this.excelStyleSorting){var t=this.grid.sortingExpressions.find(function(t){return t.fieldName===e.column.field});t&&this.excelStyleSorting.selectButton(t.dir)}requestAnimationFrame(function(){e.excelStyleSearch.searchInput.nativeElement.focus()})},e.prototype.clearFilterClass=function(){return this.column.filteringExpressionsTree?"igx-excel-filter__actions-clear":"igx-excel-filter__actions-clear--disabled"},e.prototype.pinClass=function(){return this.isColumnPinnable?"igx-excel-filter__actions-pin":"igx-excel-filter__actions-pin--disabled"},e.prototype.initialize=function(e,t,n,i){var r=this;this.column=e,this.filteringService=t,this.overlayService=n,this.overlayComponentId=i,this._subMenuOverlaySettings.outlet=this.grid.outlet,this.columnMoving=this.grid.onColumnMoving.pipe(Object(H.a)(this.destroy$)).subscribe(function(){r.closeDropdown()})},e.prototype.getCondition=function(e){return this.column.filters.condition(e)},e.prototype.translateCondition=function(e){return this.grid.resourceStrings["igx_grid_filter_"+this.getCondition(e).name]||e},e.prototype.onPin=function(){this.column.pinned=!this.column.pinned,this.closeDropdown()},e.prototype.onHide=function(){this.column.hidden=!0,this.grid.onColumnVisibilityChanged.emit({column:this.column,newValue:!0}),this.closeDropdown()},e.prototype.onTextFilterClick=function(e){if(this.shouldOpenSubMenu){this._subMenuOverlaySettings.positionStrategy.settings.target=e.currentTarget;var t=this.grid.nativeElement.getBoundingClientRect(),n=this.mainDropdown.nativeElement.getBoundingClientRect(),i=n.left+n.width,r=t.left+t.width;i+=window.pageXOffset,r+=window.pageXOffset,Math.abs(i-r)<200?(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=xn.Left,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=xn.Left):(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=xn.Right,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=xn.Right),this.subMenu.open(this._subMenuOverlaySettings),this.shouldOpenSubMenu=!1}},e.prototype.onTextFilterKeyDown=function(e){"Enter"===e.key&&this.onTextFilterClick(e)},e.prototype.onSubMenuClosed=function(){var e=this;requestAnimationFrame(function(){e.shouldOpenSubMenu=!0})},e.prototype.onSubMenuSelection=function(e){this.customDialog.selectedOperator=e.newSelection.value,e.cancel=!0,this.mainDropdown.nativeElement.style.display="none",this.subMenu.close(),this.customDialog.open()},e.prototype.areExpressionsSelectable=function(){return 1===this.expressionsList.length&&("equals"===this.expressionsList[0].expression.condition.name||"true"===this.expressionsList[0].expression.condition.name||"false"===this.expressionsList[0].expression.condition.name||"empty"===this.expressionsList[0].expression.condition.name||"in"===this.expressionsList[0].expression.condition.name)||this.expressionsList.filter(function(e){return!(1!==e.beforeOperator&&1!==e.afterOperator||"equals"!==e.expression.condition.name&&"true"!==e.expression.condition.name&&"false"!==e.expression.condition.name&&"empty"!==e.expression.condition.name&&"in"!==e.expression.condition.name)}).length===this.expressionsList.length},e.prototype.areExpressionsValuesInTheList=function(){if(this.column.dataType===Ft.Boolean)return!0;if(1===this.filterValues.size){var e=this.filterValues.values().next().value;if(!e&&0!==e)return!0}for(var t=0;t<this.uniqueValues.length;t++)if(this.filterValues.has(this.uniqueValues[t]))return!0;return!1},e.prototype.populateColumnData=function(){var e,t,n=this,i=this.column.gridAPI.get_all_data(this.grid.id),o=this.grid.filteringExpressionsTree,a=new Dt(o.operator,o.fieldName);try{for(var s=Object(r.j)(o.filteringOperands),l=s.next();!l.done;l=s.next()){var c=l.value;if(c instanceof Dt)if(c.fieldName===this.column.field)break;a.filteringOperands.push(c)}}catch(u){e={error:u}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}if(a.filteringOperands.length){var d={expressionsTree:a};i=Lt.filter(nt(i),d)}this.column.dataType===Ft.Date?(this.uniqueValues=Array.from(new Set(i.map(function(e){return e[n.column.field]?e[n.column.field].toDateString():e[n.column.field]}))),this.filterValues=new Set(this.expressionsList.reduce(function(e,t){return"in"===t.expression.condition.name?Object(r.i)(e,Array.from(t.expression.searchVal.values()).map(function(e){return new Date(e).toDateString()})):Object(r.i)(e,[t.expression.searchVal?t.expression.searchVal.toDateString():t.expression.searchVal])},[]))):(this.uniqueValues=Array.from(new Set(i.map(function(e){return e[n.column.field]}))),this.filterValues=new Set(this.expressionsList.reduce(function(e,t){return"in"===t.expression.condition.name?Object(r.i)(e,Array.from(t.expression.searchVal.values())):Object(r.i)(e,[t.expression.searchVal])},[]))),this.listData=new Array;var p=this.areExpressionsSelectable()&&this.areExpressionsValuesInTheList();this.column.dataType===Ft.Boolean?this.addBooleanItems():this.addItems(p),this.listData.sort(function(e,t){return n.sortData(e,t)}),this.column.dataType===Ft.Date&&(this.uniqueValues=this.uniqueValues.map(function(e){return new Date(e)})),this.containsNullOrEmpty&&this.addBlanksItem(p),this.addSelectAllItem(),this.cdr.detectChanges()},e.prototype.addBooleanItems=function(){var e=this;this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.uniqueValues.forEach(function(t){var n=new nl;null!=t&&""!==t?(e.column.filteringExpressionsTree?!0===t&&e.expressionsList.find(function(e){return"true"===e.expression.condition.name})?(n.isSelected=!0,e.selectAllIndeterminate=!0):!1===t&&e.expressionsList.find(function(e){return"false"===e.expression.condition.name})?(n.isSelected=!0,e.selectAllIndeterminate=!0):n.isSelected=!1:n.isSelected=!0,n.value=t,n.label=t,n.indeterminate=!1,e.listData.push(n)):e.containsNullOrEmpty=!0})},e.prototype.addItems=function(e){var t=this;this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.uniqueValues.forEach(function(n){if(null!=n&&""!==n){var i=new nl;t.column.filteringExpressionsTree?e?(t.filterValues.has(n)?i.isSelected=!0:i.isSelected=!1,t.selectAllIndeterminate=!0):(i.isSelected=!1,t.selectAllSelected=!1):i.isSelected=!0,t.column.dataType===Ft.Date?(i.value=new Date(n),i.label=new Date(n)):(i.value=n,i.label=n),i.indeterminate=!1,t.listData.push(i)}else t.containsNullOrEmpty=!0})},e.prototype.addSelectAllItem=function(){var e=new nl;e.isSelected=this.selectAllSelected,e.value=this.grid.resourceStrings.igx_grid_excel_select_all,e.label=this.grid.resourceStrings.igx_grid_excel_select_all,e.indeterminate=this.selectAllIndeterminate,e.isSpecial=!0,this.listData.unshift(e)},e.prototype.addBlanksItem=function(e){var t=new nl;this.column.filteringExpressionsTree?e&&(this.filterValues.has(null)?t.isSelected=!0:t.isSelected=!1):t.isSelected=!0,t.value=null,t.label=this.grid.resourceStrings.igx_grid_excel_blanks,t.indeterminate=!1,t.isSpecial=!0,this.listData.unshift(t)},e.prototype.sortData=function(e,t){var n=e.value,i=t.value;return typeof e===Ft.String&&(n=e.value.toUpperCase(),i=t.value.toUpperCase()),n<i?-1:n>i?1:0},Object.defineProperty(e.prototype,"sortingTemplate",{get:function(){return this.grid.excelStyleSortingTemplateDirective?this.grid.excelStyleSortingTemplateDirective.template:this.defaultExcelStyleSortingTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"movingTemplate",{get:function(){return this.grid.excelStyleMovingTemplateDirective?this.grid.excelStyleMovingTemplateDirective.template:this.defaultExcelStyleMovingTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pinningTemplate",{get:function(){return this.grid.excelStylePinningTemplateDirective?this.grid.excelStylePinningTemplateDirective.template:this.defaultExcelStylePinningTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidingTemplate",{get:function(){return this.grid.excelStyleHidingTemplateDirective?this.grid.excelStyleHidingTemplateDirective.template:this.defaultExcelStyleHidingTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applyButtonDisabled",{get:function(){return this.excelStyleSearch.filteredData&&0===this.excelStyleSearch.filteredData.length||this.listData[0]&&!this.listData[0].isSelected&&!this.listData[0].indeterminate},enumerable:!0,configurable:!0}),e.prototype.applyFilter=function(){var t=this,n=new Dt(Et.Or,this.column.field),i=this.listData.slice(1,this.listData.length).filter(function(e){return!0===e.isSelected});if(this.listData.slice(1,this.listData.length).find(function(e){return!1===e.isSelected})){if(i.length<=e.filterOptimizationThreshold)i.forEach(function(e){var i=null;i=null!==e.value&&void 0!==e.value?t.column.dataType===Ft.Boolean?t.createCondition(e.value.toString()):t.createCondition("equals"):t.createCondition("empty"),n.filteringOperands.push({condition:i,fieldName:t.column.field,ignoreCase:t.column.filteringIgnoreCase,searchVal:e.value})});else{var r=i.findIndex(function(e){return null===e.value||void 0===e.value}),o=void 0;r>=0&&(o=i[r],i.splice(r,1)),n.filteringOperands.push({condition:this.createCondition("in"),fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:new Set(this.column.dataType===Ft.Date?i.map(function(e){return new Date(e.value.getFullYear(),e.value.getMonth(),e.value.getDate()).toISOString()}):i.map(function(e){return e.value}))}),o&&n.filteringOperands.push({condition:this.createCondition("empty"),fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:o.value})}this.expressionsList=new Array,this.filteringService.filterInternal(this.column.field,n)}else this.filteringService.clearFilter(this.column.field);this.closeDropdown()},e.prototype.closeDropdown=function(){this.overlayComponentId&&(this.overlayService.hide(this.overlayComponentId),this.overlayComponentId=null)},e.prototype.onKeyDown=function(e){"Escape"!==e.key&&"Esc"!==e.key||this.closeDropdown(),e.stopPropagation()},e.prototype.clearFilter=function(){this.filteringService.clearFilter(this.column.field),this.populateColumnData()},e.prototype.onClearFilterKeyDown=function(e){"Enter"===e.key&&this.clearFilter()},e.prototype.showCustomFilterItem=function(){var e=this.column.filteringExpressionsTree;return e&&e.filteringOperands&&e.filteringOperands.length&&!(e.filteringOperands[0].condition&&"in"===e.filteringOperands[0].condition.name)},e.prototype.createCondition=function(e){switch(this.column.dataType){case Ft.Boolean:return Or.instance().condition(e);case Ft.Number:return kr.instance().condition(e);case Ft.Date:return Ir.instance().condition(e);default:return Pr.instance().condition(e)}},e.filterOptimizationThreshold=2,e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-grid-excel-style-filtering",template:'<article #dropdown\n    class="igx-excel-filter__menu"\n    [ngClass]="{\n        \'igx-excel-filter__menu--cosy\': grid.displayDensity === \'cosy\',\n        \'igx-excel-filter__menu--compact\': grid.displayDensity === \'compact\'\n    }"\n    [id]="overlayComponentId"\n    (keydown)="onKeyDown($event)">\n\n    <header class="igx-excel-filter__menu-header">\n        <h4>{{ column.header || column.field }}</h4>\n        <div *ngIf="grid.displayDensity!==\'comfortable\'" class="igx-excel-filter__menu-header-actions">\n            <button *ngIf="!column.disablePinning && !column.pinned"\n                igxButton="icon"\n                [displayDensity]="grid.displayDensity"\n                (click)="onPin()"\n                [disabled]="!isColumnPinnable"\n                tabindex="0">\n                <igx-icon fontSet="filtering-icons" name="pin"></igx-icon>\n            </button>\n            <button *ngIf="!column.disablePinning && column.pinned"\n                igxButton="icon"\n                [displayDensity]="grid.displayDensity"\n                (click)="onPin()"\n                tabindex="0">\n                <igx-icon fontSet="filtering-icons" name="unpin"></igx-icon>\n            </button>\n            <button *ngIf="!column.disableHiding"\n                igxButton="icon"\n                [displayDensity]="grid.displayDensity"\n                tabindex="0"\n                (click)="onHide()">\n                <igx-icon>visibility_off</igx-icon>\n            </button>\n        </div>\n    </header>\n\n    <ng-template #defaultExcelStyleSortingTemplate>\n        <igx-excel-style-sorting #excelStyleSorting\n            class="igx-excel-filter__sort"\n            [column]="column"\n            [grid]="grid"\n            [displayDensity]="grid.displayDensity">\n        </igx-excel-style-sorting>\n    </ng-template>\n\n    <div *ngIf="column.sortable">\n        <ng-container *ngTemplateOutlet="sortingTemplate"></ng-container>\n    </div>\n\n    <section class="igx-excel-filter__actions">\n\n        <ng-template #defaultExcelStyleMovingTemplate>\n            <igx-excel-style-column-moving\n                class="igx-excel-filter__move"\n                [column]="column"\n                [grid]="grid"\n                [isColumnPinnable]="isColumnPinnable"\n                [displayDensity]="grid.displayDensity">\n            </igx-excel-style-column-moving>\n        </ng-template>\n\n        <div *ngIf="column.movable">\n            <ng-container *ngTemplateOutlet="movingTemplate"></ng-container>\n        </div>\n\n        <ng-template #defaultExcelStylePinningTemplate>\n            <div [ngClass]="pinClass()"\n                (click)="onPin()"\n                tabindex="0"\n                *ngIf="!column.pinned">\n                <span>{{ grid.resourceStrings.igx_grid_excel_pin }}</span>\n                <igx-icon fontSet="filtering-icons" name="pin"></igx-icon>\n            </div>\n\n            <div class="igx-excel-filter__actions-unpin"\n                (click)="onPin()"\n                tabindex="0"\n                *ngIf="column.pinned">\n                <span>{{ grid.resourceStrings.igx_grid_excel_unpin }}</span>\n                <igx-icon fontSet="filtering-icons" name="unpin"></igx-icon>\n            </div>\n        </ng-template>\n\n        <div *ngIf="!column.disablePinning && grid.displayDensity===\'comfortable\'">\n            <ng-container *ngTemplateOutlet="pinningTemplate"></ng-container>\n        </div>\n\n        <ng-template #defaultExcelStyleHidingTemplate>\n            <div class="igx-excel-filter__actions-hide"\n                tabindex="0"\n                (click)="onHide()">\n                <span>{{ grid.resourceStrings.igx_grid_excel_hide }}</span>\n                <igx-icon>visibility_off</igx-icon>\n            </div>\n        </ng-template>\n\n        <div *ngIf="!column.disableHiding && grid.displayDensity===\'comfortable\'">\n            <ng-container *ngTemplateOutlet="hidingTemplate"></ng-container>\n        </div>\n\n        <div\n            tabindex="0"\n            [ngClass]="clearFilterClass()"\n            (keydown)="onClearFilterKeyDown($event)"\n            (click)="clearFilter()">\n            <span>{{ grid.resourceStrings.igx_grid_excel_filter_clear }}</span>\n            <igx-icon>clear</igx-icon>\n        </div>\n\n        <div\n            tabindex="0"\n            class="igx-excel-filter__actions-filter"\n            (keydown)="onTextFilterKeyDown($event)"\n            (click)="onTextFilterClick($event)"\n            [igxDropDownItemNavigation]="subMenu" >\n            <span>{{ subMenuText }}</span>\n            <igx-icon>keyboard_arrow_right</igx-icon>\n        </div>\n    </section>\n\n    <igx-excel-style-search\n        class="igx-excel-filter__menu-main"\n        #excelStyleSearch\n        [column]="column"\n        [data]="listData"\n        [displayDensity]="grid.displayDensity">\n    </igx-excel-style-search>\n\n    <footer class="igx-excel-filter__menu-footer">\n        <button igxButton [displayDensity]="grid.displayDensity" (click)="closeDropdown()">{{ grid.resourceStrings.igx_grid_excel_cancel }}</button>\n        <button igxButton="raised" [displayDensity]="grid.displayDensity" [disabled]="applyButtonDisabled" (click)="applyFilter()">{{ grid.resourceStrings.igx_grid_excel_apply }}</button>\n    </footer>\n</article>\n\n<igx-drop-down [maxHeight]="\'397px\'" [displayDensity]="grid.displayDensity" #subMenu (onSelection)="onSubMenuSelection($event)" (onClosed)="onSubMenuClosed()">\n    <div>\n        <igx-drop-down-item\n            *ngFor="let condition of conditions"\n            [value]="condition">\n            <igx-icon fontSet="filtering-icons" [name]="getCondition(condition).iconName"></igx-icon>\n            <span style="margin-left: 16px">{{ translateCondition(condition) }}</span>\n        </igx-drop-down-item>\n        <igx-drop-down-item *ngIf="showCustomFilterItem()">\n            <igx-icon>filter_list</igx-icon>\n            <span style="margin-left: 16px">{{ grid.resourceStrings.igx_grid_excel_custom_filter }}</span>\n        </igx-drop-down-item>\n    </div>\n</igx-drop-down>\n\n<igx-excel-style-custom-dialog\n    #customDialog\n    [column]="column"\n    [filteringService]="filteringService"\n    [overlayComponentId]="overlayComponentId"\n    [overlayService]="overlayService"\n    [displayDensity]="grid.displayDensity">\n</igx-excel-style-custom-dialog>\n'}]}],e.ctorParameters=function(){return[{type:o.k}]},e.propDecorators={className:[{type:o.z,args:["class.igx-excel-filter"]}],mainDropdown:[{type:o.ob,args:["dropdown",{read:o.u,static:!0}]}],subMenu:[{type:o.ob,args:["subMenu",{read:mi,static:!0}]}],customDialog:[{type:o.ob,args:["customDialog",{read:el,static:!0}]}],excelStyleSearch:[{type:o.ob,args:["excelStyleSearch",{read:Zs,static:!0}]}],excelStyleSorting:[{type:o.ob,args:["excelStyleSorting",{read:tl,static:!1}]}],defaultExcelStyleSortingTemplate:[{type:o.ob,args:["defaultExcelStyleSortingTemplate",{read:o.kb,static:!0}]}],defaultExcelStyleHidingTemplate:[{type:o.ob,args:["defaultExcelStyleHidingTemplate",{read:o.kb,static:!0}]}],defaultExcelStyleMovingTemplate:[{type:o.ob,args:["defaultExcelStyleMovingTemplate",{read:o.kb,static:!0}]}],defaultExcelStylePinningTemplate:[{type:o.ob,args:["defaultExcelStylePinningTemplate",{read:o.kb,static:!0}]}]},e}(),ll=function(){function e(e,t,n,i,r,o,a,s){this.gridAPI=e,this.colResizingService=t,this.cdr=n,this.elementRef=i,this.zone=r,this._filteringService=o,this._moduleRef=a,this._overlayService=s,this._destroy$=new E.a,this.hostRole="columnheader",this.tabindex=-1,this.sortDirection=vt.None}return Object.defineProperty(e.prototype,"styleClasses",{get:function(){var e,t,n=["igx-grid__th--fw",this.column.headerClasses],i={"igx-grid__th":!this.column.columnGroup,asc:this.ascending,desc:this.descending,"igx-grid__th--number":this.column.dataType===Ft.Number,"igx-grid__th--sortable":this.column.sortable,"igx-grid__th--filtrable":this.column.filterable&&this.grid.filteringService.isFilterRowVisible,"igx-grid__th--sorted":this.sorted};try{for(var o=Object(r.j)(Object.keys(i)),a=o.next();!a.done;a=o.next()){var s=a.value;i[s]&&n.push(s)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n.join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.grid.hasColumnGroups?(this.grid.maxLevelHeaderDepth+1-this.column.level)*this.grid.defaultRowHeight/this.grid._baseFontSize:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ascending",{get:function(){return this.sortDirection===vt.Asc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descending",{get:function(){return this.sortDirection===vt.Desc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortingIcon",{get:function(){return this.sortDirection!==vt.None?this.sortDirection===vt.Asc?"arrow_upward":"arrow_downward":"arrow_upward"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sorted",{get:function(){return this.sortDirection!==vt.None},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterIconClassName",{get:function(){return this.column.filteringExpressionsTree?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerID",{get:function(){return this.gridID+"_"+this.column.field},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initFilteringSettings()},e.prototype.ngDoCheck=function(){this.getSortDirection(),this.cdr.markForCheck()},e.prototype.ngOnDestroy=function(){this._destroy$.next(!0),this._destroy$.complete(),this._componentOverlayId&&this._overlayService.hide(this._componentOverlayId)},e.prototype.onClick=function(e){this.colResizingService.isColumnResizing||(e.stopPropagation(),this.grid.filteringService.isFilterRowVisible?!this.column.filterable||this.column.columnGroup||this.grid.filteringService.isFilterComplex(this.column.field)||(this.grid.filteringService.filteredColumn=this.column):this.column.sortable&&this.triggerSort())},e.prototype.onFilteringIconClick=function(e){e.stopPropagation(),this.toggleFilterDropdown()},Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),e.prototype.getSortDirection=function(){var e=this,t=this.gridAPI.grid.sortingExpressions.find(function(t){return t.fieldName===e.column.field});this.sortDirection=t?t.dir:vt.None},e.prototype.onSortingIconClick=function(e){this.grid.filteringService.isFilterRowVisible&&(e.stopPropagation(),this.triggerSort())},e.prototype.triggerSort=function(){var e=this,t=(this.grid.groupingExpressions?this.grid.groupingExpressions.find(function(t){return t.fieldName===e.column.field}):null)?this.sortDirection+1>vt.Desc?vt.Asc:vt.Desc:this.sortDirection+1>vt.Desc?vt.None:this.sortDirection+1;this.sortDirection=t,this.grid.sort({fieldName:this.column.field,dir:this.sortDirection,ignoreCase:this.column.sortingIgnoreCase,strategy:this.column.sortStrategy})},e.prototype.toggleFilterDropdown=function(){if(!this._componentOverlayId){var e=this.elementRef.nativeElement.querySelector("."+this.filterIconClassName);this._filterMenuOverlaySettings.positionStrategy.settings.target=e,this._filterMenuOverlaySettings.outlet=this.grid.outlet,this._componentOverlayId=this._overlayService.attach(sl,this._filterMenuOverlaySettings,this._moduleRef),this._overlayService.show(this._componentOverlayId,this._filterMenuOverlaySettings)}},e.prototype.initFilteringSettings=function(){var e=this;this._filterMenuPositionSettings={verticalStartPoint:_n.Bottom,openAnimation:Object(P.p)(be,{params:{duration:"250ms"}}),closeAnimation:Object(P.p)(ve,{params:{duration:"200ms"}})},this._filterMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new jn(this._filterMenuPositionSettings),scrollStrategy:new Fn},this._overlayService.onOpening.pipe(Object(B.a)(function(t){return t.id===e._componentOverlayId}),Object(H.a)(this._destroy$)).subscribe(function(t){e.onOverlayOpening(t)}),this._overlayService.onClosed.pipe(Object(B.a)(function(t){return t.id===e._componentOverlayId}),Object(H.a)(this._destroy$)).subscribe(function(){e.onOverlayClosed()})},e.prototype.onOverlayOpening=function(e){var t=e.componentRef.instance;t&&t.initialize(this.column,this._filteringService,this._overlayService,e.id)},e.prototype.onOverlayClosed=function(){this._componentOverlayId=null},e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-grid-header",template:'<ng-template #defaultColumn>\n    {{ column.header || column.field }}\n</ng-template>\n\n<span class="igx-grid__th-title">\n    <ng-container *ngTemplateOutlet="column.headerTemplate ? column.headerTemplate : defaultColumn; context: { $implicit: column, column: column}">\n    </ng-container>\n</span>\n<div class="igx-grid__th-icons" *ngIf="!column.columnGroup">\n    <igx-icon [attr.draggable]="false"\n        class="sort-icon"\n        *ngIf="column.sortable"\n        (click)="onSortingIconClick($event)">\n        {{sortingIcon}}\n    </igx-icon>\n\n    <igx-icon [ngClass]="filterIconClassName" [attr.draggable]="false" (click)="onFilteringIconClick($event)"\n        *ngIf="grid.allowFiltering == true && column.filterable && grid.filterMode == \'excelStyleFilter\'">\n        filter_list\n    </igx-icon>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:Pt},{type:as},{type:o.k},{type:o.u},{type:o.Q},{type:Xs},{type:o.O},{type:Tn,decorators:[{type:o.C,args:[Tn]}]}]},e.propDecorators={column:[{type:o.G}],gridID:[{type:o.G}],styleClasses:[{type:o.z,args:["class"]}],height:[{type:o.z,args:["style.height.rem"]}],hostRole:[{type:o.z,args:["attr.role"]}],tabindex:[{type:o.z,args:["attr.tabindex"]}],headerID:[{type:o.z,args:["attr.id"]}],onClick:[{type:o.A,args:["click",["$event"]]}]},e}(),cl=function(){function e(e,t,n){this.cdr=e,this.filteringService=t,this.navService=n,this.baseClass="igx-grid__filtering-cell-indicator",this.currentTemplate=null,this.moreFiltersCount=0,this.cssClass="igx-grid__filtering-cell",this.filteringService.subscribeToEvents()}return e.prototype.ngOnInit=function(){this.filteringService.columnToMoreIconHidden.set(this.column.field,!0)},e.prototype.ngAfterViewInit=function(){this.updateFilterCellArea()},e.prototype.ngDoCheck=function(){this.updateFilterCellArea()},e.prototype.onTabKeyDown=function(e){this.isLastElementFocused()&&this.filteringService.grid.navigation.navigateNextFilterCell(this.column,e),e.stopPropagation()},e.prototype.onShiftTabKeyDown=function(e){this.isFirstElementFocused()&&this.filteringService.grid.navigation.navigatePrevFilterCell(this.column,e),e.stopPropagation()},e.prototype.isChipVisible=function(e){var t=this.expressionsList[e];return!(!t||!t.isVisible)},e.prototype.updateFilterCellArea=function(){this.expressionsList=this.filteringService.getExpressions(this.column.field),this.updateVisibleFilters()},Object.defineProperty(e.prototype,"template",{get:function(){if(!this.column.filterable)return this.currentTemplate=null,null;if(this.column.filterCellTemplate)return this.currentTemplate=this.column.filterCellTemplate,this.column.filterCellTemplate;var e=this.column.filteringExpressionsTree;return e&&0!==e.filteringOperands.length?this.filteringService.isFilterComplex(this.column.field)?(this.currentTemplate=this.complexFilter,this.complexFilter):(this.currentTemplate=this.defaultFilter,this.defaultFilter):(this.currentTemplate=this.emptyFilter,this.emptyFilter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return{column:this.column}},enumerable:!0,configurable:!0}),e.prototype.onChipClicked=function(e){e?this.expressionsList.forEach(function(t){t.isSelected=t.expression===e}):this.expressionsList.length>0&&(this.expressionsList.forEach(function(e){e.isSelected=!1}),this.expressionsList[0].isSelected=!0);var t=this.filteringService.unpinnedFilterableColumns.indexOf(this.column);t>=0&&!this.isColumnRightVisible(t)?this.filteringService.scrollToFilterCell(this.filteringService.unpinnedFilterableColumns[t],!0):t>=0&&!this.isColumnLeftVisible(t)&&this.filteringService.scrollToFilterCell(this.filteringService.unpinnedFilterableColumns[t],!1),this.filteringService.filteredColumn=this.column,this.filteringService.isFilterRowVisible=!0,this.filteringService.selectedExpression=e},e.prototype.onChipRemoved=function(e,t){var n=this.expressionsList.indexOf(t);this.removeExpression(n),this.focusChip()},e.prototype.clearFiltering=function(){this.filteringService.clearFilter(this.column.field),this.cdr.detectChanges()},e.prototype.onChipKeyDown=function(e,t){"Enter"===e.key&&(e.preventDefault(),this.onChipClicked(t))},e.prototype.filteringIndicatorClass=function(){var e;return(e={})[this.baseClass]=!this.isMoreIconHidden(),e[this.baseClass+"--hidden"]=this.isMoreIconHidden(),e},e.prototype.focusChip=function(e){void 0===e&&(e=!1),this.currentTemplate===this.defaultFilter?e?this.focusFirstElement():this.focusElement():this.currentTemplate===this.emptyFilter?this.ghostChip.elementRef.nativeElement.querySelector(".igx-chip__item").focus():this.currentTemplate===this.complexFilter&&this.complexChip.elementRef.nativeElement.querySelector(".igx-chip__item").focus()},e.prototype.removeExpression=function(e){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.updateVisibleFilters(),this.filteringService.filterInternal(this.column.field)):this.clearFiltering()},e.prototype.isMoreIconHidden=function(){return this.filteringService.columnToMoreIconHidden.get(this.column.field)},e.prototype.updateVisibleFilters=function(){if(this.expressionsList.forEach(function(e){return e.isVisible=!0}),this.moreIcon&&this.filteringService.columnToMoreIconHidden.set(this.column.field,!0),this.cdr.detectChanges(),this.chipsArea&&this.expressionsList.length>1){for(var e=this.chipsArea.element.nativeElement.offsetWidth,t=0,n=this.chipsArea.element.nativeElement.children,i=0,r=this.moreIcon.nativeElement.offsetWidth-parseInt(document.defaultView.getComputedStyle(this.moreIcon.nativeElement)["margin-left"],10),o=0;o<n.length-1;o++){if(!(t+n[o].offsetWidth<e)){o%2!=0&&t+r>e?i--:i>0&&t-n[o-1].offsetWidth+r>e&&i--,this.moreFiltersCount=this.expressionsList.length-i,this.filteringService.columnToMoreIconHidden.set(this.column.field,!1);break}t+=n[o].offsetWidth,o%2==0?i++:(t+=parseInt(document.defaultView.getComputedStyle(n[o])["margin-left"],10),t+=parseInt(document.defaultView.getComputedStyle(n[o])["margin-right"],10))}for(var a=i;a<this.expressionsList.length;a++)this.expressionsList[a].isVisible=!1;this.cdr.detectChanges()}},e.prototype.isFirstElementFocused=function(){return!(this.chipsArea&&this.chipsArea.chipsList.length>0&&this.chipsArea.chipsList.first.elementRef.nativeElement.querySelector(".igx-chip__item")!==document.activeElement)},e.prototype.isLastElementFocused=function(){if(this.chipsArea){if(this.isMoreIconHidden()&&this.chipsArea.chipsList.last.elementRef.nativeElement.querySelector(".igx-chip__remove")!==document.activeElement)return!1;if(!this.isMoreIconHidden()&&this.moreIcon.nativeElement!==document.activeElement)return!1}return!0},e.prototype.focusFirstElement=function(){this.chipsArea.chipsList.length>0?this.chipsArea.chipsList.first.elementRef.nativeElement.querySelector(".igx-chip__item").focus():this.moreIcon.nativeElement.focus()},e.prototype.focusElement=function(){this.filteringService.shouldFocusNext?this.isMoreIconHidden()||0!==this.chipsArea.chipsList.length?this.chipsArea.chipsList.first.elementRef.nativeElement.querySelector(".igx-chip__item").focus():this.moreIcon.nativeElement.focus():this.isMoreIconHidden()?this.chipsArea.chipsList.last.elementRef.nativeElement.querySelector(".igx-chip__remove").focus():this.moreIcon.nativeElement.focus()},e.prototype.isColumnRightVisible=function(e){if(this.filteringService.areAllColumnsInView)return!0;for(var t=0,n=0;n<this.filteringService.unpinnedColumns.length&&(t+=parseInt(this.filteringService.unpinnedColumns[n].width,10),this.filteringService.unpinnedColumns[n]!==this.filteringService.unpinnedFilterableColumns[e]);n++);return t<=this.filteringService.displayContainerWidth+this.filteringService.displayContainerScrollLeft},e.prototype.isColumnLeftVisible=function(e){if(this.filteringService.areAllColumnsInView)return!0;for(var t=0,n=0;n<this.filteringService.unpinnedColumns.length&&this.filteringService.unpinnedColumns[n]!==this.filteringService.unpinnedFilterableColumns[e];n++)t+=parseInt(this.filteringService.unpinnedColumns[n].width,10);return t>=this.filteringService.displayContainerScrollLeft},e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-grid-filtering-cell",template:'<ng-template #emptyFilter>\n        <igx-chips-area [attr.draggable]="false" class="igx-filtering-chips">\n            <igx-chip #ghostChip [attr.draggable]="false" (click)="onChipClicked()" (keydown)="onChipKeyDown($event)" [displayDensity]="\'cosy\'">\n                <igx-icon [attr.draggable]="false" igxPrefix>filter_list</igx-icon>\n                <span [attr.draggable]="false">{{filteringService.grid.resourceStrings.igx_grid_filter}}</span>\n            </igx-chip>\n        </igx-chips-area>\n</ng-template>\n\n<ng-template #defaultFilter>\n    <igx-chips-area #chipsArea class="igx-filtering-chips">\n        <ng-container *ngFor="let item of expressionsList; let last = last; let index = index;" >\n            <igx-chip\n                *ngIf="isChipVisible(index)"\n                [removable]="true"\n                [displayDensity]="\'cosy\'"\n                (click)="onChipClicked(item.expression)"\n                (keydown)="onChipKeyDown($event, item.expression)"\n                (onRemove)="onChipRemoved($event, item)">\n                <igx-icon igxPrefix\n                    fontSet="filtering-icons"\n                    [name]="item.expression.condition.iconName">\n                </igx-icon>\n                <span #label>\n                    {{filteringService.getChipLabel(item.expression)}}\n                </span>\n            </igx-chip>\n            <span class="igx-filtering-chips__connector" *ngIf="!last && isChipVisible(index + 1)">{{filteringService.getOperatorAsString(item.afterOperator)}}</span>\n        </ng-container>\n        <div #moreIcon [ngClass]="filteringIndicatorClass()" (click)="onChipClicked()" (keydown)="onChipKeyDown($event)" tabindex="0">\n            <igx-icon>filter_list</igx-icon>\n            <igx-badge [value]="moreFiltersCount"></igx-badge>\n        </div>\n    </igx-chips-area>\n</ng-template>\n\n<ng-template #complexFilter>\n    <igx-chip #complexChip [removable]="true" [displayDensity]="\'cosy\'" (onRemove)="clearFiltering()">\n        <igx-icon igxPrefix>filter_list</igx-icon>\n        <span>{{filteringService.grid.resourceStrings.igx_grid_complex_filter}}</span>\n    </igx-chip>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template; context: context"></ng-container>\n'}]}],e.ctorParameters=function(){return[{type:o.k},{type:Xs},{type:Us}]},e.propDecorators={column:[{type:o.G}],emptyFilter:[{type:o.ob,args:["emptyFilter",{read:o.kb,static:!0}]}],defaultFilter:[{type:o.ob,args:["defaultFilter",{read:o.kb,static:!0}]}],complexFilter:[{type:o.ob,args:["complexFilter",{read:o.kb,static:!0}]}],chipsArea:[{type:o.ob,args:["chipsArea",{read:ca,static:!1}]}],moreIcon:[{type:o.ob,args:["moreIcon",{read:o.u,static:!1}]}],ghostChip:[{type:o.ob,args:["ghostChip",{read:la,static:!1}]}],complexChip:[{type:o.ob,args:["complexChip",{read:la,static:!1}]}],cssClass:[{type:o.z,args:["class.igx-grid__filtering-cell"]}],onTabKeyDown:[{type:o.A,args:["keydown.tab",["$event"]]}],onShiftTabKeyDown:[{type:o.A,args:["keydown.shift.tab",["$event"]]}]},e}(),dl=function(){function e(e,t,n,i,r){this.cdr=e,this.gridAPI=t,this.element=n,this.colResizingService=i,this.filteringService=r}return Object.defineProperty(e.prototype,"gridRowSpan",{get:function(){return this.column.gridRowSpan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridColumnSpan",{get:function(){return this.column.gridColumnSpan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowEnd",{get:function(){return this.column.rowEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colEnd",{get:function(){return this.column.colEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowStart",{get:function(){return this.column.rowStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colStart",{get:function(){return this.column.colStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.grid.getHeaderGroupWidth(this.column)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleClasses",{get:function(){var e,t,n=["igx-grid__thead-item",this.column.headerGroupClasses],i={"igx-grid__th--pinned":this.isPinned,"igx-grid__th--pinned-last":this.isLastPinned,"igx-grid__drag-col-header":this.isHeaderDragged,"igx-grid__th--filtering":this.isFiltered};try{for(var o=Object(r.j)(Object.keys(i)),a=o.next();!a.done;a=o.next()){var s=a.value;i[s]&&n.push(s)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n.join(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this.column.pinned?9999-this.grid.pinnedColumns.indexOf(this.column):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFiltered",{get:function(){return this.filteringService.filteredColumn===this.column},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLastPinned",{get:function(){return!this.grid.hasColumnLayouts&&this.column.isLastPinned},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupDisplayStyle",{get:function(){return this.grid.hasColumnLayouts&&this.column.children&&!ct()?"flex":""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPinned",{get:function(){return this.column.pinned},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHeaderDragged",{get:function(){return this.grid.draggedColumn===this.column},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasLastPinnedChildColumn",{get:function(){return this.column.allChildren.some(function(e){return e.isLastPinned})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.element.nativeElement.getBoundingClientRect().height},enumerable:!0,configurable:!0}),e.prototype.onMouseDown=function(e){e.preventDefault()},e.prototype.ngDoCheck=function(){this.cdr.markForCheck()},e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-grid-header-group",template:'<ng-container *ngIf="grid.hasColumnLayouts && column.columnGroup">\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-left"></span>\n    <div class="igx-grid__thead-group igx-grid__mrl-block"\n     [ngClass]="{\'igx-grid__th--pinned-last\': hasLastPinnedChildColumn}"\n     [ngStyle]="{\'grid-template-rows\':column.getGridTemplate(true, false),\n     \'grid-template-columns\':column.getGridTemplate(false, false),\n     \'-ms-grid-rows\':column.getGridTemplate(true, true),\n     \'-ms-grid-columns\':column.getGridTemplate(false, true)}">\n        <ng-container *ngFor="let child of column.children" >\n            <igx-grid-header-group *ngIf="!child.hidden" class="igx-grid__thead-subgroup"\n                [column]="child"\n                [gridID]="child.gridID"\n                [igxColumnMovingDrag]="child"\n                [dragGhostHost]="grid.outletDirective.nativeElement"\n                [attr.droppable]="true"\n                [igxColumnMovingDrop]="child">\n            </igx-grid-header-group>\n        </ng-container>\n    </div>\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-right"></span>\n</ng-container>\n\n<ng-template #defaultColumn>{{column.header}}</ng-template>\n\n<ng-container *ngIf="!grid.hasColumnLayouts && column.columnGroup">\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-left"></span>\n    <div class="igx-grid__thead-title"\n        [ngClass]="{\'igx-grid__th--pinned-last\': hasLastPinnedChildColumn}"\n        [igxColumnMovingDrag]="column"\n        [dragGhostHost]="grid.outletDirective.nativeElement"\n        [attr.droppable]="true"\n        [igxColumnMovingDrop]="column">\n        <ng-container *ngTemplateOutlet="column.headerTemplate ? column.headerTemplate : defaultColumn; context: { $implicit: column, column: column}">\n        </ng-container>\n    </div>\n    <div class="igx-grid__thead-group">\n        <ng-container *ngFor="let child of column.children">\n            <igx-grid-header-group *ngIf="!child.hidden" class="igx-grid__thead-subgroup"\n                                [column]="child"\n                                [gridID]="child.grid.id"\n                                [style.min-width.px]="grid.getHeaderGroupWidth(child)"\n                                [style.flex-basis.px]="grid.getHeaderGroupWidth(child)">\n            </igx-grid-header-group>\n        </ng-container>\n    </div>\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-right"></span>\n</ng-container>\n\n<ng-container *ngIf="!column.columnGroup">\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-left"></span>\n    <igx-grid-header [igxColumnMovingDrag]="column" [dragGhostHost]="grid.outletDirective.nativeElement" [attr.droppable]="true" [igxColumnMovingDrop]="column" [gridID]="column.grid.id" [column]="column"></igx-grid-header>\n    <igx-grid-filtering-cell *ngIf="grid.allowFiltering && grid.filterMode == \'quickFilter\'" [column]="column" [attr.draggable]="false"></igx-grid-filtering-cell>\n    <span *ngIf="!column.columnGroup && column.resizable" class="igx-grid__th-resize-handle"\n          [igxResizeHandle]="column"\n          [attr.draggable]="false"\n          [style.cursor]="colResizingService.resizeCursor">\n    </span>\n    <span *ngIf="grid.hasMovableColumns" class="igx-grid__th-drop-indicator-right"></span>\n</ng-container>\n'}]}],e.ctorParameters=function(){return[{type:o.k},{type:Pt},{type:o.u},{type:as},{type:Xs}]},e.propDecorators={gridRowSpan:[{type:o.z,args:["style.-ms-grid-row-span"]}],gridColumnSpan:[{type:o.z,args:["style.-ms-grid-column-span"]}],rowEnd:[{type:o.z,args:["style.grid-row-end"]}],colEnd:[{type:o.z,args:["style.grid-column-end"]}],rowStart:[{type:o.z,args:["style.-ms-grid-row"]},{type:o.z,args:["style.grid-row-start"]}],colStart:[{type:o.z,args:["style.-ms-grid-column"]},{type:o.z,args:["style.grid-column-start"]}],column:[{type:o.G}],gridID:[{type:o.G}],headerCell:[{type:o.ob,args:[ll,{static:!1}]}],filterCell:[{type:o.ob,args:[cl,{static:!1}]}],children:[{type:o.pb,args:[Object(o.vb)(function(){return e}),{read:e}]}],width:[{type:o.z,args:["style.min-width"]},{type:o.z,args:["style.flex-basis"]}],styleClasses:[{type:o.z,args:["class"]}],zIndex:[{type:o.z,args:["style.z-index"]}],groupDisplayStyle:[{type:o.z,args:["style.display"]}],onMouseDown:[{type:o.A,args:["mousedown",["$event"]]}]},e}(),pl={GridResStrings:rt({igx_grid_groupByArea_message:"Drag a column header and drop it here to group by that column.",igx_grid_emptyFilteredGrid_message:"No records found.",igx_grid_emptyGrid_message:"Grid has no data.",igx_grid_filter:"Filter",igx_grid_filter_row_close:"Close",igx_grid_filter_row_reset:"Reset",igx_grid_filter_row_placeholder:"Add filter value",igx_grid_filter_row_boolean_placeholder:"All",igx_grid_filter_row_date_placeholder:"Pick up date",igx_grid_filter_operator_and:"And",igx_grid_filter_operator_or:"Or",igx_grid_complex_filter:"Complex Filter",igx_grid_filter_contains:"Contains",igx_grid_filter_doesNotContain:"Does Not Contain",igx_grid_filter_startsWith:"Starts With",igx_grid_filter_endsWith:"Ends With",igx_grid_filter_equals:"Equals",igx_grid_filter_doesNotEqual:"Does Not Equal",igx_grid_filter_empty:"Empty",igx_grid_filter_notEmpty:"Not Empty",igx_grid_filter_null:"Null",igx_grid_filter_notNull:"Not Null",igx_grid_filter_before:"Before",igx_grid_filter_after:"After",igx_grid_filter_today:"Today",igx_grid_filter_yesterday:"Yesterday",igx_grid_filter_thisMonth:"This Month",igx_grid_filter_lastMonth:"Last Month",igx_grid_filter_nextMonth:"Next Month",igx_grid_filter_thisYear:"This Year",igx_grid_filter_lastYear:"Last Year",igx_grid_filter_nextYear:"Next Year",igx_grid_filter_greaterThan:"Greater Than",igx_grid_filter_lessThan:"Less Than",igx_grid_filter_greaterThanOrEqualTo:"Greater Than Or Equal To",igx_grid_filter_lessThanOrEqualTo:"Less Than Or Equal To",igx_grid_filter_true:"True",igx_grid_filter_false:"False",igx_grid_filter_all:"All",igx_grid_filter_condition_placeholder:"Select filter",igx_grid_summary_count:"Count",igx_grid_summary_min:"Min",igx_grid_summary_max:"Max",igx_grid_summary_sum:"Sum",igx_grid_summary_average:"Avg",igx_grid_summary_earliest:"Earliest",igx_grid_summary_latest:"Latest",igx_grid_excel_filter_moving_left:"move left",igx_grid_excel_filter_moving_left_short:"left",igx_grid_excel_filter_moving_right:"move right",igx_grid_excel_filter_moving_right_short:"right",igx_grid_excel_filter_moving_header:"move",igx_grid_excel_filter_sorting_asc:"ascending",igx_grid_excel_filter_sorting_asc_short:"asc",igx_grid_excel_filter_sorting_desc:"descending",igx_grid_excel_filter_sorting_desc_short:"desc",igx_grid_excel_filter_sorting_header:"sort",igx_grid_excel_filter_clear:"Clear column filters",igx_grid_excel_custom_dialog_add:"add filter",igx_grid_excel_custom_dialog_clear:"Clear filter",igx_grid_excel_custom_dialog_header:"Custom auto-filter on column: ",igx_grid_excel_cancel:"cancel",igx_grid_excel_apply:"apply",igx_grid_excel_search_placeholder:"Search",igx_grid_excel_select_all:"Select All",igx_grid_excel_blanks:"(Blanks)",igx_grid_excel_hide:"Hide column",igx_grid_excel_pin:"Pin column",igx_grid_excel_unpin:"Unpin column",igx_grid_excel_text_filter:"Text filter",igx_grid_excel_number_filter:"Number filter",igx_grid_excel_date_filter:"Date filter",igx_grid_excel_boolean_filter:"Boolean filter",igx_grid_excel_custom_filter:"Custom filter...",igx_grid_paginator_label:"Items per page"}),TimePickerResStrings:rt({igx_time_picker_ok:"OK",igx_time_picker_cancel:"Cancel"})};var ul=function(){function e(){this.summaryCacheMap=new Map,this.rootSummaryID="igxGridRootSummary",this.summaryHeight=0,this.maxSummariesLenght=0,this.groupingExpressions=[],this.retriggerRootPipe=0,this.deleteOperation=!1}return e.prototype.recalculateSummaries=function(){this.resetSummaryHeight(),this.grid.calculateGridHeight(),this.grid.cdr.detectChanges()},e.prototype.clearSummaryCache=function(e){if(this.summaryCacheMap.size){if(!e)return this.summaryCacheMap.clear(),void(this.grid&&this.grid.rootSummariesEnabled&&this.retriggerRootPipe++);if(e.data){var t=this.grid.primaryKey?e.data[this.grid.primaryKey]:e.data;this.removeSummaries(t)}if(void 0!==e.rowID&&null!==e.rowID){var n=e.cellID?this.grid.columnList.find(function(t){return t.index===e.cellID.columnID}).field:void 0;if(n&&this.grid.rowEditable)return;var i=this.grid.groupingExpressions&&-1!==this.grid.groupingExpressions.map(function(e){return e.fieldName}).indexOf(n);n&&i&&(n=void 0),this.removeSummaries(e.rowID,n)}}},e.prototype.removeSummaries=function(e,t){var n=this;if(this.deleteSummaryCache(this.rootSummaryID,t),1!==this.summaryCacheMap.size||!this.summaryCacheMap.has(this.rootSummaryID))if(this.isTreeGrid){if(this.grid.transactions.enabled&&this.deleteOperation)return this.deleteOperation=!1,void this.summaryCacheMap.clear();this.removeAllTreeGridSummaries(e,t)}else if(this.isHierarchicalGrid)this.grid.transactions.enabled&&this.deleteOperation&&(this.deleteOperation=!1,this.summaryCacheMap.clear());else{this.getSummaryID(e,this.grid.groupingExpressions).forEach(function(e){n.deleteSummaryCache(e,t)})}},e.prototype.removeSummariesCachePerColumn=function(e){this.summaryCacheMap.forEach(function(t){t.get(e)&&t.delete(e)}),this.grid.rootSummariesEnabled&&this.retriggerRootPipe++},e.prototype.calcMaxSummaryHeight=function(){if(this.summaryHeight)return this.summaryHeight;if(!this.grid.data)return this.summaryHeight=0;var e=0;return this.grid.columnList.filter(function(e){return e.hasSummary&&!e.hidden}).forEach(function(t){var n=t.summaries.operate([]).length;n&&e<n&&(e=n)}),this.maxSummariesLenght=e,this.summaryHeight=e*this.grid.defaultSummaryHeight,this.summaryHeight},e.prototype.calculateSummaries=function(e,t){var n=this.summaryCacheMap.get(e);return n||(n=new Map,this.summaryCacheMap.set(e,n)),this.hasSummarizedColumns&&t?(this.grid.columnList.filter(function(e){return e.hasSummary}).forEach(function(e){if(!n.get(e.field)){var i=t.map(function(t){return t[e.field]});n.set(e.field,e.summaries.operate(i))}}),n):n},e.prototype.resetSummaryHeight=function(){this.summaryHeight=0,this.grid._summaryPipeTrigger++,this.grid.rootSummariesEnabled&&this.retriggerRootPipe++},e.prototype.updateSummaryCache=function(e){if(0!==this.summaryCacheMap.size&&this.hasSummarizedColumns)if(0!==this.groupingExpressions.length){if(0===e.length)return this.groupingExpressions=[],void this.clearSummaryCache();this.compareGroupingExpressions(this.groupingExpressions,e),this.groupingExpressions=e.expressions.map(function(e){return e.fieldName})}else this.groupingExpressions=e.expressions.map(function(e){return e.fieldName})},Object.defineProperty(e.prototype,"hasSummarizedColumns",{get:function(){return this.grid.columnList.filter(function(e){return e.hasSummary&&!e.hidden}).length>0},enumerable:!0,configurable:!0}),e.prototype.deleteSummaryCache=function(e,t){if(this.summaryCacheMap.get(e)){var n=t&&this.grid.filteringExpressionsTree&&-1!==this.grid.filteringExpressionsTree.filteringOperands.map(function(e){return e.fieldName}).indexOf(t);t&&this.summaryCacheMap.get(e).get(t)&&!n?this.summaryCacheMap.get(e).delete(t):this.summaryCacheMap.delete(e),e===this.rootSummaryID&&this.grid.rootSummariesEnabled&&this.retriggerRootPipe++}},e.prototype.getSummaryID=function(e,t){var n=this;if(0===t.length)return[];var i=[],r=this.grid.data;this.grid.transactions.enabled&&(r=Lt.mergeTransactions(nt(this.grid.data),this.grid.transactions.getAggregatedChanges(!0),this.grid.primaryKey));var o=this.grid.primaryKey?r.find(function(t){return t[n.grid.primaryKey]===e}):e,a="{ ";return t.forEach(function(e){a+="'"+e.fieldName+"': '"+o[e.fieldName]+"'",i.push(a.concat(" }")),a+=", "}),i},e.prototype.removeAllTreeGridSummaries=function(e,t){var n=this.grid.records.get(e);if(n)for(n=n.children?n:n.parent;n;)e=n.rowID,this.deleteSummaryCache(e,t),n=n.parent},e.prototype.removeChildRowSummaries=function(e,t){},e.prototype.compareGroupingExpressions=function(e,t){var n=this,i=t.expressions.map(function(e){return e.fieldName}),r=t.ungroupedColumns;if(e.length<=i.length){var o=i.slice(0,e.length).toString();e.toString()!==o&&this.clearSummaryCache()}else{if(e.slice(0,i.length).toString()!==i.toString())return void this.clearSummaryCache();r.map(function(e){return e.field}).forEach(function(e){n.summaryCacheMap.forEach(function(t,i){-1!==i.indexOf(e)&&n.summaryCacheMap.delete(i)})})}},Object.defineProperty(e.prototype,"isTreeGrid",{get:function(){return"igx-tree-grid"===this.grid.nativeElement.tagName.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHierarchicalGrid",{get:function(){return"igx-hierarchical-grid"===this.grid.nativeElement.tagName.toLowerCase()},enumerable:!0,configurable:!0}),e.decorators=[{type:o.D}],e}(),hl=function(){function e(e,t){this.element=e,this.selectionService=t,this.firstCellIndentation=0,this.hasSummary=!1,this.tabindex=0}return Object.defineProperty(e.prototype,"visibleColumnIndex",{get:function(){return this.column.visibleIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"describeby",{get:function(){return"Summary_"+this.column.field},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(){this.focused=!0},e.prototype.onBlur=function(){this.focused=!1},Object.defineProperty(e.prototype,"selectionNode",{get:function(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,isSummaryRow:!0}},enumerable:!0,configurable:!0}),e.prototype.dispatchEvent=function(e){var t=e.key.toLowerCase(),n=e.ctrlKey,i=e.shiftKey;if(bt.has(t)){e.stopPropagation();var r={targetType:"summaryCell",target:this,event:e,cancel:!1};if(this.grid.onGridKeydown.emit(r),!r.cancel&&(e.preventDefault(),this.isKeySupportedInCell(t,n))){this.selectionService.keyboardState.shift=i&&!("tab"===t);var o=this.getRowElementByIndex(this.rowIndex);switch(t){case"tab":if(i){this.grid.navigation.performShiftTabKey(o,this.selectionNode);break}this.grid.navigation.performTab(o,this.selectionNode);break;case"arrowleft":case"home":case"left":if(n||"home"===t){this.grid.navigation.onKeydownHome(this.rowIndex,!0);break}this.grid.navigation.onKeydownArrowLeft(this.nativeElement,this.selectionNode);break;case"end":case"arrowright":case"right":if(n||"end"===t){this.grid.navigation.onKeydownEnd(this.rowIndex,!0);break}this.grid.navigation.onKeydownArrowRight(this.nativeElement,this.selectionNode);break;case"arrowup":case"up":this.grid.navigation.navigateUp(o,this.selectionNode);break;case"arrowdown":case"down":this.grid.navigation.navigateDown(o,this.selectionNode)}}}},Object.defineProperty(e.prototype,"width",{get:function(){return this.column.getCellWidth()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnDatatype",{get:function(){return this.column.dataType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemHeight",{get:function(){return this.column.grid.defaultSummaryHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this.column.grid},enumerable:!0,configurable:!0}),e.prototype.getRowElementByIndex=function(e){return this.grid.summariesRowList.toArray().find(function(t){return t.dataRowIndex===e}).nativeElement},e.prototype.isKeySupportedInCell=function(e,t){return t?-1===["arrowup","arrowdown","up","down","end","home"].indexOf(e):-1!==["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","tab"].indexOf(e)},e.prototype.translateSummary=function(e){return this.grid.resourceStrings["igx_grid_summary_"+e.key]||e.label},e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-grid-summary-cell",template:'<ng-container *ngIf="hasSummary">\n    <ng-container *ngFor="let summary of summaryResults">\n            <div class="igx-grid-summary__item" [style.height.px]="itemHeight">\n\n                <ng-container *ngIf="visibleColumnIndex === 0 && firstCellIndentation >= 0">\n                    <div class="igx-grid__tree-cell--padding-level-{{firstCellIndentation}}"></div>\n\n                    <div #indicator class="igx-grid__tree-grouping-indicator" style="visibility: hidden">\n                        <igx-icon fontSet="material">chevron_right</igx-icon>\n                    </div>\n                </ng-container>\n\n                <span class="igx-grid-summary__label" title="{{ summary.label }}">{{ translateSummary(summary) }}</span>\n                <span class="igx-grid-summary__result" title="{{ summary.summaryResult }}">\n                    {{ columnDatatype === \'number\' ? (summary.summaryResult | igxdecimal: grid.locale) : columnDatatype === \'date\' ? (summary.summaryResult | igxdate: grid.locale) : (summary.summaryResult) }}\n                </span>\n            </div>\n    </ng-container>\n</ng-container>\n'}]}],e.ctorParameters=function(){return[{type:o.u},{type:rs}]},e.propDecorators={summaryResults:[{type:o.G}],column:[{type:o.G}],firstCellIndentation:[{type:o.G}],hasSummary:[{type:o.G}],density:[{type:o.G}],rowIndex:[{type:o.G},{type:o.z,args:["attr.data-rowIndex"]}],visibleColumnIndex:[{type:o.z,args:["attr.data-visibleIndex"]}],tabindex:[{type:o.z,args:["attr.tabindex"]}],describeby:[{type:o.z,args:["attr.aria-describedby"]}],focused:[{type:o.z,args:["class.igx-grid-summary--active"]}],onFocus:[{type:o.A,args:["focus"]}],onBlur:[{type:o.A,args:["blur"]}],dispatchEvent:[{type:o.A,args:["keydown",["$event"]]}],width:[{type:o.z,args:["style.min-width"]},{type:o.z,args:["style.max-width"]},{type:o.z,args:["style.flex-basis"]}]},e}(),gl=function(){function e(e,t,n){this.gridAPI=e,this.element=t,this.cdr=n,this.firstCellIndentation=-1}return Object.defineProperty(e.prototype,"dataRowIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this.grid.summaryService.calcMaxSummaryHeight()-1},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this.cdr.markForCheck()},Object.defineProperty(e.prototype,"grid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.getColumnSummaries=function(e){return this.summaries.get(e)?this.summaries.get(e):[]},Object.defineProperty(e.prototype,"pinnedColumns",{get:function(){return this.grid.pinnedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unpinnedColumns",{get:function(){return this.grid.unpinnedColumns},enumerable:!0,configurable:!0}),e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-grid-summary-row",template:'<ng-container *ngIf="summaries.size">\n    <ng-container *ngIf="grid.summariesMargin">\n        <div\n        class="igx-grid__summaries-patch"\n        [style.min-width.px]="grid.summariesMargin"\n        [style.flex-basis.px]="grid.summariesMargin"\n        ></div>\n    </ng-container>\n    <ng-container *ngIf="pinnedColumns.length > 0">\n        <igx-grid-summary-cell *ngFor="let col of pinnedColumns | igxNotGrouped"\n            class="igx-grid-summary igx-grid-summary--fw igx-grid-summary--pinned"\n            [class.igx-grid-summary--cosy]="grid.displayDensity === \'cosy\'"\n            [class.igx-grid-summary--compact]="grid.displayDensity === \'compact\'"\n            [class.igx-grid-summary--empty]="!col.hasSummary"\n            [class.igx-grid-summary--pinned-last]="col.isLastPinned"\n            [column]="col"\n            [firstCellIndentation]="firstCellIndentation"\n            [rowIndex]="index"\n            [summaryResults]="getColumnSummaries(col.field)"\n            [hasSummary]="col.hasSummary"\n            [density]="grid.displayDensity"\n            [style.max-height.px]="minHeight"\n            [style.min-height.px]="minHeight">\n        </igx-grid-summary-cell>\n    </ng-container>\n    <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]="grid.unpinnedWidth" [igxForTrackBy]="grid.trackColumnChanges" [igxForSizePropName]=\'"calcPixelWidth"\' #igxDirRef>\n        <igx-grid-summary-cell\n            class="igx-grid-summary igx-grid-summary--fw"\n            [class.igx-grid-summary--cosy]="grid.displayDensity === \'cosy\'"\n            [class.igx-grid-summary--compact]="grid.displayDensity === \'compact\'"\n            [class.igx-grid-summary--empty]="!col.hasSummary"\n            [column]="col"\n            [rowIndex]="index"\n            [firstCellIndentation]="firstCellIndentation"\n            [summaryResults]="getColumnSummaries(col.field)"\n            [hasSummary]="col.hasSummary"\n            [density]="grid.displayDensity"\n            [style.max-height.px]="minHeight"\n            [style.min-height.px]="minHeight">\n        </igx-grid-summary-cell>\n    </ng-template>\n</ng-container>\n',providers:[di]}]}],e.ctorParameters=function(){return[{type:Pt},{type:o.u},{type:o.k}]},e.propDecorators={summaries:[{type:o.G}],gridID:[{type:o.G}],index:[{type:o.G}],firstCellIndentation:[{type:o.G}],dataRowIndex:[{type:o.z,args:["attr.data-rowIndex"]}],summaryCells:[{type:o.pb,args:[hl,{read:hl}]}],virtDirRow:[{type:o.ob,args:["igxDirRef",{read:gi,static:!1}]}]},e}(),fl={NONE:0,LEFT:1,TOP:2,RIGHT:3,BOTTOM:4,TOPLEFT:5,TOPRIGHT:6,BOTTOMLEFT:7,BOTTOMRIGHT:8};fl[fl.NONE]="NONE",fl[fl.LEFT]="LEFT",fl[fl.TOP]="TOP",fl[fl.RIGHT]="RIGHT",fl[fl.BOTTOM]="BOTTOM",fl[fl.TOPLEFT]="TOPLEFT",fl[fl.TOPRIGHT]="TOPRIGHT",fl[fl.BOTTOMLEFT]="BOTTOMLEFT",fl[fl.BOTTOMRIGHT]="BOTTOMRIGHT";var ml=function(){function e(e,t){var n=this;this.ref=e,this.zone=t,this.onDragStop=new o.x,this.onDragScroll=new o.x,this.end$=new E.a,this.lastDirection=fl.NONE,this.startDragSelection=function(e){if(n.activeDrag){var t=e.clientX,i=e.clientY,r=n._measureDimensions(t,i);r!==n.lastDirection&&(n.unsubscribe(),n._sub=n._interval$.subscribe(function(){return n.onDragScroll.emit(r)}),n.lastDirection=r)}},this.stopDragSelection=function(){n.activeDrag&&(n.onDragStop.emit(!1),n.unsubscribe(),n.lastDirection=fl.NONE)},this._interval$=F(100).pipe(Object(H.a)(this.end$),Object(B.a)(function(){return n.activeDrag}))}return Object.defineProperty(e.prototype,"activeDrag",{get:function(){return this._activeDrag},set:function(e){e!==this._activeDrag&&(this.unsubscribe(),this._activeDrag=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.ref.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientRect",{get:function(){return this.nativeElement.getBoundingClientRect()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.zone.runOutsideAngular(function(){e.nativeElement.addEventListener("pointerover",e.startDragSelection),e.nativeElement.addEventListener("pointerleave",e.stopDragSelection)})},e.prototype.ngOnDestroy=function(){var e=this;this.zone.runOutsideAngular(function(){e.nativeElement.removeEventListener("pointerover",e.startDragSelection),e.nativeElement.removeEventListener("pointerleave",e.stopDragSelection)}),this.unsubscribe(),this.end$.complete()},e.prototype._measureDimensions=function(e,t){var n=this.clientRect,i=Math.trunc(e-n.left),r=Math.trunc(t-n.top),o=i<=.15*n.width,a=i>=.85*n.width,s=r<=.15*n.height,l=r>=.85*n.height;return s&&o?fl.TOPLEFT:s&&a?fl.TOPRIGHT:l&&o?fl.BOTTOMLEFT:l&&a?fl.BOTTOMRIGHT:s?fl.TOP:l?fl.BOTTOM:o?fl.LEFT:a?fl.RIGHT:fl.NONE},e.prototype.unsubscribe=function(){this._sub&&this._sub.unsubscribe()},e.decorators=[{type:o.t,args:[{selector:"[igxGridDragSelect]"}]}],e.ctorParameters=function(){return[{type:o.u},{type:o.Q}]},e.propDecorators={activeDrag:[{type:o.G,args:["igxGridDragSelect"]}],onDragStop:[{type:o.S}],onDragScroll:[{type:o.S}]},e}(),yl=function(){function e(e,t,n){this._viewContainerRef=e,this._zone=t,this.cdr=n,this._embeddedViewsMap=new Map,this.onViewCreated=new o.x,this.onViewMoved=new o.x,this.onCachedViewLoaded=new o.x}return e.prototype.ngOnChanges=function(e){switch(this._getActionType(e)){case bl.CreateView:this._recreateView();break;case bl.MoveView:this._moveView();break;case bl.UseCachedView:this._useCachedView();break;case bl.UpdateViewContext:this._updateExistingContext(this.igxTemplateOutletContext)}},e.prototype.cleanCache=function(){this._embeddedViewsMap.forEach(function(e){e.destroyed||e.destroy()}),this._embeddedViewsMap.clear()},e.prototype.cleanView=function(e){var t=this._embeddedViewsMap.get(e);t&&(t.destroy(),this._embeddedViewsMap.delete(e))},e.prototype._recreateView=function(){(this._viewRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef)),this.igxTemplateOutlet)&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.igxTemplateOutlet,this.igxTemplateOutletContext),this.onViewCreated.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this.igxTemplateOutletContext.templateID&&(this._embeddedViewsMap.get(this.igxTemplateOutletContext.templateID)||this._embeddedViewsMap.set(this.igxTemplateOutletContext.templateID,this._viewRef)))},e.prototype._moveView=function(){var e=this.igxTemplateOutletContext.moveView,t=this.igxTemplateOutletContext.owner;e!==this._viewRef&&(-1!==t._viewContainerRef.indexOf(e)&&t._viewContainerRef.detach(t._viewContainerRef.indexOf(e)),this._viewRef&&-1!==this._viewContainerRef.indexOf(this._viewRef)&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef)),this._viewRef=e,this._viewContainerRef.insert(e,0),this._updateExistingContext(this.igxTemplateOutletContext),this.onViewMoved.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}))},e.prototype._useCachedView=function(){var e=this.igxTemplateOutletContext.templateID,t=e?this._embeddedViewsMap.get(e):null;this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef)),this._viewRef=t;var n=this._cloneContext(t.context);this._viewContainerRef.insert(this._viewRef,0),this._updateExistingContext(this.igxTemplateOutletContext),this.onCachedViewLoaded.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext,oldContext:n})},e.prototype._shouldRecreateView=function(e){var t=e.igxTemplateOutletContext;return!!e.igxTemplateOutlet||t&&this._hasContextShapeChanged(t)},e.prototype._hasContextShapeChanged=function(e){var t,n,i=Object.keys(e.previousValue||{}),o=Object.keys(e.currentValue||{});if(i.length===o.length){try{for(var a=Object(r.j)(o),s=a.next();!s.done;s=a.next()){var l=s.value;if(-1===i.indexOf(l))return!0}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!1}return!0},e.prototype._updateExistingContext=function(e){var t,n;try{for(var i=Object(r.j)(Object.keys(e)),o=i.next();!o.done;o=i.next()){var a=o.value;this._viewRef.context[a]=this.igxTemplateOutletContext[a]}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype._cloneContext=function(e){var t,n,i={};try{for(var o=Object(r.j)(Object.keys(e)),a=o.next();!a.done;a=o.next()){var s=a.value;i[s]=e[s]}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.prototype._getActionType=function(e){var t=this.igxTemplateOutletContext.moveView,n=this.igxTemplateOutletContext.templateID,i=n?this._embeddedViewsMap.get(n):null,r=this._shouldRecreateView(e);return t?bl.MoveView:r&&i?bl.UseCachedView:!this._viewRef||r?bl.CreateView:this.igxTemplateOutletContext?bl.UpdateViewContext:void 0},e.decorators=[{type:o.t,args:[{selector:"[igxTemplateOutlet]"}]}],e.ctorParameters=function(){return[{type:o.qb},{type:o.Q},{type:o.k}]},e.propDecorators={igxTemplateOutletContext:[{type:o.G}],igxTemplateOutlet:[{type:o.G}],onViewCreated:[{type:o.S}],onViewMoved:[{type:o.S}],onCachedViewLoaded:[{type:o.S}]},e}(),bl={CreateView:0,MoveView:1,UseCachedView:2,UpdateViewContext:3};bl[bl.CreateView]="CreateView",bl[bl.MoveView]="MoveView",bl[bl.UseCachedView]="UseCachedView",bl[bl.UpdateViewContext]="UpdateViewContext";var vl=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[yl],entryComponents:[],exports:[yl],imports:[a.b]}]}],e}(),xl=function(){function e(e){this.colResizingService=e}return e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-grid-column-resizer",template:'<div class="igx-grid__th-resize-line"\n    [style.left.px]="-99999" igxResizer\n    [style.height.px]="colResizingService.resizerHeight"\n    [restrictHResizeMax]="colResizingService.restrictResizeMax"\n    [restrictHResizeMin]="colResizingService.restrictResizeMin"\n    (resizeEnd)="colResizingService.resizeColumn($event)">\n</div>'}]}],e.ctorParameters=function(){return[{type:as}]},e.propDecorators={resizer:[{type:o.ob,args:[ls,{static:!0}]}]},e}(),_l=function(){function e(e,t,n){this.filteringService=e,this.element=t,this.cdr=n,this._positionSettings={horizontalStartPoint:xn.Left,verticalStartPoint:_n.Bottom},this._conditionsOverlaySettings={excludePositionTarget:!0,closeOnOutsideClick:!0,modal:!1,scrollStrategy:new Fn,positionStrategy:new An(this._positionSettings)},this._operatorsOverlaySettings={excludePositionTarget:!0,closeOnOutsideClick:!0,modal:!1,scrollStrategy:new Fn,positionStrategy:new An(this._positionSettings)},this.chipAreaScrollOffset=0,this._column=null,this.isKeyPressed=!1,this.isComposing=!1,this._cancelChipClick=!1,this.cssClass="igx-grid__filtering-row"}return Object.defineProperty(e.prototype,"column",{get:function(){return this._column},set:function(e){this._column&&this.expressionsList.forEach(function(e){return e.isSelected=!1}),e&&(this._column=e,this.expressionsList=this.filteringService.getExpressions(this._column.field),this.resetExpression(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.expression?this.expression.searchVal:null},set:function(e){var t=this;e||0===e?(this.expression.searchVal=this.transformValue(e),void 0===this.expressionsList.find(function(e){return e.expression===t.expression})&&this.addExpression(!0)):(this.expression.searchVal=null,this.showHideArrowButtons()),this.filter()},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this._conditionsOverlaySettings.outlet=this.column.grid.outletDirective,this._operatorsOverlaySettings.outlet=this.column.grid.outletDirective;var e=this.expressionsList.find(function(e){return!0===e.isSelected});e&&(this.expression=e.expression),this.input.nativeElement.focus()},e.prototype.onTabKeydown=function(e){e.stopPropagation(),document.activeElement!==this.closeButton.nativeElement||e.shiftKey||this.filteringService.grid.navigation.navigateFirstCellIfPossible(e)},e.prototype.onEscKeydown=function(e){e.preventDefault(),e.stopPropagation(),this.close()},Object.defineProperty(e.prototype,"disabled",{get:function(){return!(this.column.filteringExpressionsTree&&this.column.filteringExpressionsTree.filteringOperands.length>0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.column.dataType===Ft.Date?this.defaultDateUI:this.defaultFilterUI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){switch(this.column.dataType){case Ft.String:case Ft.Boolean:return"text";case Ft.Number:return"number"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conditions",{get:function(){return this.column.filters.conditionList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUnaryCondition",{get:function(){return!this.expression.condition||this.expression.condition.isUnary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this.expression.condition&&this.expression.condition.isUnary?this.filteringService.getChipLabel(this.expression):this.column.dataType===Ft.Date?this.filteringService.grid.resourceStrings.igx_grid_filter_row_date_placeholder:this.column.dataType===Ft.Boolean?this.filteringService.grid.resourceStrings.igx_grid_filter_row_boolean_placeholder:this.filteringService.grid.resourceStrings.igx_grid_filter_row_placeholder},enumerable:!0,configurable:!0}),e.prototype.onPrefixKeyDown=function(e){"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||!this.dropDownConditions.collapsed?"Tab"===e.key&&(e.shiftKey?(e.preventDefault(),e.stopPropagation()):this.dropDownConditions.collapsed||this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement)):(this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement),e.stopImmediatePropagation())},e.prototype.onInputKeyDown=function(e){if(this.isKeyPressed=!0,this.column.dataType===Ft.Boolean&&("Enter"===e.key||" "===e.key||"Spacebar"===e.key))return this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement),void e.stopPropagation();if("Enter"===e.key){if(this.isComposing)return;this.commitInput()}else!e.altKey||"ArrowDown"!==e.key&&"Down"!==e.key?"Escape"!==e.key&&"Esc"!==e.key||(e.preventDefault(),this.close()):(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement));e.stopPropagation()},e.prototype.onInputKeyUp=function(e){this.isKeyPressed=!1},e.prototype.onInput=function(e){(dt()||this.isKeyPressed||e.target.value)&&(this.value=e.target.value)},e.prototype.onCompositionStart=function(){this.isComposing=!0},e.prototype.onCompositionEnd=function(){this.isComposing=!1},e.prototype.onInputClick=function(){this.column.dataType===Ft.Boolean&&this.dropDownConditions.collapsed&&(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement))},e.prototype.datePickerClose=function(){this.input.nativeElement.focus()},e.prototype.getCondition=function(e){return this.column.filters.condition(e)},e.prototype.translateCondition=function(e){return this.filteringService.grid.resourceStrings["igx_grid_filter_"+this.getCondition(e).name]||e},e.prototype.getIconName=function(){return this.column.dataType===Ft.Boolean&&null===this.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expression.condition.iconName},e.prototype.isConditionSelected=function(e){return!!this.expression.condition&&this.expression.condition.name===e},e.prototype.clearFiltering=function(){this.filteringService.clearFilter(this.column.field),this.resetExpression(),this.input&&this.input.nativeElement.focus(),this.cdr.detectChanges(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)},e.prototype.commitInput=function(){this.expressionsList.filter(function(e){return!0===e.isSelected}).forEach(function(e){return e.isSelected=!1});for(var e=-1,t=0;t<this.expressionsList.length;t++){var n=this.expressionsList[t].expression;null!==n.searchVal||n.condition.isUnary||(e=t)}-1!==e&&this.removeExpression(e,this.expression),this.resetExpression(),this.scrollChipsWhenAddingExpression()},e.prototype.clearInput=function(){this.value=null},e.prototype.onClearKeyDown=function(e){"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),this.clearInput(),this.input.nativeElement.focus())},e.prototype.onClearClick=function(){this.clearInput(),this.input.nativeElement.focus()},e.prototype.onCommitKeyDown=function(e){"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),this.commitInput(),this.input.nativeElement.focus())},e.prototype.onCommitClick=function(){this.commitInput(),this.input.nativeElement.focus()},e.prototype.onInputGroupFocusout=function(){var e=this;(this.value||0===this.value)&&requestAnimationFrame(function(){var t=document.activeElement;t&&e.inputGroup.nativeElement.contains(t)||!e.dropDownConditions.collapsed||e.commitInput()})},e.prototype.close=function(){var e=this;1===this.expressionsList.length&&null===this.expressionsList[0].expression.searchVal&&!1===this.expressionsList[0].expression.condition.isUnary?this.filteringService.getExpressions(this.column.field).pop():this.expressionsList.forEach(function(t){null!==t.expression.searchVal||t.expression.condition.isUnary||e.filteringService.removeExpression(e.column.field,e.expressionsList.indexOf(t))}),this.filteringService.isFilterRowVisible=!1,this.filteringService.updateFilteringCell(this.column),this.filteringService.focusFilterCellChip(this.column,!0),this.filteringService.filteredColumn=null,this.filteringService.selectedExpression=null,this.cdr.detectChanges(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)},e.prototype.noop=function(){},e.prototype.onDateSelected=function(e){this.value=e,this.commitInput()},e.prototype.toggleConditionsDropDown=function(e){this._conditionsOverlaySettings.positionStrategy.settings.target=e,this.dropDownConditions.toggle(this._conditionsOverlaySettings)},e.prototype.toggleOperatorsDropDown=function(e,t){this._operatorsOverlaySettings.positionStrategy.settings.target=e.target.parentElement,this.dropDownOperators.toArray()[t].toggle(this._operatorsOverlaySettings)},e.prototype.onConditionsChanged=function(e){var t=this,n=e.newSelection.value;this.expression.condition=this.getCondition(n),this.expression.condition.isUnary?requestAnimationFrame(function(){return t.unaryConditionChangedCallback()}):requestAnimationFrame(function(){return t.conditionChangedCallback()}),this.input&&requestAnimationFrame(function(){return t.input.nativeElement.focus()})},e.prototype.onChipPointerdown=function(e,t){var n=document.activeElement;this._cancelChipClick=t.selected&&n&&this.inputGroup.nativeElement.contains(n)},e.prototype.onChipClick=function(e,t){this._cancelChipClick||(this._cancelChipClick=!1,this.expressionsList.forEach(function(e){return e.isSelected=!1}),this.toggleChip(t))},e.prototype.toggleChip=function(e){e.isSelected=!e.isSelected,e.isSelected&&(this.expression=e.expression,this.input&&this.input.nativeElement.focus())},e.prototype.onChipKeyDown=function(e,t){"Enter"===e.key&&(e.preventDefault(),this.toggleChip(t))},e.prototype.onLeftArrowKeyDown=function(e){"Tab"===e.key&&(this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))},e.prototype.onChipRemoved=function(e,t){var n=this.expressionsList.indexOf(t);this.removeExpression(n,t.expression),this.scrollChipsOnRemove()},e.prototype.onLogicOperatorChanged=function(e,t){var n=this;e.oldSelection&&(t.afterOperator=e.newSelection.value,this.expressionsList[this.expressionsList.indexOf(t)+1].beforeOperator=t.afterOperator,requestAnimationFrame(function(){return n.filter()}))},e.prototype.scrollChipsOnArrowPress=function(e){var t=0,n=this.chipsArea.element.nativeElement.children,i=this.container.nativeElement.getBoundingClientRect();if("right"===e){for(var r=0;r<n.length;r++)Math.ceil(n[r].getBoundingClientRect().right)<Math.ceil(i.right)&&t++;t<n.length&&(this.chipAreaScrollOffset-=Math.ceil(n[t].getBoundingClientRect().right)-Math.ceil(i.right)+1,this.transform(this.chipAreaScrollOffset))}if("left"===e){for(r=0;r<n.length;r++)Math.ceil(n[r].getBoundingClientRect().left)<Math.ceil(i.left)&&t++;t>0&&(this.chipAreaScrollOffset+=Math.ceil(i.left)-Math.ceil(n[t-1].getBoundingClientRect().left)+1,this.transform(this.chipAreaScrollOffset))}},e.prototype.showHideArrowButtons=function(){var e=this;requestAnimationFrame(function(){if(e.filteringService.isFilterRowVisible){var t=e.container.nativeElement.getBoundingClientRect().width;e.chipsAreaWidth=e.chipsArea.element.nativeElement.getBoundingClientRect().width,e.showArrows=e.chipsAreaWidth>=t&&e.isColumnFiltered,e.cdr.detectChanges()}})},e.prototype.transformValue=function(e){return this.column.dataType===Ft.Number?e=parseFloat(e):this.column.dataType===Ft.Boolean&&(e=Boolean(e)),e},e.prototype.addExpression=function(e){var t=new $s;t.expression=this.expression,t.beforeOperator=this.expressionsList.length>0?Et.And:null,t.isSelected=e,this.expressionsList.push(t);var n=this.expressionsList.length;this.expressionsList[n-2]&&(this.expressionsList[n-2].afterOperator=this.expressionsList[n-1].beforeOperator),this.showHideArrowButtons()},e.prototype.removeExpression=function(e,t){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.filter(),this.expression===t&&this.resetExpression(),this.showHideArrowButtons()):this.clearFiltering()},e.prototype.resetExpression=function(){this.expression={fieldName:this.column.field,condition:null,searchVal:null,ignoreCase:this.column.filteringIgnoreCase},this.column.dataType!==Ft.Boolean&&(this.expression.condition=this.getCondition(this.conditions[0])),this.column.dataType===Ft.Date&&this.input&&(this.input.nativeElement.value=null),this.showHideArrowButtons()},e.prototype.scrollChipsWhenAddingExpression=function(){var e=this.chipsArea.element.nativeElement.children;if(e&&0!==e.length){var t=Math.ceil(this.container.nativeElement.getBoundingClientRect().right),n=Math.ceil(e[e.length-1].getBoundingClientRect().right);n>=t&&(this.chipAreaScrollOffset-=n-t,this.transform(this.chipAreaScrollOffset))}},e.prototype.resetChipsArea=function(){this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset),this.showHideArrowButtons()},e.prototype.transform=function(e){var t=this;requestAnimationFrame(function(){t.chipsArea.element.nativeElement.style.transform="translate("+e+"px)"})},e.prototype.scrollChipsOnRemove=function(){for(var e=0,t=this.chipsArea.element.nativeElement.children,n=this.container.nativeElement.getBoundingClientRect(),i=0;i<t.length;i++)Math.ceil(t[i].getBoundingClientRect().right)<Math.ceil(n.left)&&e++;if(e<=2)this.chipAreaScrollOffset=0;else{var r="chip"===t[e].id?e-2:e-1;this.chipAreaScrollOffset+=Math.ceil(n.left)-Math.ceil(t[r].getBoundingClientRect().left)+1}this.transform(this.chipAreaScrollOffset)},e.prototype.conditionChangedCallback=function(){this.expression.searchVal||0===this.expression.searchVal?this.filter():this.value&&(this.value=null)},e.prototype.unaryConditionChangedCallback=function(){var e=this;this.value&&(this.value=null),void 0===this.expressionsList.find(function(t){return t.expression===e.expression})&&this.addExpression(!0),this.filter()},e.prototype.filter=function(){this.filteringService.filterInternal(this.column.field)},Object.defineProperty(e.prototype,"isColumnFiltered",{get:function(){return this.column.filteringExpressionsTree&&this.column.filteringExpressionsTree.filteringOperands.length>0},enumerable:!0,configurable:!0}),e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-grid-filtering-row",template:'\x3c!-- Have to apply styles inline because of the overlay outlet ... --\x3e\n<igx-drop-down #inputGroupConditions [height]="\'200px\'" (onSelection)="onConditionsChanged($event)">\n    <igx-drop-down-item\n        *ngFor="let condition of conditions"\n        [value]="condition"\n        [selected]="isConditionSelected(condition)">\n        <igx-icon fontSet="filtering-icons" [name]="getCondition(condition).iconName"></igx-icon>\n        <span style="margin-left: 16px">{{ translateCondition(condition) }}</span>\n    </igx-drop-down-item>\n</igx-drop-down>\n\n<ng-template #defaultFilterUI>\n    <igx-input-group #inputGroup type="box" [displayDensity]="\'compact\'" [supressInputAutofocus]="true" (focusout)="onInputGroupFocusout()">\n        <igx-prefix #inputGroupPrefix\n                    (click)="toggleConditionsDropDown(inputGroupPrefix)"\n                    (keydown)="onPrefixKeyDown($event)"\n                    tabindex="0"\n                    [igxDropDownItemNavigation]="inputGroupConditions">\n            <igx-icon fontSet="filtering-icons" [name]="getIconName()"></igx-icon>\n        </igx-prefix>\n        <input\n            #input\n            igxInput\n            tabindex="0"\n            [placeholder]="placeholder"\n            autocomplete="off"\n            [value]="value"\n            (input)="onInput($event)"\n            [type]="type"\n            [readonly]="isUnaryCondition"\n            (click)="onInputClick()"\n            (compositionstart)="onCompositionStart()"\n            (compositionend)="onCompositionEnd()"\n            (keydown)="onInputKeyDown($event)"\n            (keyup)="onInputKeyUp($event)"/>\n            <igx-suffix *ngIf="value || value === 0" >\n                <igx-icon (keydown)="onCommitKeyDown($event)" (click)="onCommitClick()" tabindex="0">done</igx-icon>\n                <igx-icon (keydown)="onClearKeyDown($event)" (click)="onClearClick()" tabindex="0">clear</igx-icon>\n            </igx-suffix>\n    </igx-input-group>\n</ng-template>\n\n<ng-template #defaultDateUI>\n    <igx-date-picker\n        tabindex="0"\n        mode="dropdown"\n        [value]="value"\n        [outlet]="filteringService.grid.outletDirective"\n        [locale]="filteringService.grid.locale"\n        (onSelection)="onDateSelected($event)"\n        (onClose)="datePickerClose()">\n        <ng-template igxDatePickerTemplate let-openDialog="openDialog">\n            <igx-input-group #dropDownTarget type="box" [displayDensity]="\'compact\'" [supressInputAutofocus]="true">\n                <igx-prefix #inputGroupPrefix\n                            tabindex="0"\n                            (click)="toggleConditionsDropDown(inputGroupPrefix)"\n                            (keydown)="onPrefixKeyDown($event)"\n                            [igxDropDownItemNavigation]="inputGroupConditions">\n                    <igx-icon fontSet="filtering-icons" [name]="expression.condition.iconName"></igx-icon>\n                </igx-prefix>\n                <input #input\n                       igxInput\n                       tabindex="0"\n                       (click)="expression.condition.isUnary ? noop() : openDialog(dropDownTarget.element.nativeElement)"\n                       [placeholder]="placeholder"\n                       autocomplete="off"\n                       [value]="value | igxdate: filteringService.grid.locale"\n                       [readonly]="true"\n                       (keydown)="onInputKeyDown($event)"/>\n                <igx-suffix *ngIf="value" (keydown)="onClearKeyDown($event)" (click)="clearInput()" tabindex="0">\n                    <igx-icon>clear</igx-icon>\n                </igx-suffix>\n            </igx-input-group>\n            </ng-template>\n    </igx-date-picker>\n</ng-template>\n\n<ng-container *ngTemplateOutlet="template; context: { $implicit: this }"></ng-container>\n\n<button igxButton="icon" class="igx-grid__filtering-row-scroll-start" *ngIf="showArrows" (keydown)="onLeftArrowKeyDown($event)" (click)="scrollChipsOnArrowPress(\'left\')">\n    <igx-icon>navigate_before</igx-icon>\n</button>\n\n<div #container class="igx-grid__filtering-row-main">\n    <div>\n         <igx-chips-area #chipsArea>\n            <ng-container *ngFor="let item of expressionsList; index as i; let last = last;" tabindex="0">\n                <igx-chip #chip id=\'chip\'\n                    (pointerdown)="onChipPointerdown($event, chip)"\n                    (click)="onChipClick($event, item)"\n                    (keydown)="onChipKeyDown($event, item)"\n                    (onRemove)="onChipRemoved($event, item)"\n                    [selectable]="false"\n                    [selected]="item.isSelected"\n                    [displayDensity]="\'cosy\'"\n                    [removable]="true">\n                    <igx-icon\n                        igxPrefix\n                        fontSet="filtering-icons"\n                        [name]="item.expression.condition.iconName">\n                    </igx-icon>\n                    <span>{{filteringService.getChipLabel(item.expression)}}</span>\n                </igx-chip>\n\n                <span id=\'operand\' *ngIf="!last">\n                    <button igxButton (click)="toggleOperatorsDropDown($event, i)" [igxDropDownItemNavigation]="operators">\n                        <igx-icon>expand_more</igx-icon>\n                        <span>{{filteringService.getOperatorAsString(item.afterOperator)}}</span>\n                    </button>\n                    <igx-drop-down #operators (onSelection)="onLogicOperatorChanged($event, item)">\n                            <igx-drop-down-item [value]="0" [selected]="item.afterOperator === 0">{{filteringService.grid.resourceStrings.igx_grid_filter_operator_and}}</igx-drop-down-item>\n                            <igx-drop-down-item [value]="1" [selected]="item.afterOperator === 1">{{filteringService.grid.resourceStrings.igx_grid_filter_operator_or}}</igx-drop-down-item>\n                    </igx-drop-down>\n                </span>\n            </ng-container>\n        </igx-chips-area>\n    </div>\n</div>\n\n<button igxButton="icon" class="igx-grid__filtering-row-scroll-end" *ngIf="showArrows" (click)="scrollChipsOnArrowPress(\'right\')">\n    <igx-icon>navigate_next</igx-icon>\n</button>\n\n<div #buttonsContainer class="igx-grid__filtering-row-editing-buttons">\n    <button igxButton igxRipple (click)="clearFiltering()" [disabled]="disabled" [tabindex]="disabled">{{filteringService.grid.resourceStrings.igx_grid_filter_row_reset}}</button>\n    <button #closeButton igxButton igxRipple (click)="close()">{{filteringService.grid.resourceStrings.igx_grid_filter_row_close}}</button>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:Xs},{type:o.u},{type:o.k}]},e.propDecorators={column:[{type:o.G}],value:[{type:o.G}],defaultFilterUI:[{type:o.ob,args:["defaultFilterUI",{read:o.kb,static:!0}]}],defaultDateUI:[{type:o.ob,args:["defaultDateUI",{read:o.kb,static:!0}]}],input:[{type:o.ob,args:["input",{read:o.u,static:!1}]}],dropDownConditions:[{type:o.ob,args:["inputGroupConditions",{read:mi,static:!0}]}],chipsArea:[{type:o.ob,args:["chipsArea",{read:ca,static:!0}]}],dropDownOperators:[{type:o.pb,args:["operators",{read:mi}]}],inputGroup:[{type:o.ob,args:["inputGroup",{read:o.u,static:!1}]}],inputGroupPrefix:[{type:o.ob,args:["inputGroupPrefix",{read:o.u,static:!1}]}],container:[{type:o.ob,args:["container",{static:!0}]}],operand:[{type:o.ob,args:["operand",{static:!1}]}],closeButton:[{type:o.ob,args:["closeButton",{static:!0}]}],cssClass:[{type:o.z,args:["class.igx-grid__filtering-row"]}],onTabKeydown:[{type:o.A,args:["keydown.shift.tab",["$event"]]},{type:o.A,args:["keydown.tab",["$event"]]}],onEscKeydown:[{type:o.A,args:["keydown.esc",["$event"]]}]},e}(),wl=new o.E("IgxGridTransaction"),Cl={top:"top",bottom:"bottom"},Sl={rootLevelOnly:"rootLevelOnly",childLevelsOnly:"childLevelsOnly",rootAndChildLevels:"rootAndChildLevels"},Dl={quickFilter:"quickFilter",excelStyleFilter:"excelStyleFilter"},Ol="dataCell",Il="summaryCell",kl="groupRow",Pl="hierarchicalRow",El=function(e){function t(t,n,i,r,a,s,l,c,d,p,u,h,g,f,m,y,b){var v=e.call(this,b)||this;return v.selectionService=t,v.crudService=n,v.gridAPI=i,v.selection=r,v._transactions=a,v.elementRef=s,v.zone=l,v.document=c,v.cdr=d,v.resolver=p,v.differs=u,v.viewRef=h,v.navigation=g,v.filteringService=f,v.overlayService=m,v.summaryService=y,v._displayDensityOptions=b,v._init=!0,v._resourceStrings=pl.GridResStrings,v._emptyGridMessage=null,v._emptyFilteredGridMessage=null,v._isLoading=!1,v._locale=null,v._destroyed=!1,v.overlayIDs=[],v.autoGenerate=!1,v.rowDragging=!1,v.evenRowCSS="igx-grid__tr--even",v.oddRowCSS="igx-grid__tr--odd",v.columnHidingTitle="",v.columnPinningTitle="",v.onCellClick=new o.x,v.onSelection=new o.x,v.onRowSelectionChange=new o.x,v.onColumnPinning=new o.x,v.onCellEditCancel=new o.x,v.onCellEditEnter=new o.x,v.onCellEdit=new o.x,v.onRowEditEnter=new o.x,v.onRowEdit=new o.x,v.onRowEditCancel=new o.x,v.onColumnInit=new o.x,v.onSortingDone=new o.x,v.onFilteringDone=new o.x,v.onPagingDone=new o.x,v.onRowAdded=new o.x,v.onRowDeleted=new o.x,v.onDataPreLoad=new o.x,v.onColumnResized=new o.x,v.onContextMenu=new o.x,v.onDoubleClick=new o.x,v.onColumnVisibilityChanged=new o.x,v.onColumnMovingStart=new o.x,v.onColumnMoving=new o.x,v.onColumnMovingEnd=new o.x,v.onGridKeydown=new o.x,v.onRowDragStart=new o.x,v.onRowDragEnd=new o.x,v.onGridCopy=new o.x,v.tabindex=0,v.hostRole="grid",v.columnsWithNoSetWidths=null,v._showToolbar=!1,v._exportExcel=!1,v._exportCsv=!1,v._toolbarTitle=null,v._exportText=null,v._exportExcelText=null,v._exportCsvText=null,v._rowEditable=!1,v._filteredSortedData=null,v.toolbar=null,v.toolbarHtml=null,v.clipboardOptions={enabled:!0,copyHeaders:!0,copyFormatters:!0,separator:"\t"},v.onToolbarExporting=new o.x,v.onRangeSelection=new o.x,v.calcHeight=0,v.chipsGoupingExpressions=[],v.allRowsSelected=!1,v.disableTransitions=!1,v.lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[]},v.columnWidthSetByUser=!1,v.destroy$=new E.a,v._perPage=15,v._page=0,v._paging=!1,v._rowSelection=!1,v._rowDrag=!1,v._pipeTrigger=0,v._summaryPipeTrigger=0,v._columns=[],v._pinnedColumns=[],v._unpinnedColumns=[],v._filteringExpressionsTree=new Dt(Et.And),v._sortingExpressions=[],v._maxLevelHeaderDepth=null,v._columnHiding=!1,v._columnPinning=!1,v._keydownListener=null,v._vScrollListener=null,v._hScrollListener=null,v._wheelListener=null,v._allowFiltering=!1,v._filterMode=Dl.quickFilter,v._hiddenColumnsText="",v._pinnedColumnsText="",v._height="100%",v._width="100%",v._autoSize=!1,v._ngAfterViewInitPassed=!1,v._multiRowLayoutRowSize=1,v._totalWidth=NaN,v._pinnedVisible=[],v._unpinnedVisible=[],v._pinnedWidth=NaN,v._unpinnedWidth=NaN,v._visibleColumns=[],v._columnGroups=!1,v._defaultTargetRecordNumber=10,v._onFocusChange=new o.x,v._summaryPosition=Cl.bottom,v._summaryCalculationMode=Sl.rootAndChildLevels,v.rowEditPositioningStrategy=new _s({horizontalDirection:xn.Right,verticalDirection:_n.Bottom,horizontalStartPoint:xn.Left,verticalStartPoint:_n.Bottom,closeAnimation:null}),v.rowEditSettings={scrollStrategy:new Fn,modal:!1,closeOnOutsideClick:!1,outlet:v.rowOutletDirective,positionStrategy:v.rowEditPositioningStrategy},v.cdr.detach(),v.resizeHandler=function(){v.zone.run(function(){return v.calculateGridSizes()})},v}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"scrollWidth",{get:function(){return this._scrollWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resourceStrings",{get:function(){return this._resourceStrings},set:function(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteringLogic",{get:function(){return this._filteringExpressionsTree.operator},set:function(e){this._filteringExpressionsTree.operator=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteringExpressionsTree",{get:function(){return this._filteringExpressionsTree},set:function(e){if(e&&e instanceof Dt){for(var t=e,n=0;n<t.filteringOperands.length;n++)if(!(t.filteringOperands[n]instanceof Dt)){var i=new Dt(Et.And,t.filteringOperands[n].fieldName);i.filteringOperands.push(t.filteringOperands[n]),t.filteringOperands[n]=i}var r=new Dt(e.operator,e.fieldName);r.filteringOperands=e.filteringOperands,this._filteringExpressionsTree=r,this.filteringService.isFilteringExpressionsTreeEmpty()&&(this.filteredData=null),this.filteringService.refreshExpressions(),this.summaryService.clearSummaryCache(),this.markForCheck()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale?this._locale:"en"},set:function(e){this._locale=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paging",{get:function(){return this._paging},set:function(e){this._paging=e,this._pipeTrigger++,this._ngAfterViewInitPassed&&(this.cdr.detectChanges(),this.calculateGridHeight(),this.cdr.detectChanges())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._page},set:function(e){e===this._page||e<0||e>this.totalPages-1||(this.onPagingDone.emit({previous:this._page,current:e}),this._page=e,this.cdr.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"perPage",{get:function(){return this._perPage},set:function(e){e<0||(this.selectionService.clear(),this._perPage=e,this.page=0,this.endEdit(!0),this.cdr.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnHiding",{get:function(){return this._columnHiding},set:function(e){this._columnHiding!==e&&(this._columnHiding=e,this.gridAPI.grid&&(this.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowSelectable",{get:function(){return this._rowSelection},set:function(e){this._rowSelection=e,this.gridAPI.grid&&this.columnList&&(this.allRowsSelected=!1,this.deselectAllRows(),this.calculateGridSizes(),this.cdr.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowDraggable",{get:function(){return this._rowDrag&&this.hasVisibleColumns},set:function(e){this._rowDrag=e,this.gridAPI.grid&&this.columnList&&(this.calculateGridSizes(),this.cdr.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowEditable",{get:function(){return this._rowEditable},set:function(e){this.gridAPI.grid&&this.refreshGridState(),this._rowEditable=e,this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this._autoSize=!1,this.nativeElement.style.height=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostWidth",{get:function(){return this._width||this._hostWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.nativeElement.style.width=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerWidth",{get:function(){return parseInt(this.width,10)-17},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeight",{get:function(){return this._rowHeight?this._rowHeight:this.defaultRowHeight},set:function(e){this._rowHeight=parseInt(e,10)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnWidth",{get:function(){return this._columnWidth},set:function(e){this._columnWidth=e,this.columnWidthSetByUser=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emptyGridMessage",{get:function(){return this._emptyGridMessage||this.resourceStrings.igx_grid_emptyGrid_message},set:function(e){this._emptyGridMessage=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._isLoading},set:function(e){this._isLoading=e,this.gridAPI.grid&&this.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emptyFilteredGridMessage",{get:function(){return this._emptyFilteredGridMessage||this.resourceStrings.igx_grid_emptyFilteredGrid_message},set:function(e){this._emptyFilteredGridMessage=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnPinning",{get:function(){return this._columnPinning},set:function(e){this._columnPinning!==e&&(this._columnPinning=e,this.gridAPI.grid&&(this.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowFiltering",{get:function(){return this._allowFiltering},set:function(e){this._allowFiltering!==e&&(this._allowFiltering=e,this.calcHeight&&(this.calcHeight+=e?-50:50),this._ngAfterViewInitPassed&&this.maxLevelHeaderDepth&&(this.theadRow.nativeElement.style.height=(this.maxLevelHeaderDepth+1)*this.defaultRowHeight+(e&&this.filterMode===Dl.quickFilter?50:0)+1+"px"),this.filteringService.isFilterRowVisible=!1,this.filteringService.filteredColumn=null,this.filteringService.registerSVGIcons(),this.gridAPI.grid&&this.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterMode",{get:function(){return this._filterMode},set:function(e){this._filterMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"summaryPosition",{get:function(){return this._summaryPosition},set:function(e){this._summaryPosition=e,this.gridAPI.grid&&this.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"summaryCalculationMode",{get:function(){return this._summaryCalculationMode},set:function(e){this._summaryCalculationMode=e,this.gridAPI.grid&&(this.summaryService.resetSummaryHeight(),this.endEdit(!0),this.calculateGridHeight(),this.cdr.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onFocusChange",{get:function(){return this._onFocusChange},set:function(e){this._onFocusChange=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerGroupsList",{get:function(){return this.headerGroups?gt(this.headerGroups.toArray()):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerCellList",{get:function(){return this.headerGroupsList.map(function(e){return e.headerCell}).filter(function(e){return e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterCellList",{get:function(){return this.headerGroupsList.map(function(e){return e.filterCell}).filter(function(e){return e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"summariesRowList",{get:function(){var e=new o.X;if(!this._summaryRowList)return e;var t=this._summaryRowList.filter(function(e){return null!==e.element.nativeElement.parentElement});return e.reset(t),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowList",{get:function(){var e=new o.X;if(!this._rowList)return e;var t=this._rowList.filter(function(e){return null!==e.element.nativeElement.parentElement}).sort(function(e,t){return e.index-t.index});return e.reset(t),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataRowList",{get:function(){var e=new o.X;if(!this._dataRowList)return e;var t=this._dataRowList.filter(function(e){return null!==e.element.nativeElement.parentElement}).sort(function(e,t){return e.index-t.index});return e.reset(t),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toolbarCustomContentTemplate",{get:function(){return this.toolbarCustomContentTemplates.first},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outletDirective",{get:function(){return this._outletDirective},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowOutletDirective",{get:function(){return this.rowEditingOutletDirective},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentRowOutletDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowEditContainer",{get:function(){return this.rowEditCustom?this.rowEditCustom:this.defaultRowEditTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowInEditMode",{get:function(){var e=this.crudService.row;return null!==e?this.rowList.find(function(t){return t.rowID===e.id}):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstEditableColumnIndex",{get:function(){var e=this.navigation.gridOrderedColumns.findIndex(function(e){return e.editable});return-1!==e?e:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastEditableColumnIndex",{get:function(){var e=this.navigation.gridOrderedColumns,t=e.reverse().findIndex(function(e){return e.editable});return-1!==t?e.length-1-t:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowEditTabs",{get:function(){return this.rowEditTabsCUSTOM.length?this.rowEditTabsCUSTOM:this.rowEditTabsDEFAULT},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostClass",{get:function(){return this.getComponentDensityClass("igx-grid")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bannerClass",{get:function(){var e=this.rowEditPositioningStrategy.isTop?"igx-banner__border-top":"igx-banner__border-bottom";return this.getComponentDensityClass("igx-banner")+" "+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pipeTrigger",{get:function(){return this._pipeTrigger},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"summaryPipeTrigger",{get:function(){return this._summaryPipeTrigger},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortingExpressions",{get:function(){return this._sortingExpressions},set:function(e){this._sortingExpressions=nt(e),this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLevelHeaderDepth",{get:function(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.hasColumnLayouts?this.columnList.reduce(function(e,t){return Math.max(e,t.rowStart)},0):this.columnList.reduce(function(e,t){return Math.max(e,t.level)},0)),this._maxLevelHeaderDepth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenColumnsCount",{get:function(){return this.columnList.filter(function(e){return!1===e.columnGroup&&!0===e.hidden}).length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenColumnsText",{get:function(){return this._hiddenColumnsText},set:function(e){this._hiddenColumnsText=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pinnedColumnsText",{get:function(){return this._pinnedColumnsText},set:function(e){this._pinnedColumnsText=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transactions",{get:function(){return this._transactions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentRowState",{get:function(){return this._currentRowState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showToolbar",{get:function(){return this._showToolbar},set:function(e){this._showToolbar!==e&&(this._showToolbar=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toolbarTitle",{get:function(){return this._toolbarTitle},set:function(e){this._toolbarTitle!==e&&(this._toolbarTitle=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exportExcel",{get:function(){return this.getExportExcel()},set:function(e){this._exportExcel!==e&&(this._exportExcel=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exportCsv",{get:function(){return this.getExportCsv()},set:function(e){this._exportCsv!==e&&(this._exportCsv=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exportText",{get:function(){return this._exportText},set:function(e){this._exportText!==e&&(this._exportText=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exportExcelText",{get:function(){return this._exportExcelText},set:function(e){this._exportExcelText!==e&&(this._exportExcelText=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exportCsvText",{get:function(){return this._exportCsvText},set:function(e){this._exportCsvText!==e&&(this._exportCsvText=e,this.cdr.markForCheck(),this._ngAfterViewInitPassed&&this.calculateGridSizes())},enumerable:!0,configurable:!0}),t.prototype.verticalScrollHandler=function(e){var t=this;this.verticalScrollContainer.onScroll(e),dt()&&this.wheelHandler(!1),this.disableTransitions=!0,this.zone.run(function(){t.zone.onStable.pipe(Object(W.a)()).subscribe(function(){t.verticalScrollContainer.onChunkLoad.emit(t.verticalScrollContainer.state)}),t.rowEditable&&t.changeRowEditingOverlayStateOnScroll(t.rowInEditMode),t.disableTransitions=!1}),this.hideOverlays()},t.prototype.horizontalScrollHandler=function(e){var t=this,n=e.target.scrollLeft;dt()&&this.wheelHandler(!0),this.headerContainer.onHScroll(n),this._horizontalForOfs.forEach(function(e){return e.onHScroll(n)}),this.cdr.markForCheck(),this.zone.run(function(){t.zone.onStable.pipe(Object(W.a)()).subscribe(function(){t.parentVirtDir.onChunkLoad.emit(t.headerContainer.state)})}),this.hideOverlays()},t.prototype.hideOverlays=function(){var e=this;this.overlayIDs.forEach(function(t){e.overlayService.hide(t),e.overlayService.onClosed.pipe(Object(B.a)(function(e){return e.id===t}),Object(H.a)(e.destroy$)).subscribe(function(){e.nativeElement.focus()})})},t.prototype.keydownHandler=function(e){var t=e.key.toLowerCase();(function(e){return-1!==["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","space","spacebar"," "].indexOf(e)}(t)&&32!==e.keyCode||"tab"===t||"pagedown"===t||"pageup"===t)&&(e.preventDefault(),"pagedown"===t?(this.verticalScrollContainer.scrollNextPage(),this.nativeElement.focus()):"pageup"===t&&(this.verticalScrollContainer.scrollPrevPage(),this.nativeElement.focus()))},t.prototype._setupServices=function(){this.gridAPI.grid=this,this.crudService.grid=this,this.navigation.grid=this,this.filteringService.grid=this,this.summaryService.grid=this},t.prototype.ngOnChanges=function(e){if(!this._init){var t=e.height,n=e.width;(t||n)&&this.calculateGridSizes()}},t.prototype._setupListeners=function(){var e=this,t=Object(H.a)(this.destroy$);this.onRowAdded.pipe(t).subscribe(function(t){return e.refreshGridState(t)}),this.onRowDeleted.pipe(t).subscribe(function(t){e.summaryService.deleteOperation=!0,e.summaryService.clearSummaryCache(t)}),this.transactions.onStateUpdate.pipe(Object(H.a)(this.destroy$)).subscribe(function(){e.summaryService.clearSummaryCache(),e._pipeTrigger++,e.markForCheck(),0===e.transactions.getAggregatedChanges(!1).length&&e.gridAPI.atInexistingPage()&&e.page--}),this.onPagingDone.pipe(t).subscribe(function(){e.endEdit(!0),e.selectionService.clear(),e.selectionService.activeElement=null}),this.onColumnMoving.pipe(t).subscribe(function(){return e.endEdit(!0)}),this.onColumnResized.pipe(t).subscribe(function(){return e.endEdit(!0)}),this.overlayService.onOpened.pipe(Object(H.a)(this.destroy$)).subscribe(function(t){e.overlayService.getOverlayById(t.id).settings.outlet===e.outletDirective&&e.overlayIDs.indexOf(t.id)<0&&e.overlayIDs.push(t.id)}),this.overlayService.onClosed.pipe(Object(H.a)(this.destroy$)).subscribe(function(t){var n=e.overlayIDs.indexOf(t.id);-1!==n&&e.overlayIDs.splice(n,1)})},t.prototype.ngOnInit=function(){this._setupServices(),this._setupListeners(),this.columnListDiffer=this.differs.find([]).create(null),this.calcWidth=this.width&&-1===this.width.indexOf("%")?parseInt(this.width,10):0,this.shouldGenerate=this.autoGenerate,this._scrollWidth=this.getScrollWidth()},t.prototype.setupColumns=function(){var e=this;this.autoGenerate&&this.autogenerateColumns(),this.initColumns(this.columnList,function(t){return e.onColumnInit.emit(t)}),this.columnListDiffer.diff(this.columnList),this.markForCheck(),this.resetCaches(),this.columnList.changes.pipe(Object(H.a)(this.destroy$)).subscribe(function(t){e.onColumnsChanged(t)})},t.prototype.resetColumnsCaches=function(){this.columnList.forEach(function(e){return e.resetCaches()})},t.prototype.resetForOfCache=function(){var e=this.dataRowList.first;e&&e.virtDirRow.assumeMaster()},t.prototype.resetColumnCollections=function(){this._visibleColumns.length=0,this._pinnedVisible.length=0,this._unpinnedVisible.length=0},t.prototype.resetCachedWidths=function(){this._unpinnedWidth=NaN,this._pinnedWidth=NaN,this._totalWidth=NaN},t.prototype.resetCaches=function(){this.resetForOfCache(),this.resetColumnsCaches(),this.resetColumnCollections(),this.resetCachedWidths(),this.hasVisibleColumns=void 0,this._columnGroups=this.columnList.some(function(e){return e.columnGroup})},t.prototype.ngAfterContentInit=function(){this.setupColumns()},t.prototype.ngAfterViewInit=function(){var e=this;if(this.zone.runOutsideAngular(function(){e.document.defaultView.addEventListener("resize",e.resizeHandler),e._keydownListener=e.keydownHandler.bind(e),e.nativeElement.addEventListener("keydown",e._keydownListener)}),this.initPinning(),this.onDensityChanged.pipe(Object(H.a)(this.destroy$)).subscribe(function(){requestAnimationFrame(function(){e.summaryService.summaryHeight=0,e.endEdit(!0),e.reflow(),e.verticalScrollContainer.recalcUpdateSizes()})}),this._ngAfterViewInitPassed=!0,this.calculateGridSizes(),!this.isAttachedToDom){this._observer=new MutationObserver(function(t){t.filter(function(e){return"childList"===e.type}).length>0&&e.isAttachedToDom&&(e._autoSize=!1,e.reflow(),e._observer.disconnect(),e._observer=null)}),this._observer.observe(this.document.body,{childList:!0,subtree:!0})}this._dataRowList.changes.pipe(Object(H.a)(this.destroy$)).subscribe(function(t){return e._horizontalForOfs=e.combineForOfCollections(t.toArray().filter(function(e){return null!==e.element.nativeElement.parentElement}),e._summaryRowList)}),this._summaryRowList.changes.pipe(Object(H.a)(this.destroy$)).subscribe(function(t){return e._horizontalForOfs-e.combineForOfCollections(e._dataRowList,t.toArray().filter(function(e){return null!==e.element.nativeElement.parentElement}))}),this.zone.runOutsideAngular(function(){e._vScrollListener=e.verticalScrollHandler.bind(e),e.verticalScrollContainer.getVerticalScroll().addEventListener("scroll",e._vScrollListener)}),this.zone.runOutsideAngular(function(){e._hScrollListener=e.horizontalScrollHandler.bind(e),e.parentVirtDir.getHorizontalScroll().addEventListener("scroll",e._hScrollListener)}),this._horizontalForOfs=this.combineForOfCollections(this._dataRowList,this._summaryRowList);var t=this.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement;t.addEventListener("scroll",function(t){e.scrollHandler(t)}),t.addEventListener("wheel",function(){e.wheelHandler()}),t.addEventListener("touchmove",function(){e.wheelHandler()}),this.verticalScrollContainer.onDataChanging.pipe(Object(H.a)(this.destroy$)).subscribe(function(t){e.calculateGridHeight(),t.containerSize=e.calcHeight}),this.verticalScrollContainer.onDataChanged.pipe(Object(H.a)(this.destroy$)).subscribe(function(){requestAnimationFrame(function(){e._destroyed||e.reflow()})}),this._init=!1,this.cdr.reattach()},t.prototype.combineForOfCollections=function(e,t){return e.map(function(e){return e.virtDirRow}).concat(t.map(function(e){return e.virtDirRow}))},t.prototype.ngOnDestroy=function(){var e=this;this.tmpOutlets.forEach(function(e){e.cleanCache()}),this.zone.runOutsideAngular(function(){e.document.defaultView.removeEventListener("resize",e.resizeHandler),e.nativeElement.removeEventListener("keydown",e._keydownListener),e.verticalScrollContainer.getVerticalScroll().removeEventListener("scroll",e._vScrollListener),e.parentVirtDir.getHorizontalScroll().removeEventListener("scroll",e._hScrollListener);var t=e.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement;t.removeEventListener("scroll",function(t){e.scrollHandler(t)}),t.removeEventListener("wheel",function(){e.wheelHandler()})}),this._observer&&this._observer.disconnect(),this.destroy$.next(!0),this.destroy$.complete(),this._destroyed=!0},t.prototype.dataLoading=function(e){this.onDataPreLoad.emit(e)},t.prototype.toggleColumnVisibility=function(e){var t=e.column?this.columnList.find(function(t){return t===e.column}):void 0;t&&(t.hidden=e.newValue,this.onColumnVisibilityChanged.emit(e),this.markForCheck())},Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outlet",{get:function(){return this.outletDirective},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultRowHeight",{get:function(){switch(this.displayDensity){case ei.cosy:return 40;case ei.compact:return 32;default:return 50}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultSummaryHeight",{get:function(){switch(this.displayDensity){case ei.cosy:return 30;case ei.compact:return 24;default:return 36}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultHeaderGroupMinWidth",{get:function(){switch(this.displayDensity){case ei.cosy:return 32;case ei.compact:return 24;default:return 48}},enumerable:!0,configurable:!0}),t.prototype.paginatorClassName=function(){switch(this.displayDensity){case ei.cosy:return"igx-grid-paginator--cosy";case ei.compact:return"igx-grid-paginator--compact";default:return"igx-grid-paginator"}},t.prototype.paginatorSelectDisplayDensity=function(){return this.displayDensity===ei.comfortable?ei.cosy:ei.compact},Object.defineProperty(t.prototype,"calcPinnedContainerMaxWidth",{get:function(){return 80*this.calcWidth/100},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unpinnedAreaMinWidth",{get:function(){return 20*this.calcWidth/100},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pinnedWidth",{get:function(){return isNaN(this._pinnedWidth)?(this._pinnedWidth=this.getPinnedWidth(),this._pinnedWidth):this._pinnedWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unpinnedWidth",{get:function(){return isNaN(this._unpinnedWidth)?(this._unpinnedWidth=this.getUnpinnedWidth(),this._unpinnedWidth):this._unpinnedWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHorizontalScrollHidden",{get:function(){var e=this.unpinnedWidth-this.totalWidth;return null===this.width||e>=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"featureColumnsWidth",{get:function(){return this.getFeatureColumnsWidth()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"summariesMargin",{get:function(){return this.featureColumnsWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pinnedColumns",{get:function(){return this._pinnedVisible.length?this._pinnedVisible:(this._pinnedVisible=this._pinnedColumns.filter(function(e){return!e.hidden}),this._pinnedVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unpinnedColumns",{get:function(){return this._unpinnedVisible.length?this._unpinnedVisible:(this._unpinnedVisible=this._unpinnedColumns.filter(function(e){return!e.hidden}),this._unpinnedVisible)},enumerable:!0,configurable:!0}),t.prototype.getHeaderGroupWidth=function(e){if(this.hasColumnLayouts)return"";var t=e.width,n=this.defaultHeaderGroupMinWidth;return!(t&&"string"==typeof t&&-1!==t.indexOf("%"))&&parseInt(e.width,10)<n?n.toString():e.width},t.prototype.getColumnByName=function(e){return this.columnList.find(function(t){return t.field===e})},t.prototype.getRowByIndex=function(e){return this.gridAPI.get_row_by_index(e)},t.prototype.getRowByKey=function(e){return this.gridAPI.get_row_by_key(e)},Object.defineProperty(t.prototype,"visibleColumns",{get:function(){return this._visibleColumns.length?this._visibleColumns:(this._visibleColumns=this.columnList.filter(function(e){return!e.hidden}),this._visibleColumns)},enumerable:!0,configurable:!0}),t.prototype.getCellByColumn=function(e,t){var n=this.columnList.map(function(e){return e.field}).indexOf(t);if(-1!==n)return this.gridAPI.get_cell_by_index(e,n)},t.prototype.getCellByKey=function(e,t){return this.gridAPI.get_cell_by_key(e,t)},Object.defineProperty(t.prototype,"totalPages",{get:function(){return this.pagingState?this.pagingState.metadata.countPages:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFirstPage",{get:function(){return 0===this.page},enumerable:!0,configurable:!0}),t.prototype.nextPage=function(){this.isLastPage||(this.page+=1)},t.prototype.previousPage=function(){this.isFirstPage||(this.page-=1)},Object.defineProperty(t.prototype,"totalRecords",{get:function(){if(this.pagingState)return this.pagingState.metadata.countRecords},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLastPage",{get:function(){return this.page+1>=this.totalPages},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalWidth",{get:function(){if(!isNaN(this._totalWidth))return this._totalWidth;for(var e=this.visibleColumns.filter(function(e){return 0===e.level&&!e.pinned}),t=0,n=0;n<e.length;n++)t+=parseInt(e[n].calcWidth,10)||0;return this._totalWidth=t,t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showRowCheckboxes",{get:function(){return this.rowSelectable&&this.hasVisibleColumns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDragIcons",{get:function(){return this.rowDraggable&&this.columns.length>this.hiddenColumnsCount},enumerable:!0,configurable:!0}),t.prototype._moveColumns=function(e,t,n){var i=this.columnList.toArray(),o=i.indexOf(e),a=i.indexOf(t);n===fs.BeforeDropTarget&&--a<0&&(a=0),n===fs.AfterDropTarget&&a++,i.splice.apply(i,Object(r.i)([a,0],i.splice(o,1)));var s=this._resetColumnList(i);this.columnList.reset(s),this.columnList.notifyOnChanges(),this._columns=this.columnList.toArray()},t.prototype._resetColumnList=function(e){e||(e=this.columnList.toArray());var t=[];return e.filter(function(e){return 0===e.level}).forEach(function(e){t.push(e),e.columnGroup&&(t=t.concat(e.allChildren))}),t},t.prototype._reorderPinnedColumns=function(e,t,n){var i=this._pinnedColumns,o=i.indexOf(t);t.columnGroup&&(o+=t.allChildren.length),n===fs.BeforeDropTarget&&o--,n===fs.AfterDropTarget&&o++,i.splice.apply(i,Object(r.i)([o,0],i.splice(i.indexOf(e),1)))},t.prototype._moveChildColumns=function(e,t,n,i){var o=e.children.toArray(),a=o.indexOf(t),s=o.indexOf(n);i===fs.BeforeDropTarget&&s--,i===fs.AfterDropTarget&&s++,o.splice.apply(o,Object(r.i)([s,0],o.splice(a,1))),e.children.reset(o)},t.prototype.moveColumn=function(e,t,n){void 0===n&&(n=fs.None);var i=n,r=e.visibleIndex,o=t.visibleIndex;if(i=n===fs.BeforeDropTarget&&r<o?fs.BeforeDropTarget:n===fs.AfterDropTarget&&r>o?fs.AfterDropTarget:fs.None,e.level===t.level&&e.topLevelParent===t.topLevelParent){if(this.endEdit(!0),e.level&&this._moveChildColumns(e.parent,e,t,i),t.pinned&&e.pinned&&this._reorderPinnedColumns(e,t,i),t.pinned&&!e.pinned&&(e.pin(),this._reorderPinnedColumns(e,t,i)),!t.pinned&&e.pinned){e.unpin();var a=this.columnList.toArray(),s=a.indexOf(e),l=a.indexOf(t);i=n===fs.BeforeDropTarget&&s<l?fs.BeforeDropTarget:n===fs.AfterDropTarget&&s>l?fs.AfterDropTarget:fs.None}this._moveColumns(e,t,i),this.cdr.detectChanges(),this.hasColumnLayouts&&this.columns.filter(function(e){return e.columnLayout}).forEach(function(e){return e.populateVisibleIndexes()});var c={source:e,target:t};this.onColumnMovingEnd.emit(c)}},t.prototype.paginate=function(e){e<0||e>this.totalPages-1||(this.page=e)},t.prototype.markForCheck=function(){this.cdr.detectChanges()},t.prototype.addRow=function(e){this.endEdit(!0),this.gridAPI.addRowToData(e),this.onRowAdded.emit({data:e}),this._pipeTrigger++,this.cdr.markForCheck()},t.prototype.deleteRow=function(e){void 0!==this.primaryKey&&null!==this.primaryKey&&this.deleteRowById(e)},t.prototype.deleteRowById=function(e){this.gridAPI.deleteRowById(e)},t.prototype.deleteRowFromData=function(e,t){if(-1!==t)if(this.transactions.enabled){var n={id:e,type:It,newValue:null};this.transactions.add(n,this.data[t])}else this.data.splice(t,1);else{var i=this.transactions.getState(e);this.transactions.add({id:e,type:It,newValue:null},i&&i.recordRef)}},t.prototype.updateCell=function(e,t,n){if(this.isDefined(this.primaryKey)){var i=this.columnList.toArray().find(function(e){return e.field===n});if(i){var r=this.gridAPI.getRowData(t),o=this.gridAPI.get_row_index_in_data(t);if(o<0)return;var a={rowID:t,columnID:i.index,rowIndex:o},s=new ns(a,o,i,r[i.field],r[i.field],r),l=this.gridAPI.update_cell(s,e);if(this.crudService.cell&&this.crudService.sameCell(s)){if(l.cancel)return;this.gridAPI.escape_editMode()}this.cdr.detectChanges()}}},t.prototype.updateRow=function(e,t){if(this.isDefined(this.primaryKey)){var n=this.crudService.cell;n&&n.id.rowID===t&&this.gridAPI.escape_editMode();var i=new ts(t,-1,this.gridAPI.getRowData(t));this.gridAPI.update_row(i,e),this.cdr.detectChanges()}},t.prototype.sort=function(e){this.endEdit(!1),e instanceof Array?this.gridAPI.sort_multiple(e):this.gridAPI.sort(e),this.onSortingDone.emit(e)},t.prototype.filter=function(e,t,n,i){this.filteringService.filter(e,t,n,i)},t.prototype.filterGlobal=function(e,t,n){this.filteringService.filterGlobal(e,t,n)},t.prototype.enableSummaries=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];1===e.length&&Array.isArray(e[0])?this._multipleSummaries(e[0],!0):this._summaries(e[0],!0,e[1]),this.calculateGridHeight(),this.cdr.detectChanges()},t.prototype.disableSummaries=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];1===e.length&&Array.isArray(e[0])?this._disableMultipleSummaries(e[0]):this._summaries(e[0],!1)},t.prototype.clearFilter=function(e){this.filteringService.clearFilter(e)},t.prototype.clearSort=function(e){e?this.gridAPI.get_column_by_name(e)&&this.gridAPI.clear_sort(e):this.sortingExpressions=[]},t.prototype.refreshGridState=function(e){this.endEdit(!0),this.summaryService.clearSummaryCache(e)},t.prototype.pinColumn=function(e,t){return(e instanceof ws?e:this.getColumnByName(e)).pin(t)},t.prototype.unpinColumn=function(e,t){return(e instanceof ws?e:this.getColumnByName(e)).unpin(t)},t.prototype.reflow=function(){this.calculateGridSizes()},t.prototype.findNext=function(e,t,n){return this.find(e,1,t,n)},t.prototype.findPrev=function(e,t,n){return this.find(e,-1,t,n)},t.prototype.refreshSearch=function(e){var t=this;if(this.lastSearchInfo.searchText){if(this.rebuildMatchCache(),e){var n=br.highlightGroupsMap.get(this.id);this.lastSearchInfo.matchInfoCache.forEach(function(e,i){e.column===n.column&&e.row===n.row&&e.index===n.index&&(t.lastSearchInfo.activeMatchIndex=i)})}return this.find(this.lastSearchInfo.searchText,0,this.lastSearchInfo.caseSensitive,this.lastSearchInfo.exactMatch,!1)}return 0},t.prototype.clearSearch=function(){this.lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[]},this.rowList.forEach(function(e){e.cells&&e.cells.forEach(function(e){e.clearHighlight()})})},Object.defineProperty(t.prototype,"hasSortableColumns",{get:function(){return this.columnList.some(function(e){return e.sortable})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasEditableColumns",{get:function(){return this.columnList.some(function(e){return e.editable})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasFilterableColumns",{get:function(){return this.columnList.some(function(e){return e.filterable})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasSummarizedColumns",{get:function(){return this.summaryService.hasSummarizedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootSummariesEnabled",{get:function(){return this.summaryCalculationMode!==Sl.childLevelsOnly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasVisibleColumns",{get:function(){return void 0===this._hasVisibleColumns?!!this.columnList&&this.columnList.some(function(e){return!e.hidden}):this._hasVisibleColumns},set:function(e){this._hasVisibleColumns=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasMovableColumns",{get:function(){return this.columnList&&this.columnList.some(function(e){return e.movable})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasColumnGroups",{get:function(){return this._columnGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasColumnLayouts",{get:function(){return!!this.columnList.some(function(e){return e.columnLayout})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedCells",{get:function(){return this.dataRowList?this.dataRowList.map(function(e){return e.cells.filter(function(e){return e.selected})}).reduce(function(e,t){return e.concat(t)},[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiRowLayoutRowSize",{get:function(){return this._multiRowLayoutRowSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowBasedHeight",{get:function(){return this.dataLength*this.rowHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPercentWidth",{get:function(){return this.width&&-1!==this.width.indexOf("%")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPercentHeight",{get:function(){return this._height&&-1!==this._height.indexOf("%")},enumerable:!0,configurable:!0}),t.prototype._derivePossibleWidth=function(){var e=this;this.columnWidthSetByUser||(this._columnWidth=null!==this.width?this.getPossibleColumnWidth():"136px",this.columnList.forEach(function(t){if(e.hasColumnLayouts&&parseInt(e._columnWidth,10)){var n=parseInt(e._columnWidth,10)*(t.colEnd?t.colEnd-t.colStart:1);t.defaultWidth=n+"px"}else t.defaultWidth=e._columnWidth,t.resetCaches()}),this.resetCachedWidths())},Object.defineProperty(t.prototype,"defaultTargetBodyHeight",{get:function(){var e=this.dataLength;return this.renderedRowHeight*Math.min(this._defaultTargetRecordNumber,this.paging?Math.min(e,this.perPage):e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderedRowHeight",{get:function(){return this.rowHeight+1},enumerable:!0,configurable:!0}),t.prototype.calculateGridHeight=function(){if(this.maxLevelHeaderDepth){this._baseFontSize=parseFloat(getComputedStyle(this.document.documentElement).getPropertyValue("font-size"));var e=(this.maxLevelHeaderDepth+1)*this.defaultRowHeight/this._baseFontSize;this._allowFiltering&&this._filterMode===Dl.quickFilter&&(e+=51/this._baseFontSize),this.theadRow.nativeElement.style.minHeight=e+"rem"}this.summariesHeight=0,this.hasSummarizedColumns&&this.rootSummariesEnabled&&(this.summariesHeight=this.summaryService.calcMaxSummaryHeight()),this.calcHeight=this._calculateGridBodyHeight()},t.prototype.getGroupAreaHeight=function(){return 0},t.prototype.getToolbarHeight=function(){var e=0;return this.showToolbar&&null!=this.toolbarHtml&&(e=this.toolbarHtml.nativeElement.firstElementChild?this.toolbarHtml.nativeElement.offsetHeight:0),e},t.prototype.getPagingHeight=function(){var e=0;return this.footer&&(e=this.footer.nativeElement.firstElementChild?this.footer.nativeElement.offsetHeight:0),e},t.prototype._calculateGridBodyHeight=function(){if(!this._height)return null;var e,t=this.summariesHeight||this.tfoot.nativeElement.offsetHeight-this.tfoot.nativeElement.clientHeight,n=this.document.defaultView.getComputedStyle(this.nativeElement),i=this.getToolbarHeight(),r=this.getPagingHeight(),o=this.getGroupAreaHeight(),a=i+this.theadRow.nativeElement.offsetHeight+t+r+o+this.scr.nativeElement.clientHeight;if(this.isPercentHeight){if(this.nativeElement.parentElement&&this.nativeElement.parentElement.clientHeight!==a||(this._autoSize=!0),this._autoSize||-1!==n.getPropertyValue("height").indexOf("%"))return(s=this.getDataBasedBodyHeight())>0?s:null;e=parseInt(n.getPropertyValue("height"),10)}else e=parseInt(this._height,10);var s,l=Math.abs(e-a);return 0===l||isNaN(e)?(s=this.defaultTargetBodyHeight)>0?s:null:l},Object.defineProperty(t.prototype,"outerWidth",{get:function(){return this.hasVerticalSroll()?this.calcWidth+this.scrollWidth:this.calcWidth},enumerable:!0,configurable:!0}),t.prototype.getVisibleContentHeight=function(){var e=this.theadRow.nativeElement.clientHeight+this.tbody.nativeElement.clientHeight;return this.hasSummarizedColumns&&(e+=this.tfoot.nativeElement.clientHeight),e},t.prototype.getPossibleColumnWidth=function(e){var t;void 0===e&&(e=null),t=null!==e?e:this.calcWidth||parseInt(this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("width"),10),t-=this.getFeatureColumnsWidth(),this.showDragIcons&&(t-=this.headerDragContainer?this.headerDragContainer.nativeElement.offsetWidth:0);var n=this.visibleColumns.filter(function(e){return!e.columnGroup}),i=[],r=this.visibleColumns.filter(function(e){return e.columnGroup}).map(function(e){return e.getInitialChildColumnSizes(e.children)}),o=r.reduce(function(e,t){return e+t.length},0);r.forEach(function(e){return i=i.concat(e)});var a=this.hasColumnLayouts?i.filter(function(e){return e.widthSetByUser}):n.filter(function(e){return e.widthSetByUser}),s=this.hasColumnLayouts?o-a.length:n.length-a.length,l=a.reduce(function(e,n){var i=n.width,r=parseInt(i,10);return e+(i&&"string"==typeof i&&-1!==i.indexOf("%")?r/100*t:r)},0);return Math.floor(Number.isFinite(l)?Math.max((t-l)/s,136):Math.max(t/s,136)).toString()},t.prototype.calculateGridWidth=function(){var e,t=this.document.defaultView.getComputedStyle(this.nativeElement),n=this.document.getElementById(this.nativeElement.id);!(e=this.isPercentWidth?-1===t.getPropertyValue("width").indexOf("%")?parseInt(t.getPropertyValue("width"),10):null:parseInt(this.width,10))&&n&&(e=n.offsetWidth),null!==this.width&&e||(e=this.getColumnWidthSum()),this.hasVerticalSroll()&&null!==this.width&&(e-=this.scrollWidth),!Number.isFinite(e)&&null!==e||e===this.calcWidth||(this.calcWidth=e,this.cdr.detectChanges()),this._derivePossibleWidth()},t.prototype.getColumnWidthSum=function(){var e=0;return(this.hasColumnLayouts?this.visibleColumns.filter(function(e){return e.columnLayout}):this.visibleColumns.filter(function(e){return!e.columnGroup})).forEach(function(t){t.width&&"string"==typeof t.width&&-1!==t.width.indexOf("%")&&(t.width="136px"),e+=parseInt(t.width||t.defaultWidth,10)||136}),e?(this.cdr.detectChanges(),e+=this.getFeatureColumnsWidth()):null},t.prototype.hasVerticalSroll=function(){if(!this._ngAfterViewInitPassed)return!1;var e=this.verticalScrollContainer.isScrollable();return!!(this.calcWidth&&this.verticalScrollContainer.igxForOf&&this.verticalScrollContainer.igxForOf.length>0&&e)},t.prototype.getDataBasedBodyHeight=function(){return!this.data||this.data.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight},t.prototype.onColumnsChanged=function(e){var t=this,n=this.columnListDiffer.diff(e);if(n){var i=!1,r=!1;this.initColumns(this.columnList),n.forEachAddedItem(function(e){t.onColumnInit.emit(e.item),i=!0}),n.forEachRemovedItem(function(e){e.item instanceof Cs||(t.gridAPI.clear_groupby(e.item.field),t.gridAPI.clear_filter(e.item.field),t.filteringService.isFilterRowVisible&&t.filteringService.filteredColumn&&t.filteringService.filteredColumn.field===e.item.field&&t.filteringRow.close(),t.gridAPI.clear_sort(e.item.field)),r=!0}),this.resetCaches(),(i||r)&&(this.summaryService.clearSummaryCache(),this.calculateGridSizes())}this.markForCheck()},t.prototype.calculateGridSizes=function(){var e=this;this.resetCaches();var t=this.hasVerticalSroll();this.calculateGridWidth(),this.resetCaches(),this.cdr.detectChanges(),this.calculateGridHeight(),this.rowEditable&&this.repositionRowEditingOverlay(this.rowInEditMode),this.filteringService.isFilterRowVisible&&this.filteringRow.resetChipsArea(),this.cdr.detectChanges(),this.resetCaches(),t!==this.hasVerticalSroll()&&(this.calculateGridWidth(),this.cdr.detectChanges(),this.resetCaches()),this.zone.isStable?this.zone.run(function(){e._applyWidthHostBinding(),e.cdr.detectChanges()}):this.zone.onStable.pipe(Object(W.a)()).subscribe(function(){e.zone.run(function(){e._applyWidthHostBinding()})})},t.prototype._applyWidthHostBinding=function(){var e=this._width;if(null===e){var t=this.calcWidth;this.hasVerticalSroll()&&(t+=this.scrollWidth),e=t+"px",this.resetCaches()}this._hostWidth=e,this.cdr.markForCheck()},t.prototype.getFeatureColumnsWidth=function(){var e=0;return this.headerCheckboxContainer&&(e+=this.headerCheckboxContainer.nativeElement.getBoundingClientRect().width),this.headerDragContainer&&(e+=this.headerDragContainer.nativeElement.getBoundingClientRect().width),e},t.prototype.getPinnedWidth=function(e){var t,n;void 0===e&&(e=!1);var i=e?this._pinnedColumns:this.pinnedColumns,o=0;try{for(var a=Object(r.j)(i),s=a.next();!s.done;s=a.next()){var l=s.value;0===l.level&&(o+=parseInt(l.calcWidth,10))}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o+=this.featureColumnsWidth},t.prototype.getUnpinnedWidth=function(e){void 0===e&&(e=!1);var t=this.isPercentWidth?this.calcWidth:parseInt(this.width,10)||parseInt(this.hostWidth,10)||this.calcWidth;return this.hasVerticalSroll()&&!this.isPercentWidth&&(t-=this.scrollWidth),t-this.getPinnedWidth(e)},t.prototype._summaries=function(e,t,n){var i=this.gridAPI.get_column_by_name(e);i&&(i.hasSummary=t,n&&(this.rootSummariesEnabled&&this.summaryService.retriggerRootPipe++,i.summaries=n))},t.prototype._multipleSummaries=function(e,t){var n=this;e.forEach(function(e){n._summaries(e.fieldName,t,e.customSummary)})},t.prototype._disableMultipleSummaries=function(e){var t=this;e.forEach(function(e){var n=e&&e.fieldName?e.fieldName:e;t._summaries(n,!1)})},t.prototype.resolveDataTypes=function(e){return"number"==typeof e?Ft.Number:"boolean"==typeof e?Ft.Boolean:"object"==typeof e&&e instanceof Date?Ft.Date:Ft.String},t.prototype.getScrollWidth=function(){var e=document.createElement("div"),t=e.style;t.width="100px",t.height="100px",t.position="absolute",t.top="-10000px",t.top="-10000px",t.overflow="scroll",document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),n},t.prototype.autogenerateColumns=function(){var e=this,t=this.gridAPI.get_data(),n=this.resolver.resolveComponentFactory(ws),i=this.generateDataFields(t),r=[];i.forEach(function(i){var o=e.viewRef.createComponent(n,null,e.viewRef.injector);o.instance.field=i,o.instance.dataType=e.resolveDataTypes(t[0][i]),o.changeDetectorRef.detectChanges(),r.push(o.instance)}),this.columnList.reset(r),t&&t.length>0&&(this.shouldGenerate=!1)},t.prototype.generateDataFields=function(e){return Object.keys(e&&0!==e.length?e[0]:[])},t.prototype.onlyTopLevel=function(e){return e.filter(function(e){return 0===e.level})},t.prototype.initColumns=function(e,t){var n=this;if(void 0===t&&(t=null),this._columnGroups=this.columnList.some(function(e){return e.columnGroup}),this.hasColumnLayouts&&this.columnList.forEach(function(e){if(e.columnLayout){var t=e.children?e.children.reduce(function(e,t){return Math.max(t.rowStart+t.gridRowSpan-1,e)},1):1;n._multiRowLayoutRowSize=Math.max(t,n._multiRowLayoutRowSize)}}),this.hasColumnLayouts&&this.hasColumnGroups){var i=this.columnList.filter(function(e){return e.columnLayout||e.columnLayoutChild});this.columnList.reset(i)}this._maxLevelHeaderDepth=null,this._columns=this.columnList.toArray(),e.forEach(function(e){e.grid=n,e.defaultWidth=n.columnWidth,t&&t(e)}),this.reinitPinStates(),this.hasColumnLayouts&&e.forEach(function(e){e.populateVisibleIndexes()})},t.prototype.reinitPinStates=function(){var e=this;this._pinnedColumns=this.hasColumnGroups?this.columnList.filter(function(e){return e.pinned}):this.columnList.filter(function(e){return e.pinned}).sort(function(t,n){return e._pinnedColumns.indexOf(t)-e._pinnedColumns.indexOf(n)}),this._unpinnedColumns=this.columnList.filter(function(e){return!e.pinned})},t.prototype.isColumnGrouped=function(e){return!1},t.prototype.onHeaderCheckboxClick=function(e,t){this.allRowsSelected=e.checked;var n=e.checked?t?this.selection.add_items(this.id,this.selection.get_all_ids(t,this.primaryKey)):this.selection.get_all_ids(this.gridAPI.get_all_data(!0),this.primaryKey):t?this.selection.delete_items(this.id,this.selection.get_all_ids(t,this.primaryKey)):this.selection.get_empty();this.triggerRowSelectionChange(n,null,e,e.checked),this.checkHeaderCheckboxStatus(e.checked)},Object.defineProperty(t.prototype,"headerCheckboxAriaLabel",{get:function(){return this._filteringExpressionsTree.filteringOperands.length>0?this.headerCheckbox&&this.headerCheckbox.checked?"Deselect all filtered":"Select all filtered":this.headerCheckbox&&this.headerCheckbox.checked?"Deselect all":"Select all"},enumerable:!0,configurable:!0}),t.prototype.checkHeaderCheckboxStatus=function(e){if(void 0===e){var t=this.filteringService.filteredData,n=t?t.length:this.dataLength;this.allRowsSelected=this.selection.are_all_selected(this.id,n),this.headerCheckbox&&(this.headerCheckbox.indeterminate=!this.allRowsSelected&&!this.selection.are_none_selected(this.id),this.headerCheckbox.indeterminate||(this.headerCheckbox.checked=this.allRowsSelected)),this.cdr.markForCheck()}else this.headerCheckbox&&(this.headerCheckbox.checked=void 0!==e&&e)},t.prototype.filteredItemsStatus=function(e,t,n){var i,o,a=this.selection.get(e),s=!1,l=!1;if(a)try{for(var c=Object(r.j)(Object.keys(t)),d=c.next();!d.done;d=c.next()){var p=d.value,u=n?t[p][n]:t[p];if(a.has(u)){if(s=!0,l)return"indeterminate"}else if(l=!0,s)return"indeterminate"}}catch(h){i={error:h}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return s?"allSelected":"noneSelected"},t.prototype.updateHeaderCheckboxStatusOnFilter=function(e){if(e&&this.hasVisibleColumns&&this.headerCheckbox)switch(this.filteredItemsStatus(this.id,e,this.primaryKey)){case"allSelected":this.allRowsSelected||(this.allRowsSelected=!0),this.headerCheckbox.indeterminate&&(this.headerCheckbox.indeterminate=!1);break;case"noneSelected":this.allRowsSelected&&(this.allRowsSelected=!1),this.headerCheckbox.indeterminate&&(this.headerCheckbox.indeterminate=!1);break;default:this.headerCheckbox.indeterminate||(this.headerCheckbox.indeterminate=!0),this.allRowsSelected&&(this.allRowsSelected=!1)}else this.checkHeaderCheckboxStatus()},t.prototype.selectedRows=function(){var e;return(e=this.selection.get(this.id))?Array.from(e):[]},t.prototype.selectRows=function(e,t){var n,i=this,r=[];r=this.transactions.enabled?e.filter(function(e){return!i.gridAPI.row_deleted_transaction(e)}):e,n=this.selection.add_items(this.id,r,t),this.triggerRowSelectionChange(n)},t.prototype.deselectRows=function(e){var t;t=this.selection.delete_items(this.id,e),this.triggerRowSelectionChange(t)},t.prototype.selectAllRows=function(){this.triggerRowSelectionChange(this.selection.get_all_ids(this.gridAPI.get_all_data(!0),this.primaryKey))},t.prototype.deselectAllRows=function(){this.triggerRowSelectionChange(this.selection.get_empty())},t.prototype.clearCellSelection=function(){this.selectionService.clear(),this.selectionService.activeElement=null,this.cdr.markForCheck()},t.prototype.dragScroll=function(e){var t=this.parentVirtDir.getHorizontalScroll(),n=this.verticalScrollContainer.getVerticalScroll();switch(e){case fl.LEFT:t.scrollLeft-=48;break;case fl.RIGHT:t.scrollLeft+=48;break;case fl.TOP:n.scrollTop-=48;break;case fl.BOTTOM:n.scrollTop+=48;break;case fl.BOTTOMLEFT:t.scrollLeft-=48,n.scrollTop+=48;break;case fl.BOTTOMRIGHT:t.scrollLeft+=48,n.scrollTop+=48;break;case fl.TOPLEFT:t.scrollLeft-=48,n.scrollTop-=48;break;case fl.TOPRIGHT:t.scrollLeft+=48,n.scrollTop-=48;break;default:return}this.wheelHandler()},t.prototype.isDefined=function(e){return null!=e},t.prototype.selectRange=function(e){var t=this;this.isDefined(e)?(e instanceof Array?e.forEach(function(e){return t.setSelection(e)}):this.setSelection(e),this.cdr.markForCheck()):this.clearCellSelection()},t.prototype.columnToVisibleIndex=function(e){var t=this.visibleColumns;return"number"==typeof e?e:t.find(function(t){return t.field===e}).visibleIndex},t.prototype.setSelection=function(e){var t={row:e.rowStart,column:this.columnToVisibleIndex(e.columnStart)},n={row:e.rowEnd,column:this.columnToVisibleIndex(e.columnEnd)};this.selectionService.pointerState.node=t,this.selectionService.selectRange(n,this.selectionService.pointerState),this.selectionService.addRangeMeta(n,this.selectionService.pointerState),this.selectionService.initPointerState()},t.prototype.getSelectedRanges=function(){return this.selectionService.ranges},t.prototype.extractDataFromSelection=function(e,t,n){var i,o;void 0===t&&(t=!1),void 0===n&&(n=!1);var a={},s=[],l=Array.from(this.selectionService.selection).filter(function(t){return t[0]<e.length}),c=function(i,o){var l,c;if(!e[i])return"continue";var p=Array.from(o);try{for(var u=Object(r.j)(p),h=u.next();!h.done;h=u.next()){var g=h.value;d.getSelectableColumnsAt(g).forEach(function(r){if(r){var o=n&&r.header||r.field;a[o]=t&&r.formatter?r.formatter(e[i][r.field]):e[i][r.field]}})}}catch(f){l={error:f}}finally{try{h&&!h.done&&(c=u.return)&&c.call(u)}finally{if(l)throw l.error}}Object.keys(a).length&&s.push(a),a={}},d=this;try{for(var p=Object(r.j)(l),u=p.next();!u.done;u=p.next()){var h=Object(r.h)(u.value,2);c(h[0],h[1])}}catch(g){i={error:g}}finally{try{u&&!u.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}return s},t.prototype.getSelectableColumnsAt=function(e){if(this.hasColumnLayouts){var t=this.visibleColumns.filter(function(e){return e.columnLayout}).sort(function(e,t){return e.visibleIndex-t.visibleIndex})[e];return t?t.children.toArray():[]}return[this.visibleColumns.filter(function(e){return!e.columnGroup}).sort(function(e,t){return e.visibleIndex-t.visibleIndex})[e]]},t.prototype.getSelectedData=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n=this.verticalScrollContainer.igxForOf;return this.extractDataFromSelection(n,e,t)},t.prototype.triggerRowSelectionChange=function(e,t,n,i){var r=this.selection.get(this.id),o={oldSelection:r?Array.from(r):[],newSelection:e?Array.from(e):[],row:t,event:n};this.onRowSelectionChange.emit(o),e=this.selection.get_empty();for(var a=0;a<o.newSelection.length;a++)e.add(o.newSelection[a]);this.selection.set(this.id,e),this.checkHeaderCheckboxStatus(i)},t.prototype.scrollHandler=function(e){this.parentVirtDir.getHorizontalScroll().scrollLeft+=e.target.scrollLeft,this.verticalScrollContainer.getVerticalScroll().scrollTop+=e.target.scrollTop,e.target.scrollLeft=0,e.target.scrollTop=0},t.prototype.copyHandlerIE=function(){ct()&&this.copyHandler(null,!0)},t.prototype.copyHandler=function(e,t){if(void 0===t&&(t=!1),this.clipboardOptions.enabled&&!this.crudService.inEditMode){var n={data:this.getSelectedData(this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders),cancel:!1};if(this.onGridCopy.emit(n),!n.cancel){var i=new zt(n.data,this.clipboardOptions.separator).prepareData();this.clipboardOptions.copyHeaders||(i=i.substring(i.indexOf("\n")+1)),t?window.clipboardData.setData("Text",i):(e.preventDefault(),e.stopPropagation(),e.clipboardData.setData("text/plain",i))}}},t.prototype.navigateTo=function(e,t,n){var i=this;void 0===t&&(t=-1),void 0===n&&(n=null),e<0||e>this.verticalScrollContainer.igxForOf.length-1||-1!==t&&-1===this.columnList.map(function(e){return e.visibleIndex}).indexOf(t)||(this.wheelHandler(),this.verticalScrollContainer.igxForOf.slice(e,e+1).find(function(e){return e.expression||e.childGridsData})&&(t=-1),-1===t||this.navigation.isColumnFullyVisible(t)?this.navigation.shouldPerformVerticalScroll(e,t)?this.navigation.performVerticalScrollToCell(e,t,function(){i.executeCallback(e,t,n)}):this.executeCallback(e,t,n):this.navigation.performHorizontalScrollToCell(e,t,!1,function(){i.executeCallback(e,t,n)}))},t.prototype.getNextCell=function(e,t,n){void 0===n&&(n=null);var i=this.columnList.filter(function(e){return!e.columnGroup&&e.visibleIndex>=0});if(!this.isValidPosition(e,t))return{rowIndex:e,visibleColumnIndex:t};var r=n?i.filter(function(e){return n(e)}).map(function(e){return e.visibleIndex}).sort(function(e,t){return e-t}):i.map(function(e){return e.visibleIndex}).sort(function(e,t){return e-t}),o=r.find(function(e){return e>t});return this.verticalScrollContainer.igxForOf.slice(e,e+1).find(function(e){return!e.expression&&!e.summaries&&!e.childGridsData})&&void 0!==o?{rowIndex:e,visibleColumnIndex:o}:0===r.length||this.getNextDataRowIndex(e)===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:this.getNextDataRowIndex(e),visibleColumnIndex:r[0]}},t.prototype.getPreviousCell=function(e,t,n){void 0===n&&(n=null);var i=this.columnList.filter(function(e){return!e.columnGroup&&e.visibleIndex>=0});if(!this.isValidPosition(e,t))return{rowIndex:e,visibleColumnIndex:t};var r=n?i.filter(function(e){return n(e)}).map(function(e){return e.visibleIndex}).sort(function(e,t){return t-e}):i.map(function(e){return e.visibleIndex}).sort(function(e,t){return t-e}),o=r.find(function(e){return e<t});return this.verticalScrollContainer.igxForOf.slice(e,e+1).find(function(e){return!e.expression&&!e.summaries&&!e.childGridsData})&&void 0!==o?{rowIndex:e,visibleColumnIndex:o}:0===r.length||this.getPrevDataRowIndex(e)===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:this.getPrevDataRowIndex(e),visibleColumnIndex:r[0]}},t.prototype.executeCallback=function(e,t,n){if(void 0===t&&(t=-1),void 0===n&&(n=null),n){var i,r,o=this.summariesRowList.filter(function(e){return 0!==e.index}).concat(this.rowList.toArray()).find(function(t){return t.index===e});if(o){switch(o.nativeElement.tagName.toLowerCase()){case"igx-grid-groupby-row":i=kl,r=o;break;case"igx-grid-summary-row":i=Il,r=-1!==t?o.summaryCells.find(function(e){return e.visibleColumnIndex===t}):o.summaryCells.first;break;case"igx-child-grid-row":i=Pl,r=o;break;default:i=Ol,r=-1!==t?o.cells.find(function(e){return e.visibleColumnIndex===t}):o.cells.first}n({targetType:i,target:r})}}},t.prototype.getPrevDataRowIndex=function(e){if(e<=0)return e;var t=this.verticalScrollContainer.igxForOf.slice(0,e).reverse().find(function(e){return!e.expression&&!e.summaries&&!e.childGridsData});return t?this.verticalScrollContainer.igxForOf.indexOf(t):e},t.prototype.getNextDataRowIndex=function(e){if(e===this.verticalScrollContainer.igxForOf.length)return e;var t=this.verticalScrollContainer.igxForOf.slice(e+1,this.verticalScrollContainer.igxForOf.length).find(function(e){return!e.expression&&!e.summaries&&!e.childGridsData});return t?this.verticalScrollContainer.igxForOf.indexOf(t):e},t.prototype.isValidPosition=function(e,t){var n=this.summariesRowList.filter(function(e){return 0!==e.index}).concat(this.rowList.toArray()).length,i=this.columnList.filter(function(e){return!e.columnGroup&&e.visibleIndex>=0}).length;return!(n<1||i<1)&&(e>-1&&e<this.verticalScrollContainer.igxForOf.length&&t>-1&&t<=this.unpinnedColumns[this.unpinnedColumns.length-1].visibleIndex)},t.prototype.wheelHandler=function(e){void 0===e&&(e=!1),document.activeElement&&(document.activeElement.compareDocumentPosition(this.tbody.nativeElement)&Node.DOCUMENT_POSITION_CONTAINS||document.activeElement.compareDocumentPosition(this.tfoot.nativeElement)&Node.DOCUMENT_POSITION_CONTAINS&&e)&&document.activeElement.blur()},t.prototype.trackColumnChanges=function(e,t){return t.field+t._calcWidth},t.prototype.find=function(e,t,n,i,o){if(!this.rowList)return 0;if(this.endEdit(!1),!e)return this.clearSearch(),0;var a=!!n,s=!!i,l=!1;if(this.lastSearchInfo.searchText!==e||this.lastSearchInfo.caseSensitive!==a||this.lastSearchInfo.exactMatch!==s?(this.lastSearchInfo={searchText:e,activeMatchIndex:0,caseSensitive:a,exactMatch:s,matchInfoCache:[]},l=!0):this.lastSearchInfo.activeMatchIndex+=t,l&&(this.rowList.forEach(function(t){t.cells&&t.cells.forEach(function(t){t.highlightText(e,a,s)})}),this.rebuildMatchCache()),this.lastSearchInfo.activeMatchIndex>=this.lastSearchInfo.matchInfoCache.length?this.lastSearchInfo.activeMatchIndex=0:this.lastSearchInfo.activeMatchIndex<0&&(this.lastSearchInfo.activeMatchIndex=this.lastSearchInfo.matchInfoCache.length-1),this.lastSearchInfo.matchInfoCache.length){var c=this.lastSearchInfo.matchInfoCache[this.lastSearchInfo.activeMatchIndex];this.lastSearchInfo=Object(r.a)({},this.lastSearchInfo),!1!==o&&this.scrollTo(c.row,c.column),br.setActiveHighlight(this.id,{column:c.column,row:c.row,index:c.index})}else br.clearActiveHighlight(this.id);return this.lastSearchInfo.matchInfoCache.length},Object.defineProperty(t.prototype,"filteredSortedData",{get:function(){return this._filteredSortedData},set:function(e){this._filteredSortedData=e,this.refreshSearch(!0)},enumerable:!0,configurable:!0}),t.prototype.initPinning=function(){var e=0,t=[],n=[],i=[];this.calculateGridWidth(),this.resetCaches(),this._pinnedColumns.forEach(function(e){e.parent&&(e.parent.pinned=!0),e.columnGroup&&e.children.forEach(function(e){return e.pinned=!0})});for(var r=0;r<this._columns.length;r++)if(this._columns[r].pinned&&!this._columns[r].parent){var o=parseInt(this._columns[r].width,10);e+o>this.calcWidth-this.unpinnedAreaMinWidth?(this._columns[r].pinned=!1,n.push(this._columns[r]),i.push(this._columns[r])):(e+=o,t.push(this._columns[r]))}else this._columns[r].pinned&&this._columns[r].parent?this._columns[r].topLevelParent.pinned?t.push(this._columns[r]):(this._columns[r].pinned=!1,n.push(this._columns[r])):n.push(this._columns[r]);i.length&&console.warn("igxGrid - The pinned area exceeds maximum pinned width. The following columns were unpinned to prevent further issues:"+i.map(function(e){return'"'+e.header+'"'}).toString()+". For more info see our documentation."),this._pinnedColumns=t,this._unpinnedColumns=n,this.cdr.markForCheck()},t.prototype.scrollTo=function(e,t,n){var i=this;void 0===n&&(n=this.filteredSortedData);var r=!1;if(this.paging&&"number"!=typeof e){var o=n.indexOf(e),a=Math.floor(o/this.perPage);this.page!==a&&(r=!0,this.page=a)}r?this.verticalScrollContainer.onDataChanged.pipe(Object(W.a)()).subscribe(function(){i.scrollDirective(i.verticalScrollContainer,"number"==typeof e?e:i.verticalScrollContainer.igxForOf.indexOf(e))}):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.verticalScrollContainer.igxForOf.indexOf(e)),this.scrollToHorizontally(t)},t.prototype.scrollToHorizontally=function(e){var t="number"==typeof e?e:this.getColumnByName(e).visibleIndex,n=this.rowList.find(function(e){return e.virtDirRow}),i=n?n.virtDirRow:null;this.pinnedColumns.length?t>=this.pinnedColumns.length&&(t-=this.pinnedColumns.length,this.scrollDirective(i,t)):this.scrollDirective(i,t)},t.prototype.scrollDirective=function(e,t){e&&e.scrollTo(t)},t.prototype.rebuildMatchCache=function(){var e=this;this.lastSearchInfo.matchInfoCache=[];var t=this.lastSearchInfo.caseSensitive,n=this.lastSearchInfo.exactMatch,i=t?this.lastSearchInfo.searchText:this.lastSearchInfo.searchText.toLowerCase(),r=this.filteredSortedData,o=this.visibleColumns.filter(function(e){return!e.columnGroup}).sort(function(e,t){return e.visibleIndex-t.visibleIndex}),a=new xs(this.locale),s=new vs(this.locale);r.forEach(function(r){o.forEach(function(o){var l=o.formatter?o.formatter(r[o.field]):"number"===o.dataType?a.transform(r[o.field],e.locale):"date"===o.dataType?s.transform(r[o.field],e.locale):r[o.field];if(null!=l&&o.searchable){var c=t?String(l):String(l).toLowerCase();if(n)c===i&&e.lastSearchInfo.matchInfoCache.push({row:r,column:o.field,index:0});else for(var d=0,p=c.indexOf(i);-1!==p;)e.lastSearchInfo.matchInfoCache.push({row:r,column:o.field,index:d++}),p=(c=c.substring(p+i.length)).indexOf(i)}})})},t.prototype.isExpandedGroup=function(e){},t.prototype.changeRowEditingOverlayStateOnScroll=function(e){this.rowEditable&&this.rowEditingOverlay&&!this.rowEditingOverlay.collapsed&&(e?this.repositionRowEditingOverlay(e):this.toggleRowEditingOverlay(!1))},t.prototype.openRowOverlay=function(e){this.configureRowEditingOverlay(e,this.rowList.length<=2),this.rowEditingOverlay.open(this.rowEditSettings),this.rowEditPositioningStrategy.isTopInitialPosition=this.rowEditPositioningStrategy.isTop,this._wheelListener=this.rowEditingWheelHandler.bind(this),this.rowEditingOverlay.element.addEventListener("wheel",this._wheelListener)},t.prototype.closeRowEditingOverlay=function(){this.rowEditingOverlay.element.removeEventListener("wheel",this._wheelListener),this.rowEditPositioningStrategy.isTopInitialPosition=null,this.rowEditingOverlay.close(),this.rowEditingOverlay.element.parentElement.style.display=""},t.prototype.toggleRowEditingOverlay=function(e){var t=this.rowEditingOverlay.element.style;t.display=e?"block":"none"},t.prototype.repositionRowEditingOverlay=function(e){if(!this.rowEditingOverlay.collapsed){var t=this.rowEditingOverlay.element.parentElement.style;e?(t.display="",this.configureRowEditingOverlay(e.rowID),this.rowEditingOverlay.reposition()):t.display="none"}},t.prototype.configureRowEditingOverlay=function(e,t){void 0===t&&(t=!1),this.rowEditSettings.outlet=t?this.parentRowOutletDirective:this.rowOutletDirective,this.rowEditPositioningStrategy.settings.container=this.tbody.nativeElement;var n=this.gridAPI.get_row_by_key(e);n&&(this.rowEditPositioningStrategy.settings.target=n.element.nativeElement,this.toggleRowEditingOverlay(!0))},Object.defineProperty(t.prototype,"rowChangesCount",{get:function(){if(!this.crudService.row)return 0;var e=this.transactions.getAggregatedValue(this.crudService.row.id,!1);return e?Object.keys(e).length:0},enumerable:!0,configurable:!0}),t.prototype.writeToData=function(e,t){it(this.gridAPI.get_all_data()[e],t)},t.prototype.endRowTransaction=function(e,t){t.newData=this.transactions.getAggregatedValue(t.id,!0);var n=t.createEditEventArgs();e?n=this.gridAPI.update_row(t,t.newData):(this.onRowEditCancel.emit(n),this.transactions.endPending(!1)),n.cancel?this.transactions.startPending():(this.crudService.endRowEdit(),this.closeRowEditingOverlay())},t.prototype.endEdit=function(e,t){void 0===e&&(e=!0);var n=this.crudService.row,i=this.crudService.cell;if((n||i)&&(e?this.gridAPI.submit_value():this.gridAPI.escape_editMode(),!(!this.rowEditable||this.rowEditingOverlay&&this.rowEditingOverlay.collapsed)&&n)){this.endRowTransaction(e,n);var r=this.selectionService.activeElement;if(t&&r){var o=r.row,a=r.layout?r.layout.columnVisibleIndex:r.column;this.navigateTo(o,a,function(e){e.targetType===Ol&&e.target&&e.target.nativeElement.focus()})}}},t.prototype.rowEditingWheelHandler=function(e){e.deltaY>0?this.verticalScrollContainer.scrollNext():this.verticalScrollContainer.scrollPrev()},Object.defineProperty(t.prototype,"dataWithAddedInTransactionRows",{get:function(){var e=nt(this.gridAPI.get_all_data());return this.transactions.enabled&&e.push.apply(e,Object(r.i)(this.transactions.getAggregatedChanges(!0).filter(function(e){return e.type===Ot}).map(function(e){return e.newValue}))),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataLength",{get:function(){return this.transactions.enabled?this.dataWithAddedInTransactionRows.length:this.gridAPI.get_all_data().length},enumerable:!0,configurable:!0}),t.prototype.hasHorizontalScroll=function(){return this.totalWidth-this.unpinnedWidth>0},t.prototype._restoreVirtState=function(e){var t=e.virtDirRow,n=t.getHorizontalScroll().scrollLeft;n!==-parseInt(t.dc.instance._viewContainer.element.nativeElement.style.left,10)+t.getColumnScrollLeft(t.state.startIndex)&&t.onHScroll(n)},t.prototype.getExportExcel=function(){return this._exportExcel},t.prototype.getExportCsv=function(){return this._exportCsv},t.prototype.isSummaryRow=function(e){return e.summaries&&e.summaries instanceof Map},Object.defineProperty(t.prototype,"isAttachedToDom",{get:function(){return this.document.body.contains(this.nativeElement)},enumerable:!0,configurable:!0}),t.prototype.cachedViewLoaded=function(e){var t=this;"dataRow"===e.context.templateID&&e.context.$implicit===e.oldContext.$implicit&&(e.view.detectChanges(),(r=this.getRowByIndex(e.context.index))&&r.cells&&r.cells.forEach(function(e){e.highlightText(t.lastSearchInfo.searchText,t.lastSearchInfo.caseSensitive,t.lastSearchInfo.exactMatch)}));if(this.hasHorizontalScroll()){var n=e.context.templateID,i=e.context.index;e.view.detectChanges();var r="dataRow"===n?this.getRowByIndex(i):null,o="summaryRow"===n?this.summariesRowList.toArray().find(function(e){return e.dataRowIndex===i}):null;r&&r instanceof os?this._restoreVirtState(r):o&&this._restoreVirtState(o)}},t.ctorParameters=function(){return[{type:rs},{type:is},{type:Pt},{type:Kn},{type:void 0,decorators:[{type:o.C,args:[wl]}]},{type:o.u},{type:o.Q},{type:void 0,decorators:[{type:o.C,args:[a.c]}]},{type:o.k},{type:o.p},{type:o.H},{type:o.qb},{type:Us},{type:Xs},{type:Tn,decorators:[{type:o.C,args:[Tn]}]},{type:ul},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={resourceStrings:[{type:o.G}],autoGenerate:[{type:o.G}],emptyGridTemplate:[{type:o.G}],loadingGridTemplate:[{type:o.G}],filteringLogic:[{type:o.G}],filteringExpressionsTree:[{type:o.G}],locale:[{type:o.G}],paging:[{type:o.G}],page:[{type:o.G}],perPage:[{type:o.G}],paginationTemplate:[{type:o.G}],columnHiding:[{type:o.G}],rowSelectable:[{type:o.G}],rowDraggable:[{type:o.G}],rowEditable:[{type:o.G}],height:[{type:o.z,args:["style.height"]},{type:o.G}],hostWidth:[{type:o.z,args:["style.width"]}],width:[{type:o.G}],evenRowCSS:[{type:o.G}],oddRowCSS:[{type:o.G}],rowHeight:[{type:o.G}],columnWidth:[{type:o.G}],primaryKey:[{type:o.G}],emptyGridMessage:[{type:o.G}],isLoading:[{type:o.G}],emptyFilteredGridMessage:[{type:o.G}],columnHidingTitle:[{type:o.G}],columnPinning:[{type:o.G}],columnPinningTitle:[{type:o.G}],allowFiltering:[{type:o.G}],filterMode:[{type:o.G}],summaryPosition:[{type:o.G}],summaryCalculationMode:[{type:o.G}],onCellClick:[{type:o.S}],onSelection:[{type:o.S}],onRowSelectionChange:[{type:o.S}],onColumnPinning:[{type:o.S}],onCellEditCancel:[{type:o.S}],onCellEditEnter:[{type:o.S}],onCellEdit:[{type:o.S}],onRowEditEnter:[{type:o.S}],onRowEdit:[{type:o.S}],onRowEditCancel:[{type:o.S}],onColumnInit:[{type:o.S}],onSortingDone:[{type:o.S}],onFilteringDone:[{type:o.S}],onPagingDone:[{type:o.S}],onRowAdded:[{type:o.S}],onRowDeleted:[{type:o.S}],onDataPreLoad:[{type:o.S}],onColumnResized:[{type:o.S}],onContextMenu:[{type:o.S}],onDoubleClick:[{type:o.S}],onColumnVisibilityChanged:[{type:o.S}],onColumnMovingStart:[{type:o.S}],onColumnMoving:[{type:o.S}],onColumnMovingEnd:[{type:o.S}],onFocusChange:[{type:o.S}],onGridKeydown:[{type:o.S}],onRowDragStart:[{type:o.S}],onRowDragEnd:[{type:o.S}],onGridCopy:[{type:o.S}],resizeLine:[{type:o.ob,args:[xl,{static:!1}]}],columnList:[{type:o.s,args:[ws,{read:ws,descendants:!0}]}],excelStyleSortingTemplateDirective:[{type:o.r,args:[il,{read:il,static:!1}]}],excelStyleMovingTemplateDirective:[{type:o.r,args:[rl,{read:rl,static:!1}]}],excelStyleHidingTemplateDirective:[{type:o.r,args:[ol,{read:ol,static:!1}]}],excelStylePinningTemplateDirective:[{type:o.r,args:[al,{read:al,static:!1}]}],headerGroups:[{type:o.pb,args:[dl,{read:dl}]}],_rowList:[{type:o.pb,args:["row"]}],_summaryRowList:[{type:o.pb,args:["summaryRow",{read:gl}]}],_dataRowList:[{type:o.pb,args:[os,{read:os}]}],emptyFilteredGridTemplate:[{type:o.ob,args:["emptyFilteredGrid",{read:o.kb,static:!0}]}],emptyGridDefaultTemplate:[{type:o.ob,args:["defaultEmptyGrid",{read:o.kb,static:!0}]}],loadingGridDefaultTemplate:[{type:o.ob,args:["defaultLoadingGrid",{read:o.kb,static:!0}]}],parentVirtDir:[{type:o.ob,args:["scrollContainer",{read:gi,static:!0}]}],toolbarCustomContentTemplates:[{type:o.s,args:[Gs,{read:Gs,descendants:!1}]}],verticalScrollContainer:[{type:o.ob,args:["verticalScrollContainer",{read:gi,static:!0}]}],verticalScroll:[{type:o.ob,args:["verticalScrollHolder",{read:gi,static:!0}]}],scr:[{type:o.ob,args:["scr",{read:o.u,static:!0}]}],footer:[{type:o.ob,args:["footer",{read:o.u,static:!1}]}],headerContainer:[{type:o.ob,args:["headerContainer",{read:gi,static:!1}]}],headerCheckboxContainer:[{type:o.ob,args:["headerCheckboxContainer",{static:!1}]}],headerDragContainer:[{type:o.ob,args:["headerDragContainer",{static:!1}]}],headerGroupContainer:[{type:o.ob,args:["headerGroupContainer",{static:!1}]}],headerCheckbox:[{type:o.ob,args:["headerCheckbox",{read:ia,static:!1}]}],filteringRow:[{type:o.ob,args:["filteringRow",{read:_l,static:!1}]}],theadRow:[{type:o.ob,args:["theadRow",{static:!0}]}],tbody:[{type:o.ob,args:["tbody",{static:!0}]}],tfoot:[{type:o.ob,args:["tfoot",{static:!0}]}],_outletDirective:[{type:o.ob,args:["igxFilteringOverlayOutlet",{read:Bn,static:!0}]}],rowEditingOutletDirective:[{type:o.ob,args:["igxRowEditingOverlayOutlet",{read:Bn,static:!0}]}],tmpOutlets:[{type:o.pb,args:[yl,{read:yl}]}],dragIndicatorIconBase:[{type:o.ob,args:["dragIndicatorIconBase",{read:o.kb,static:!0}]}],defaultRowEditTemplate:[{type:o.ob,args:["defaultRowEditTemplate",{read:o.kb,static:!0}]}],rowEditCustom:[{type:o.r,args:[zs,{read:o.kb,static:!1}]}],rowEditText:[{type:o.r,args:[Vs,{read:o.kb,static:!1}]}],rowEditActions:[{type:o.r,args:[Bs,{read:o.kb,static:!1}]}],rowEditTabsDEFAULT:[{type:o.pb,args:[Hs]}],rowEditTabsCUSTOM:[{type:o.s,args:[Hs]}],rowEditingOverlay:[{type:o.ob,args:[zn,{static:!1}]}],tabindex:[{type:o.z,args:["attr.tabindex"]}],hostClass:[{type:o.z,args:["attr.class"]}],hostRole:[{type:o.z,args:["attr.role"]}],sortingExpressions:[{type:o.G}],hiddenColumnsText:[{type:o.G}],pinnedColumnsText:[{type:o.G}],toolbar:[{type:o.ob,args:["toolbar",{read:Ms,static:!1}]}],toolbarHtml:[{type:o.ob,args:["toolbar",{read:o.u,static:!1}]}],showToolbar:[{type:o.G}],toolbarTitle:[{type:o.G}],exportExcel:[{type:o.G}],exportCsv:[{type:o.G}],exportText:[{type:o.G}],exportExcelText:[{type:o.G}],exportCsvText:[{type:o.G}],clipboardOptions:[{type:o.G}],onToolbarExporting:[{type:o.S}],onRangeSelection:[{type:o.S}]},Object(r.c)([qs(),Object(r.f)("design:type",Number),Object(r.f)("design:paramtypes",[Number])],t.prototype,"filteringLogic",null),Object(r.c)([qs(),Object(r.f)("design:type",Object),Object(r.f)("design:paramtypes",[Object])],t.prototype,"filteringExpressionsTree",null),Object(r.c)([qs(),Object(r.f)("design:type",Boolean),Object(r.f)("design:paramtypes",[Boolean])],t.prototype,"rowSelectable",null),Object(r.c)([qs(),Object(r.f)("design:type",Boolean),Object(r.f)("design:paramtypes",[Boolean])],t.prototype,"rowEditable",null),Object(r.c)([qs(),Object(r.f)("design:type",String),Object(r.f)("design:paramtypes",[String])],t.prototype,"height",null),Object(r.c)([qs(),Object(r.f)("design:type",Object),Object(r.f)("design:paramtypes",[Object])],t.prototype,"width",null),Object(r.c)([qs(),Object(r.f)("design:type",Object),Object(r.f)("design:paramtypes",[Object])],t.prototype,"rowHeight",null),Object(r.c)([qs(),Object(r.f)("design:type",String),Object(r.f)("design:paramtypes",[String])],t.prototype,"columnWidth",null),Object(r.c)([qs(),Object(r.f)("design:type",Object)],t.prototype,"primaryKey",void 0),Object(r.c)([qs(),Object(r.f)("design:type",Object),Object(r.f)("design:paramtypes",[Object])],t.prototype,"columnPinning",null),Object(r.c)([kn("onFocusChange event is deprecated. Use onGridKeydown event instead."),Object(r.f)("design:type",o.x),Object(r.f)("design:paramtypes",[o.x])],t.prototype,"onFocusChange",null),Object(r.c)([qs(),Object(r.f)("design:type",Array),Object(r.f)("design:paramtypes",[Array])],t.prototype,"sortingExpressions",null),Object(r.c)([qs(),Object(r.f)("design:type",Object),Object(r.f)("design:paramtypes",[Object])],t.prototype,"hiddenColumnsText",null),Object(r.c)([qs(),Object(r.f)("design:type",Object),Object(r.f)("design:paramtypes",[Object])],t.prototype,"pinnedColumnsText",null),Object(r.c)([qs(),Object(r.f)("design:type",Boolean),Object(r.f)("design:paramtypes",[Boolean])],t.prototype,"showToolbar",null),Object(r.c)([qs(),Object(r.f)("design:type",String),Object(r.f)("design:paramtypes",[String])],t.prototype,"toolbarTitle",null),Object(r.c)([qs(),Object(r.f)("design:type",Boolean),Object(r.f)("design:paramtypes",[Boolean])],t.prototype,"exportExcel",null),Object(r.c)([qs(),Object(r.f)("design:type",Boolean),Object(r.f)("design:paramtypes",[Boolean])],t.prototype,"exportCsv",null),Object(r.c)([qs(),Object(r.f)("design:type",String),Object(r.f)("design:paramtypes",[String])],t.prototype,"exportText",null),Object(r.c)([qs(),Object(r.f)("design:type",String),Object(r.f)("design:paramtypes",[String])],t.prototype,"exportExcelText",null),Object(r.c)([qs(),Object(r.f)("design:type",String),Object(r.f)("design:paramtypes",[String])],t.prototype,"exportCsvText",null),t}(ni),Tl=function(){function e(){}return e.decorators=[{type:o.n,args:[{selector:"igx-grid-footer",template:"<ng-content></ng-content>"}]}],e}(),Al=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t){var n=this.gridAPI.grid.summaryService;return n.calculateSummaries(n.rootSummaryID,this.gridAPI.get_summary_data())},e.decorators=[{type:o.W,args:[{name:"igxGridSummaryDataPipe",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),Rl=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxProcessBarText]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),jl=0,Fl={START:"start",CENTER:"center",END:"end"},Ll="danger",Ml="info",Gl="warning",zl="success",Vl=function(){function e(){this.requestAnimationId=void 0,this._valueInPercent=jl,this._max=100,this._value=jl,this._animate=!0}return Object.defineProperty(e.prototype,"valueInPercent",{get:function(){return this._valueInPercent},set:function(e){this._valueInPercent=e},enumerable:!0,configurable:!0}),e.prototype.runAnimation=function(e,t){var n=this;this.requestAnimationId=requestAnimationFrame(function(){return n.updateProgressSmoothly.call(n,e,t)})},e.prototype.updateProgressSmoothly=function(e,t){var n=this;this._value+=t;var i=Ul(e,this._max),r=Ul(this._value,this._max);this.valueInPercent===i?(this.updateProgress(e),cancelAnimationFrame(this.requestAnimationId)):this.isInLimitRange(r,i,t)?(this.updateProgress(e),cancelAnimationFrame(this.requestAnimationId)):(this.valueInPercent=r,this.requestAnimationId=requestAnimationFrame(function(){return n.updateProgressSmoothly.call(n,e,t)}))},e.prototype.updateProgressDirectly=function(e){this._value=e,this.valueInPercent=Ul(this._value,this._max)},e.prototype.directionFlow=function(e,t,n){return e<t?n:-n},e.prototype.isInLimitRange=function(e,t,n){return this.isExceedingUpperLimit(e,t,n)||this.isExceedingLowerLimit(e,t,n)},e.prototype.isExceedingUpperLimit=function(e,t,n){return e>t&&n>0},e.prototype.isExceedingLowerLimit=function(e,t,n){return e<t&&n<0},e.prototype.updateProgress=function(e){this._value=e,this.valueInPercent=Ul(this._value,this._max)},e}(),Bl=0,Hl=0,Nl=function(e){function t(){var t=e.call(this)||this;return t.valueMin=0,t.cssClass="igx-linear-bar",t.striped=!1,t.indeterminate=!1,t.role="progressbar",t.id="igx-linear-bar-"+Bl++,t.textAlign=Fl.START,t.textVisibility=!0,t.textTop=!1,t.type="default",t.onProgressChanged=new o.x,t}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"animate",{get:function(){return this._animate},set:function(e){this._animate=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step?this._step:.01*this._max},set:function(e){this._step=Number(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){if(t=Number(t),this._value!==t&&!this.indeterminate){var n=Yl(t,this.max);if(!isNaN(n)){var i={currentValue:n,previousValue:this._value},r=e.prototype.directionFlow.call(this,this._value,t,this.step);this._animate&&t>=this.step?e.prototype.runAnimation.call(this,n,r):e.prototype.updateProgressDirectly.call(this,n),this.onProgressChanged.emit(i)}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"danger",{get:function(){return this.type===Ll},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"info",{get:function(){return this.type===Ml},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"warning",{get:function(){return this.type===Gl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"success",{get:function(){return this.type===zl},enumerable:!0,configurable:!0}),t.decorators=[{type:o.n,args:[{selector:"igx-linear-bar",template:"<div class=\"igx-linear-bar__base\">\n    <div class=\"igx-linear-bar__indicator\"\n    [style.width.%]=\"valueInPercent\"></div>\n</div>\n\n<span\n    class=\"igx-linear-bar__value\"\n    [ngClass]=\"{\n        'igx-linear-bar__value--start': textAlign === 'start',\n        'igx-linear-bar__value--center': textAlign === 'center',\n        'igx-linear-bar__value--end': textAlign === 'end',\n        'igx-linear-bar__value--top': textTop,\n        'igx-linear-bar__value--hidden': !textVisibility\n    }\">\n        {{text ? text : valueInPercent + '%'}}\n</span>\n"}]}],t.ctorParameters=function(){return[]},t.propDecorators={animate:[{type:o.G}],max:[{type:o.z,args:["attr.aria-valuemax"]},{type:o.G}],step:[{type:o.G}],valueMin:[{type:o.z,args:["attr.aria-valuemin"]}],cssClass:[{type:o.z,args:["class.igx-linear-bar"]}],striped:[{type:o.z,args:["class.igx-linear-bar--striped"]},{type:o.G}],indeterminate:[{type:o.z,args:["class.igx-linear-bar--indeterminate"]},{type:o.G}],role:[{type:o.z,args:["attr.role"]},{type:o.G}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],textAlign:[{type:o.G}],textVisibility:[{type:o.G}],textTop:[{type:o.G}],text:[{type:o.G}],type:[{type:o.G}],value:[{type:o.z,args:["attr.aria-valuenow"]},{type:o.G}],onProgressChanged:[{type:o.S}],danger:[{type:o.z,args:["class.igx-linear-bar--danger"]}],info:[{type:o.z,args:["class.igx-linear-bar--info"]}],warning:[{type:o.z,args:["class.igx-linear-bar--warning"]}],success:[{type:o.z,args:["class.igx-linear-bar--success"]}]},t}(Vl),Wl=function(e){function t(t){var n=e.call(this)||this;return n.renderer=t,n.STROKE_OPACITY_DVIDER=100,n.STROKE_OPACITY_ADDITION=.2,n.cssClass="igx-circular-bar",n.onProgressChanged=new o.x,n.id="igx-circular-bar-"+Hl++,n.indeterminate=!1,n.textVisibility=!0,n._circleRadius=46,n._circumference=2*Math.PI*n._circleRadius,n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"context",{get:function(){return{$implicit:{value:this.value,valueInPercent:this.valueInPercent,max:this.max}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animate",{get:function(){return this._animate},set:function(e){this._animate=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step?this._step:.01*this._max},set:function(e){this._step=Number(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){if(t=Number(t),this._value!==t&&!this.indeterminate){var n=Yl(t,this.max);if(!isNaN(n)){var i={currentValue:n,previousValue:this._value},r=e.prototype.directionFlow.call(this,this._value,t,this.step);this.animate&&t>=this.step?e.prototype.runAnimation.call(this,n,r):this.updateProgressDirectly(n),this.onProgressChanged.emit(i)}}},enumerable:!0,configurable:!0}),t.prototype.updateProgressSmoothly=function(t,n){var i=[{strokeDashoffset:this.getProgress(this._value),strokeOpacity:this._value/this.STROKE_OPACITY_DVIDER+this.STROKE_OPACITY_ADDITION},{strokeDashoffset:this.getProgress(this.valueInPercent),strokeOpacity:this.valueInPercent/this.STROKE_OPACITY_DVIDER+this.STROKE_OPACITY_ADDITION}];this._svgCircle.nativeElement.animate(i,{easing:"ease-out",fill:"forwards"}),e.prototype.updateProgressSmoothly.call(this,t,n)},Object.defineProperty(t.prototype,"textContent",{get:function(){return this.text},enumerable:!0,configurable:!0}),t.prototype.updateProgressDirectly=function(t){e.prototype.updateProgressDirectly.call(this,t),this.renderer.setStyle(this._svgCircle.nativeElement,"stroke-dashoffset",this.getProgress(this.valueInPercent)),this.renderer.setStyle(this._svgCircle.nativeElement,"stroke-opacity",this.valueInPercent/this.STROKE_OPACITY_DVIDER+this.STROKE_OPACITY_ADDITION)},t.prototype.getProgress=function(e){return this._circumference-e*this._circumference/100},t.decorators=[{type:o.n,args:[{selector:"igx-circular-bar",template:'<svg #svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"\n    viewBox="0 0 100 100"\n    preserveAspectRatio="xMidYMid meet"\n    role="progressbar"\n    aria-valuemin="0"\n    [attr.aria-valuemax]="max"\n    [attr.aria-valuenow]="value">\n    <circle class="igx-circular-bar__inner" cx="50" cy="50" r="46" />\n    <circle #circle class="igx-circular-bar__outer" cx="50" cy="50" r="46" />\n    <text [class.igx-circular-bar__text--hidden]="!textVisibility" text-anchor="middle" x="50" y="60">\n        <ng-container *ngTemplateOutlet="textTemplate ? textTemplate.template : defaultTextTemplate; context: context">\n        </ng-container>\n    </text>\n\n    <ng-template #defaultTextTemplate>\n        <tspan class="igx-circular-bar__text"> {{textContent ? textContent: valueInPercent + \'%\'}}</tspan>\n    </ng-template>\n</svg>\n'}]}],t.ctorParameters=function(){return[{type:o.Z}]},t.propDecorators={cssClass:[{type:o.z,args:["class.igx-circular-bar"]}],onProgressChanged:[{type:o.S}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],indeterminate:[{type:o.z,args:["class.igx-circular-bar--indeterminate"]},{type:o.G}],textVisibility:[{type:o.G}],text:[{type:o.G}],textTemplate:[{type:o.r,args:[Rl,{read:Rl,static:!1}]}],animate:[{type:o.G}],max:[{type:o.G}],step:[{type:o.G}],value:[{type:o.G}],_svgCircle:[{type:o.ob,args:["circle",{static:!0}]}]},t}(Vl);function Yl(e,t,n){return void 0===n&&(n=0),Math.max(Math.min(e,t),n)}function Ul(e,t){return Math.floor(100*e/t)}var Kl=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Nl,Wl,Rl],exports:[Nl,Wl,Rl],imports:[a.b]}]}],e}(),$l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.decorators=[{type:o.n,args:[{selector:"igx-select-item-group",template:'\n        <label id="{{labelId}}">{{ label }}</label>\n        <ng-content select="igx-select-item"></ng-content>\n    '}]}],t}(Xn),Xl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"itemText",{get:function(){return this.elementRef.nativeElement.innerText.trim()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return!this.isHeader&&!this.disabled&&this.selection.is_item_selected(this.dropDown.id,this)},set:function(e){!e||this.isHeader||this.disabled||this.dropDown.selectItem(this)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){},t.decorators=[{type:o.n,args:[{selector:"igx-select-item",template:"<ng-content></ng-content>"}]}],t}(Jn),ql={Top:-1,Bottom:1,None:0};ql[ql.Top]="Top",ql[ql.Bottom]="Bottom",ql[ql.None]="None";var Zl=function(e){function t(t,n){var i=e.call(this)||this;return i.select=t,i._selectDefaultSettings={target:null,horizontalDirection:xn.Right,verticalDirection:_n.Bottom,horizontalStartPoint:xn.Left,verticalStartPoint:_n.Top,openAnimation:be,closeAnimation:ve},i.defaultWindowToListOffset=5,i.viewPort=Cn.getViewportRect(document),i.settings=Object.assign({},i._selectDefaultSettings,n),i}return Object(r.d)(t,e),t.prototype.positionAndScrollBottom=function(e,t){e.style.top=this.viewPort.bottom-this.listContainerBoundRect.height-this.defaultWindowToListOffset+"px",e.firstElementChild.scrollTop-=t-this.defaultWindowToListOffset,this.deltaY=this.viewPort.bottom-this.listContainerBoundRect.height-this.defaultWindowToListOffset-this.select.input.nativeElement.getBoundingClientRect().top},t.prototype.positionNoScroll=function(e,t){e.style.top=t-this.itemTextToInputTextDiff+"px",this.deltaY=t-this.select.input.nativeElement.getBoundingClientRect().top-this.itemTextToInputTextDiff},t.prototype.positionAndScrollTop=function(e,t){e.style.top=this.viewPort.top+this.defaultWindowToListOffset+"px",e.firstElementChild.scrollTop+=t+this.itemTextToInputTextDiff+this.defaultWindowToListOffset,this.deltaY=this.viewPort.top+this.defaultWindowToListOffset-this.select.input.nativeElement.getBoundingClientRect().top},t.prototype.getItemsOutOfView=function(e,t){if(e.firstElementChild.scrollHeight<=e.firstElementChild.clientHeight)return{currentScroll:0,remainingScroll:0};var n=e.firstElementChild.scrollTop;return{currentScroll:n,remainingScroll:this.select.items.length*t-n-this.listContainerBoundRect.height}},t.prototype.listOutOfBounds=function(e,t){var n=e.top,i=e.bottom,r=Cn.getViewportRect(t),o=r.top,a=r.bottom,s={Direction:ql.None,Amount:0};if(o+this.defaultWindowToListOffset>n)s.Direction=ql.Top,s.Amount=o-n;else{if(!(a-this.defaultWindowToListOffset<i))return null;s.Direction=ql.Bottom,s.Amount=i-a}return s},t.prototype.position=function(t,n,i,r){var o=this.select.input.nativeElement,a=o.getBoundingClientRect();this.listContainerBoundRect=t.getBoundingClientRect();var s=this.listContainerBoundRect.height;if(!r){this.deltaX=a.left-this.itemTextPadding-this.itemTextIndent;var l=new wn(this.deltaX,a.top+this.deltaY);return this.settings.target=l,void e.prototype.position.call(this,t,n)}var c,d={X:a.left,Y:a.top};this.select.selectedItem?(c=this.select.selectedItem.element.nativeElement,ct()&&(t.firstElementChild.scrollTop=this.select.calculateScrollPosition(this.select.selectedItem))):c=this.select.getFirstItemElement();var p=a.height,u=c.getBoundingClientRect(),h=u.top-this.listContainerBoundRect.top,g=u.height,f=window.getComputedStyle(o).fontSize,m=parseInt(f.slice(0,f.indexOf("p")),10)||0,y=window.getComputedStyle(c).fontSize,b=(p-m)/2,v=(g-(parseInt(y.slice(0,y.indexOf("p")),10)||0))/2;this.itemTextToInputTextDiff=v-b;var x=d.Y-h,_=x+this.listContainerBoundRect.height,w=this.listOutOfBounds({top:x,bottom:_},i);w&&(w.Direction===ql.Top?x=d.Y:(x=-1*(s-(g-(g-p)/2)),x+=d.Y));var C=window.getComputedStyle(c).paddingLeft,S=window.getComputedStyle(c).textIndent,D=parseInt(C.slice(0,C.indexOf("p")),10)||0,O=parseInt(S.slice(0,S.indexOf("r")),10)||0;this.itemTextPadding=D,this.itemTextIndent=O,t.style.left+=d.X-D-O+"px",t.style.width=a.width+24+48+"px",this.deltaX=d.X-D-O;var I=this.getItemsOutOfView(t,g).currentScroll,k=this.getItemsOutOfView(t,g).remainingScroll;if(0===k&&0===I&&this.positionNoScroll(t,x),0!==k||0!==I){if(0===k||w||this.positionNoScroll(t,x),0!==k&&w){if(k>g){if(w.Direction===ql.Top)return void this.positionAndScrollTop(t,w.Amount);if(w.Direction===ql.Bottom)return 0===I?void this.positionNoScroll(t,x):void this.positionAndScrollBottom(t,w.Amount)}k<g&&(w.Direction===ql.Top&&this.positionNoScroll(t,x),w.Direction===ql.Bottom&&this.positionAndScrollBottom(t,w.Amount))}if(0===k&&0!==I){if(w&&w.Direction===ql.Bottom)return void this.positionAndScrollBottom(t,w.Amount);this.positionNoScroll(t,x)}}},t}(An),Ql=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxSelectToggleIcon]"}]}],e}(),Jl=function(){},ec=function(e){function t(t,n,i,r,o){var a=e.call(this,t,n,i,r)||this;return a.elementRef=t,a.cdr=n,a.selection=i,a._displayDensityOptions=r,a._injector=o,a.ngControl=null,a.cssClass=!1,a.allowItemsFocus=!1,a.disabled=!1,a.maxHeight="256px",a.type="line",a.toggleIconTemplate=null,a._onChangeCallback=Jl,a.writeValue=function(e){a.value=e},a}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){var t=this;this._value!==e&&(this._value=e,this.setSelection(this.items.find(function(e){return e.value===t.value})),this.cdr.detectChanges())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionValue",{get:function(){var e=this.selectedItem;return e?e.itemText:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this.selection.first_item(this.id)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(e){this._onChangeCallback=e},t.prototype.registerOnTouched=function(e){},t.prototype.getEditElement=function(){return this.input.nativeElement},t.prototype.selectItem=function(e,t){var n=this.selectedItem;if(t&&this.toggleDirective.close(),null!==e&&e!==n&&!e.disabled&&!e.isHeader){var i={oldSelection:n,newSelection:e,cancel:!1};this.onSelection.emit(i),i.cancel||(this.setSelection(e),this._value=e.value,this.cdr.detectChanges(),this._onChangeCallback(this.value))}},t.prototype.getFirstItemElement=function(){return this.children.first.element.nativeElement},t.prototype.open=function(t){this.disabled||0===this.items.length||(this.selectedItem||this.navigateFirst(),e.prototype.open.call(this,Object.assign({},this._overlayDefaults,this.overlaySettings,t)))},t.prototype.ngAfterContentInit=function(){var e=this;this._overlayDefaults={modal:!1,closeOnOutsideClick:!1,positionStrategy:new Zl(this,{target:this.inputGroup.element.nativeElement}),scrollStrategy:new Fn,excludePositionTarget:!0},this.children.changes.subscribe(function(){e.setSelection(e.items.find(function(t){return t.value===e.value})),e.cdr.detectChanges()}),Promise.resolve().then(function(){return e.children.notifyOnChanges()})},t.prototype.onToggleOpening=function(e){this.onOpening.emit(e),e.cancel||this.scrollToItem(this.selectedItem)},t.prototype.navigate=function(t,n){this.collapsed&&this.selectedItem&&this.navigateItem(this.selectedItem.itemIndex),e.prototype.navigate.call(this,t,n)},t.prototype.manageRequiredAsterisk=function(){if(this.ngControl&&this.ngControl.control.validator){var e=this.ngControl.control.validator({});this.inputGroup.isRequired=e&&e.required,this.cdr.markForCheck()}},t.prototype.setSelection=function(e){e&&void 0!==e.value&&null!==e.value?this.selection.set(this.id,new Set([e])):this.selection.clear(this.id)},t.prototype.onBlur=function(){this.ngControl&&!this.ngControl.valid?this.input.valid=Ci.INVALID:this.input.valid=Ci.INITIAL,this.collapsed||this.toggleDirective.close()},t.prototype.onStatusChanged=function(){(this.ngControl.control.touched||this.ngControl.control.dirty)&&(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(this.inputGroup.isFocused?this.input.valid=this.ngControl.valid?Ci.VALID:Ci.INVALID:this.input.valid=this.ngControl.valid?Ci.INITIAL:Ci.INVALID),this.manageRequiredAsterisk()},t.prototype.ngOnInit=function(){this.ngControl=this._injector.get(l.i,null)},t.prototype.ngAfterViewInit=function(){this.ngControl&&(this._statusChanges$=this.ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this.manageRequiredAsterisk()),this.cdr.detectChanges()},t.prototype.ngOnDestroy=function(){this.selection.clear(this.id),this._statusChanges$&&this._statusChanges$.unsubscribe()},t.decorators=[{type:o.n,args:[{selector:"igx-select",template:'<igx-input-group #inputGroup class="input-group" [disabled]="disabled" (click)="toggle()" [type]="type" [displayDensity]="displayDensity">\n    <ng-container ngProjectAs="[igxLabel]">\n        <ng-content select="[igxLabel]"></ng-content>\n    </ng-container>\n    <ng-container ngProjectAs="igx-prefix">\n        <ng-content select="igx-prefix,[igxPrefix]"></ng-content>\n    </ng-container>\n        <input #input class="input" type="text" igxInput [igxSelectItemNavigation]="this"\n            readonly="true"\n            [attr.placeholder]="this.placeholder"\n            [value]="this.selectionValue"\n            role="combobox"\n            aria-haspopup="listbox"\n            [attr.aria-labelledby]="this.label ? this.label.id : \'\'"\n            [attr.aria-expanded]="!this.collapsed"\n            [attr.aria-owns]="this.listId"\n            [attr.aria-activedescendant]="!this.collapsed ? this.focusedItem?.id : null"\n            (blur)="onBlur()"\n            />\n        <ng-container ngProjectAs="igx-suffix">\n                <ng-content select="igx-suffix,[igxSuffix]"></ng-content>\n            </ng-container>\n        <igx-suffix>\n            <ng-container *ngIf="toggleIconTemplate">\n                <ng-container *ngTemplateOutlet="toggleIconTemplate; context: {$implicit: this.collapsed}"></ng-container>\n                </ng-container>\n            <igx-icon *ngIf="!toggleIconTemplate" fontSet="material">{{ collapsed ? \'arrow_drop_down\' : \'arrow_drop_up\'}}</igx-icon>\n        </igx-suffix>\n    </igx-input-group>\n    <div class="igx-drop-down__list--select" igxToggle [style.maxHeight]="maxHeight"\n        (onOpening)="onToggleOpening($event)" (onOpened)="onToggleOpened()"\n        (onClosing)="onToggleClosing($event)" (onClosed)="onToggleClosed()"\n        [attr.id]="this.listId" role="listbox">\n        <ng-content select="igx-select-item, igx-select-item-group">\n        </ng-content>\n    </div>\n',providers:[{provide:l.h,useExisting:t,multi:!0},{provide:"IgxDropDownBaseToken",useExisting:t}],styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],t.ctorParameters=function(){return[{type:o.u},{type:o.k},{type:Kn},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]},{type:o.F}]},t.propDecorators={inputGroup:[{type:o.ob,args:["inputGroup",{read:Ri,static:!0}]}],input:[{type:o.ob,args:["input",{read:Si,static:!0}]}],children:[{type:o.s,args:[Object(o.vb)(function(){return Xl}),{descendants:!0}]}],label:[{type:o.r,args:[Object(o.vb)(function(){return Oi}),{static:!0}]}],value:[{type:o.G}],placeholder:[{type:o.G}],disabled:[{type:o.G}],overlaySettings:[{type:o.G}],maxHeight:[{type:o.z,args:["style.maxHeight"]}],type:[{type:o.G}],toggleIconTemplate:[{type:o.r,args:[Ql,{read:o.kb,static:!1}]}]},t}(mi),tc=function(e){function t(){var t=e.call(this,null)||this;return t.inputStream="",t.clearStream$=G.a.EMPTY,t}return Object(r.d)(t,e),t.prototype.handleKeyDown=function(t){if(t&&!t.shiftKey){var n=t.key.toLowerCase();if(!t.altKey||"arrowdown"!==n&&"arrowup"!==n&&"down"!==n&&"up"!==n){if(this.target.collapsed)switch(n){case"space":case"spacebar":case" ":case"enter":return t.preventDefault(),void this.target.open();case"arrowdown":case"down":return this.target.navigateNext(),this.target.selectItem(this.target.focusedItem),void t.preventDefault();case"arrowup":case"up":return this.target.navigatePrev(),this.target.selectItem(this.target.focusedItem),void t.preventDefault()}e.prototype.handleKeyDown.call(this,t)}else this.target.toggle()}},t.prototype.captureKey=function(e){var t=this;if(e&&e.key&&!(e.key.length>1)){this.clearStream$.unsubscribe(),this.clearStream$=Object(z.a)(500).subscribe(function(){t.inputStream=""}),this.inputStream+=e.key;var n=this.target.focusedItem;n&&this.inputStream.length>1&&n.itemText.toLowerCase().startsWith(this.inputStream.toLowerCase())||this.activateItemByText(this.inputStream)}},t.prototype.activateItemByText=function(e){var t=this.target.items,n=t.indexOf(this.target.focusedItem)||0,i=t.slice(n+1).find(function(t){return!t.disabled&&t.itemText.toLowerCase().startsWith(e.toLowerCase())});i||(i=t.slice(0,n).find(function(t){return!t.disabled&&t.itemText.toLowerCase().startsWith(e.toLowerCase())})),i&&(this.target.collapsed&&this.target.selectItem(i),this.target.navigateItem(t.indexOf(i)))},t.prototype.ngOnDestroy=function(){this.clearStream$.unsubscribe()},t.decorators=[{type:o.t,args:[{selector:"[igxSelectItemNavigation]"}]}],t.ctorParameters=function(){return[]},t.propDecorators={target:[{type:o.G,args:["igxSelectItemNavigation"]}],captureKey:[{type:o.A,args:["keyup",["$event"]]}]},t}(yi),nc=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[ec,Xl,tc,Ql,$l],exports:[ec,Xl,tc,Ql,$l],imports:[gr,a.b,ji,l.f,l.l,Hn,bi,Mi,Rr],providers:[]}]}],e}(),ic=function(e){function t(t){var n=e.call(this,t)||this;return n._displayDensityOptions=t,n._page=0,n.defaultSelectValues=[5,10,15,25,50,100,500],n._perPage=15,n.pagerEnabled=!0,n.pagerHidden=!1,n.dropdownEnabled=!0,n.dropdownHidden=!1,n.selectLabel=pl.GridResStrings.igx_grid_paginator_label,n.perPageChange=new o.x,n.pageChange=new o.x,n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"classCosy",{get:function(){return this.displayDensity===ei.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classCompact",{get:function(){return this.displayDensity===ei.compact},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classComfortable",{get:function(){return this.displayDensity===ei.comfortable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._page},set:function(e){this._page=e,this.pageChange.emit(this._page)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"perPage",{get:function(){return this._perPage},set:function(e){this._perPage=Number(e),this.perPageChange.emit(this._perPage),this._selectOptions=this.sortUniqueOptions(this.defaultSelectValues,this._perPage),this.totalPages=Math.ceil(this.totalRecords/this._perPage)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalRecords",{get:function(){return this._totalRecords},set:function(e){this._totalRecords=e,this.totalPages=Math.ceil(this.totalRecords/this.perPage)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectOptions",{get:function(){return this._selectOptions},set:function(e){this._selectOptions=this.sortUniqueOptions(e,this._perPage),this.defaultSelectValues=Object(r.i)(this._selectOptions)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLastPage",{get:function(){return this.page+1>=this.totalPages},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFirstPage",{get:function(){return 0===this.page},enumerable:!0,configurable:!0}),t.prototype.sortUniqueOptions=function(e,t){return Array.from(new Set(Object(r.i)(e,[t]))).sort(function(e,t){return e-t})},t.prototype.paginatorSelectDisplayDensity=function(){return this.displayDensity===ei.comfortable?ei.cosy:ei.compact},t.prototype.nextPage=function(){this.isLastPage||(this.page+=1)},t.prototype.previousPage=function(){this.isFirstPage||(this.page-=1)},t.prototype.paginate=function(e){e<0||e>this.totalPages-1||(this.page=e)},t.decorators=[{type:o.n,args:[{selector:"igx-paginator",template:'<div class="igx-grid-paginator__select" [hidden]="dropdownHidden">\n    <label class="igx-grid-paginator__label">{{ selectLabel }}</label>\n    <div class="igx-grid-paginator__select-input">\n        <igx-select [(ngModel)]="perPage" [displayDensity]="paginatorSelectDisplayDensity()" type="border"\n            [disabled]="!dropdownEnabled">\n            <igx-select-item [value]="val" *ngFor="let val of selectOptions">\n                {{val}}\n            </igx-select-item>\n        </igx-select>\n    </div>\n</div>\n<div class="igx-grid-paginator__pager" [hidden]="pagerHidden">\n    <button [disabled]="isFirstPage || !pagerEnabled ? true: false" (click)="paginate(0)" igxButton="icon" igxRipple igxRippleCentered="true">\n        <igx-icon fontSet="material">first_page</igx-icon>\n    </button>\n    <button [disabled]="isFirstPage || !pagerEnabled ? true: false" (click)="previousPage()" igxButton="icon" igxRipple igxRippleCentered="true">\n        <igx-icon fontSet="material">chevron_left</igx-icon>\n    </button>\n    <span>{{ page + 1 }} of {{ totalPages }}</span>\n    <button [disabled]="isLastPage || !pagerEnabled ? true: false" (click)="nextPage()" igxRipple igxRippleCentered="true" igxButton="icon">\n        <igx-icon fontSet="material">chevron_right</igx-icon>\n    </button>\n    <button [disabled]="isLastPage || !pagerEnabled ? true: false" (click)="paginate(totalPages - 1)" igxButton="icon" igxRipple\n        igxRippleCentered="true">\n        <igx-icon fontSet="material">last_page</igx-icon>\n    </button>\n</div>'}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={classCosy:[{type:o.z,args:["class.igx-grid-paginator--cosy"]}],classCompact:[{type:o.z,args:["class.igx-grid-paginator--compact"]}],classComfortable:[{type:o.z,args:["class.igx-grid-paginator"]}],page:[{type:o.G}],perPage:[{type:o.G}],totalRecords:[{type:o.G}],selectOptions:[{type:o.G}],pagerEnabled:[{type:o.G}],pagerHidden:[{type:o.G}],dropdownEnabled:[{type:o.G}],dropdownHidden:[{type:o.G}],selectLabel:[{type:o.G}],perPageChange:[{type:o.S}],pageChange:[{type:o.S}]},t}(ni),rc=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[ic],exports:[ic],imports:[a.b,nc,l.f,Rr,Mi,gr]}]}],e}(),oc=function(){function e(){}return e.prototype.transform=function(e,t,n,i){var o,a;if(!e)return"";var s=[];try{for(var l=Object(r.j)(Object.keys(e)),c=l.next();!c.done;c=l.next()){var d=c.value,p=e[d];("function"==typeof p?p(n,i):p)&&s.push(d)}}catch(u){o={error:u}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}return s.join(" ")},e.decorators=[{type:o.W,args:[{name:"igxCellStyles"}]}],e}(),ac=function(){function e(){}return e.prototype.transform=function(e){return e.filter(function(e){return!e.columnGroup})},e.decorators=[{type:o.W,args:[{name:"igxNotGrouped"}]}],e}(),sc=function(){function e(){}return e.prototype.transform=function(e){return e.filter(function(e){return 0===e.level})},e.decorators=[{type:o.W,args:[{name:"igxTopLevel"}]}],e}(),lc=function(){function e(){}return e.prototype.transform=function(e){return e.split(/(?=[A-Z])/).join(" ")},e.decorators=[{type:o.W,args:[{name:"filterCondition",pure:!0}]}],e}(),cc=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n){var i=this.gridAPI.grid;return e&&i.transactions.enabled?Lt.mergeTransactions(nt(e),i.transactions.getAggregatedChanges(!0),i.primaryKey):e},e.decorators=[{type:o.W,args:[{name:"gridTransaction",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),dc=function(){function e(){}return e.prototype.transform=function(e){return Array.from(new Set(Object(r.i)(e))).sort(function(e,t){return e-t})},e.decorators=[{type:o.W,args:[{name:"paginatorOptions",pure:!0}]}],e}(),pc=function(){function e(){}return e.prototype.transform=function(e,t){return e&&e.length?t?e:[]:e},e.decorators=[{type:o.W,args:[{name:"visibleColumns",pure:!0}]}],e}(),uc=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[vs,xs,lc,cc,ac,sc,oc,dc,pc],exports:[vs,xs,lc,cc,ac,sc,oc,dc,pc],imports:[a.b]}]}],e}(),hc=function(){function e(){}return Object.defineProperty(e.prototype,"visibleColumns",{get:function(){return this.grid.visibleColumns.filter(function(e){return!(e instanceof Cs)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canNotMoveLeft",{get:function(){return 0===this.column.visibleIndex||0===this.grid.unpinnedColumns.indexOf(this.column)&&this.column.disablePinning||0===this.grid.unpinnedColumns.indexOf(this.column)&&!this.isColumnPinnable||0!==this.column.level&&!this.findColumn(0,this.visibleColumns)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canNotMoveRight",{get:function(){return this.column.visibleIndex===this.visibleColumns.length-1||0!==this.column.level&&!this.findColumn(1,this.visibleColumns)},enumerable:!0,configurable:!0}),e.prototype.onMoveButtonClicked=function(e){var t;this.column.pinned?this.column.isLastPinned&&1===e?(t=this.grid.unpinnedColumns[0],e=0):t=this.findColumn(e,this.grid.pinnedColumns):0===this.grid.unpinnedColumns.indexOf(this.column)&&0===e?((t=this.grid.pinnedColumns[this.grid.pinnedColumns.length-1]).parent&&(t=t.topLevelParent),e=1):t=this.findColumn(e,this.grid.unpinnedColumns),this.grid.moveColumn(this.column,t,e)},e.prototype.findColumn=function(e,t){var n=t.indexOf(this.column);if(0===e){for(;n>0;)if(t[--n].level===this.column.level&&t[n].parent===this.column.parent)return t[n]}else for(;n<t.length-1;)if(t[++n].level===this.column.level&&t[n].parent===this.column.parent)return t[n]},e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-excel-style-column-moving",template:'<header>\n    {{ grid.resourceStrings.igx_grid_excel_filter_moving_header }}\n</header>\n<section class="igx-excel-filter__move-buttons">\n    <button [displayDensity]="displayDensity"\n        igxButton\n        [disabled]="canNotMoveLeft"\n        (click)="onMoveButtonClicked(0)">\n        <igx-icon>arrow_back</igx-icon>\n        <span>\n            {{ displayDensity===\'compact\'?\n            grid.resourceStrings.igx_grid_excel_filter_moving_left_short:\n            grid.resourceStrings.igx_grid_excel_filter_moving_left }}\n        </span>\n    </button>\n    <button [displayDensity]="displayDensity"\n        igxButton\n        [disabled]="canNotMoveRight"\n        (click)="onMoveButtonClicked(1)">\n        <span>\n            {{ displayDensity===\'compact\'?\n            grid.resourceStrings.igx_grid_excel_filter_moving_right_short:\n            grid.resourceStrings.igx_grid_excel_filter_moving_right }}\n        </span>\n        <igx-icon>arrow_forwards</igx-icon>\n    </button>\n</section>\n'}]}],e.ctorParameters=function(){return[]},e.propDecorators={column:[{type:o.G}],grid:[{type:o.G}],displayDensity:[{type:o.G}],isColumnPinnable:[{type:o.G}]},e}(),gc=function(e){function t(t){var n=e.call(this,t)||this;return n._displayDensityOptions=t,n}return Object(r.d)(t,e),t.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t}(ni),fc={NONE:0,LEFT:1,RIGHT:2};fc[fc.NONE]="NONE",fc[fc.LEFT]="LEFT",fc[fc.RIGHT]="RIGHT";var mc=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxEmptyList]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),yc=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxDataLoading]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),bc=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxListItemLeftPanning]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),vc=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxListItemRightPanning]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),xc=function(){function e(e,t,n){this.list=e,this.elementRef=t,this._renderer=n,this._panState=fc.NONE,this.panOffset=0,this._index=null,this.lastPanDir=fc.NONE,this.hidden=!1,this.touchAction="pan-y"}return Object.defineProperty(e.prototype,"role",{get:function(){return this.isHeader?"separator":"listitem"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerStyle",{get:function(){return this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerStyle",{get:function(){return!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){return this.hidden?"none":""},enumerable:!0,configurable:!0}),e.prototype.clicked=function(e){this.list.onItemClicked.emit({item:this,event:e,direction:this.lastPanDir}),this.lastPanDir=fc.NONE},e.prototype.panStart=function(e){this.isTrue(this.isHeader)||this.isTrue(this.list.allowLeftPanning)||this.isTrue(this.list.allowRightPanning)},e.prototype.panMove=function(e){if(!this.isTrue(this.isHeader)&&(this.isTrue(this.list.allowLeftPanning)||this.isTrue(this.list.allowRightPanning))){var t=e.deltaX<0;t&&this.isTrue(this.list.allowLeftPanning)?(this.showLeftPanTemplate(),this.setContentElementLeft(Math.max(this.maxLeft,e.deltaX))):!t&&this.isTrue(this.list.allowRightPanning)&&(this.showRightPanTemplate(),this.setContentElementLeft(Math.min(this.maxRight,e.deltaX)))}},e.prototype.panEnd=function(e){if(!this.isTrue(this.isHeader)&&(this.isTrue(this.list.allowLeftPanning)||this.isTrue(this.list.allowRightPanning))){var t=this.panOffset,n=this.width*this.list.panEndTriggeringThreshold;if(0!==t){var i=t>0?fc.RIGHT:fc.LEFT;this.lastPanDir=i;var r=this._panState;if(Math.abs(t)<n)return this.setContentElementLeft(0),this._panState=fc.NONE,void this.hideLeftAndRightPanTemplates();var o={item:this,direction:i,keepItem:!1};if(i===fc.LEFT?this.list.onLeftPan.emit(o):this.list.onRightPan.emit(o),!0===o.keepItem?(this.setContentElementLeft(0),this._panState=fc.NONE):i===fc.LEFT?(this.setContentElementLeft(this.maxLeft),this._panState=fc.LEFT):(this.setContentElementLeft(this.maxRight),this._panState=fc.RIGHT),r!==this._panState){var a={oldState:r,newState:this._panState,item:this};this.list.onPanStateChange.emit(a)}this.hideLeftAndRightPanTemplates()}}},e.prototype.showLeftPanTemplate=function(){this.setLeftAndRightTemplatesVisibility("visible","hidden")},e.prototype.showRightPanTemplate=function(){this.setLeftAndRightTemplatesVisibility("hidden","visible")},e.prototype.hideLeftAndRightPanTemplates=function(){var e=this;setTimeout(function(){e.setLeftAndRightTemplatesVisibility("hidden","hidden")},500)},e.prototype.setLeftAndRightTemplatesVisibility=function(e,t){this.leftPanningTemplateElement&&this.leftPanningTemplateElement.nativeElement&&(this.leftPanningTemplateElement.nativeElement.style.visibility=e),this.rightPanningTemplateElement&&this.rightPanningTemplateElement.nativeElement&&(this.rightPanningTemplateElement.nativeElement.style.visibility=t)},Object.defineProperty(e.prototype,"panState",{get:function(){return this._panState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return null!==this._index?this._index:this.list.children.toArray().indexOf(this)},set:function(e){this._index=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentElement",{get:function(){var e=this.element.getElementsByClassName("igx-list__item-content");return e&&e.length>0?e[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return{$implicit:this}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){if(this.element)return this.element.offsetWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLeft",{get:function(){return-this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxRight",{get:function(){return this.width},enumerable:!0,configurable:!0}),e.prototype.setContentElementLeft=function(e){this.panOffset=e,this.contentElement.style.transform="translateX("+e+"px)"},e.prototype.isTrue=function(e){return"boolean"==typeof e?e:"true"===e},e.decorators=[{type:o.n,args:[{providers:[Ds],selector:"igx-list-item",template:'   \n<div *ngIf="!isHeader && list.listItemLeftPanningTemplate != null" #leftPanningTmpl class="igx-list__item-right"\n    [style.width.px]="this.element.offsetWidth" [style.height.px]="this.element.offsetHeight">\n    <ng-container *ngTemplateOutlet="list.listItemLeftPanningTemplate.template; context: context">\n    </ng-container>\n</div>\n\n<div *ngIf="!isHeader && list.listItemRightPanningTemplate != null" #rightPanningTmpl class="igx-list__item-left"\n    [style.width.px]="this.element.offsetWidth" [style.height.px]="this.element.offsetHeight">\n    <ng-container *ngTemplateOutlet="list.listItemRightPanningTemplate.template; context: context">\n    </ng-container>\n</div>\n\n<ng-template #itemsContent>\n    <ng-content></ng-content>\n</ng-template>\n\n<ng-template #itemThumbnails>\n    <div class="igx-list__item-thumbnail">\n        <ng-content select="[igxListThumbnail], igx-list__item-thumbnail, igx-avatar"></ng-content>\n    </div>\n</ng-template>\n\n<ng-template #itemLines>\n    <div class="igx-list__item-lines">\n        <ng-content select="[igxListLine], .igx-list__item-lines, [igxListLineTitle], [igxListLineSubTitle], .igx-list__item-line-title, .igx-list__item-line-subtitle"></ng-content>\n    </div>\n</ng-template>\n\n<ng-template #itemActions>\n    <div class="igx-list__item-actions">\n        <ng-content select="[igxListAction], .igx-list__item-actions"></ng-content>\n    </div>\n</ng-template>\n\n    \n<ng-container *ngIf="isHeader">\n    <ng-container *ngTemplateOutlet="itemsContent"></ng-container>\n</ng-container>\n\n<ng-container *ngIf="!isHeader">\n    <div class="igx-list__item-content">\n        <ng-container *ngTemplateOutlet="itemThumbnails"></ng-container>\n        <ng-container *ngTemplateOutlet="itemLines"></ng-container>\n        <ng-container *ngTemplateOutlet="itemActions"></ng-container>\n        <ng-container *ngTemplateOutlet="itemsContent"></ng-container>\n    </div>\n</ng-container>\n',changeDetection:o.j.OnPush}]}],e.ctorParameters=function(){return[{type:gc},{type:o.u},{type:o.Z}]},e.propDecorators={leftPanningTemplateElement:[{type:o.ob,args:["leftPanningTmpl",{static:!1}]}],rightPanningTemplateElement:[{type:o.ob,args:["rightPanningTmpl",{static:!1}]}],isHeader:[{type:o.G}],hidden:[{type:o.G}],role:[{type:o.z,args:["attr.role"]}],ariaLabel:[{type:o.z,args:["attr.aria-label"]}],touchAction:[{type:o.z,args:["style.touch-action"]}],headerStyle:[{type:o.z,args:["class.igx-list__header"]}],innerStyle:[{type:o.z,args:["class.igx-list__item-base"]}],display:[{type:o.z,args:["style.display"]}],clicked:[{type:o.A,args:["click",["$event"]]}],panStart:[{type:o.A,args:["panstart",["$event"]]}],panMove:[{type:o.A,args:["panmove",["$event"]]}],panEnd:[{type:o.A,args:["panend",["$event"]]}],index:[{type:o.G}]},e}(),_c=0,wc=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxListThumbnail]"}]}],e}(),Cc=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxListAction]"}]}],e}(),Sc=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxListLine]"}]}],e}(),Dc=function(){function e(){this.cssClass="igx-list__item-line-title"}return e.decorators=[{type:o.t,args:[{selector:"[igxListLineTitle]"}]}],e.propDecorators={cssClass:[{type:o.z,args:["class.igx-list__item-line-title"]}]},e}(),Oc=function(){function e(){this.cssClass="igx-list__item-line-subtitle"}return e.decorators=[{type:o.t,args:[{selector:"[igxListLineSubTitle]"}]}],e.propDecorators={cssClass:[{type:o.z,args:["class.igx-list__item-line-subtitle"]}]},e}(),Ic=function(e){function t(t,n){var i=e.call(this,n)||this;return i.element=t,i._displayDensityOptions=n,i.panEndTriggeringThreshold=.5,i.id="igx-list-"+_c++,i.allowLeftPanning=!1,i.allowRightPanning=!1,i.isLoading=!1,i.onLeftPan=new o.x,i.onRightPan=new o.x,i.onPanStateChange=new o.x,i.onItemClicked=new o.x,i}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"sortedChildren",{get:function(){return void 0!==this.children?this.children.toArray().sort(function(e,t){return e.index-t.index}):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"role",{get:function(){return"list"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isListEmpty",{get:function(){return!this.children||0===this.children.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClass",{get:function(){return!this.isListEmpty&&this.displayDensity===ei.comfortable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClassCompact",{get:function(){return!this.isListEmpty&&this.displayDensity===ei.compact},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClassCosy",{get:function(){return!this.isListEmpty&&this.displayDensity===ei.cosy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e,t,n=[];if(void 0!==this.children)try{for(var i=Object(r.j)(this.sortedChildren),o=i.next();!o.done;o=i.next()){var a=o.value;a.isHeader||n.push(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headers",{get:function(){var e,t,n=[];if(void 0!==this.children)try{for(var i=Object(r.j)(this.children.toArray()),o=i.next();!o.done;o=i.next()){var a=o.value;a.isHeader&&n.push(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return{$implicit:this}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"template",{get:function(){return this.isLoading?this.dataLoadingTemplate?this.dataLoadingTemplate.template:this.defaultDataLoadingTemplate:this.emptyListTemplate?this.emptyListTemplate.template:this.defaultEmptyListTemplate},enumerable:!0,configurable:!0}),t.decorators=[{type:o.n,args:[{selector:"igx-list",template:'<ng-content></ng-content>\n\n<ng-template #defaultEmptyList>\n    <article class="message">\n        There are no items in the list.\n    </article>\n</ng-template>\n\n<ng-template #defaultDataLoading>\n    <article class="message">\n        Loading data from the server...\n    </article>\n</ng-template>\n\n<ng-container *ngIf="!children || children.length === 0 || isLoading">\n    <ng-container *ngTemplateOutlet="template; context: context">\n    </ng-container>\n</ng-container>\n',providers:[{provide:gc,useExisting:t}]}]}],t.ctorParameters=function(){return[{type:o.u},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={children:[{type:o.s,args:[Object(o.vb)(function(){return xc})]}],emptyListTemplate:[{type:o.r,args:[mc,{read:mc,static:!1}]}],dataLoadingTemplate:[{type:o.r,args:[yc,{read:yc,static:!1}]}],listItemLeftPanningTemplate:[{type:o.r,args:[bc,{read:bc,static:!1}]}],listItemRightPanningTemplate:[{type:o.r,args:[vc,{read:vc,static:!1}]}],panEndTriggeringThreshold:[{type:o.G}],defaultEmptyListTemplate:[{type:o.ob,args:["defaultEmptyList",{read:o.kb,static:!0}]}],defaultDataLoadingTemplate:[{type:o.ob,args:["defaultDataLoading",{read:o.kb,static:!0}]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],allowLeftPanning:[{type:o.G}],allowRightPanning:[{type:o.G}],isLoading:[{type:o.G}],onLeftPan:[{type:o.S}],onRightPan:[{type:o.S}],onPanStateChange:[{type:o.S}],onItemClicked:[{type:o.S}],role:[{type:o.z,args:["attr.role"]}],isListEmpty:[{type:o.z,args:["class.igx-list-empty"]}],cssClass:[{type:o.z,args:["class.igx-list"]}],cssClassCompact:[{type:o.z,args:["class.igx-list--compact"]}],cssClassCosy:[{type:o.z,args:["class.igx-list--cosy"]}]},t}(gc),kc=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Ic,xc,wc,Cc,Sc,Dc,Oc,yc,mc,bc,vc],exports:[Ic,xc,wc,Cc,Sc,Dc,Oc,yc,mc,bc,vc],imports:[a.b,gr]}]}],e}(),Pc=function(){function e(e){this.esf=e}return e.prototype.transform=function(e,t){if(!e||!e.length)return[];if(!t)return this.esf.excelStyleSearch.filteredData=null,e;t=t.toLowerCase();var n=e.filter(function(e,n){return 0===n&&e.isSpecial||null!==e.value&&void 0!==e.value&&e.value.toString().toLowerCase().indexOf(t)>-1}),i=n.length>1?n:[];return this.esf.excelStyleSearch.filteredData=nt(i),this.esf.cdr.detectChanges(),i},e.decorators=[{type:o.W,args:[{name:"excelStyleSearchFilter"}]}],e.ctorParameters=function(){return[{type:sl}]},e}(),Ec=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[sl,tl,hc,Zs,el,Qs,Js,il,ol,rl,al,Pc],exports:[sl,il,ol,rl,al,Js],imports:[a.b,l.f,uc,Mi,oo,Ua,Rr,gr,ji,bi,fi,aa,Ki,Hn,kc],entryComponents:[sl],providers:[Kn]}]}],e}(),Tc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._rowDragStarted=!1,t.transitionEndEvent=function(e){t.dragGhost&&t.dragGhost.removeEventListener("transitionend",t.transitionEndEvent,!1),t.endDragging()},t}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.row},set:function(e){this.row=e},enumerable:!0,configurable:!0}),t.prototype.onPointerDown=function(t){t.preventDefault(),this._rowDragStarted=!1,this._removeOnDestroy=!1,e.prototype.onPointerDown.call(this,t)},t.prototype.onPointerMove=function(t){var n=this;if(e.prototype.onPointerMove.call(this,t),this._dragStarted&&!this._rowDragStarted){this._rowDragStarted=!0;var i={owner:this,dragData:this.row,cancel:!1};if(this.row.grid.onRowDragStart.emit(i),i.cancel)return this.dragGhost.parentNode.removeChild(this.dragGhost),this.dragGhost=null,this._dragStarted=!1,void(this._clicked=!1);this.row.dragging=!0,this.row.grid.rowDragging=!0,this.row.grid.markForCheck(),this.subscription$=Object(T.a)(this.row.grid.document.defaultView,"keydown").subscribe(function(e){"Escape"!==e.key&&"Esc"!==e.key||(n._lastDropArea=!1,n.onPointerUp(t))})}},t.prototype.onPointerUp=function(t){var n=this;if(this._clicked){var i={owner:this,dragData:this.row,animation:!1};this.zone.run(function(){n.row.grid.onRowDragEnd.emit(i)}),i.animation&&(this.animateOnRelease=!0);var r=this._lastDropArea;e.prototype.onPointerUp.call(this,t),!r&&this.animateOnRelease?this.dragGhost.addEventListener("transitionend",this.transitionEndEvent,!1):this.endDragging()}},t.prototype.createDragGhost=function(t){this.row.grid.endEdit(!0),this.row.grid.markForCheck(),e.prototype.createDragGhost.call(this,t,this.row.nativeElement);var n=this.dragGhost,i=this.row.grid.nativeElement.getBoundingClientRect(),r=this.row.nativeElement.getBoundingClientRect();n.style.overflow="hidden",n.style.width=i.width+"px",n.style.height=r.height+"px",this.renderer.addClass(n,"igx-grid__tr--ghost"),this.renderer.removeClass(n,"igx-grid__tr--selected");for(var o=n.getElementsByClassName("igx-grid__td"),a=0;a<o.length;a++)this.renderer.removeClass(o[a],"igx-grid__td--selected"),this.renderer.removeClass(o[a],"igx-grid__td--active")},t.prototype._unsubscribe=function(){this.subscription$&&!this.subscription$.closed&&this.subscription$.unsubscribe()},t.prototype.endDragging=function(){this.onTransitionEnd(null),this.row.dragging=!1,this.row.grid.rowDragging=!1,this.row.grid.markForCheck(),this._unsubscribe()},t.decorators=[{type:o.t,args:[{selector:"[igxRowDrag]"}]}],t.propDecorators={data:[{type:o.G,args:["igxRowDrag"]}]},t}(Hi),Ac=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxDragIndicatorIcon]"}]}],e}(),Rc=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Tc,Ac],entryComponents:[],exports:[Tc,Ac],imports:[]}]}],e}(),jc=function(){function e(){}return e.decorators=[{type:o.L,args:[{declarations:[Os,ws,Cs,Ss,ll,Ms,Gs,us,ps,hs,ds,zs,Bs,Vs,Hs,ls,ss,ms,ys,bs,cl,_l,Al,os,dl,gl,hl,ml,xl,cs,Tl],entryComponents:[ws,Cs,Ss],exports:[Os,ws,Cs,Ss,ll,Ms,Gs,us,ps,hs,ds,zs,Bs,Vs,Hs,ls,ms,ys,bs,os,Al,Mi,Ua,Rr,gr,ji,Hn,fi,vl,Xi,vr,_r,aa,Wr,da,Wi,Rs,bi,oo,Ls,Kl,cl,_l,dl,gl,hl,ml,xl,Ki,uc,Ec,cs,Rc,rc,Tl],imports:[a.b,l.f,Mi,Ua,Rr,gr,ji,Hn,fi,vl,Xi,vr,_r,aa,Wr,da,Wi,Rs,bi,oo,Ls,Kl,Ki,uc,Ec,Rc,rc],providers:[rs,Kn,gs,Us,as,ul,{provide:wl,useClass:Mn}]}]}],e}(),Fc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.groupBy=function(e){var t=nt(this.grid.groupingExpressions),n=nt(this.grid.sortingExpressions);this.prepare_sorting_expression([n,t],e),this.grid.groupingExpressions=t,this.arrange_sorting_expressions()},t.prototype.groupBy_multiple=function(e){var t,n,i=nt(this.grid.groupingExpressions),o=nt(this.grid.sortingExpressions);try{for(var a=Object(r.j)(e),s=a.next();!s.done;s=a.next()){var l=s.value;this.prepare_sorting_expression([o,i],l)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}this.grid.groupingExpressions=i,this.arrange_sorting_expressions()},t.prototype.clear_groupby=function(e){var t,n,i=this,o=nt(this.grid.groupingExpressions),a=nt(this.grid.sortingExpressions);if(e){var s="string"==typeof e?[e]:e,l=o.filter(function(e){return s.indexOf(e.fieldName)<0}),c=a.filter(function(e){return s.indexOf(e.fieldName)<0});this.grid.groupingExpressions=l,this.grid.sortingExpressions=c,s.forEach(function(e){var t=o.findIndex(function(t){return t.fieldName===e}),n=i.grid.groupingExpansionState;i.grid.groupingExpansionState=n.filter(function(e){return e.hierarchy&&e.hierarchy.length<=t})})}else{this.grid.groupingExpressions=[],this.grid.groupingExpansionState=[];var d=function(e){var t=a.findIndex(function(t){return t.fieldName===e.fieldName});t>-1&&a.splice(t,1)};try{for(var p=Object(r.j)(o),u=p.next();!u.done;u=p.next()){d(u.value)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}this.grid.sortingExpressions=a}},t.prototype.groupBy_get_expanded_for_group=function(e){var t=this.grid.groupingExpansionState,n=Lt.getHierarchy(e);return t.find(function(t){return Lt.isHierarchyMatch(t.hierarchy||[{fieldName:e.expression.fieldName,value:e.value}],n)})},t.prototype.groupBy_is_row_in_group=function(e,t){var n=this.grid,i=!1;return e.records.forEach(function(e){(n.primaryKey?e[n.primaryKey]===t:e===t)&&(i=!0)}),i},t.prototype.groupBy_toggle_group=function(e){var t=this.grid;t.crudService.isInEditMode&&t.endEdit(!0);var n=t.groupingExpansionState,i=this.groupBy_get_expanded_for_group(e);i?i.expanded=!i.expanded:n.push({expanded:!t.groupsExpanded,hierarchy:Lt.getHierarchy(e)}),this.grid.groupingExpansionState=n,t.rowEditable&&t.repositionRowEditingOverlay(t.rowInEditMode)},t.prototype.groupBy_fully_expand_group=function(e){var t=this.groupBy_get_expanded_for_group(e);(t?t.expanded:this.grid.groupsExpanded)||this.groupBy_toggle_group(e),e.groupParent&&this.groupBy_fully_expand_group(e.groupParent)},t.prototype.remove_grouping_expression=function(e){var t=this.grid.groupingExpressions,n=t.findIndex(function(t){return t.fieldName===e});-1!==n&&t.splice(n,1)},t.prototype.arrange_sorting_expressions=function(){var e=this.grid.groupingExpressions;this.grid.sortingExpressions.sort(function(t,n){var i=e.find(function(e){return e.fieldName===t.fieldName}),r=e.find(function(e){return e.fieldName===n.fieldName});return i&&r?e.indexOf(i)>e.indexOf(r)?1:-1:i?-1:r?1:0})},t.prototype.get_groupBy_record_id=function(e){for(var t="{ ",n=Lt.getHierarchy(e),i=0;i<n.length;i++){var r=n[i];t+="'"+r.fieldName+"': '"+r.value+"'",i<n.length-1&&(t+=", ")}return t+=" }"},t}(Pt),Lc=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxGroupByRow]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),Mc=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r.elementRef=t,r.renderer=n,r.zone=i,r.hovered=!1,r}return Object(r.d)(t,e),t.prototype.onDragEnter=function(e){var t=e.detail.owner,n=t.column;if(this.columnBelongsToGrid(n)){var i=-1!==n.grid.groupingExpressions.findIndex(function(e){return e.fieldName===n.field});!n.groupable||i||n.columnGroup?(t.icon.innerText="block",this.hovered=!1):(t.icon.innerText="group_work",this.hovered=!0)}},t.prototype.onDragLeave=function(e){var t=e.detail.owner.column;this.columnBelongsToGrid(t)&&(e.detail.owner.icon.innerText="block",this.hovered=!1)},t.prototype.onDragDrop=function(e){var t=e.detail.owner;if(t instanceof ms){var n=t.column;if(!this.columnBelongsToGrid(n))return;var i=n.grid,r=-1!==i.groupingExpressions.findIndex(function(e){return e.fieldName===n.field});!n.groupable||r||n.columnGroup||i.groupBy({fieldName:n.field,dir:vt.Asc,ignoreCase:n.sortingIgnoreCase,strategy:n.sortStrategy,groupingComparer:n.groupingComparer})}},t.prototype.closestParentByAttr=function(e,t){return e.hasAttribute(t)?e:this.closestParentByAttr(e.parentElement,t)},t.prototype.columnBelongsToGrid=function(e){var t=this.elementRef.nativeElement,n=this.closestParentByAttr(t,"igxGroupAreaDrop").getAttribute("gridId");if(e){var i=e.grid;return!(!i||i.id!==n)}return!1},t.decorators=[{type:o.t,args:[{selector:"[igxGroupAreaDrop]"}]}],t.ctorParameters=function(){return[{type:o.u},{type:o.Z},{type:o.Q}]},t.propDecorators={hovered:[{type:o.z,args:["class.igx-drop-area--hover"]}]},t}(Ni),Gc="horizontal",zc="vertical",Vc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.setStartNavigationCell=function(e,t,n){this.startNavigationCell={colStart:e,rowStart:t,direction:n}},t.prototype.applyNavigationCell=function(e,t,n){var i=n===zc?Gc:zc;return this.startNavigationCell&&this.startNavigationCell.direction!==n?this.startNavigationCell.direction=i:this.setStartNavigationCell(e,t,i),n===zc?this.startNavigationCell.colStart:this.startNavigationCell.rowStart},t.prototype.navigateUp=function(e,t){this.focusCellUpFromLayout(e,t)},t.prototype.navigateDown=function(e,t){this.focusCellDownFromLayout(e,t)},t.prototype.isColumnRightEdgeVisible=function(e){var t=this.grid.columnList.filter(function(e){return!e.columnGroup}).find(function(t){return t.visibleIndex===e});if(!this.grid.headerContainer.getHorizontalScroll().clientWidth||t&&t.pinned)return!0;if(t){if(this.isParentColumnFullyVisible(t))return!0;var n=this.getChildColumnScrollPositions(e);return this.displayContainerWidth>=n.rightScroll-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=n.leftScroll}return!1},t.prototype.isParentColumnFullyVisible=function(e){var t=this.grid.dataRowList.length>0?this.grid.dataRowList.first.virtDirRow:this.grid.headerContainer;if(!t.getHorizontalScroll().clientWidth||e.pinned)return!0;var n=t.igxForOf.indexOf(e);return this.displayContainerWidth>=t.getColumnScrollLeft(n+1)-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=t.getColumnScrollLeft(n)},t.prototype.isColumnLeftEdgeVisible=function(e){var t=this.grid.headerContainer.getHorizontalScroll(),n=this.grid.columnList.filter(function(e){return!e.columnGroup}).find(function(t){return t.visibleIndex===e});if(!t.clientWidth||n.pinned)return!0;if(this.isParentColumnFullyVisible(n))return!0;var i=this.getChildColumnScrollPositions(e);return this.displayContainerScrollLeft<=i.leftScroll},t.prototype.onKeydownArrowRight=function(e,t){this.focusNextCellFromLayout(e,t)},t.prototype.onKeydownArrowLeft=function(e,t){this.focusPrevCellFromLayout(e,t)},Object.defineProperty(t.prototype,"gridOrderedColumns",{get:function(){return Object(r.i)(this.grid.pinnedColumns,this.grid.unpinnedColumns).filter(function(e){return!e.columnGroup}).sort(function(e,t){return e.visibleIndex-t.visibleIndex})},enumerable:!0,configurable:!0}),t.prototype.performTab=function(e,t){var n=t.layout?t.layout.columnVisibleIndex:0,i=this.grid.columns.find(function(e){return!e.columnGroup&&e.visibleIndex===n+1}),r=t.row,o=this.grid.getRowByIndex(r);this._moveFocusToCell(e,i,o,t,"next"),i&&this.setStartNavigationCell(i.colStart,i.rowStart,null)},t.prototype._moveFocusToCell=function(t,n,i,r,o){var a=this;if(n&&i.cells){var s=i.cells.find(function(e){return e.column===n}),l=this.isColumnRightEdgeVisible(n.visibleIndex);if(s&&l){if(this.grid.rowEditable&&this.isRowInEditMode(i.index))return void("next"===o?this.moveNextEditable(i.index,r.layout.columnVisibleIndex):this.movePreviousEditable(i.index,r.layout.columnVisibleIndex));this._focusCell(s.nativeElement)}else{this.grid.nativeElement.focus({preventScroll:!0});this.performHorizontalScrollToCell(i.index,n.visibleIndex,!1,function(){s=i.cells.find(function(e){return e.column===n}),a.grid.rowEditable&&a.isRowInEditMode(i.index)?"next"===o?a.moveNextEditable(i.index,r.layout.columnVisibleIndex):a.movePreviousEditable(i.index,r.layout.columnVisibleIndex):a._focusCell(s.nativeElement)})}}else{if(this.isRowInEditMode(i.index))return this.grid.gridAPI.submit_value(),void("next"===o?this.grid.rowEditTabs.first.element.nativeElement.focus():this.grid.rowEditTabs.last.element.nativeElement.focus());if("next"===o)e.prototype.navigateDown.call(this,t,{row:i.index,column:0});else{var c=0;this.grid.unpinnedColumns.forEach(function(e){c=Math.max(c,e.visibleIndex)}),e.prototype.navigateUp.call(this,t,{row:i.index,column:c})}}},t.prototype.performShiftTabKey=function(e,t){var n=t.layout?t.layout.columnVisibleIndex:0,i=t.row,r=this.grid.getRowByIndex(i),o=this.grid.columns.find(function(e){return!e.columnGroup&&e.visibleIndex===n-1&&!e.hidden});this._moveFocusToCell(e,o,r,t,"prev"),o&&this.setStartNavigationCell(o.colStart,o.rowStart,null)},t.prototype.focusCellUpFromLayout=function(e,t){var n,i=this,r="igx-grid-groupby-row"===e.tagName.toLowerCase(),o=t.layout?t.layout.rowStart:1,a=this.applyNavigationCell(t.layout?t.layout.colStart:1,o,zc),s=t.column,l=this.grid.columns.find(function(e){return e.columnLayout&&e.visibleIndex===s}),c=l.children.find(function(e){return(e.rowEnd===o||e.rowStart+e.gridRowSpan===o)&&e.colStart<=a&&(a<e.colEnd||a<e.colStart+e.gridColumnSpan)});if(r||!c){var d=this.grid.multiRowLayoutRowSize+1;c=l.children.find(function(e){return(e.rowEnd===d||e.rowStart+e.gridRowSpan===d)&&e.colStart<=a&&(a<e.colEnd||a<e.colStart+e.gridColumnSpan)}),n=!0}var p=n?t.row-1:t.row;if(!(p<0)){var u,h=function(){(u=i.grid.getRowByIndex(p))&&u.cells?i._focusCell(c.cells.find(function(e){return e.rowIndex===u.index}).nativeElement):u&&u.nativeElement.focus({preventScroll:!0})};this.shouldPerformVerticalScroll(p,c.visibleIndex)?(this.grid.nativeElement.focus({preventScroll:!0}),this.performVerticalScrollToCell(p,c.visibleIndex,h)):h()}},t.prototype.focusCellDownFromLayout=function(e,t){var n,i=this,r="igx-grid-groupby-row"===e.tagName.toLowerCase(),o=t.column,a=this.grid.columns.find(function(e){return e.columnLayout&&e.visibleIndex===o}),s=t.layout?t.layout.rowEnd||t.layout.rowStart+1:2,l=this.applyNavigationCell(t.layout?t.layout.colStart:1,t.layout?t.layout.rowStart:1,zc),c=a.children.find(function(e){return e.rowStart===s&&e.colStart<=l&&(l<e.colEnd||l<e.colStart+e.gridColumnSpan)});!r&&c||(c=a.children.find(function(e){return 1===e.rowStart&&e.colStart<=l&&(l<e.colEnd||l<e.colStart+e.gridColumnSpan)}),n=!0);var d=n?t.row+1:t.row;if(!(d>this.grid.verticalScrollContainer.igxForOf.length-1)){var p,u=function(){(p=i.grid.getRowByIndex(d))&&p.cells?i._focusCell(c.cells.find(function(e){return e.rowIndex===p.index}).nativeElement):p&&p.nativeElement.focus({preventScroll:!0})};this.shouldPerformVerticalScroll(d,c.visibleIndex)?(this.grid.nativeElement.focus({preventScroll:!0}),this.performVerticalScrollToCell(d,c.visibleIndex,u)):u()}},t.prototype.focusNextCellFromLayout=function(e,t){var n=this,i=t.column,r=this.grid.columns.find(function(e){return e.columnLayout&&e.visibleIndex===i}),o=t.layout.colEnd||t.layout.colStart+1,a=this.applyNavigationCell(t.layout.colStart,t.layout.rowStart,Gc),s=t.row,l=r.children.find(function(e){return e.colStart===o&&e.rowStart<=a&&(a<e.rowEnd||a<e.rowStart+e.gridRowSpan)});if(!l){if(!(r=this.grid.columns.find(function(e){return e.columnLayout&&!e.hidden&&e.visibleIndex===r.visibleIndex+1})))return null;l=r.children.find(function(e){return 1===e.colStart&&e.rowStart<=a&&(a<e.rowEnd||a<e.rowStart+e.gridRowSpan)})}var c=function(){var e=l.cells.find(function(e){return e.rowIndex===s}).nativeElement;n._focusCell(e)};this.isColumnRightEdgeVisible(l.visibleIndex)?c():(this.grid.nativeElement.focus({preventScroll:!0}),this.performHorizontalScrollToCell(s,l.visibleIndex,!1,c))},t.prototype.focusPrevCellFromLayout=function(e,t){var n=this,i=t.column,r=this.grid.columns.find(function(e){return e.columnLayout&&e.visibleIndex===i}),o=t.layout.colStart,a=this.applyNavigationCell(o,t.layout.rowStart,Gc),s=t.row,l=r.children.find(function(e){return(e.colEnd===o||e.colStart+e.gridColumnSpan===o)&&e.rowStart<=a&&(a<e.rowEnd||a<e.rowStart+e.gridRowSpan)});if(!l){if(!(r=this.grid.columns.find(function(e){return e.columnLayout&&!e.hidden&&e.visibleIndex===r.visibleIndex-1})))return null;var c=r.getInitialChildColumnSizes(r.children).length;l=r.children.find(function(e){return(e.colEnd===c+1||e.colStart+e.gridColumnSpan===c+1)&&e.rowStart<=a&&(a<e.rowEnd||a<e.rowStart+e.gridRowSpan)})}var d=function(){var e=l.cells.find(function(e){return e.rowIndex===s}).nativeElement;n._focusCell(e)};this.isColumnLeftEdgeVisible(l.visibleIndex)?d():(this.grid.nativeElement.focus({preventScroll:!0}),this.performHorizontalScrollToCell(s,l.visibleIndex,!1,d))},t.prototype.onKeydownEnd=function(e,t,n){var i=this;void 0===t&&(t=!1);var r=this.grid.columns.filter(function(e){return e.columnLayout&&!e.hidden}).sort(function(e,t){return e.visibleIndex-t.visibleIndex}),o=r[r.length-1],a=o.children,s=o.getInitialChildColumnSizes(a).length,l=this.applyNavigationCell(this.startNavigationCell?this.startNavigationCell.colStart:1,n||this.grid.multiRowLayoutRowSize,Gc),c=o.children.find(function(e){return(e.colEnd===s+1||e.colStart+e.gridColumnSpan===s+1)&&e.rowStart<=l&&(l<e.rowEnd||l<e.rowStart+e.gridRowSpan)}),d=a.toArray().indexOf(c),p=(t?this.grid.summariesRowList:this.grid.dataRowList).find(function(t){return t.index===e});if(p)if(p=p.nativeElement,this.isColumnRightEdgeVisible(c.visibleIndex)){var u=p.querySelectorAll(this.getColumnLayoutSelector()),h=u[u.length-1].children[d];this._focusCell(h)}else{this.grid.nativeElement.focus({preventScroll:!0});this.performHorizontalScrollToCell(e,c.visibleIndex,!1,function(){var e=p.querySelectorAll(i.getColumnLayoutSelector()),t=e[e.length-1].children[d];i._focusCell(t)})}},t.prototype.onKeydownHome=function(e,t,n){var i=this;void 0===t&&(t=!1),void 0===n&&(n=1);var r=this.grid.columns.filter(function(e){return e.columnLayout&&!e.hidden})[0],o=r.children.toArray(),a=this.applyNavigationCell(this.startNavigationCell?this.startNavigationCell.colStart:1,n,Gc),s=r.children.find(function(e){return 1===e.colStart&&e.rowStart<=a&&(a<e.rowEnd||a<e.rowStart+e.gridRowSpan)}),l=o.indexOf(s),c=(t?this.grid.summariesRowList:this.grid.dataRowList).find(function(t){return t.index===e});if(c)if(c=c.nativeElement,this.isColumnLeftEdgeVisible(s.visibleIndex)){var d=c.querySelectorAll(this.getColumnLayoutSelector())[0].children[l];this._focusCell(d)}else{this.grid.nativeElement.focus({preventScroll:!0});this.performHorizontalScrollToCell(e,s.visibleIndex,!1,function(){var e=c.querySelectorAll(i.getColumnLayoutSelector())[0].children[l];i._focusCell(e)})}},t.prototype.getColumnLayoutSelector=function(){return".igx-grid__mrl-block"},t.prototype.getChildColumnScrollPositions=function(e){for(var t=this.grid.dataRowList.length>0?this.grid.dataRowList.first.virtDirRow:this.grid.headerContainer,n=this.getColunmByVisibleIndex(e),i=n.parent,r=t.igxForOf.indexOf(i),o=t.getColumnScrollLeft(r),a=0,s=i.getFilledChildColumnSizes(i.children),l=n.colStart||1,c=n.colEnd||l+1,d=1;d<l;d++)o+=parseInt(s[d-1],10);a+=o;for(var p=l;p<c;p++)a+=parseInt(s[p-1],10);return{leftScroll:o,rightScroll:a}},t.prototype.getColunmByVisibleIndex=function(e){return e=e<0?0:e,this.grid.columnList.find(function(t){return!t.columnLayout&&t.visibleIndex===e})},t.prototype.shouldPerformVerticalScroll=function(t,n){if(this._isGroupRecordAt(t))return e.prototype.shouldPerformVerticalScroll.call(this,t,n);if(!e.prototype.shouldPerformVerticalScroll.call(this,t,n))return!1;var i=this.grid.summariesRowList.filter(function(e){return 0!==e.index}).concat(this.grid.rowList.toArray()).find(function(e){return e.index===t}),r=Math.abs(this.grid.verticalScrollContainer.getVerticalScroll().scrollTop),o=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,a=this.getVerticalScrollPositions(t,n);return!!(!i||i.nativeElement.offsetTop+a.topOffset<Math.abs(this.verticalDCTopOffset)||o&&o<a.rowBottom-r)},Object.defineProperty(t.prototype,"verticalDCTopOffset",{get:function(){return parseInt(this.grid.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement.style.top,10)},enumerable:!0,configurable:!0}),t.prototype._isGroupRecordAt=function(e){var t=this.grid.verticalScrollContainer.igxForOf[e];return t.records&&t.records.length},t.prototype.performVerticalScrollToCell=function(t,n,i){if(this._isGroupRecordAt(t))return e.prototype.performVerticalScrollToCell.call(this,t,n,i);var r=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,o=Math.abs(this.grid.verticalScrollContainer.getVerticalScroll().scrollTop),a=this.getVerticalScrollPositions(t,n),s=this.grid.summariesRowList.filter(function(e){return 0!==e.index}).concat(this.grid.rowList.toArray()).find(function(e){return e.index===t}),l=o>a.rowTop&&(!s||s.nativeElement.offsetTop+a.topOffset<Math.abs(this.verticalDCTopOffset)),c=l?a.rowTop:Math.abs(o+r-a.rowBottom);this.grid.verticalScrollContainer.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){i()}),l?this.grid.verticalScrollContainer.getVerticalScroll().scrollTop=c:this.grid.verticalScrollContainer.addScrollTop(c)},t.prototype.getVerticalScrollPositions=function(e,t){var n=this.getColunmByVisibleIndex(t),i=(n.rowStart-1)*this.grid.defaultRowHeight,r=this.grid.verticalScrollContainer.sizesCache[e]+i;return{rowTop:r,rowBottom:r+this.grid.defaultRowHeight*n.gridRowSpan,topOffset:i}},t.prototype.performHorizontalScrollToCell=function(e,t,n,i){var r=this;void 0===n&&(n=!1);var o=this.getChildColumnScrollPositions(t),a=this.horizontalScroll(e);this.grid.parentVirtDir.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){i?i():r._focusCell(r.getCellElementByVisibleIndex(e,t,n))});var s=a.getHorizontalScroll().scrollLeft>o.leftScroll,l=parseInt(a.igxForContainerSize,10),c=s?o.leftScroll:o.rightScroll-l;a.getHorizontalScroll().scrollLeft=c},t.prototype._focusCell=function(e){var t=this.grid.tbody.nativeElement.getBoundingClientRect(),n=e.getBoundingClientRect().top-t.top,i=e.getBoundingClientRect().bottom-t.bottom;n<0?(this.grid.nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){e.focus({preventScroll:!0})}),this.grid.verticalScrollContainer.addScrollTop(n)):i>0?(this.grid.nativeElement.focus({preventScroll:!0}),this.grid.verticalScrollContainer.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){e.focus({preventScroll:!0})}),this.grid.verticalScrollContainer.addScrollTop(i)):e.focus({preventScroll:!0})},t.prototype.goToFirstCell=function(){this.startNavigationCell=null,e.prototype.goToFirstCell.call(this)},t.prototype.goToLastCell=function(){this.startNavigationCell=null,e.prototype.goToLastCell.call(this)},t.decorators=[{type:o.D}],t}(Us),Bc=0,Hc=function(e){function t(t,n,i,r,a,s,l,c,d,p,u,h,g,f,m,y,b,v){var x=e.call(this,t,n,r,a,s,l,c,d,p,u,h,g,f,m,y,b,v)||this;return x.colResizingService=i,x.document=d,x.overlayService=y,x._displayDensityOptions=v,x._id="igx-grid-"+Bc++,x._groupingExpressions=[],x._groupingExpandState=[],x._hideGroupedColumns=!1,x._dropAreaMessage=null,x._filteredData=null,x.groupsExpanded=!0,x.groupsRecords=[],x.onGroupingDone=new o.x,x.dragIndicatorIconTemplate=null,x._gridAPI=r,x}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.summaryService.clearSummaryCache(),this.shouldGenerate&&(this.setupColumns(),this.reflow()),this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteredData",{get:function(){return this._filteredData},set:function(e){this._filteredData=e,this.rowSelectable&&this.updateHeaderCheckboxStatusOnFilter(this._filteredData)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationState",{get:function(){return this.verticalScrollContainer.state},set:function(e){this.verticalScrollContainer.state=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalItemCount",{get:function(){return this.verticalScrollContainer.totalItemCount},set:function(e){this.verticalScrollContainer.totalItemCount=e,this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupingExpressions",{get:function(){return this._groupingExpressions},set:function(e){var t=this;if(e&&e.length>10)throw Error("Maximum amount of grouped columns is 10.");var n=this.groupingExpressions,i=e;if(this._groupingExpressions=nt(e),this.chipsGoupingExpressions=nt(e),this._gridAPI.grid?(this._applyGrouping(),this._gridAPI.arrange_sorting_expressions(),this.cdr.markForCheck()):this.sortingExpressions.unshift.apply(this.sortingExpressions,this._groupingExpressions),JSON.stringify(n)!==JSON.stringify(i)&&this.columnList){var r=[],o=[];i.filter(function(e){return!n.some(function(t){return e.fieldName===t.fieldName})}).forEach(function(e){r.push(t.getColumnByName(e.fieldName))},this),n.filter(function(e){return!i.some(function(t){return e.fieldName===t.fieldName})}).forEach(function(e){o.push(t.getColumnByName(e.fieldName))},this),this.cdr.detectChanges();var a={expressions:i,groupedColumns:r,ungroupedColumns:o};this.onGroupingDone.emit(a)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupingExpansionState",{get:function(){return this._groupingExpandState},set:function(e){this._groupingExpandState=nt(e),this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideGroupedColumns",{get:function(){return this._hideGroupedColumns},set:function(e){this.groupingDiffer=e?this.differs.find(this.groupingExpressions).create():null,this.columnList&&this.groupingExpressions&&this._setGroupColsVisibility(e),this._hideGroupedColumns=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropAreaMessage",{get:function(){return this._dropAreaMessage||this.resourceStrings.igx_grid_groupByArea_message},set:function(e){this._dropAreaMessage=e,this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupsRowList",{get:function(){var e=new o.X;if(!this._groupsRowList)return e;var t=this._groupsRowList.filter(function(e){return null!==e.element.nativeElement.parentElement});return e.reset(t),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupAreaHostClass",{get:function(){return this.getComponentDensityClass("igx-drop-area")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupRowTemplate",{get:function(){return this._groupRowTemplate},set:function(e){this._groupRowTemplate=e,this.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupAreaTemplate",{get:function(){return this._groupAreaTemplate},set:function(e){this._groupAreaTemplate=e,this.markForCheck()},enumerable:!0,configurable:!0}),t.prototype.groupBy=function(e){this.endEdit(!0),e instanceof Array?this._gridAPI.groupBy_multiple(e):this._gridAPI.groupBy(e),this.cdr.detectChanges(),this.calculateGridSizes()},t.prototype.clearGrouping=function(e){this._gridAPI.clear_groupby(e),this.calculateGridSizes()},t.prototype.isExpandedGroup=function(e){var t=this._getStateForGroupRow(e);return t?t.expanded:this.groupsExpanded},t.prototype.toggleGroup=function(e){this._toggleGroup(e)},t.prototype.fullyExpandGroup=function(e){this._fullyExpandGroup(e)},t.prototype.isGroupByRecord=function(e){return e.records&&e.records.length},t.prototype.toggleAllGroupRows=function(){this.groupingExpansionState=[],this.groupsExpanded=!this.groupsExpanded,this.cdr.detectChanges()},Object.defineProperty(t.prototype,"hasGroupableColumns",{get:function(){return this.columnList.some(function(e){return e.groupable&&!e.columnGroup})},enumerable:!0,configurable:!0}),t.prototype._setGroupColsVisibility=function(e){var t=this;this.columnList&&!this.hasColumnLayouts&&this.groupingExpressions.forEach(function(n){t.getColumnByName(n.fieldName).hidden=e})},Object.defineProperty(t.prototype,"dropAreaVisible",{get:function(){return this.draggedColumn&&this.draggedColumn.groupable||!this.chipsGoupingExpressions.length},enumerable:!0,configurable:!0}),t.prototype._getStateForGroupRow=function(e){return this._gridAPI.groupBy_get_expanded_for_group(e)},t.prototype._toggleGroup=function(e){this._gridAPI.groupBy_toggle_group(e)},t.prototype._fullyExpandGroup=function(e){this._gridAPI.groupBy_fully_expand_group(e)},t.prototype._applyGrouping=function(){this._gridAPI.sort_multiple(this._groupingExpressions)},t.prototype.isColumnGrouped=function(e){return!!this.groupingExpressions.find(function(t){return t.fieldName===e})},t.prototype.getContext=function(e,t){return{$implicit:e,index:t,templateID:this.isGroupByRecord(e)?"groupRow":this.isSummaryRow(e)?"summaryRow":"dataRow"}},Object.defineProperty(t.prototype,"template",{get:function(){return this.filteredData&&0===this.filteredData.length?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyFilteredGridTemplate:!this.isLoading||this.data&&0!==this.dataLength?0===this.dataLength?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyGridDefaultTemplate:void 0:this.loadingGridTemplate?this.loadingGridTemplate:this.loadingGridDefaultTemplate},enumerable:!0,configurable:!0}),t.prototype.onChipRemoved=function(e){this.clearGrouping(e.owner.id)},t.prototype.chipsOrderChanged=function(e){for(var t=[],n=function(n){var r=i.groupingExpressions.filter(function(t){return t.fieldName===e.chipsArray[n].id})[0];if(!i.getColumnByName(r.fieldName).groupable)return{value:void 0};t.push(r)},i=this,r=0;r<e.chipsArray.length;r++){var o=n(r);if("object"==typeof o)return o.value}this.groupingExpansionState=[],this.chipsGoupingExpressions=t,e.originalEvent instanceof KeyboardEvent&&(this.groupingExpressions=this.chipsGoupingExpressions),this.markForCheck()},t.prototype.chipsMovingEnded=function(){this.groupingExpressions=this.chipsGoupingExpressions,this.markForCheck()},t.prototype.onChipClicked=function(e){var t=this.sortingExpressions.find(function(t){return t.fieldName===e.owner.id});t.dir=3-t.dir,this.sort(t),this.markForCheck()},t.prototype.onChipKeyDown=function(e){if(" "===e.originalEvent.key||"Spacebar"===e.originalEvent.key||"Enter"===e.originalEvent.key){var t=this.sortingExpressions.find(function(t){return t.fieldName===e.owner.id});t.dir=3-t.dir,this.sort(t),this.markForCheck()}},Object.defineProperty(t.prototype,"defaultTargetBodyHeight",{get:function(){var e=this.totalItemCount||this.dataLength;return this.renderedRowHeight*Math.min(this._defaultTargetRecordNumber,this.paging?Math.min(e,this.perPage):e)},enumerable:!0,configurable:!0}),t.prototype.getGroupAreaHeight=function(){return this.groupArea?this.groupArea.nativeElement.offsetHeight:0},t.prototype.getFeatureColumnsWidth=function(){var t=e.prototype.getFeatureColumnsWidth.call(this);return this.groupingExpressions.length&&this.headerGroupContainer&&(t+=this.headerGroupContainer.nativeElement.offsetWidth),t},t.prototype.scrollTo=function(t,n){if(this.groupingExpressions&&this.groupingExpressions.length&&"number"!=typeof t){var i=this.groupingResult.indexOf(t),r=this.groupingMetadata[i];r&&this._fullyExpandGroup(r)}e.prototype.scrollTo.call(this,t,n,this.groupingFlatResult)},Object.defineProperty(t.prototype,"dropAreaTemplateResolved",{get:function(){return this.dropAreaTemplate?this.dropAreaTemplate:this.defaultDropAreaTemplate},enumerable:!0,configurable:!0}),t.prototype.getGroupByChipTitle=function(e){var t=this.getColumnByName(e.fieldName);return t&&t.header||e.fieldName},t.prototype.getColumnGroupable=function(e){var t=this.getColumnByName(e);return t&&t.groupable},t.prototype.ngAfterContentInit=function(){this.allowFiltering&&this.hasColumnLayouts&&(this.filterMode=Dl.excelStyleFilter),this.groupTemplate&&(this._groupRowTemplate=this.groupTemplate.template),e.prototype.ngAfterContentInit.call(this),this.hideGroupedColumns&&this.columnList&&this.groupingExpressions&&this._setGroupColsVisibility(this.hideGroupedColumns),this._setupNavigationService()},t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.onGroupingDone.pipe(Object(H.a)(this.destroy$)).subscribe(function(e){t.endEdit(!0),t.summaryService.updateSummaryCache(e)})},t.prototype.ngDoCheck=function(){var t=this;if(e.prototype.ngDoCheck.call(this),this.groupingDiffer&&this.columnList&&!this.hasColumnLayouts){var n=this.groupingDiffer.diff(this.groupingExpressions);n&&this.columnList&&(n.forEachAddedItem(function(e){t.getColumnByName(e.item.fieldName).hidden=!0}),n.forEachRemovedItem(function(e){t.getColumnByName(e.item.fieldName).hidden=!1}))}},t.prototype.getSelectedData=function(t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),this.groupingExpressions.length){var i=[];return this.verticalScrollContainer.igxForOf.forEach(function(e){e.expression||e.summaries?i.push(null):i.push(e)}),this.extractDataFromSelection(i,t,n)}return e.prototype.getSelectedData.call(this,t,n)},t.prototype._setupNavigationService=function(){this.hasColumnLayouts&&(this.navigation=new Vc,this.navigation.grid=this)},t.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,providers:[Us,ul,rs,is,{provide:Pt,useClass:Fc},{provide:El,useExisting:Object(o.vb)(function(){return t})},Xs,as,di],selector:"igx-grid",template:'<igx-grid-toolbar [style.width.px]="outerWidth" role="rowgroup" *ngIf="showToolbar" [gridID]="id"\n    [displayDensity]="displayDensity" #toolbar>\n</igx-grid-toolbar>\n\n<div [style.width.px]=\'outerWidth\' class="igx-grid__grouparea"\n    *ngIf="groupingExpressions.length > 0 || hasGroupableColumns" #groupArea>\n    <igx-chips-area (onReorder)="chipsOrderChanged($event)" (onMoveEnd)="chipsMovingEnded()">\n        <ng-container *ngFor="let expr of chipsGoupingExpressions; let last = last;">\n            <igx-chip [id]="expr.fieldName" [attr.title]="getGroupByChipTitle(expr)"\n                [removable]="getColumnGroupable(expr.fieldName)"\n                [draggable]="getColumnGroupable(expr.fieldName)" [displayDensity]="displayDensity"\n                (onKeyDown)="onChipKeyDown($event)" (onRemove)="onChipRemoved($event)"\n                (onClick)="getColumnGroupable(expr.fieldName) ? onChipClicked($event): null"\n                [disabled]=\'!getColumnGroupable(expr.fieldName)\'>\n                <span>{{ getGroupByChipTitle(expr) }}</span>\n                <igx-icon igxSuffix>{{ expr.dir == 1 ? \'arrow_upward\' : \'arrow_downward\' }}</igx-icon>\n            </igx-chip>\n            <span class="igx-grid__grouparea-connector">\n                <igx-icon [style.visibility]="(!last || dropAreaVisible) ? \'visible\' : \'hidden\'">arrow_forward\n                </igx-icon>\n            </span>\n        </ng-container>\n        <div igxGroupAreaDrop [style.visibility]="dropAreaVisible ? \'visible\' : \'hidden\'" [class]="groupAreaHostClass"\n            [attr.gridId]=\'this.id\'>\n            <ng-container *ngTemplateOutlet="dropAreaTemplateResolved"></ng-container>\n        </div>\n    </igx-chips-area>\n</div>\n\n<div class="igx-grid__thead">\n    <div class="igx-grid__thead-wrapper" [class.igx-grid__tr--mrl]=\'hasColumnLayouts\' role="rowgroup"\n        [style.width.px]=\'calcWidth + 1\' #theadRow>\n        <div class="igx-grid__tr" role="row" [style.width.px]=\'calcWidth + 1\'>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0"\n                [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left"\n                class="igx-grid__scroll-on-drag-left" [style.left.px]="featureColumnsWidth"></span>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0"\n                [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left"\n                class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n            <ng-container *ngIf="groupingExpressions.length > 0">\n                <div class="igx-grid__header-indentation igx-grid__row-indentation--level-{{groupingExpressions.length}}"\n                    [ngClass]="{\n                    \'igx-grid__header-indentation--no-border\': rowSelectable || rowDraggable\n                }" #headerGroupContainer>\n                    <igx-icon *ngIf="groupsExpanded" role="button" class="igx-grid__group-expand-btn"\n                        (click)="toggleAllGroupRows()" [ngClass]="{\n                        \'igx-grid__group-expand-btn--push\': filteringService.isFilterRowVisible\n                    }">unfold_less</igx-icon>\n                    <igx-icon *ngIf="!groupsExpanded" role="button" class="igx-grid__group-expand-btn"\n                        (click)="toggleAllGroupRows()" [ngClass]="{\n                        \'igx-grid__group-expand-btn--push\': filteringService.isFilterRowVisible\n                    }">unfold_more</igx-icon>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="rowDraggable">\n                <div class="igx-grid__drag-indicator" [ngClass]="{\n                    \'igx-grid__drag-indicator--header\': !rowSelectable\n                }" #headerDragContainer>\n                    <div style="visibility: hidden;">\n                        <ng-container\n                            *ngTemplateOutlet="this.dragIndicatorIconTemplate ? this.dragIndicatorIconTemplate : this.dragIndicatorIconBase">\n                        </ng-container>\n                    </div>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="showRowCheckboxes">\n                <div class="igx-grid__cbx-selection" #headerCheckboxContainer [ngClass]="{\n                    \'igx-grid__cbx-selection--push\': filteringService.isFilterRowVisible\n                }">\n                    <igx-checkbox [checked]="allRowsSelected" (change)="onHeaderCheckboxClick($event, filteredData)"\n                        disableRipple="true" [aria-label]="headerCheckboxAriaLabel" #headerCheckbox></igx-checkbox>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="pinnedColumns.length > 0">\n                <ng-template ngFor let-col [ngForOf]="pinnedColumns | igxTopLevel">\n                    <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width.px]="getHeaderGroupWidth(col)"\n                        [style.flex-basis.px]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n                </ng-template>\n            </ng-container>\n            <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel"\n                [igxForScrollOrientation]="\'horizontal\'" [igxForScrollContainer]="parentVirtDir"\n                [igxForContainerSize]=\'unpinnedWidth\' [igxForTrackBy]=\'trackColumnChanges\'\n                [igxForSizePropName]=\'"calcPixelWidth"\' #headerContainer>\n                <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width.px]="getHeaderGroupWidth(col)"\n                    [style.flex-basis.px]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n            </ng-template>\n        </div>\n        <igx-grid-filtering-row #filteringRow [style.width.px]=\'calcWidth\' *ngIf="filteringService.isFilterRowVisible"\n            [column]="filteringService.filteredColumn"></igx-grid-filtering-row>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true"\n        id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div class="igx-grid__thead-thumb" [hidden]=\'!hasVerticalSroll()\' [style.width.px]="scrollWidth"></div>\n</div>\n\n<div igxGridBody (keydown.control.c)="copyHandlerIE()" (copy)="copyHandler($event)" class="igx-grid__tbody">\n    <div class="igx-grid__tbody-content" role="rowgroup" (onDragStop)="selectionService.dragMode = $event"\n        (onDragScroll)="dragScroll($event)" [igxGridDragSelect]="selectionService.dragMode"\n        [style.height.px]=\'calcHeight\' [style.width.px]=\'calcWidth ? calcWidth + 1 : null\' #tbody (scroll)=\'scrollHandler($event)\'\n        (wheel)="wheelHandler()">\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0"\n            [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left"\n            class="igx-grid__scroll-on-drag-left"></span>\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0"\n            [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left"\n            class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n        <ng-template igxGridFor let-rowData [igxGridForOf]="data\n        | gridTransaction:id:pipeTrigger\n        | visibleColumns:hasVisibleColumns\n        | gridFiltering:filteringExpressionsTree:id:pipeTrigger\n        | gridSort:sortingExpressions:id:pipeTrigger\n        | gridGroupBy:groupingExpressions:groupingExpansionState:groupsExpanded:id:groupsRecords:pipeTrigger\n        | gridPaging:page:perPage:id:pipeTrigger\n        | gridSummary:hasSummarizedColumns:summaryCalculationMode:summaryPosition:id:pipeTrigger:summaryPipeTrigger"\n            let-rowIndex="index" [igxForScrollOrientation]="\'vertical\'" [igxForScrollContainer]=\'verticalScroll\'\n            [igxForContainerSize]=\'calcHeight\'\n            [igxForItemSize]="hasColumnLayouts ? rowHeight * multiRowLayoutRowSize + 1 : renderedRowHeight"\n            #verticalScrollContainer (onChunkPreload)="dataLoading($event)">\n            <ng-template #record_template>\n                <igx-grid-row  [gridID]="id" [index]="rowIndex" [rowData]="rowData" #row>\n                </igx-grid-row>\n            </ng-template>\n            <ng-template #group_template>\n                <igx-grid-groupby-row [gridID]="id" [index]="rowIndex" [groupRow]="rowData" #row>\n                </igx-grid-groupby-row>\n            </ng-template>\n            <ng-template #summary_template>\n                <igx-grid-summary-row [gridID]="id" [summaries]="rowData.summaries" [index]="rowIndex"\n                    class="igx-grid__summaries--body" #summaryRow>\n                </igx-grid-summary-row>\n            </ng-template>\n            <ng-template\n                [igxTemplateOutlet]=\'isGroupByRecord(rowData) ? group_template : isSummaryRow(rowData) ? summary_template : record_template\'\n                [igxTemplateOutletContext]=\'getContext(rowData, rowIndex)\'\n                (onCachedViewLoaded)=\'cachedViewLoaded($event)\'>\n            </ng-template>\n        </ng-template>\n        <ng-container *ngTemplateOutlet="template"></ng-container>\n        <div class="igx-grid__row-editing-outlet" igxOverlayOutlet #igxRowEditingOverlayOutlet></div>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true"\n        id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div [hidden]=\'!hasVerticalSroll()\' class="igx-grid__tbody-scrollbar" [style.width.px]="scrollWidth"\n        [style.height.px]=\'calcHeight\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #verticalScrollHolder></ng-template>\n    </div>\n</div>\n\n\n<div class="igx-grid__tfoot" role="rowgroup" [style.height.px]=\'summariesHeight\' #tfoot>\n    <igx-grid-summary-row [style.width.px]=\'calcWidth\' [style.height.px]=\'summariesHeight\'\n        *ngIf="hasSummarizedColumns && rootSummariesEnabled" [gridID]="id"\n        [summaries]="id | igxGridSummaryDataPipe:summaryService.retriggerRootPipe" [index]="0"\n        class="igx-grid__summaries" #summaryRow>\n    </igx-grid-summary-row>\n    <div class="igx-grid__tfoot-thumb" [hidden]=\'!hasVerticalSroll()\' [style.height.px]=\'summariesHeight\'\n        [style.width.px]="scrollWidth"></div>\n</div>\n\n<div class="igx-grid__scroll" [style.height]="\'18px\'" #scr [hidden]="isHorizontalScrollHidden">\n    <div class="igx-grid__scroll-start" [style.width.px]=\'pinnedWidth\' [hidden]="pinnedWidth === 0"></div>\n    <div class="igx-grid__scroll-main" [style.width.px]=\'unpinnedWidth\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #scrollContainer>\n        </ng-template>\n    </div>\n</div>\n\n<div class="igx-grid__footer" #footer>\n    <ng-content select="igx-grid-footer"></ng-content>\n    <ng-container *ngIf="paging && totalRecords">\n        <ng-container\n            *ngTemplateOutlet="paginationTemplate ? paginationTemplate : defaultPaginator; context: {$implicit: this}">\n        </ng-container>\n    </ng-container>\n</div>\n\n<ng-template #defaultPaginator>\n    <igx-paginator [displayDensity]="displayDensity" [(page)]="page" [totalRecords]="totalRecords" [(perPage)]="perPage">\n    </igx-paginator>\n</ng-template>\n\n<ng-template #emptyFilteredGrid>\n    <span class="igx-grid__tbody-message">{{emptyFilteredGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultEmptyGrid>\n    <span class="igx-grid__tbody-message">{{emptyGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultLoadingGrid>\n    <div class="igx-grid__loading">\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </div>\n</ng-template>\n\n<ng-template #defaultDropArea>\n    <igx-icon fontSet="material" class="igx-drop-area__icon">group_work</igx-icon>\n    <span class="igx-drop-area__text">{{dropAreaMessage}}</span>\n</ng-template>\n\n<div *ngIf="rowEditable" igxToggle>\n    <div [className]="bannerClass">\n        <ng-container\n            *ngTemplateOutlet="rowEditContainer; context: { rowChangesCount: rowChangesCount, endEdit: endEdit.bind(this) }">\n        </ng-container>\n    </div>\n</div>\n\n<ng-template #defaultRowEditText>\n    You have {{ rowChangesCount }} changes in this row\n</ng-template>\n\n<ng-template #defaultRowEditActions>\n    <button igxButton igxRowEditTabStop (click)="endEdit(false, $event)">Cancel</button>\n    <button igxButton igxRowEditTabStop (click)="endEdit(true, $event)">Done</button>\n</ng-template>\n\n<ng-template #defaultRowEditTemplate>\n    <div class="igx-banner__message">\n        <span class="igx-banner__text">\n            <ng-container\n                *ngTemplateOutlet="rowEditText ? rowEditText : defaultRowEditText; context: { $implicit: rowChangesCount }">\n            </ng-container>\n        </span>\n    </div>\n    <div class="igx-banner__actions">\n        <div class="igx-banner__row">\n            <ng-container\n                *ngTemplateOutlet="rowEditActions ? rowEditActions : defaultRowEditActions; context: { $implicit: endEdit.bind(this) }">\n            </ng-container>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #dragIndicatorIconBase>\n    <igx-icon fontSet="material">drag_indicator</igx-icon>\n</ng-template>\n\n<igx-grid-column-resizer *ngIf="colResizingService.showResizer"></igx-grid-column-resizer>\n<div class="igx-grid__outlet" #igxFilteringOverlayOutlet igxOverlayOutlet></div>\n'}]}],t.ctorParameters=function(){return[{type:rs},{type:is},{type:as},{type:Pt},{type:Kn},{type:void 0,decorators:[{type:o.C,args:[wl]}]},{type:o.u},{type:o.Q},{type:void 0,decorators:[{type:o.C,args:[a.c]}]},{type:o.k},{type:o.p},{type:o.H},{type:o.qb},{type:Us},{type:Xs},{type:Tn,decorators:[{type:o.C,args:[Tn]}]},{type:ul},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],data:[{type:o.G}],groupingExpressions:[{type:o.G}],groupingExpansionState:[{type:o.G}],groupsExpanded:[{type:o.G}],hideGroupedColumns:[{type:o.G}],dropAreaMessage:[{type:o.G}],dropAreaTemplate:[{type:o.G}],onGroupingDone:[{type:o.S}],groupTemplate:[{type:o.r,args:[Lc,{read:Lc,static:!1}]}],dragIndicatorIconTemplate:[{type:o.r,args:[Ac,{read:o.kb,static:!1}]}],_groupsRowList:[{type:o.pb,args:[Ns,{read:Ns}]}],defaultDropAreaTemplate:[{type:o.ob,args:["defaultDropArea",{read:o.kb,static:!0}]}],groupArea:[{type:o.ob,args:["groupArea",{static:!1}]}]},t}(El),Nc=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n,i){var r,o=this.gridAPI.grid;return r=t.length?Lt.sort(nt(e),t):e,o.filteredSortedData=r,r},e.decorators=[{type:o.W,args:[{name:"gridSort",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),Wc=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n,i,r,o,a){var s,l={expressions:[],expansion:[],defaultExpanded:i},c=this.gridAPI.grid;l.expressions=c.groupingExpressions;var d={data:[],metadata:[]};return l.expressions.length?(l.expansion=c.groupingExpansionState,l.defaultExpanded=c.groupsExpanded,s=Lt.group(nt(e),l,c,o,d)):(o.splice(0,o.length),s={data:e,metadata:e}),c.groupingFlatResult=s.data,c.groupingResult=d.data,c.groupingMetadata=d.metadata,s},e.decorators=[{type:o.W,args:[{name:"gridGroupBy",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),Yc=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n,i,r){if(void 0===t&&(t=0),void 0===n&&(n=15),!this.gridAPI.grid.paging)return e;var o={index:t,recordsPerPage:n};Lt.correctPagingState(o,e.data?e.data.length:0);var a={data:Lt.page(nt(e.data),o),metadata:Lt.page(nt(e.metadata),o)};return this.gridAPI.grid.page!==o.index&&(this.gridAPI.grid.page=o.index),this.gridAPI.grid.pagingState=o,a},e.decorators=[{type:o.W,args:[{name:"gridPaging",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),Uc=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n,i){var r=this.gridAPI.grid,o={expressionsTree:t};if(!o.expressionsTree||!o.expressionsTree.filteringOperands||0===o.expressionsTree.filteringOperands.length)return e;var a=Lt.filter(nt(e),o);return r.filteredData=a,a},e.decorators=[{type:o.W,args:[{name:"gridFiltering",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),Kc=function(e){function t(t,n,i,r,o,a){var s=e.call(this,t,n,i,r,o,a)||this;return s.gridAPI=t,s.crudService=n,s.selectionService=i,s.element=o,s.cdr=a,s}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"hasColumnLayouts",{get:function(){return this.grid.hasColumnLayouts},enumerable:!0,configurable:!0}),t.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-grid-row",template:'<ng-container *ngIf="grid.groupingExpressions.length > 0">\n    <div class="igx-grid__row-indentation igx-grid__row-indentation--level-{{grid.groupingExpressions.length}}"></div>\n</ng-container>\n<ng-container *ngIf="rowDraggable">\n    <div [class]="resolveDragIndicatorClasses" [igxRowDrag]="this">\n        <ng-container *ngTemplateOutlet="this.grid.dragIndicatorIconTemplate ? this.grid.dragIndicatorIconTemplate : this.grid.dragIndicatorIconBase"></ng-container>\n    </div>\n</ng-container>\n<ng-container *ngIf="showRowCheckboxes">\n    <div class="igx-grid__cbx-selection">\n        <igx-checkbox [checked]="isSelected" [disabled]="deleted" (change)="onCheckboxClick($event)" disableRipple="true" [disableTransitions]="grid.disableTransitions" [aria-label]="rowCheckboxAriaLabel"></igx-checkbox>\n    </div>\n</ng-container>\n\n<ng-container *ngIf="!grid.hasColumnLayouts">\n    <ng-container *ngIf="pinnedColumns.length > 0">\n        <igx-grid-cell *ngFor="let col of pinnedColumns | igxNotGrouped"\n            class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n            [class.igx-grid__td--number]="col.dataType === \'number\'"\n            [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [lastPinned]="col.isLastPinned"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width.px]="col.width"\n            [style.flex-basis.px]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [cellTemplate]="col.bodyTemplate">\n        </igx-grid-cell>\n    </ng-container>\n    <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForSizePropName]=\'"calcPixelWidth"\' [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n        <igx-grid-cell\n            class="igx-grid__td igx-grid__td--fw"\n            [class.igx-grid__td--number]="col.dataType === \'number\'"\n            [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width.px]="col.width"\n            [style.flex-basis.px]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [cellTemplate]="col.bodyTemplate">\n        </igx-grid-cell>\n    </ng-template>\n</ng-container>\n\n<ng-container *ngIf="grid.hasColumnLayouts">\n    <ng-container *ngIf="pinnedColumns.length > 0">\n        <div *ngFor="let col of pinnedColumns | igxTopLevel" class="igx-grid__mrl-block"\n        [ngClass]="{\'igx-grid__td--pinned-last\': col.hasLastPinnedChildColumn}"\n        [ngStyle]="{\'grid-template-rows\':col.getGridTemplate(true, false),\n        \'grid-template-columns\':col.getGridTemplate(false, false),\n        \'z-index\': col.pinned ? 1 : null,\n        \'-ms-grid-rows\':col.getGridTemplate(true, true),\n        \'-ms-grid-columns\':col.getGridTemplate(false, true)}">\n            <igx-grid-cell *ngFor="let child of col.children"\n                class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n                [class.igx-grid__td--number]="child.dataType === \'number\'"\n                [ngClass]="child.cellClasses | igxCellStyles:rowData[child.field]:rowData:child.field"\n                [editMode]="child.editable && crudService.isInEditMode(index, child.index)"\n                [column]="child"\n                [formatter]="child.formatter"\n                [row]="this"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [visibleColumnIndex]="child.visibleIndex"\n                [value]="rowData[child.field]"\n                [cellTemplate]="child.bodyTemplate"></igx-grid-cell>\n        </div>\n    </ng-container>\n    <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForSizePropName]=\'"calcPixelWidth"\' [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n        <div class="igx-grid__mrl-block"\n        [ngStyle]="{\'grid-template-rows\':col.getGridTemplate(true, false),\n     \'grid-template-columns\':col.getGridTemplate(false, false),\n     \'-ms-grid-rows\':col.getGridTemplate(true, true),\n     \'-ms-grid-columns\':col.getGridTemplate(false, true)}">\n            <igx-grid-cell *ngFor="let child of col.children"\n                class="igx-grid__td igx-grid__td--fw"\n                [class.igx-grid__td--number]="child.dataType === \'number\'"\n                [ngClass]="child.cellClasses | igxCellStyles:rowData[child.field]:rowData:child.field"\n                [editMode]="child.editable && crudService.isInEditMode(index, child.index)"\n                [column]="child"\n                [formatter]="child.formatter"\n                [row]="this"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [visibleColumnIndex]="child.visibleIndex"\n                [value]="rowData[child.field]"\n                [cellTemplate]="child.bodyTemplate"></igx-grid-cell>\n        </div>\n    </ng-template>\n</ng-container>\n',providers:[{provide:os,useExisting:Object(o.vb)(function(){return t})}]}]}],t.ctorParameters=function(){return[{type:Pt},{type:is},{type:rs},{type:Kn},{type:o.u},{type:o.k}]},t.propDecorators={hasColumnLayouts:[{type:o.z,args:["class.igx-grid__tr--mrl"]}]},t}(os),$c=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n,i,r,o,a){return e.data&&t&&n!==Sl.rootLevelOnly?this.addSummaryRows(r,e,i):e.data},e.prototype.addSummaryRows=function(e,t,n){var i,o=[],a=new Map,s=this.gridAPI.grid,l=s.summaryService.calcMaxSummaryHeight();if(t.metadata.length&&!s.isGroupByRecord(t.data[0])&&s.isGroupByRecord(t.metadata[0])&&n===Cl.bottom){var c=[];for(c.push(t.metadata[0]);c[c.length-1].groupParent;)c.push(c[c.length-1].groupParent);c.reverse(),c.forEach(function(e){return e.skip=!0}),(i=t.data).splice.apply(i,Object(r.i)([0,0],c))}for(var d=0;d<t.data.length;d++){var p=t.data[d],u=!1,h=void 0,g=null;if(s.isGroupByRecord(p)?(u=!!p.skip,p.skip=null,g=p,h=this.gridAPI.get_groupBy_record_id(g)):h=this.gridAPI.get_row_id(p),u||o.push(p),n===Cl.bottom&&a.has(h))for(var f=a.get(h),m=0;m<f.length;m++){var y=f[m],b=this.gridAPI.get_groupBy_record_id(y),v=this.removeDeletedRecord(s,y.records.slice()),x={summaries:s.summaryService.calculateSummaries(b,v),max:l};o.push(x)}if(null!==g&&s.isExpandedGroup(g))if(n===Cl.top){v=this.removeDeletedRecord(s,g.records.slice()),x={summaries:s.summaryService.calculateSummaries(h,v),max:l};o.push(x)}else if(n===Cl.bottom){for(var _=g;_.groups&&_.groups.length>0&&s.isExpandedGroup(_);)_=_.groups[_.groups.length-1];var w=void 0;w=s.isExpandedGroup(_)?this.gridAPI.get_row_id(_.records[_.records.length-1]):this.gridAPI.get_groupBy_record_id(_),(f=a.get(w))||(f=[],a.set(w,f)),f.unshift(g)}}return o},e.prototype.removeDeletedRecord=function(e,t){return e.transactions.enabled?(e.transactions.getTransactionLog().filter(function(e){return"delete"===e.type}).map(function(e){return e.id}).forEach(function(n){var i=(e.primaryKey?t.map(function(t){return t[e.primaryKey]}):t).indexOf(n);-1!==i&&t.splice(i,1)}),t):t},e.decorators=[{type:o.W,args:[{name:"gridSummary",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),Xc=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.decorators=[{type:o.L,args:[{declarations:[Hc,Kc,Ns,Lc,Mc,Wc,Yc,Nc,Uc,$c],exports:[Hc,Ns,Kc,Lc,Mc,jc,Wc,Yc,Nc,Uc,$c],imports:[a.b,l.f,da,jc,nc]}]}],Object(r.c)([In("IgxGridModule.forRoot method is deprecated. Use IgxGridModule instead."),Object(r.f)("design:type",Function),Object(r.f)("design:paramtypes",[]),Object(r.f)("design:returntype",void 0)],e,"forRoot",null),e}(),qc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.get_all_data=function(e){var t=this.grid,n=e?t.dataWithAddedInTransactionRows:t.flatData;return n||[]},t.prototype.get_summary_data=function(){var e=this.grid,t=e.processedRootRecords.filter(function(e){return void 0===e.isFilteredOutParent||!1===e.isFilteredOutParent}).map(function(e){return e.data});e.transactions.enabled&&e.transactions.getTransactionLog().filter(function(e){return e.type===It}).map(function(e){return e.id}).forEach(function(n){var i=(e.primaryKey?t.map(function(t){return t[e.primaryKey]}):t).indexOf(n);-1!==i&&t.splice(i,1)});return t},t.prototype.expand_row=function(e){var t=this.grid,n=t.expansionStates;n.set(e,!0),t.expansionStates=n,t.rowEditable&&t.endEdit(!0)},t.prototype.collapse_row=function(e){var t=this.grid,n=t.expansionStates;n.set(e,!1),t.expansionStates=n,t.rowEditable&&t.endEdit(!0)},t.prototype.toggle_row_expansion=function(e){var t=this.grid,n=t.expansionStates,i=t.records.get(e);if(i){var r=this.get_row_expansion_state(i);n.set(e,!r),t.expansionStates=n}t.rowEditable&&t.endEdit(!0)},t.prototype.trigger_row_expansion_toggle=function(e,t,n,i){var r=this,o=this.grid;if(e.expanded!==t&&(e.children&&e.children.length||o.loadChildrenOnDemand&&(!o.hasChildrenKey||e.data[o.hasChildrenKey]))){var a={rowID:e.rowID,expanded:t,event:n,cancel:!1};if(o.onRowToggle.emit(a),!a.cancel){var s=o.expansionStates;s.set(e.rowID,t),o.expansionStates=s,o.rowEditable&&o.endEdit(!0),requestAnimationFrame(function(){var e=r.grid.selectionService.activeElement;if(e){var t=r.get_cell_by_visible_index(e.row,e.column);t&&t.nativeElement.focus()}})}}},t.prototype.expand_path_to_record=function(e){for(var t=this.grid,n=t.expansionStates;e.parent;){e=e.parent,this.get_row_expansion_state(e)||n.set(e.rowID,!0)}t.expansionStates=n,t.rowEditable&&t.endEdit(!0)},t.prototype.get_row_expansion_state=function(e){var t=this.grid,n=t.expansionStates.get(e.rowID);return void 0!==n?n:e.children&&e.children.length&&e.level<t.expansionDepth},t.prototype.update_row_in_array=function(t,n,i){var r=this.grid;if(r.primaryKey&&r.foreignKey)e.prototype.update_row_in_array.call(this,t,n,i);else{var o=r.records.get(n),a=o.parent?o.parent.data[r.childDataKey]:r.data;i=r.primaryKey?a.map(function(e){return e[r.primaryKey]}).indexOf(n):a.indexOf(n),a[i]=t}},t.prototype.should_apply_number_style=function(e){return e.dataType===Ft.Number&&0!==e.visibleIndex},t.prototype.deleteRowById=function(t){var n=this.grid,i=n.primaryKey&&n.foreignKey&&n.cascadeOnDelete&&n.transactions.enabled;i&&n.transactions.startPending(),e.prototype.deleteRowById.call(this,t),i&&n.transactions.endPending(!0)},t.prototype.deleteRowFromData=function(t,n){var i=this.grid,r=i.records.get(t);if(i.primaryKey&&i.foreignKey){if(n=i.primaryKey?i.data.map(function(e){return e[i.primaryKey]}).indexOf(t):i.data.indexOf(t),e.prototype.deleteRowFromData.call(this,t,n),i.cascadeOnDelete&&r&&r.children&&r.children.length>0)for(var o=0;o<r.children.length;o++){var a=r.children[o];e.prototype.deleteRowById.call(this,a.rowID)}}else{var s=r.parent?r.parent.data[i.childDataKey]:i.data;n=i.primaryKey?s.map(function(e){return e[i.primaryKey]}).indexOf(t):s.indexOf(t);var l=[];if(this.get_selected_children(r,l),l.length>0&&i.deselectRows(l),i.transactions.enabled){var c=i.generateRowPath(t);i.transactions.add({id:t,type:It,newValue:null,path:c},s[n])}else s.splice(n,1)}},t.prototype.updateData=function(e,t,n,i,r){if(e.transactions.enabled){var o=e.generateRowPath(t),a={id:t,type:kt,newValue:r,path:o};e.transactions.add(a,i)}else it(n,r)},t.prototype.get_selected_children=function(e,t){var n,i,o=this.grid;if(e.children&&0!==e.children.length)try{for(var a=Object(r.j)(e.children),s=a.next();!s.done;s=a.next()){var l=s.value;o.selection.is_item_selected(o.id,l.rowID)&&t.push(l.rowID),this.get_selected_children(l,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.row_deleted_transaction=function(t){return this.row_deleted_parent(t)||e.prototype.row_deleted_transaction.call(this,t)},t.prototype.row_deleted_parent=function(e){var t=this.grid;if(!t)return!1;if(t.cascadeOnDelete&&t.foreignKey||t.childDataKey)for(var n=t.records.get(e);n;){var i=t.transactions.getState(n.rowID);if(i&&i.type===It)return!0;n=n.parent}return!1},t}(Pt),Zc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.getCellSelector=function(e,t){return void 0===t&&(t=!1),t?"igx-grid-summary-cell":0===e?"igx-tree-grid-cell":"igx-grid-cell"},t.prototype.getRowSelector=function(){return"igx-tree-grid-row"},t}(Us),Qc=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxRowLoadingIndicator]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),Jc=0,ed=function(e){function t(t,n,i,r,a,s,l,c,d,p,u,h,g,f,m,y,b,v){var x=e.call(this,t,n,r,a,s,l,c,d,p,u,h,g,f,m,y,b,v)||this;return x.colResizingService=i,x._transactions=s,x.document=d,x.overlayService=y,x._displayDensityOptions=v,x._id="igx-tree-grid-"+Jc++,x.records=new Map,x.processedRecords=new Map,x.cascadeOnDelete=!0,x._expansionDepth=1/0,x._expansionStates=new Map,x.dragIndicatorIconTemplate=null,x.onRowToggle=new o.x,x.loadingRows=new Set,x._filteredData=null,x._gridAPI=r,x}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.summaryService.clearSummaryCache(),this.shouldGenerate&&(this.setupColumns(),this.reflow()),this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteredData",{get:function(){return this._filteredData},set:function(e){this._filteredData=e,this.rowSelectable&&this.updateHeaderCheckboxStatusOnFilter(this._filteredData)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transactions",{get:function(){return this._transactions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expansionDepth",{get:function(){return this._expansionDepth},set:function(e){this._expansionDepth=e,this.cdr.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expansionStates",{get:function(){return this._expansionStates},set:function(e){this._expansionStates=this.cloneMap(e),this.cdr.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowLoadingIndicatorTemplate",{get:function(){return this._rowLoadingIndicatorTemplate},set:function(e){this._rowLoadingIndicatorTemplate=e,this.cdr.markForCheck()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.onRowToggle.pipe(Object(H.a)(this.destroy$)).subscribe(function(e){t.loadChildrenOnRowExpansion(e)})},t.prototype.ngAfterContentInit=function(){this.rowLoadingTemplate&&(this._rowLoadingIndicatorTemplate=this.rowLoadingTemplate.template),e.prototype.ngAfterContentInit.call(this)},t.prototype.loadChildrenOnRowExpansion=function(e){var t=this;if(this.loadChildrenOnDemand){var n=e.rowID;e.expanded&&!this._expansionStates.has(n)&&(this.loadingRows.add(n),this.loadChildrenOnDemand(n,function(e){t.loadingRows.delete(n),t.addChildRows(e,n),t.cdr.markForCheck(),requestAnimationFrame(function(){var e=t.selection.first_item(t.id+"-cell");if(e){var n=t._gridAPI.get_cell_by_index(e.rowIndex,e.columnID);n&&n.nativeElement.focus()}})}))}},t.prototype.addChildRows=function(e,t){var n,i,o,a=this;if(this.primaryKey&&this.foreignKey){try{for(var s=Object(r.j)(e),l=s.next();!l.done;l=s.next()){l.value[this.foreignKey]=t}}catch(y){n={error:y}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}(o=this.data).push.apply(o,Object(r.i)(e))}else if(this.childDataKey){var c=this.records.get(t),d=c.data;if(this.transactions.enabled&&this.transactions.getAggregatedChanges(!0).length){for(var p=[];c;)p.push(c.rowID),c=c.parent;for(var u=this.data,h=void 0,g=function(e){var t=p[e];if(!(h=u.find(function(e){return e[a.primaryKey]===t})))return"break";u=h[f.childDataKey]},f=this,m=p.length-1;m>=0;m--){if("break"===g(m))break}h&&(d=h)}d[this.childDataKey]=e}this._pipeTrigger++},t.prototype.cloneMap=function(e){var t=new Map;return e.forEach(function(e,n,i){t.set(n,e)}),t},t.prototype.expandRow=function(e){this._gridAPI.expand_row(e)},t.prototype.collapseRow=function(e){this._gridAPI.collapse_row(e)},t.prototype.toggleRow=function(e){this._gridAPI.toggle_row_expansion(e)},t.prototype.expandAll=function(){this._expansionDepth=1/0,this.expansionStates=new Map},t.prototype.collapseAll=function(){this._expansionDepth=0,this.expansionStates=new Map},t.prototype.addRow=function(t,n){if(null!=n){e.prototype.endEdit.call(this,!0);var i=this.transactions.getState(n);if(i&&i.type===It)throw Error("Cannot add child row to deleted parent row");var o=this.records.get(n);if(!o)throw Error("Invalid parent row ID!");if(this.summaryService.clearSummaryCache({rowID:o.rowID}),this.primaryKey&&this.foreignKey)t[this.foreignKey]=n,e.prototype.addRow.call(this,t);else{var a=o.data,s=this.childDataKey;if(this.transactions.enabled){var l=this.primaryKey?t[this.primaryKey]:t,c=[];c.push.apply(c,Object(r.i)(this.generateRowPath(n))),c.push(n),this.transactions.add({id:l,path:c,newValue:t,type:Ot},null)}else a[s]||(a[s]=[]),a[s].push(t);this.onRowAdded.emit({data:t}),this._pipeTrigger++,this.cdr.markForCheck()}}else{if(this.primaryKey&&this.foreignKey){var d=t[this.foreignKey];this.summaryService.clearSummaryCache({rowID:d})}e.prototype.addRow.call(this,t)}},t.prototype.deleteRowById=function(e){this._gridAPI.deleteRowById(e)},t.prototype.generateRowPath=function(e){for(var t=[],n=this.records.get(e);n.parent;)t.push(n.parent.rowID),n=n.parent;return t.reverse()},t.prototype.getDataBasedBodyHeight=function(){return!this.flatData||this.flatData.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight},t.prototype.scrollTo=function(e,t){var n,i=this,r=!1;if("number"!=typeof e){var o=e,a=this._gridAPI.get_row_id(o);if(n=this.processedRecords.get(a),this._gridAPI.expand_path_to_record(n),this.paging){var s=this.processedExpandedFlatData.indexOf(o),l=Math.floor(s/this.perPage);this.page!==l&&(r=!0,this.page=l)}}r?this.verticalScrollContainer.onDataChanged.pipe(Object(W.a)()).subscribe(function(){i.scrollDirective(i.verticalScrollContainer,"number"==typeof e?e:i.verticalScrollContainer.igxForOf.indexOf(n))}):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.verticalScrollContainer.igxForOf.indexOf(n)),this.scrollToHorizontally(t)},t.prototype.getContext=function(e,t){return{$implicit:e,index:t,templateID:this.isSummaryRow(e)?"summaryRow":"dataRow"}},t.prototype.getSelectedData=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n=[];return this.verticalScrollContainer.igxForOf.forEach(function(e){e.summaries?n.push(null):n.push(e.data)}),this.extractDataFromSelection(n,e,t)},Object.defineProperty(t.prototype,"template",{get:function(){return this.filteredData&&0===this.filteredData.length?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyFilteredGridTemplate:!this.isLoading||this.data&&0!==this.dataLength?0===this.dataLength?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyGridDefaultTemplate:void 0:this.loadingGridTemplate?this.loadingGridTemplate:this.loadingGridDefaultTemplate},enumerable:!0,configurable:!0}),t.prototype.writeToData=function(e,t){it(this.flatData[e],t)},t.prototype.initColumns=function(t,n){if(void 0===n&&(n=null),this.hasColumnLayouts){var i=this.columnList.filter(function(e){return!e.columnLayout&&!e.columnLayoutChild});this.columnList.reset(i)}e.prototype.initColumns.call(this,t,n)},t.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-tree-grid",template:'<igx-grid-toolbar role="rowgroup" [style.width.px]=\'outerWidth\' *ngIf="showToolbar" [gridID]="id"\n    [displayDensity]="displayDensity" #toolbar>\n</igx-grid-toolbar>\n\n<div class="igx-grid__thead">\n    <div class="igx-grid__thead-wrapper" role="rowgroup" [style.width.px]=\'calcWidth + 1\' #theadRow>\n        <div class="igx-grid__tr" [style.width.px]=\'calcWidth + 1\' role="row">\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0"\n                [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left"\n                class="igx-grid__scroll-on-drag-left" [style.left.px]="featureColumnsWidth"></span>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0"\n                [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left"\n                class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n            <ng-container *ngIf="rowDraggable">\n                <div class="igx-grid__drag-indicator" #headerDragContainer>\n                    <div style="visibility: hidden;">\n                        <ng-container\n                            *ngTemplateOutlet="this.dragIndicatorIconTemplate ? this.dragIndicatorIconTemplate : this.dragIndicatorIconBase">\n                        </ng-container>\n                    </div>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="showRowCheckboxes">\n                <div class="igx-grid__cbx-selection" #headerCheckboxContainer [ngClass]="{\n                    \'igx-grid__cbx-selection--push\': filteringService.isFilterRowVisible\n                }">\n                    <igx-checkbox [checked]="allRowsSelected" (change)="onHeaderCheckboxClick($event, filteredData)"\n                        disableRipple="true" [aria-label]="headerCheckboxAriaLabel" #headerCheckbox></igx-checkbox>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="pinnedColumns.length > 0">\n                <ng-template ngFor let-col [ngForOf]="pinnedColumns | igxTopLevel">\n                    <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width.px]="getHeaderGroupWidth(col)"\n                        [style.flex-basis.px]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n                </ng-template>\n            </ng-container>\n            <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel"\n                [igxForScrollOrientation]="\'horizontal\'" [igxForScrollContainer]="parentVirtDir"\n                [igxForContainerSize]=\'unpinnedWidth\' [igxForTrackBy]=\'trackColumnChanges\'\n                [igxForSizePropName]="\'calcPixelWidth\'" #headerContainer>\n                <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width.px]="getHeaderGroupWidth(col)"\n                    [style.flex-basis.px]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n            </ng-template>\n        </div>\n        <igx-grid-filtering-row #filteringRow *ngIf="filteringService.isFilterRowVisible"\n            [column]="filteringService.filteredColumn"></igx-grid-filtering-row>\n    </div>\n    <div class="igx-grid__thead-thumb" [hidden]=\'!hasVerticalSroll()\' [style.width.px]="scrollWidth"></div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true"\n        id="right" class="igx-grid__scroll-on-drag-right"></span>\n</div>\n\n<div igxGridBody (keydown.control.c)="copyHandlerIE()" (copy)="copyHandler($event)" class="igx-grid__tbody">\n    <div class="igx-grid__tbody-content" role="rowgroup" (onDragStop)="selectionService.dragMode = $event"\n        (onDragScroll)="dragScroll($event)" [igxGridDragSelect]="selectionService.dragMode"\n        [style.height.px]=\'calcHeight\' [style.width.px]=\'calcWidth\' #tbody (scroll)=\'scrollHandler($event)\'\n        (wheel)="wheelHandler()">\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0"\n            [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left"\n            class="igx-grid__scroll-on-drag-left"></span>\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0"\n            [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left"\n            class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n        <ng-template igxGridFor let-rowData\n            [igxGridForOf]="data\n        | treeGridTransaction:id:pipeTrigger\n        | visibleColumns:hasVisibleColumns\n        | treeGridHierarchizing:primaryKey:foreignKey:childDataKey:id:pipeTrigger\n        | treeGridFiltering:filteringExpressionsTree:id:pipeTrigger\n        | treeGridSorting:sortingExpressions:id:pipeTrigger\n        | treeGridFlattening:id:expansionDepth:expansionStates:pipeTrigger\n        | treeGridPaging:page:perPage:id:pipeTrigger\n        | treeGridSummary:hasSummarizedColumns:summaryCalculationMode:summaryPosition:id:pipeTrigger:summaryPipeTrigger" let-rowIndex="index"\n            [igxForScrollOrientation]="\'vertical\'" [igxForScrollContainer]=\'verticalScroll\'\n            [igxForContainerSize]=\'calcHeight\' [igxForItemSize]="renderedRowHeight" #verticalScrollContainer\n            (onChunkPreload)="dataLoading($event)">\n            <ng-template #record_template>\n                <igx-tree-grid-row [gridID]="id" [index]="rowIndex" [treeRow]="rowData" #row>\n                </igx-tree-grid-row>\n            </ng-template>\n            <ng-template #summary_template>\n                <igx-grid-summary-row [gridID]="id" [summaries]="rowData.summaries"\n                    [firstCellIndentation]="rowData.cellIndentation" [index]="rowIndex"\n                    class="igx-grid__summaries--body" #summaryRow>\n                </igx-grid-summary-row>\n            </ng-template>\n\n            <ng-template [igxTemplateOutlet]=\'isSummaryRow(rowData) ? summary_template : record_template\'\n                [igxTemplateOutletContext]=\'getContext(rowData, rowIndex)\'\n                (onCachedViewLoaded)=\'cachedViewLoaded($event)\'>\n            </ng-template>\n        </ng-template>\n        <ng-container *ngTemplateOutlet="template"></ng-container>\n        <div class="igx-grid__row-editing-outlet" igxOverlayOutlet #igxRowEditingOverlayOutlet></div>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true"\n        id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div [hidden]=\'!hasVerticalSroll()\' class="igx-grid__tbody-scrollbar" [style.width.px]="scrollWidth"\n        [style.height.px]=\'calcHeight\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #verticalScrollHolder></ng-template>\n    </div>\n</div>\n\n<div class="igx-grid__tfoot" [style.width.px]=\'outerWidth\' role="rowgroup" [style.height.px]=\'summariesHeight\' #tfoot>\n    <igx-grid-summary-row [style.width.px]=\'calcWidth\' [style.height.px]=\'summariesHeight\'\n        *ngIf="hasSummarizedColumns && rootSummariesEnabled" [gridID]="id"\n        [summaries]="id | igxGridSummaryDataPipe:summaryService.retriggerRootPipe" [index]="0"\n        class="igx-grid__summaries" #summaryRow>\n    </igx-grid-summary-row>\n    <div class="igx-grid__tfoot-thumb" [hidden]=\'!hasVerticalSroll()\' [style.height.px]=\'summariesHeight\'\n        [style.width.px]="scrollWidth"></div>\n</div>\n\n<div class="igx-grid__scroll" [style.height]="\'18px\'" #scr [hidden]="isHorizontalScrollHidden">\n    <div class="igx-grid__scroll-start" [style.width.px]=\'pinnedWidth\' [hidden]="pinnedWidth === 0"></div>\n    <div class="igx-grid__scroll-main" [style.width.px]=\'unpinnedWidth\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #scrollContainer>\n        </ng-template>\n    </div>\n</div>\n\n<div class="igx-grid__footer" #footer>\n    <ng-content select="igx-grid-footer"></ng-content>\n    <ng-container *ngIf="paging && totalRecords">\n        <ng-container\n            *ngTemplateOutlet="paginationTemplate ? paginationTemplate : defaultPaginator; context: {$implicit: this}">\n        </ng-container>\n    </ng-container>\n</div>\n\n<ng-template #defaultPaginator>\n    <igx-paginator [displayDensity]="displayDensity" [(page)]="page" [totalRecords]="processedExpandedFlatData.length"\n        [(perPage)]="perPage">\n    </igx-paginator>\n</ng-template>\n\n<ng-template #emptyFilteredGrid>\n    <span class="igx-grid__tbody-message">{{emptyFilteredGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultEmptyGrid>\n    <span class="igx-grid__tbody-message">{{emptyGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultLoadingGrid>\n    <div class="igx-grid__loading">\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </div>\n</ng-template>\n\n<div *ngIf="rowEditable" igxToggle>\n    <div [className]="bannerClass">\n        <ng-container\n            *ngTemplateOutlet="rowEditContainer; context: { rowChangesCount: rowChangesCount, endEdit: endEdit.bind(this) }">\n        </ng-container>\n    </div>\n</div>\n\n<ng-template #defaultRowEditText>\n    You have {{ rowChangesCount }} changes in this row\n</ng-template>\n\n<ng-template #defaultRowEditActions>\n    <button igxButton igxRowEditTabStop (click)="endEdit(false, $event)">Cancel</button>\n    <button igxButton igxRowEditTabStop (click)="endEdit(true, $event)">Done</button>\n</ng-template>\n\n<ng-template #defaultRowEditTemplate>\n    <div class="igx-banner__message">\n        <span class="igx-banner__text">\n            <ng-container\n                *ngTemplateOutlet="rowEditText ? rowEditText : defaultRowEditText; context: { $implicit: rowChangesCount }">\n            </ng-container>\n        </span>\n    </div>\n    <div class="igx-banner__actions">\n        <div class="igx-banner__row">\n            <ng-container\n                *ngTemplateOutlet="rowEditActions ? rowEditActions : defaultRowEditActions; context: { $implicit: endEdit.bind(this) }">\n            </ng-container>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #dragIndicatorIconBase>\n    <igx-icon fontSet="material">drag_indicator</igx-icon>\n</ng-template>\n\n<igx-grid-column-resizer *ngIf="colResizingService.showResizer"></igx-grid-column-resizer>\n<div class="igx-grid__outlet" #igxFilteringOverlayOutlet igxOverlayOutlet></div>\n',providers:[rs,is,Zc,ul,{provide:Pt,useClass:qc},{provide:El,useExisting:Object(o.vb)(function(){return t})},Xs,di]}]}],t.ctorParameters=function(){return[{type:rs},{type:is},{type:as},{type:Pt},{type:Kn},{type:Gn,decorators:[{type:o.C,args:[wl]}]},{type:o.u},{type:o.Q},{type:void 0,decorators:[{type:o.C,args:[a.c]}]},{type:o.k},{type:o.p},{type:o.H},{type:o.qb},{type:Zc},{type:Xs},{type:Tn,decorators:[{type:o.C,args:[Tn]}]},{type:ul},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],data:[{type:o.G}],childDataKey:[{type:o.G}],foreignKey:[{type:o.G}],hasChildrenKey:[{type:o.G}],cascadeOnDelete:[{type:o.G}],expansionDepth:[{type:o.G}],expansionStates:[{type:o.G}],rowLoadingTemplate:[{type:o.r,args:[Qc,{read:Qc,static:!1}]}],dragIndicatorIconTemplate:[{type:o.r,args:[Ac,{read:o.kb,static:!1}]}],rowLoadingIndicatorTemplate:[{type:o.G}],loadChildrenOnDemand:[{type:o.G}],onRowToggle:[{type:o.S}],dragIndicatorIconBase:[{type:o.ob,args:["dragIndicatorIconBase",{read:o.kb,static:!0}]}]},t}(El),td=function(e){function t(t,n,i,r,o,a){var s=e.call(this,t,n,i,r,o,a)||this;return s.gridAPI=t,s.crudService=n,s.selectionService=i,s.element=o,s.cdr=a,s}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"treeRow",{get:function(){return this._treeRow},set:function(e){this._treeRow!==e&&(this._treeRow=e,this.rowData=this._treeRow.data)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expanded",{get:function(){return this._treeRow.expanded},set:function(e){this.gridAPI.trigger_row_expansion_toggle(this._treeRow,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showIndicator",{get:function(){return this.grid.loadChildrenOnDemand?this.grid.expansionStates.has(this.rowID)?this.treeRow.children&&this.treeRow.children.length:!this.grid.hasChildrenKey||this.rowData[this.grid.hasChildrenKey]:this.treeRow.children&&this.treeRow.children.length},enumerable:!0,configurable:!0}),t.prototype.resolveClasses=function(){return e.prototype.resolveClasses.call(this)+" "+(this.treeRow.isFilteredOutParent?"igx-grid__tr--filtered":"")},t.prototype.ngDoCheck=function(){this.isLoading=!!this.grid.loadChildrenOnDemand&&this.grid.loadingRows.has(this.rowID),e.prototype.ngDoCheck.call(this)},t.decorators=[{type:o.n,args:[{selector:"igx-tree-grid-row",template:'<ng-container *ngIf="rowDraggable">\n    <div [class]="resolveDragIndicatorClasses" [igxRowDrag]="this">\n        <ng-container *ngTemplateOutlet="this.grid.dragIndicatorIconTemplate ? this.grid.dragIndicatorIconTemplate : this.grid.dragIndicatorIconBase"></ng-container>\n    </div>\n</ng-container>\n<ng-container *ngIf="rowSelectable">\n    <div class="igx-grid__cbx-selection">\n        <igx-checkbox [checked]="isSelected" [disabled]="deleted" (change)="onCheckboxClick($event)" disableRipple="true" [disableTransitions]="grid.disableTransitions" [aria-label]="rowCheckboxAriaLabel"></igx-checkbox>\n    </div>\n</ng-container>\n<ng-container *ngIf="pinnedColumns.length > 0">\n    <ng-template ngFor let-col [ngForOf]="pinnedColumns | igxNotGrouped">\n        <ng-template #cellTemplate>\n            <igx-grid-cell\n                class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n                [class.igx-grid__td--number]="col.dataType === \'number\'"\n                [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n                [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n                [column]="col"\n                [formatter]="col.formatter"\n                [row]="this"\n                [lastPinned]="col.isLastPinned"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [style.min-width.px]="col.width"\n                [style.flex-basis.px]="col.width"\n                [width]="col.getCellWidth()"\n                [visibleColumnIndex]="col.visibleIndex"\n                [value]="rowData[col.field]"\n                [cellTemplate]="col.bodyTemplate" #treeCell>\n            </igx-grid-cell>\n            </ng-template>\n        <ng-template #treeCellTemplate>\n            <igx-tree-grid-cell\n                class="igx-grid__td igx-grid__td--fw igx-grid__td--tree-cell igx-grid__td--pinned"\n                [class.igx-grid__td--number]="col.dataType === \'number\' && col.visibleIndex !== 0"\n                [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n                [level]="treeRow.level"\n                [expanded]="treeRow.expanded"\n                [showIndicator]="showIndicator"\n                [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n                [column]="col"\n                [formatter]="col.formatter"\n                [row]="this"\n                [lastPinned]="col.isLastPinned"\n                [style.min-height.px]="grid.rowHeight || 32"\n                [rowData]="rowData"\n                [style.min-width.px]="col.width"\n                [style.flex-basis.px]="col.width"\n                [width]="col.getCellWidth()"\n                [visibleColumnIndex]="col.visibleIndex"\n                [value]="rowData[col.field]"\n                [isLoading]="isLoading"\n                [cellTemplate]="col.bodyTemplate" #treeCell>\n            </igx-tree-grid-cell>\n        </ng-template>\n        <ng-container *ngTemplateOutlet="col.visibleIndex === 0 ? treeCellTemplate : cellTemplate"></ng-container>\n    </ng-template>\n</ng-container>\n<ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForSizePropName]="\'calcPixelWidth\'" [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n    <ng-template #cellTemplate>\n        <igx-grid-cell\n            class="igx-grid__td igx-grid__td--fw"\n            [class.igx-grid__td--number]="col.dataType === \'number\'"\n            [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width.px]="col.width"\n            [style.flex-basis.px]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [cellTemplate]="col.bodyTemplate" #treeCell>\n        </igx-grid-cell>\n    </ng-template>\n    <ng-template #treeCellTemplate>\n        <igx-tree-grid-cell\n            class="igx-grid__td igx-grid__td--fw igx-grid__td--tree-cell"\n            [class.igx-grid__td--number]="col.dataType === \'number\' && col.visibleIndex !== 0"\n            [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n            [level]="treeRow.level"\n            [expanded]="treeRow.expanded"\n            [showIndicator]="showIndicator"\n            [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n            [column]="col"\n            [formatter]="col.formatter"\n            [row]="this"\n            [style.min-height.px]="grid.rowHeight || 32"\n            [rowData]="rowData"\n            [style.min-width.px]="col.width"\n            [style.flex-basis.px]="col.width"\n            [width]="col.getCellWidth()"\n            [visibleColumnIndex]="col.visibleIndex"\n            [value]="rowData[col.field]"\n            [isLoading]="isLoading"\n            [cellTemplate]="col.bodyTemplate" #treeCell>\n        </igx-tree-grid-cell>\n    </ng-template>\n    <ng-container *ngTemplateOutlet="col.visibleIndex === 0 ? treeCellTemplate : cellTemplate"></ng-container>\n</ng-template>\n',providers:[{provide:os,useExisting:Object(o.vb)(function(){return t})}]}]}],t.ctorParameters=function(){return[{type:Pt},{type:is},{type:rs},{type:Kn},{type:o.u},{type:o.k}]},t.propDecorators={cells:[{type:o.pb,args:["treeCell"]}],treeRow:[{type:o.G}],expanded:[{type:o.z,args:["attr.aria-expanded"]}]},t}(os),nd=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n,i,r,o){var a=this.gridAPI.grid,s=[],l=new Map,c=[];return t&&n?s=this.hierarchizeFlatData(r,e,t,n,l,c):i&&(s=this.hierarchizeRecursive(r,e,t,i,void 0,c,0,l)),a.flatData=c,a.records=l,a.rootRecords=s,s},e.prototype.getRowID=function(e,t){return e?t[e]:t},e.prototype.hierarchizeFlatData=function(e,t,n,i,r,o){var a=this,s=[],l=[];return t.forEach(function(e){var t={rowID:a.getRowID(n,e),data:e,children:[]},o=r.get(e[i]);o?(t.parent=o,o.children.push(t)):l.push(t),r.set(e[n],t)}),l.forEach(function(e){var t=r.get(e.data[i]);t?(e.parent=t,t.children.push(e)):s.push(e)}),this.setIndentationLevels(e,s,0,o),s},e.prototype.setIndentationLevels=function(e,t,n,i){for(var r=0;r<t.length;r++){var o=t[r];o.level=n,o.expanded=this.gridAPI.get_row_expansion_state(o),i.push(o.data),o.children&&o.children.length>0&&this.setIndentationLevels(e,o.children,n+1,i)}},e.prototype.hierarchizeRecursive=function(e,t,n,i,r,o,a,s){for(var l=[],c=0;c<t.length;c++){var d=t[c],p={rowID:this.getRowID(n,d),data:d,parent:r,level:a};p.expanded=this.gridAPI.get_row_expansion_state(p),o.push(d),s.set(p.rowID,p),p.children=d[i]?this.hierarchizeRecursive(e,d[i],n,i,p,o,a+1,s):void 0,l.push(p)}return l},e.decorators=[{type:o.W,args:[{name:"treeGridHierarchizing",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),id=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n,i,r){var o=this.gridAPI.grid,a=[];return o.processedRootRecords=e,o.processedRecords=new Map,this.getFlatDataRecursive(e,a,n,i,t,!0),o.processedExpandedFlatData=a.map(function(e){return e.data}),a},e.prototype.getFlatDataRecursive=function(e,t,n,i,r,o){if(e&&e.length)for(var a=this.gridAPI.grid,s=0;s<e.length;s++){var l=e[s];o&&t.push(l),l.expanded=this.gridAPI.get_row_expansion_state(l),this.updateNonProcessedRecordExpansion(a,l),a.processedRecords.set(l.rowID,l),this.getFlatDataRecursive(l.children,t,n,i,r,o&&l.expanded)}},e.prototype.updateNonProcessedRecordExpansion=function(e,t){e.records.get(t.rowID).expanded=t.expanded},e.decorators=[{type:o.W,args:[{name:"treeGridFlattening",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),rd=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n,i){var r,o=this.gridAPI.grid;r=t.length?Lt.treeGridSort(e,t):e;var a=[];return this.flattenTreeGridRecords(r,a),o.filteredSortedData=a,r},e.prototype.flattenTreeGridRecords=function(e,t){var n,i;if(e&&e.length)try{for(var o=Object(r.j)(e),a=o.next();!a.done;a=o.next()){var s=a.value;t.push(s.data),this.flattenTreeGridRecords(s.children,t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.decorators=[{type:o.W,args:[{name:"treeGridSorting",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),od=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n,i,r){void 0===t&&(t=0),void 0===n&&(n=15);var o=this.gridAPI.grid;if(!o.paging)return e;var a=e.length,s=Math.ceil(a/n),l={index:s>0&&t>=s?s-1:t,recordsPerPage:n},c=Lt.page(nt(e),l);return o.pagingState=l,o._page=l.index,c},e.decorators=[{type:o.W,args:[{name:"treeGridPaging",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),ad=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n){var i=this.gridAPI.grid;if(e&&i.transactions.enabled){var o=i.transactions.getAggregatedChanges(!0);if(o.length>0){if(!i.primaryKey)return e;var a=i.foreignKey,s=i.childDataKey;if(a){var l=nt(e);return Lt.mergeTransactions(l,o,i.primaryKey)}if(s){var c=function e(t,n){var i,o,a=[];if(!t)return a;try{for(var s=Object(r.j)(t),l=s.next();!l.done;l=s.next()){var c=l.value,d=rt(c);Array.isArray(c[n])&&(d[n]=e(d[n],n)),a.push(d)}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a}(e,s);return Lt.mergeHierarchicalTransactions(c,o,s,i.primaryKey)}}}return e},e.decorators=[{type:o.W,args:[{name:"treeGridTransaction",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),sd=function(e){function t(t,n,i,r,o,a,s,l,c,d){var p=e.call(this,t,n,i,r,o,a,s,l,d)||this;return p.zone=s,p.document=c,p.platformUtil=d,p.expanded=!1,p.level=0,p.showIndicator=!1,p.treeGridAPI=i,p}return Object(r.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this)},t.prototype.toggle=function(e){e.stopPropagation(),this.treeGridAPI.trigger_row_expansion_toggle(this.row.treeRow,!this.row.expanded,e,this.visibleColumnIndex)},t.prototype.onIndicatorFocus=function(){this.gridAPI.submit_value(),this.nativeElement.focus()},t.prototype.onLoadingDblClick=function(e){e.stopPropagation()},t.prototype.calculateSizeToFit=function(e){var t=this.indicator.nativeElement.getBoundingClientRect().width,n=this.document.defaultView.getComputedStyle(this.indicator.nativeElement),i=parseFloat(n.marginRight),o=0;if(this.indentationDiv){var a=this.document.defaultView.getComputedStyle(this.indentationDiv.nativeElement);o=parseFloat(a.paddingLeft)}return Math.max.apply(Math,Object(r.i)(Array.from(this.nativeElement.children).map(function(t){return lt(e,t)})))+t+i+o},t.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,selector:"igx-tree-grid-cell",template:'<ng-template #defaultCell>\n    <div igxTextHighlight style="pointer-events: none" [cssClass]="highlightClass" [activeCssClass]="activeHighlightClass" [groupName]="gridID"\n        [value]="formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal: grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value"\n        [row]="rowData" [column]="this.column.field" [containerClass]="\'igx-grid__td-text\'"\n        class="igx-grid__td-text">{{ formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal:\n        grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value }}</div>\n</ng-template>\n<ng-template #inlineEditor  let-cell="cell">\n    <ng-container *ngIf="column.dataType === \'string\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [(ngModel)]="editValue" [igxFocus]="focused">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'number\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [(ngModel)]="editValue" [igxFocus]="focused"  type="number">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'boolean\'">\n        <igx-checkbox (change)="editValue = $event.checked" [value]="editValue" [checked]="editValue" [disableRipple]="true"></igx-checkbox>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'date\'">\n        <igx-date-picker [style.width.%]="100" [outlet]="grid.outletDirective" mode="dropdown"\n        [locale]="grid.locale" [(value)]="editValue" [igxFocus]="focused" [labelVisibility]="false">\n    </igx-date-picker>\n    </ng-container>\n</ng-template>\n<ng-container *ngIf="!editMode">\n    <ng-container *ngIf="level > 0">\n        <div #indentationDiv class="igx-grid__tree-cell--padding-level-{{level}}"></div>\n    </ng-container>\n    <div #indicator\n         *ngIf="!isLoading"\n         class="igx-grid__tree-grouping-indicator"\n         [ngStyle]="{\'visibility\': showIndicator ? \'visible\' : \'hidden\'}"\n         (click)="toggle($event)" (focus)="onIndicatorFocus()" tabindex="-1">\n        <igx-icon *ngIf="!expanded" fontSet="material">expand_more</igx-icon>\n        <igx-icon *ngIf="expanded" fontSet="material">expand_less</igx-icon>\n    </div>\n    <div *ngIf="isLoading"\n         (dblclick)="onLoadingDblClick($event)"\n         class="igx-grid__tree-loading-indicator">\n        <ng-container *ngTemplateOutlet="grid.rowLoadingIndicatorTemplate ? grid.rowLoadingIndicatorTemplate : defaultLoadingIndicatorTemplate">\n        </ng-container>\n    </div>\n    <ng-template #defaultLoadingIndicatorTemplate>\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </ng-template>\n</ng-container>\n<ng-container *ngTemplateOutlet="template; context: context">\n</ng-container>\n',providers:[Ds]}]}],t.ctorParameters=function(){return[{type:rs},{type:is},{type:Pt},{type:Kn},{type:o.k},{type:o.u},{type:o.Q},{type:Ds},{type:void 0,decorators:[{type:o.C,args:[a.c]}]},{type:ut}]},t.propDecorators={expanded:[{type:o.G}],level:[{type:o.G}],showIndicator:[{type:o.G}],indicator:[{type:o.ob,args:["indicator",{read:o.u,static:!1}]}],indentationDiv:[{type:o.ob,args:["indentationDiv",{read:o.u,static:!1}]}],defaultContentElement:[{type:o.ob,args:["defaultContentElement",{read:o.u,static:!1}]}],isLoading:[{type:o.G}]},t}(Os),ld=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n,i,r,o,a){var s=this.gridAPI.grid;return e&&t&&n!==Sl.rootLevelOnly?this.addSummaryRows(s,e,i):e},e.prototype.addSummaryRows=function(e,t,n){for(var i=[],r=e.summaryService.calcMaxSummaryHeight(),o=0;o<t.length;o++){var a=t[o];i.push(a);var s=a.children&&a.children.length>0&&a.expanded;if(n!==Cl.bottom||s){if(n===Cl.top&&s){p=a.children.filter(function(e){return!e.isFilteredOutParent}).map(function(e){return e.data});p=this.removeDeletedRecord(e,a.rowID,p);u={summaries:e.summaryService.calculateSummaries(a.rowID,p),max:r,cellIndentation:a.level+1};i.push(u)}}else for(var l=a,c=a.parent;c;){var d=c.children;if(d[d.length-1]!==l)break;var p=d.filter(function(e){return!e.isFilteredOutParent}).map(function(e){return e.data});p=this.removeDeletedRecord(e,c.rowID,p);var u={summaries:e.summaryService.calculateSummaries(c.rowID,p),max:r,cellIndentation:c.level+1};i.push(u),c=(l=c).parent}}return i},e.prototype.removeDeletedRecord=function(e,t,n){if(!e.transactions.enabled||!e.cascadeOnDelete)return n;var i=e.transactions.getTransactionLog().filter(function(e){return"delete"===e.type}).map(function(e){return e.id}),r=e.records.get(t);if(!r&&0===i.lenght)return[];for(r=r.children?r:r.parent;r;){if(t=r.rowID,-1!==i.indexOf(t))return[];r=r.parent}return i.forEach(function(t){var i=(e.primaryKey?n.map(function(t){return t[e.primaryKey]}):n).indexOf(t);-1!==i&&n.splice(i,1)}),n},e.decorators=[{type:o.W,args:[{name:"treeGridSummary",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),cd=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[ed,td,sd,nd,id,rd,jt,od,ad,ld,Qc],exports:[ed,td,sd,Qc,jc],imports:[a.b,l.f,da,jc,nc]}]}]}(),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hSelection=new Map,t}return Object(r.d)(t,e),t.prototype.add_sub_item=function(e,t,n){var i=new Map;i.set(t,n),this.hSelection.set(e,i)},t.prototype.get_sub_item=function(e){var t;return this.hSelection.get(e)&&(t={gridID:this.hSelection.get(e).keys().next().value,cell:this.hSelection.get(e).values().next().value}),t},t.prototype.clear_sub_item=function(e){return this.hSelection.set(e,null)},t}(Kn)),dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.getCellSelector=function(e,t){return void 0===t&&(t=!1),t?"igx-grid-summary-cell":"igx-hierarchical-grid-cell"},t.prototype.getRowSelector=function(){return"igx-hierarchical-grid-row"},t.prototype.getRowByIndex=function(e){var t,n=this,i=this.getRowSelector();return Array.from(this.grid.nativeElement.querySelectorAll(i+'[data-rowindex="'+e+'"]')).forEach(function(e){var i=n.getClosestElemByTag(e,"igx-hierarchical-grid");i&&i.getAttribute("id")===n.grid.id&&(t=e)}),t},t.prototype.getChildContainer=function(e){return(e||this.grid).nativeElement.parentNode.parentNode.parentNode},t.prototype.getChildGridRowContainer=function(e){return(e||this.grid).nativeElement.parentNode.parentNode},t.prototype.getChildGrid=function(e,t){return t.hgridAPI.getChildGrids(!0).filter(function(t){return t.id===e})[0]},t.prototype._isScrolledToBottom=function(e){var t=e.verticalScrollContainer.getVerticalScroll().scrollTop,n=e.verticalScrollContainer.getVerticalScroll().scrollHeight;return 0===n||Math.round(t+e.verticalScrollContainer.igxForContainerSize)===n},t.prototype.getIsChildAtIndex=function(e){return this.grid.isChildGridRecord(this.grid.verticalScrollContainer.igxForOf[e])},t.prototype.getCellElementByVisibleIndex=function(e,t,n){void 0===n&&(n=!1);var i=this.getCellSelector(t,n);return n?this.grid.summariesRowList.toArray()[0].nativeElement.querySelector(i+'[data-visibleIndex="'+t+'"]'):this.getRowByIndex(e).querySelector(i+'[data-rowindex="'+e+'"][data-visibleIndex="'+t+'"]')},t.prototype.navigateUp=function(t,n){var i=this;if(!n.isSummaryRow){var r=t.previousElementSibling,o=n.column,a=n.row;if(r)"igx-child-grid-row"===r.children[0].nodeName.toLowerCase().toLowerCase()?this.focusPrevChild(r,o,this.grid):null!==this.grid.parent?this._navigateUpInChild(t,a,o):e.prototype.navigateUp.call(this,t,n);else if(0!==a){this.getIsChildAtIndex(a-1)?this.scrollGrid(this.grid,-t.offsetHeight,function(){t=i.getRowByIndex(a),i.navigateUp(t,n)}):e.prototype.navigateUp.call(this,t,n)}else null!==this.grid.parent&&0===a&&this.focusPrev(o)}},t.prototype.navigateDown=function(t,n){if(!n.isSummaryRow){var i=t.nextElementSibling,r=n.column,o=n.row;if(i)"igx-child-grid-row"===i.children[0].nodeName.toLowerCase().toLowerCase()?this.focusNextChild(i,r,this.grid):null!==this.grid.parent?this._navigateDownInChild(t,o,r):e.prototype.navigateDown.call(this,t,n);else o!==this.grid.verticalScrollContainer.igxForOf.length-1?e.prototype.navigateDown.call(this,t,n):null!==this.grid.parent&&o===this.grid.verticalScrollContainer.igxForOf.length-1&&this.focusNext(r)}},t.prototype.navigateTop=function(t){var n=this;if(null!==this.grid.parent){var i=this.grid.nativeElement.parentNode.parentNode.getBoundingClientRect().top-this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().top,r=i>=0,o=this.getNextScrollable(this.grid);r?e.prototype.navigateTop.call(this,t):this.scrollGrid(o.grid,i,function(){return e.prototype.navigateTop.call(n,t)})}else e.prototype.navigateTop.call(this,t)},t.prototype.navigateBottom=function(t){var n=this,i=this.grid.verticalScrollContainer.igxForOf.length-1;if(this.getIsChildAtIndex(i)){var r=i-1,o=this.grid.verticalScrollContainer.getScrollForIndex(r,!0),a=this.grid.verticalScrollContainer.getVerticalScroll(),s=this.getCellSelector(t);if(a.scrollTop===o){var l=this.getRowByIndex(r).querySelectorAll(s+'[data-visibleIndex="'+t+'"]');l[l.length-1].focus()}else this.scrollGrid(this.grid,o-a.scrollTop,function(){var e=n.getRowByIndex(r).querySelectorAll(s+'[data-visibleIndex="'+t+'"]');e.length>0&&e[e.length-1].focus()})}else if(null!==this.grid.parent){var c=this.grid.nativeElement.parentNode.parentNode.getBoundingClientRect().bottom-this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().bottom,d=c<0,p=this.getNextScrollableDown(this.grid);d?e.prototype.navigateBottom.call(this,t):this.scrollGrid(p.grid,c,function(){return e.prototype.navigateBottom.call(n,t)})}else e.prototype.navigateBottom.call(this,t)},t.prototype.goToLastCell=function(){var t=this,n=this.grid.verticalScrollContainer.igxForOf.length-1;if(this.getIsChildAtIndex(n)){var i=n-1,r=this.grid.verticalScrollContainer.getScrollForIndex(i,!0),o=this.grid.verticalScrollContainer.getVerticalScroll();o.scrollTop===r?this.onKeydownEnd(i):this.scrollGrid(this.grid,r-o.scrollTop,function(){t.onKeydownEnd(i)})}else e.prototype.goToLastCell.call(this)},t.prototype.onKeydownEnd=function(t,n){var i=this;if(void 0===n&&(n=!1),this.grid.parent&&!n){var r=this.grid.nativeElement.parentNode.parentNode.getBoundingClientRect().bottom-this.grid.rootGrid.nativeElement.getBoundingClientRect().bottom,o=this.grid.getRowByIndex(t).element.nativeElement,a=o.getBoundingClientRect().bottom<=this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().bottom,s=this._getMaxTop(this.grid),l=o.getBoundingClientRect().bottom-o.offsetHeight-s;if(r<=0||a)if(l>=0)e.prototype.onKeydownEnd.call(this,t,n);else{var c=0!==this.grid.verticalScrollContainer.getVerticalScroll().scrollTop?this.grid:this.getNextScrollable(this.grid).grid,d=c.tbody.nativeElement.getBoundingClientRect().top>this.grid.rootGrid.tbody.nativeElement.getBoundingClientRect().top?c:this.grid.rootGrid;this.scrollGrid(d,l,function(){return e.prototype.onKeydownEnd.call(i,t)})}else this.scrollGrid(this.grid.parent,r,function(){return e.prototype.onKeydownEnd.call(i,t)})}else e.prototype.onKeydownEnd.call(this,t,n)},t.prototype.goToFirstCell=function(){var t=this,n=this.grid.verticalScrollContainer.getVerticalScroll(),i=this.grid.dataRowList.first.virtDirRow.getHorizontalScroll();0===n.scrollTop&&this.grid.parent?!i.clientWidth||parseInt(i.scrollLeft,10)<=1||this.grid.pinnedColumns.length?this.navigateTop(0):(this.horizontalScroll(this.grid.dataRowList.first.index).scrollTo(0),this.grid.parentVirtDir.onChunkLoad.pipe(Object(W.a)()).subscribe(function(){t.navigateTop(0)})):e.prototype.goToFirstCell.call(this)},t.prototype.performTab=function(t,n){var i=this;if(this.grid.rowInEditMode)e.prototype.performTab.call(this,t,n);else{var r=n.row,o=n.column,a=n.isSummaryRow,s=this.grid.summariesRowList.toArray(),l=s.length>0,c=r===this.grid.verticalScrollContainer.igxForOf.length-1,d=this.grid.dataRowList.find(function(e){return e.index===r+1}),p=this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex===o,u=l&&a,h=r+1,g=this.grid.verticalScrollContainer,f=h<=g.igxForOf.length-1&&this.grid.isChildGridRecord(g.igxForOf[h]);if(d||c&&l||!p||a)u&&p&&this.grid.parent?this._navigateToNextParentRow(t):c&&l&&p&&this.grid.parent?this.focusNextRow(s[0].nativeElement,0,this.grid.parent,!0):e.prototype.performTab.call(this,t,n);else{var m=this.getChildGridRowContainer();if(!!this.grid.parent&&!!m.nextElementSibling)this.focusNextChildDOMElem(m,this.grid.parent);else if(f){g.state.startIndex+g.state.chunkSize>h?this.focusNextChildDOMElem(t,this.grid):this.scrollGrid(this.grid,"next",function(){i.focusNextChildDOMElem(t,i.grid)})}else this.grid.parent&&this.grid.parent.summariesRowList.length>0?this._navigateToNextParentRow(t):this.navigateDown(t,{row:r,column:0})}}},t.prototype._navigateToNextParentRow=function(e){var t=this.grid.parent,n=t.summariesRowList.length>0,i=parseInt(this.getClosestElemByTag(e,"igx-child-grid-row").parentNode.getAttribute("data-rowindex"),10),r=t.verticalScrollContainer.igxForOf.length-1===i,o=!!this.getChildGridRowContainer(this.grid).nextElementSibling;if(r&&n&&!o){var a=t.summariesRowList.first.nativeElement;t.navigation.focusNextRow(a,0,t,!0)}else this.focusNext(0)},t.prototype.focusNextChildDOMElem=function(e,t){var n=e.nextElementSibling.querySelector("igx-hierarchical-grid").getAttribute("id"),i=this.getChildGrid(n,t);i.allowFiltering&&i.filterMode===Dl.quickFilter?i.navigation.moveFocusToFilterCell(!0):this.focusNextChild(e.nextElementSibling,0,t)},t.prototype.navigatePrevFilterCell=function(t,n){if(0===t.visibleIndex&&this.grid.parent){n.preventDefault();var i=this.grid.parent,r=this.getChildGridRowContainer().previousElementSibling;if(r){var o=r.querySelectorAll("igx-hierarchical-grid")[0];i=this.getChildGrid(o.getAttribute("id"),this.grid.parent)}this.focusPrev(i.unpinnedColumns[i.unpinnedColumns.length-1].visibleIndex)}else e.prototype.navigatePrevFilterCell.call(this,t,n)},t.prototype.navigateNextFilterCell=function(t,n){if(this.grid.filteringService.unpinnedFilterableColumns.indexOf(t)+1>=this.grid.filteringService.unpinnedFilterableColumns.length){var i=this.grid.rowList.toArray(),r=0!==i.length,o=this.grid.summariesRowList.toArray(),a=o.length>0&&o[0].summaryCells.length>0;r?this.focusNextRow(i[0].nativeElement,0,this.grid,!1):a?this.focusNextRow(o[0].nativeElement,0,this.grid,!0):this.focusNext(0),n.preventDefault()}else e.prototype.navigateNextFilterCell.call(this,t,n)},t.prototype.performShiftTabKey=function(t,n){var i=this;if(this.grid.rowInEditMode)e.prototype.performShiftTabKey.call(this,t,n);else{var r=n.row,o=n.column,a=n.isSummaryRow;if(0===o&&0===r&&this.grid.parent&&!a)if(this.grid.allowFiltering&&this.grid.filterMode===Dl.quickFilter)this.moveFocusToFilterCell();else{var s=this.getChildGridRowContainer().previousElementSibling;if(s){var l=s.querySelectorAll("igx-hierarchical-grid")[0];this.performShiftTabIntoChild(l,t,r)}else{var c={row:r,column:this.grid.parent.unpinnedColumns[this.grid.parent.unpinnedColumns.length-1].visibleIndex};this.navigateUp(t,c)}}else if(0===o&&t.previousElementSibling&&"igx-child-grid-row"===t.previousElementSibling.children[0].tagName.toLowerCase()){l=this.getLastGridElem(t.previousElementSibling);this.performShiftTabIntoChild(l,t,r)}else if(0===o&&a){var d=this.grid.verticalScrollContainer.igxForOf.length-1;if(-1===d)if(this.grid.allowFiltering&&this.grid.filterMode===Dl.quickFilter)this.moveFocusToFilterCell();else{c={row:r,column:this.grid.parent.unpinnedColumns[this.grid.parent.unpinnedColumns.length-1].visibleIndex};this.navigateUp(t,c)}else if(this.getIsChildAtIndex(d)){var p=this.grid.verticalScrollContainer.getScrollForIndex(d,!0),u=this.grid.verticalScrollContainer.getVerticalScroll();if(u.scrollTop===p||isNaN(p)){var h=this.getLastGridElem(this.grid.getRowByIndex(d).nativeElement.parentElement);this.performShiftTabIntoChild(h,t,r)}else this.scrollGrid(this.grid,p-u.scrollTop,function(){var e=i.getLastGridElem(i.grid.getRowByIndex(d).nativeElement.parentElement);i.performShiftTabIntoChild(e,t,r)})}else e.prototype.goToLastCell.call(this)}else e.prototype.performShiftTabKey.call(this,t,n)}},t.prototype.getFocusableGrid=function(){return ct()&&this.grid.rootGrid?this.grid.rootGrid:this.grid},t.prototype.getLastGridElem=function(e){var t=e.children;return t[t.length-1].children[0].children[0]},t.prototype.performShiftTabIntoChild=function(e,t,n){var i=e.getAttribute("id"),r=this.getChildGrid(i,this.grid)||this.getChildGrid(i,this.grid.parent),o=r.unpinnedColumns[r.unpinnedColumns.length-1].visibleIndex,a=r.summariesRowList.toArray();if(a.length>0&&a[0].summaryCells.length>0){var s=a[0].nativeElement;this.focusPrevRow(s,o,r,!0,!0)}else if(0===r.rowList.toArray().length&&r.allowFiltering&&r.filterMode===Dl.quickFilter)r.navigation.moveFocusToFilterCell();else if(0===r.rowList.length){var l=this.getSibling(r);if(l)this.performShiftTabIntoChild(l,t,n);else{var c={row:n,column:this.grid.unpinnedColumns[this.grid.unpinnedColumns.length-1].visibleIndex};this.navigateUp(t,c)}}else r.navigation.goToLastCell()},t.prototype.getSibling=function(e){var t=e.childRow.nativeElement.previousElementSibling;return t?t.children[0].children[0]:null},t.prototype.focusNextChild=function(e,t,n){var i=this,r=e.querySelector("igx-hierarchical-grid").getAttribute("id"),o=this.getChildGrid(r,n);if(0!==o.rowList.toArray().length){var a=o.unpinnedColumns[o.unpinnedColumns.length-1].visibleIndex;t=Math.min(a,t),0!==o.verticalScrollContainer.state.startIndex?this.scrollGrid(o,"top",function(){return i.focusNextRow(e,t,o)}):this.focusNextRow(e,t,o)}else this.focusNext(t,o)},t.prototype.focusPrevChild=function(e,t,n){var i=this,r=[],o=Array.from(e.querySelectorAll("igx-hierarchical-grid")),a=n.childLayoutList.first.level;o.forEach(function(e){var t=i.getClosestElemByTag(e,"igx-child-grid-row");t&&parseInt(t.getAttribute("data-level"),10)===a&&r.push(e)});var s=r[r.length-1].getAttribute("id"),l=this.getChildGrid(s,n);if(0!==l.rowList.toArray().length){var c=l.unpinnedColumns[l.unpinnedColumns.length-1].visibleIndex;t=Math.min(c,t);var d=this._isScrolledToBottom(l),p=l.verticalScrollContainer.igxForOf.length-1;if(d){var u=l.getRowByIndex(p);"igx-child-grid-row"===u.nativeElement.nodeName.toLowerCase()?this.focusPrevChild(u.nativeElement.parentNode,t,l):this.focusPrevRow(u.nativeElement,t,l,!0)}else this.scrollGrid(l,"bottom",function(){return i.focusPrevChild(e,t,n)})}else this.focusPrev(t,l)},t.prototype.focusPrev=function(e,t){var n=this,i=t||this.grid,r=this.getChildContainer(i),o=this.getChildGridRowContainer(i),a=!!o.previousElementSibling,s=o.previousElementSibling||r.previousElementSibling;s?a?this.focusPrevChild(s,e,i.parent):this.focusPrevRow(s,e,i.parent):this.scrollGrid(i.parent,"prev",function(){r=n.getChildContainer(t),o=n.getChildGridRowContainer(t),s=o.previousElementSibling||r.previousElementSibling,a?n.focusPrevChild(s,e,i.parent):n.focusPrevRow(s,e,i.parent)})},t.prototype.getNextParentInfo=function(e){for(var t=e.parent,n=this.getChildContainer(e).nextElementSibling;!n&&null!==t.parent;)n=this.getChildContainer(t).nextElementSibling,t=t.parent;return{grid:t,nextElement:n}},t.prototype.getNextScrollable=function(e){var t=e.parent;if(!t)return{grid:e,prev:null};for(var n=0===t.verticalScrollContainer.getVerticalScroll().scrollTop,i=e;n&&null!==t.parent;)i=t,n=0===(t=t.parent).verticalScrollContainer.getVerticalScroll().scrollTop;return{grid:t,prev:i}},t.prototype.focusNext=function(e,t){var n=this,i=t||this.grid,r=this.getNextParentInfo(i),o=r.grid,a=r.nextElement,s=this.getChildGridRowContainer(i),l=!!s.nextElementSibling,c=s.nextElementSibling||a,d=o.verticalScrollContainer.getVerticalScroll(),p=o.verticalScrollContainer.state,u=p.startIndex+p.chunkSize===o.verticalScrollContainer.igxForOf.length;c?l?this.focusNextChild(c,e,o):this.focusNextRow(c,e,t||o):d.scrollTop===d.scrollHeight-o.verticalScrollContainer.igxForContainerSize||u||this.scrollGrid(o,"next",function(){a=r.nextElement,s=n.getChildGridRowContainer(),(c=s.nextElementSibling||a)&&l?n.focusNextChild(c,e,o):c&&n.focusNextRow(c,e,t||o)})},t.prototype.getNextScrollableDown=function(e){var t=e.parent;if(!t)return{grid:e,prev:null};for(var n=t.verticalScrollContainer.getVerticalScroll().scrollTop,i=t.verticalScrollContainer.getVerticalScroll().scrollHeight,r=0===i||Math.round(n+t.verticalScrollContainer.igxForContainerSize)===i,o=e;r&&null!==t.parent;)o=t,n=(t=t.parent).verticalScrollContainer.getVerticalScroll().scrollTop,r=0===(i=t.verticalScrollContainer.getVerticalScroll().scrollHeight)||Math.round(n+t.verticalScrollContainer.igxForContainerSize)===i;return{grid:t,prev:o}},t.prototype._getMinBottom=function(e){for(var t=e,n=t.tbody.nativeElement.getBoundingClientRect().bottom;t.parent;)t=t.parent,n=Math.min(n,t.tbody.nativeElement.getBoundingClientRect().bottom);return n},t.prototype._getMaxTop=function(e){for(var t=e,n=t.tbody.nativeElement.getBoundingClientRect().top;t.parent;)t=t.parent,n=Math.max(n,t.tbody.nativeElement.getBoundingClientRect().top);return n},t.prototype.focusNextRow=function(e,t,n,i){var r=this.getCellSelector(t,i);if(n.navigation.isColumnFullyVisible(t)){var o=e.querySelector(r+'[data-visibleIndex="'+t+'"]'),a=this.getNextScrollableDown(n).grid,s=this._getMinBottom(n),l=o.getBoundingClientRect().bottom-s,c=l<=0,d=a.verticalScrollContainer.getVerticalScroll().scrollTop,p=a.verticalScrollContainer.getVerticalScroll().scrollHeight,u=!(0===p||Math.round(d+a.verticalScrollContainer.igxForContainerSize)===p);!c&&u?this.scrollGrid(a,l,function(){return o.focus({preventScroll:!0})}):o.focus({preventScroll:!0})}else{var h=e.querySelector(""+r),g=parseInt(h.getAttribute("data-rowindex"),10);n.navigation.performHorizontalScrollToCell(g,t)}},t.prototype.focusPrevRow=function(e,t,n,i,r){var o=this;if(n.navigation.isColumnFullyVisible(t)){var a=this.getCellSelector(t,r),s=e.querySelectorAll(a+'[data-visibleIndex="'+t+'"]'),l=s[s.length-1],c=parseInt(e.getAttribute("data-rowindex"),10),d=0!==n.verticalScrollContainer.getVerticalScroll().scrollTop?n:this.getNextScrollable(n).grid,p=d.tbody.nativeElement.getBoundingClientRect().top>n.rootGrid.tbody.nativeElement.getBoundingClientRect().top?d:n.rootGrid,u=this._getMaxTop(n),h=d.verticalScrollContainer.getVerticalScroll().scrollTop,g=l.getBoundingClientRect().bottom-l.offsetHeight-u;0!==h&&g<0&&!i?this.scrollGrid(d,g,function(){var i=r?e:n.navigation.getRowByIndex(c);(l=i.querySelectorAll(a+'[data-visibleIndex="'+t+'"]')[0]).focus({preventScroll:!0})}):g<0&&i?this.scrollGrid(p,g,function(){l.focus({preventScroll:!0})}):l.focus({preventScroll:!0})}else this.horizontalScrollGridToIndex(n,t,function(){o.focusPrevRow(e,t,n,i,r)})},t.prototype.horizontalScrollGridToIndex=function(e,t,n){var i=this.getColumnUnpinnedIndex(t);e.parentVirtDir.onChunkLoad.pipe(Object(W.a)()).subscribe(n),e.dataRowList.length>0?e.dataRowList.first.virtDirRow.scrollTo(i):e.headerContainer.scrollTo(i)},t.prototype.scrollGrid=function(e,t,n){this.getFocusableGrid().nativeElement.focus({preventScroll:!0}),requestAnimationFrame(function(){if("number"==typeof t)e.verticalScrollContainer.addScrollTop(t);else switch(t){case"top":e.verticalScrollContainer.scrollTo(0);break;case"bottom":e.verticalScrollContainer.scrollTo(e.verticalScrollContainer.igxForOf.length-1);break;case"next":e.verticalScrollContainer.scrollNext();break;case"prev":e.verticalScrollContainer.scrollPrev()}e.verticalScrollContainer.onChunkLoad.pipe(Object(W.a)()).subscribe(n)})},t.prototype._navigateUpInChild=function(t,n,i){var r=this,o=t.previousElementSibling,a=this.getNextScrollable(this.grid),s=a.grid,l=s.verticalScrollContainer.getVerticalScroll().scrollTop,c=a.prev.nativeElement.parentNode.parentNode.parentNode.parentNode,d=parseInt(c.style.top,10);0!==l&&d<0?this.scrollGrid(s,-o.offsetHeight,function(){return e.prototype.navigateUp.call(r,t,{row:n,column:i})}):e.prototype.navigateUp.call(this,t,{row:n,column:i})},t.prototype._navigateDownInChild=function(t,n,i){var r=this,o=t.nextElementSibling,a=this.grid.nativeElement.parentNode.parentNode.getBoundingClientRect().bottom-this.grid.rootGrid.nativeElement.getBoundingClientRect().bottom<0,s=this.getNextScrollableDown(this.grid).grid;a?e.prototype.navigateDown.call(this,t,{row:n,column:i}):this.scrollGrid(s,o.offsetHeight,function(){return e.prototype.navigateDown.call(r,t,{row:n,column:i})})},t.prototype.getClosestElemByTag=function(e,t){for(var n=e;null!==n&&1===n.nodeType;){if(n.tagName.toLowerCase()===t.toLowerCase())return n;n=n.parentNode}return null},t}(Us);var pd=function(e){function t(t,n,i,r,o,a,s,l,c,d,p,u,h,g,f,m,y){var b=e.call(this,t,n,i,r,"function"==typeof o?o():o,a,s,l,c,d,p,u,h,g,f,m,y)||this;return b.selectionService=t,b.transactionFactory=o,b.document=l,b.overlayService=f,b.summaryService=m,b._displayDensityOptions=y,b._expandChildren=!1,b.dragIndicatorIconTemplate=null,b.hgridAPI=i,b}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"maxLevelHeaderDepth",{get:function(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.columnList.reduce(function(e,t){return Math.max(e,t.level)},0)),this._maxLevelHeaderDepth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outlet",{get:function(){return this.rootGrid?this.rootGrid.outletDirective:this.outletDirective},enumerable:!0,configurable:!0}),t.prototype.createColumnsList=function(e){var t=this,n=[];this.onlyTopLevel(e).forEach(function(e){var i=t._createColumn(e);i.changeDetectorRef.detectChanges(),n.push(i.instance)});var i=function e(t){var n=[];t.forEach(function(t){n.push(t),t.children&&(n=n.concat(e(t.children.toArray())))});return n}(n);this.columnList.reset(i),this.columnList.notifyOnChanges(),this.initPinning()},t.prototype._createColumn=function(e){return e instanceof Cs?this._createColGroupComponent(e):this._createColComponent(e)},t.prototype._createColGroupComponent=function(e){var t=this,n=this.resolver.resolveComponentFactory(Cs),i=this.viewRef.createComponent(n,null,this.viewRef.injector);if(i.changeDetectorRef.detectChanges(),n.inputs.forEach(function(t){var n=t.propName;i.instance[n]=e[n]}),e.children.length>0){var r=[];e.children.forEach(function(e){var n=t._createColumn(e).instance;n.parent=i.instance,r.push(n)}),i.instance.children.reset(r),i.instance.children.notifyOnChanges()}return i.instance.grid=this,i},t.prototype._createColComponent=function(e){var t=this.resolver.resolveComponentFactory(ws),n=this.viewRef.createComponent(t,null,this.viewRef.injector);return t.inputs.forEach(function(t){var i=t.propName;e[i]instanceof Qa?n.instance[i]=e[i].constructor:n.instance[i]=e[i]}),n.instance.grid=this,n},t.prototype.getGridsForIsland=function(e){return this.hgridAPI.getChildGridsForRowIsland(e)},t.prototype.getChildGrid=function(e){if(e)return this.hgridAPI.getChildGrid(e)},t.ctorParameters=function(){return[{type:rs},{type:is},{type:Pt},{type:cd},{type:void 0,decorators:[{type:o.C,args:[wl]}]},{type:o.u},{type:o.Q},{type:void 0,decorators:[{type:o.C,args:[a.c]}]},{type:o.k},{type:o.p},{type:o.H},{type:o.qb},{type:dd},{type:Xs},{type:Tn,decorators:[{type:o.C,args:[Tn]}]},{type:ul},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={expandChildren:[{type:o.G}],dragIndicatorIconBase:[{type:o.ob,args:["dragIndicatorIconBase",{read:o.kb,static:!0}]}]},t}(El);var ud=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.childRowIslands=new Map,t.childGrids=new Map,t}return Object(r.d)(t,e),t.prototype.registerChildRowIsland=function(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new E.a)},t.prototype.unsetChildRowIsland=function(e){this.childGrids.delete(e.key),this.childRowIslands.delete(e.key),this.destroyMap.delete(e.key)},t.prototype.getChildRowIsland=function(e){return this.childRowIslands.get(e)},t.prototype.getChildGrid=function(e){var t,n=e,i=n.shift(),r=this.childGrids.get(i.rowIslandKey);if(r){var o=r.get(i.rowID);t=0===n.length?o:o.hgridAPI.getChildGrid(n)}return t},t.prototype.getChildGrids=function(e){var t=[];return this.childGrids.forEach(function(n){n.forEach(function(n){(t.push(n),e)&&n.hgridAPI.getChildGrids(e).forEach(function(e){t.push(e)})})}),t},t.prototype.getParentRowId=function(e){var t;return this.childGrids.forEach(function(n){n.forEach(function(n,i){n!==e||(t=i)})}),t},t.prototype.registerChildGrid=function(e,t,n){var i=this.childGrids.get(t);i||(this.childGrids.set(t,new Map),i=this.childGrids.get(t)),i.set(e,n)},t.prototype.getChildGridsForRowIsland=function(e){var t=this.childGrids.get(e),n=[];return t&&t.forEach(function(e){n.push(e)}),n},t.prototype.getChildGridByID=function(e,t){return this.childGrids.get(e).get(t)},t}(Pt),hd=function(){function e(){this.change=new E.a,this.state=new Map,this.destroyMap=new Map,this.childRowIslands=new Map,this.childGrids=new Map}return e.prototype.register=function(e){this.state.set(e.id,e),this.destroyMap.set(e.id,new E.a)},e.prototype.unsubscribe=function(e){this.state.delete(e.id)},e.prototype.get=function(e){return this.state.get(e)},e.prototype.unset=function(e){this.state.delete(e),this.destroyMap.delete(e)},e.prototype.reset=function(e,t){var n=this.destroyMap.get(e),i=this.get(e);this.unset(e),i&&this.state.set(t,i),n&&this.destroyMap.set(t,n)},e.prototype.registerChildRowIsland=function(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new E.a)},e.prototype.unsetChildRowIsland=function(e){this.childRowIslands.delete(e.key),this.destroyMap.delete(e.key)},e.prototype.getChildRowIsland=function(e){return this.childRowIslands.get(e)},e.prototype.registerChildGrid=function(e,t){this.childGrids.set(e,t)},e.prototype.getChildGrids=function(e){var t=[];return this.childGrids.forEach(function(e){t.push(e)}),e&&this.childRowIslands.forEach(function(n){t=t.concat(n.rowIslandAPI.getChildGrids(e))}),t},e.prototype.getChildGridByID=function(e){return this.childGrids.get(e)},e}(),gd=function(e){function t(t,n,i,r,a,s,l,c,d,p,u,h,g,f,m,y,b,v){var x=e.call(this,t,n,i,r,"function"==typeof a?a():a,s,l,c,d,p,u,h,g,f,m,y,b)||this;return x.selectionService=t,x.transactionFactory=a,x.document=c,x.overlayService=m,x.summaryService=y,x._displayDensityOptions=b,x.rowIslandAPI=v,x.children=new o.X,x.childColumns=new o.X,x.onLayoutChange=new o.x,x.onGridCreated=new o.x,x.initialChanges=[],x.rootGrid=null,x.layout_id="igx-row-island-",x.isInit=!1,x.hgridAPI=i,x}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"expandChildren",{get:function(){return this._expandChildren},set:function(e){this._expandChildren=e,this.rowIslandAPI.getChildGrids().forEach(function(t){document.body.contains(t.nativeElement)?(t.expandChildren=e,t.markForCheck()):t.updateOnRender=!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){var e=this.parentId?this.parentId.substring(this.parentId.indexOf(this.layout_id)+this.layout_id.length)+"-":"";return this.layout_id+e+this.key},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentId",{get:function(){return this.parentIsland?this.parentIsland.id:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){for(var e=this.parentIsland,t=0;e;)t++,e=e.parentIsland;return t+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transactions",{get:function(){var e=this.rowIslandAPI.getChildGrids();return e.length?e[0].transactions:this._transactions},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.rootGrid=this.hgridAPI.grid},t.prototype.ngAfterContentInit=function(){var e=this;this.updateChildren(),this.children.notifyOnChanges(),this.children.changes.pipe(Object(H.a)(this.destroy$)).subscribe(function(t){e.updateChildren(),e.getGridsForIsland(e.key).forEach(function(t){t.onRowIslandChange(e.children)})});var t=this.children.map(function(e){return e.columnList.toArray()}),n=[].concat.apply([],t),i=this.columnList.filter(function(e){return-1===n.indexOf(e)});this.childColumns.reset(i),this.columnList.changes.pipe(Object(H.a)(this.destroy$)).subscribe(function(){e.updateColumnList()})},t.prototype.updateChildren=function(){var e=this;this.children.reset(this.children.toArray().slice(1)),this.children.forEach(function(t){t.parentIsland=e})},t.prototype.ngAfterViewInit=function(){this.rowIslandAPI.register(this),this.parentIsland?this.parentIsland.rowIslandAPI.registerChildRowIsland(this):this.rootGrid.hgridAPI.registerChildRowIsland(this),this._init=!1},t.prototype.ngOnChanges=function(e){this.onLayoutChange.emit(e),this.isInit||this.initialChanges.push(e)},t.prototype.ngOnDestroy=function(){var e=this;this.destroy$.next(!0),this.destroy$.complete(),this._destroyed=!0,this.rowIslandAPI.unset(this.id),this.parentIsland?(this.getGridsForIsland(this.key).forEach(function(t){e.cleanGridState(t),t.hgridAPI.unsetChildRowIsland(e)}),this.parentIsland.rowIslandAPI.unsetChildRowIsland(this)):(this.rootGrid.hgridAPI.unsetChildRowIsland(this),this.cleanGridState(this.rootGrid))},t.prototype.cleanGridState=function(e){e.childGridTemplates.forEach(function(e){e.owner.cleanView(e.context.templateID)}),e.childGridTemplates.clear(),e.onRowIslandChange()},t.prototype.reflow=function(){},t.prototype.calculateGridHeight=function(){},t.prototype.updateColumnList=function(){var e=this,t=this.children.map(function(e){return e.columnList.toArray()}),n=[].concat.apply([],t),i=this.columnList.filter(function(e){return-1===n.indexOf(e)&&(e.defaultWidth=void 0,!0)});this.childColumns.reset(i),this.parentIsland?this.parentIsland.columnList.notifyOnChanges():this.rootGrid.columnList.notifyOnChanges(),this.rowIslandAPI.getChildGrids().forEach(function(t){t.createColumnsList(e.childColumns.toArray()),document.body.contains(t.nativeElement)||(t.updateOnRender=!0)})},t.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,selector:"igx-row-island",template:"",providers:[hd]}]}],t.ctorParameters=function(){return[{type:rs},{type:is},{type:Pt},{type:cd},{type:void 0,decorators:[{type:o.C,args:[wl]}]},{type:o.u},{type:o.Q},{type:void 0,decorators:[{type:o.C,args:[a.c]}]},{type:o.k},{type:o.p},{type:o.H},{type:o.qb},{type:dd},{type:Xs},{type:Tn,decorators:[{type:o.C,args:[Tn]}]},{type:ul},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]},{type:hd}]},t.propDecorators={key:[{type:o.G}],expandChildren:[{type:o.G}],children:[{type:o.s,args:[t,{read:t,descendants:!1}]}],childColumns:[{type:o.s,args:[ws,{read:ws,descendants:!1}]}],onLayoutChange:[{type:o.S}],onGridCreated:[{type:o.S}]},t}(pd),fd=function(){function e(e,t,n,i){this.gridAPI=e,this.selectionAPI=t,this.element=n,this.cdr=i,this.expanded=!1,this.rowData=[],this.tabindex=0,this.role="row"}return Object.defineProperty(e.prototype,"parentHasScroll",{get:function(){return!this.parentGrid.verticalScrollContainer.dc.instance.notVirtual},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentGrid",{get:function(){return this.gridAPI.grid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.layout.level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this.element.nativeElement},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.layout.onLayoutChange.subscribe(function(t){e._handleLayoutChanges(t)}),this.layout.initialChanges.forEach(function(t){e._handleLayoutChanges(t)}),this.hGrid.parent=this.parentGrid,this.hGrid.parentIsland=this.layout,this.hGrid.childRow=this,this.hGrid.isPercentHeight&&(this.hGrid._autoSize=!0),this.layout.onGridCreated.emit({owner:this.layout,parentID:this.rowData.rowID,grid:this.hGrid})},e.prototype.ngAfterViewInit=function(){var e=this;this.hGrid.childLayoutList=this.layout.children,this.layout.childColumns.length>0&&!this.hGrid.autoGenerate&&this.hGrid.createColumnsList(this.layout.childColumns.toArray()),this.hGrid.childLayoutList.toArray().forEach(function(t){return e.hGrid.hgridAPI.registerChildRowIsland(t)}),this.parentGrid.hgridAPI.registerChildGrid(this.rowData.rowID,this.layout.key,this.hGrid),this.layout.rowIslandAPI.registerChildGrid(this.rowData.rowID,this.hGrid),this.hGrid.cdr.detectChanges()},e.prototype._handleLayoutChanges=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.hGrid[t]=e[t].currentValue)},e.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-child-grid-row",template:"<div class=\"igx-grid__hierarchical-indent\" [ngClass]=\"{'igx-grid__hierarchical-indent--scroll': parentHasScroll}\">\n    <igx-hierarchical-grid #hgrid [data]='rowData.childGridsData[layout.key]'></igx-hierarchical-grid>\n</div>\n"}]}],e.ctorParameters=function(){return[{type:Pt},{type:Kn},{type:o.u},{type:o.k}]},e.propDecorators={layout:[{type:o.G}],parentGridID:[{type:o.G}],rowData:[{type:o.G}],index:[{type:o.G}],hGrid:[{type:o.ob,args:["hgrid",{static:!0}]}],tabindex:[{type:o.z,args:["attr.tabindex"]}],role:[{type:o.z,args:["attr.role"]}],level:[{type:o.z,args:["attr.data-level"]}]},e}(),md=0,yd=function(e){function t(t,n,i,r,o,a,s,l,c,d,p,u,h,g,f,m,y,b){var v=e.call(this,t,n,r,o,"function"==typeof a?a():a,s,l,c,d,p,u,h,g,f,m,y,b)||this;return v.selectionService=t,v.colResizingService=i,v.transactionFactory=a,v.document=c,v.overlayService=m,v.summaryService=y,v._displayDensityOptions=b,v.childLayoutKeys=[],v.highlightedRowID=null,v.updateOnRender=!1,v.parent=null,v._hierarchicalState=[],v._filteredData=null,v.h_id="igx-hierarchical-grid-"+md++,v.childGridTemplates=new Map,v.scrollTop=0,v.scrollLeft=0,v.hgridAPI=r,v}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.h_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){var t=this;this._data=e,this.summaryService.clearSummaryCache(),this.shouldGenerate&&(this.setupColumns(),this.reflow()),this.cdr.markForCheck(),!this.parent||null!==this.height&&-1===this.height.indexOf("%")||requestAnimationFrame(function(){t.updateParentSizes()})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hierarchicalState",{get:function(){return this._hierarchicalState},set:function(e){var t=this;this._hierarchicalState=e,this.parent&&requestAnimationFrame(function(){t.updateParentSizes()})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteredData",{get:function(){return this._filteredData},set:function(e){this._filteredData=e,this.rowSelectable&&this.updateHeaderCheckboxStatusOnFilter(this._filteredData)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandChildren",{get:function(){return this._expandChildren},set:function(e){var t=this;this._expandChildren=e,e&&this.data?this.hierarchicalState=this.data.map(function(e){return{rowID:t.primaryKey?e[t.primaryKey]:e}}):this.data&&(this.hierarchicalState=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"foreignKey",{get:function(){return this.parent?this.parent.hgridAPI.getParentRowId(this):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasExpandableChildren",{get:function(){return!!this.childLayoutKeys.length},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._transactions=this.parentIsland?this.parentIsland.transactions:this._transactions,e.prototype.ngOnInit.call(this)},t.prototype.ngAfterViewInit=function(){var t=this;e.prototype.ngAfterViewInit.call(this),this.verticalScrollContainer.getVerticalScroll().addEventListener("scroll",this.hg_verticalScrollHandler.bind(this)),this.parentVirtDir.getHorizontalScroll().addEventListener("scroll",this.hg_horizontalScrollHandler.bind(this)),this.expandChildren&&this.data&&this.hierarchicalState.length!==this.data.length&&(this.hierarchicalState=this.data.map(function(e){return{rowID:t.primaryKey?e[t.primaryKey]:e}}),this.cdr.detectChanges()),this.verticalScrollContainer.onBeforeViewDestroyed.pipe(Object(H.a)(this.destroy$)).subscribe(function(e){var n=e.context.$implicit;if(t.isChildGridRecord(n)){var i=t.childGridTemplates.get(n.rowID);if(i)i.owner._viewContainerRef.detach(0)}}),this.parent&&(this._displayDensity=this.rootGrid._displayDensity,this.rootGrid.onDensityChanged.pipe(Object(H.a)(this.destroy$)).subscribe(function(){requestAnimationFrame(function(){t._displayDensity=t.rootGrid._displayDensity,document.body.contains(t.nativeElement)?t.reflow():t.updateOnRender=!0})}),this.parent.verticalScrollContainer.onDataChanged.pipe(Object(H.a)(this.destroy$)).subscribe(function(){requestAnimationFrame(function(){t.updateSizes()})}),this.childLayoutKeys=this.parentIsland.children.map(function(e){return e.key})),this.toolbarCustomContentTemplates=this.parentIsland?this.parentIsland.toolbarCustomContentTemplates:this.toolbarCustomContentTemplates},t.prototype.updateSizes=function(){!this._destroyed&&document.body.contains(this.nativeElement)&&this.isPercentWidth&&(this.reflow(),this.hgridAPI.getChildGrids(!1).forEach(function(e){e.updateSizes()}))},Object.defineProperty(t.prototype,"outletDirective",{get:function(){return this.rootGrid._outletDirective},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentRowOutletDirective",{get:function(){return this===this.rootGrid?null:this.rootGrid.rowEditingOutletDirective},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.updateColumnList(!1),this.childLayoutKeys=this.parent?this.parentIsland.children.map(function(e){return e.key}):this.childLayoutKeys=this.childLayoutList.map(function(e){return e.key}),this.childLayoutList.notifyOnChanges(),this.childLayoutList.changes.pipe(Object(H.a)(this.destroy$)).subscribe(function(){return t.onRowIslandChange()}),e.prototype.ngAfterContentInit.call(this)},t.prototype.onRowIslandChange=function(){this.parent?this.childLayoutKeys=this.parentIsland.children.filter(function(e){return!e._destroyed}).map(function(e){return e.key}):this.childLayoutKeys=this.childLayoutList.filter(function(e){return!e._destroyed}).map(function(e){return e.key}),this.cdr.destroyed||this.cdr.detectChanges()},t.prototype.onColumnsChanged=function(t){var n=this;this.updateColumnList();var i=t.filter(function(e){return e.gridAPI.grid===n});i.length>0&&(this.columnList.reset(i),e.prototype.onColumnsChanged.call(this,this.columnList))},t.prototype.updateColumnList=function(e){void 0===e&&(e=!0);var t=(this.parent?this.childLayoutList:this.allLayoutList).map(function(e){return e.columnList.toArray()}),n=[].concat.apply([],t),i=this.columnList.length;if(n.length>0){var r=this.columnList.filter(function(e){return-1===n.indexOf(e)});this.columnList.reset(r),e&&this.columnList.length!==i&&this.calculateGridSizes()}},t.prototype.ngOnDestroy=function(){this.parent||this.hgridAPI.getChildGrids(!0).forEach(function(e){e.childRow.cdr.destroyed||e.childRow.cdr.destroy()}),this.parent&&this.selectionService.activeElement&&this._clearSeletionHighlights(),e.prototype.ngOnDestroy.call(this)},t.prototype._clearSeletionHighlights=function(){Object(r.i)([this.rootGrid],this.rootGrid.getChildGrids(!0)).forEach(function(e){e.selectionService.clear(),e.selectionService.activeElement=null,e.nativeElement.classList.remove("igx-grid__tr--highlighted"),e.highlightedRowID=null,e.cdr.markForCheck()})},Object.defineProperty(t.prototype,"template",{get:function(){return this.filteredData&&0===this.filteredData.length?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyFilteredGridTemplate:!this.isLoading||this.data&&0!==this.dataLength?0===this.dataLength?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyGridDefaultTemplate:void 0:this.loadingGridTemplate?this.loadingGridTemplate:this.loadingGridDefaultTemplate},enumerable:!0,configurable:!0}),t.prototype.getFeatureColumnsWidth=function(){var t=e.prototype.getFeatureColumnsWidth.call(this);return this.hasExpandableChildren&&(t+=this.headerHierarchyExpander.nativeElement.offsetWidth||this.getDefaultExpanderWidth()),t},t.prototype.getDefaultExpanderWidth=function(){switch(this.displayDensity){case ei.cosy:return 57;case ei.compact:return 49;default:return 72}},t.prototype.isRowHighlighted=function(e){return this.highlightedRowID===e.rowID},t.prototype.isHierarchicalRecord=function(e){return 0!==this.childLayoutList.length&&e[this.childLayoutList.first.key]},t.prototype.isChildGridRecord=function(e){return void 0!==e.childGridsData},t.prototype.trackChanges=function(e,t){return void 0!==t.childGridsData?t.rowID:t},t.prototype.getContext=function(e){if(this.isChildGridRecord(e)){var t=this.childGridTemplates.get(e.rowID);return t?{$implicit:e,moveView:t.view,owner:t.owner,index:this.verticalScrollContainer.igxForOf.indexOf(e)}:{$implicit:e,templateID:"childRow-"+(this.primaryKey?e.rowID:this.data.indexOf(e.rowID)),index:this.verticalScrollContainer.igxForOf.indexOf(e)}}return{$implicit:e,templateID:"dataRow",index:this.verticalScrollContainer.igxForOf.indexOf(e)}},Object.defineProperty(t.prototype,"rootGrid",{get:function(){for(var e=this;e.parent;)e=e.parent;return e},enumerable:!0,configurable:!0}),t.prototype.initColumns=function(t,n){if(void 0===n&&(n=null),this.hasColumnLayouts){var i=this.columnList.filter(function(e){return!e.columnLayout&&!e.columnLayoutChild});this.columnList.reset(i)}e.prototype.initColumns.call(this,t,n)},t.prototype.getVisibleContentHeight=function(){var t=e.prototype.getVisibleContentHeight.call(this);if(this.parent){var n=this.rootGrid.getVisibleContentHeight(),i=this.nativeElement.getBoundingClientRect().top-this.rootGrid.nativeElement.getBoundingClientRect().top;t=n-i>t?t:n-i}return t},t.prototype.collapseAllRows=function(){this.hierarchicalState=[]},t.prototype.isExpanded=function(e){var t=this;return(void 0!==e.childGridsData?!!this.hierarchicalState.find(function(t){return t.rowID===e.rowID}):!!this.hierarchicalState.find(function(n){return t.primaryKey?n.rowID===e[t.primaryKey]:n.rowID===e}))&&0!==this.childLayoutList.length},t.prototype.viewCreatedHandler=function(e){if(this.isChildGridRecord(e.context.$implicit)){var t=e.context.$implicit.rowID;this.childGridTemplates.set(t,e)}},t.prototype.viewMovedHandler=function(e){var t=this;if(this.isChildGridRecord(e.context.$implicit)){var n=e.context.$implicit.rowID;this.childGridTemplates.get(n).owner=e.owner,this.childLayoutList.forEach(function(n){var i=t.hgridAPI.getChildGridByID(n.key,e.context.$implicit.rowID);i&&i.updateOnRender&&(i.reflow(),i.updateOnRender=!1)}),this.getChildGrids(!0).forEach(function(e){e.isPercentWidth&&e.reflow(),e.updateScrollPosition()})}},t.prototype.updateScrollPosition=function(){var e=this.verticalScrollContainer.getVerticalScroll(),t=this.parentVirtDir.getHorizontalScroll();e&&(e.scrollTop=this.scrollTop),t&&(t.scrollLeft=this.scrollLeft)},t.prototype.getChildGrids=function(e){return this.hgridAPI.getChildGrids(e)},t.prototype.generateDataFields=function(t){var n=this;return e.prototype.generateDataFields.call(this,t).filter(function(e){return-1===(n.parentIsland?n.parentIsland.children:n.childLayoutList).map(function(e){return e.key}).indexOf(e)})},t.prototype.hg_verticalScrollHandler=function(e){this.scrollTop=e.target.scrollTop},t.prototype.onContainerScroll=function(){this.hideOverlays()},t.prototype.hg_horizontalScrollHandler=function(e){this.scrollLeft=e.target.scrollLeft},t.prototype.updateParentSizes=function(){for(var e=this.parent;e;){var t=e.hasVerticalSroll(),n=e.verticalScrollContainer;n.recalcUpdateSizes();var i=parseInt(n.dc.instance._viewContainer.element.nativeElement.style.top,10);n.getVerticalScroll().scrollTop=n.getScrollForIndex(n.state.startIndex)-i,t!==e.hasVerticalSroll()&&e.reflow(),e=e.parent}},t.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-hierarchical-grid",template:'<igx-grid-toolbar role="rowgroup" [style.width.px]="outerWidth" *ngIf="showToolbar" [gridID]="id"\n    [displayDensity]="displayDensity" #toolbar>\n</igx-grid-toolbar>\n\n<div class="igx-grid__thead">\n    <div class="igx-grid__thead-wrapper" role="rowgroup" [style.width.px]=\'calcWidth + 1\' #theadRow>\n        <div class="igx-grid__tr" role="row" [style.width.px]=\'calcWidth + 1\'>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0"\n                [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left"\n                class="igx-grid__scroll-on-drag-left"></span>\n            <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0"\n                [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left"\n                class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n            <div #headerHierarchyExpander [hidden]=\'!hasExpandableChildren || !hasVisibleColumns\' [ngClass]="{\n                    \'igx-grid__hierarchical-expander igx-grid__hierarchical-expander--header\': hasExpandableChildren,\n                    \'igx-grid__hierarchical-expander--push\': filteringService.isFilterRowVisible,\n                    \'igx-grid__hierarchical-expander--no-border\': rowSelectable || rowDraggable\n                }">\n                <igx-icon role="button" fontSet="material"\n                    [isActive]=\'hierarchicalState.length > 0 && hasExpandableChildren\' (click)="collapseAllRows()">unfold_less</igx-icon>\n            </div>\n            <ng-container *ngIf="rowDraggable">\n                <div class="igx-grid__drag-indicator" [ngClass]="{\n                        \'igx-grid__drag-indicator--header\': !rowSelectable\n                    }" #headerDragContainer>\n                    <div style="visibility: hidden;">\n                        <ng-container\n                            *ngTemplateOutlet="this.dragIndicatorIconTemplate ? this.dragIndicatorIconTemplate : this.dragIndicatorIconBase">\n                        </ng-container>\n                    </div>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="showRowCheckboxes">\n                <div class="igx-grid__cbx-selection" #headerCheckboxContainer [ngClass]="{\n                        \'igx-grid__cbx-selection--push\': filteringService.isFilterRowVisible\n                    }">\n                    <igx-checkbox [checked]="allRowsSelected" (change)="onHeaderCheckboxClick($event, filteredData)"\n                        disableRipple="true" [aria-label]="headerCheckboxAriaLabel" #headerCheckbox></igx-checkbox>\n                </div>\n            </ng-container>\n            <ng-container *ngIf="pinnedColumns.length > 0">\n                <ng-template ngFor let-col [ngForOf]="pinnedColumns | igxTopLevel">\n                    <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width.px]="getHeaderGroupWidth(col)"\n                        [style.flex-basis.px]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n                </ng-template>\n            </ng-container>\n            <ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxTopLevel"\n                [igxForScrollOrientation]="\'horizontal\'" [igxForScrollContainer]="parentVirtDir"\n                [igxForContainerSize]=\'unpinnedWidth\' [igxForTrackBy]=\'trackColumnChanges\'\n                [igxForSizePropName]=\'"calcPixelWidth"\' #headerContainer>\n                <igx-grid-header-group [column]="col" [gridID]="id" [style.min-width.px]="getHeaderGroupWidth(col)"\n                    [style.flex-basis.px]="getHeaderGroupWidth(col)"></igx-grid-header-group>\n            </ng-template>\n        </div>\n        <igx-grid-filtering-row #filteringRow [style.width.px]=\'calcWidth\' *ngIf="filteringService.isFilterRowVisible"\n            [column]="filteringService.filteredColumn"></igx-grid-filtering-row>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true"\n        id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div class="igx-grid__thead-thumb" [hidden]=\'!hasVerticalSroll()\' [style.width.px]="scrollWidth"></div>\n</div>\n\n<div igxGridBody (keydown.control.c)="copyHandlerIE()" (copy)="copyHandler($event)" class="igx-grid__tbody">\n    <div class="igx-grid__tbody-content" (onDragStop)="selectionService.dragMode = $event"\n        (onDragScroll)="dragScroll($event)" [igxGridDragSelect]="selectionService.dragMode" role="rowgroup"\n        [style.height.px]=\'calcHeight\' [style.width.px]=\'calcWidth + 1\' #tbody (scroll)=\'scrollHandler($event)\'>\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length <= 0"\n            [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left"\n            class="igx-grid__scroll-on-drag-left"></span>\n        <span *ngIf="hasMovableColumns && draggedColumn && pinnedColumns.length > 0"\n            [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true" id="left"\n            class="igx-grid__scroll-on-drag-pinned" [style.left.px]="pinnedWidth"></span>\n        <ng-template igxGridFor let-rowData [igxGridForOf]="data\n        | gridTransaction:id:pipeTrigger\n        | visibleColumns:hasVisibleColumns\n        | gridFiltering:filteringExpressionsTree:id:pipeTrigger\n        | gridSort:sortingExpressions:id:pipeTrigger\n        | gridHierarchicalPaging:page:perPage:id:pipeTrigger\n        | gridHierarchical:hierarchicalState:id:primaryKey:childLayoutKeys:pipeTrigger" let-rowIndex="index"\n            [igxForScrollOrientation]="\'vertical\'" [igxForScrollContainer]=\'verticalScroll\'\n            [igxForContainerSize]=\'calcHeight\' [igxForItemSize]="renderedRowHeight" [igxForTrackBy]=\'trackChanges\'\n            #verticalScrollContainer (onChunkPreload)="dataLoading($event)">\n            <ng-template\n                [igxTemplateOutlet]=\'(isHierarchicalRecord(rowData) ? hierarchical_record_template : (isChildGridRecord(rowData) && isExpanded(rowData) ? child_record_template : hierarchical_record_template))\'\n                [igxTemplateOutletContext]=\'getContext(rowData)\' (onViewCreated)=\'viewCreatedHandler($event)\'\n                (onViewMoved)=\'viewMovedHandler($event)\' (onCachedViewLoaded)=\'cachedViewLoaded($event)\'></ng-template>\n            \x3c!-- <ng-container *igxTemplateOutlet="(isHierarchicalRecord(rowData) ? hierarchical_record_template : (isChildGridRecord(rowData) && isExpanded(rowData) ? child_record_template : hierarchical_record_template)); context: getContext(rowData)"></ng-container> --\x3e\n        </ng-template>\n        <ng-template #hierarchical_record_template let-rowIndex="index" let-rowData>\n            <igx-hierarchical-grid-row [gridID]="id" [index]="rowIndex" [rowData]="rowData" #row>\n            </igx-hierarchical-grid-row>\n        </ng-template>\n        <ng-template #child_record_template let-rowIndex="index" let-rowData>\n            <div style="overflow:auto;width: 100%;" [attr.data-rowindex]=\'rowIndex\' (scroll)=\'onContainerScroll()\'\n                [ngClass]="{\n                \'igx-grid__tr-container\': true,\n                \'igx-grid__tr--highlighted\':isRowHighlighted(rowData)\n            }">\n                <igx-child-grid-row *ngFor="let layout of childLayoutList" [parentGridID]="id" [index]="rowIndex"\n                    [rowData]="rowData" [layout]=\'layout\' #row>\n                </igx-child-grid-row>\n            </div>\n        </ng-template>\n        <ng-template #summary_template let-rowIndex="index" let-rowData>\n            <igx-grid-summary-row [gridID]="id" [summaries]="rowData.summaries" [index]="rowIndex"\n                class="igx-grid__summaries--body" #summaryRow>\n            </igx-grid-summary-row>\n        </ng-template>\n        <ng-container *ngTemplateOutlet="template"></ng-container>\n        <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true"\n            id="right" class="igx-grid__scroll-on-drag-right"></span>\n        <div class="igx-grid__row-editing-outlet" igxOverlayOutlet #igxRowEditingOverlayOutlet></div>\n    </div>\n    <span *ngIf="hasMovableColumns && draggedColumn" [igxColumnMovingDrop]="parentVirtDir" [attr.droppable]="true"\n        id="right" class="igx-grid__scroll-on-drag-right"></span>\n    <div [hidden]=\'!hasVerticalSroll()\' class="igx-grid__tbody-scrollbar" [style.width.px]="scrollWidth"\n        [style.height.px]=\'calcHeight\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #verticalScrollHolder></ng-template>\n    </div>\n</div>\n\n\n<div class="igx-grid__tfoot" role="rowgroup" [style.height.px]=\'summariesHeight\' #tfoot>\n    <igx-grid-summary-row [style.width.px]=\'calcWidth\' [style.height.px]=\'summariesHeight\'\n        *ngIf="hasSummarizedColumns && rootSummariesEnabled" [gridID]="id"\n        [summaries]="id | igxGridSummaryDataPipe:summaryService.retriggerRootPipe" [index]="0"\n        class="igx-grid__summaries" #summaryRow>\n    </igx-grid-summary-row>\n    <div class="igx-grid__tfoot-thumb" [hidden]=\'!hasVerticalSroll()\' [style.height.px]=\'summariesHeight\'\n        [style.width.px]="scrollWidth"></div>\n</div>\n\n<div class="igx-grid__scroll" [style.height]="\'18px\'" #scr [hidden]="isHorizontalScrollHidden">\n    <div class="igx-grid__scroll-start" [style.width.px]=\'pinnedWidth\' [hidden]="pinnedWidth === 0"></div>\n    <div class="igx-grid__scroll-main" [style.width.px]=\'unpinnedWidth\'>\n        <ng-template igxGridFor [igxGridForOf]=\'[]\' #scrollContainer>\n        </ng-template>\n    </div>\n</div>\n\n<div class="igx-grid__footer" #footer>\n    <ng-content select="igx-grid-footer"></ng-content>\n    <ng-container *ngIf="paging && totalRecords">\n        <ng-container\n            *ngTemplateOutlet="paginationTemplate ? paginationTemplate : defaultPaginator; context: {$implicit: this}">\n        </ng-container>\n    </ng-container>\n</div>\n\n<ng-template #defaultPaginator>\n    <igx-paginator [displayDensity]="displayDensity" [(page)]="page" [totalRecords]="totalRecords" [(perPage)]="perPage">\n    </igx-paginator>\n</ng-template>\n\n<ng-template #emptyFilteredGrid>\n    <span class="igx-grid__tbody-message">{{emptyFilteredGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultEmptyGrid>\n    <span class="igx-grid__tbody-message">{{emptyGridMessage}}</span>\n</ng-template>\n\n<ng-template #defaultLoadingGrid>\n    <div class="igx-grid__loading">\n        <igx-circular-bar [indeterminate]="true">\n        </igx-circular-bar>\n    </div>\n</ng-template>\n\n\n<div *ngIf="rowEditable" igxToggle>\n    <div [className]="bannerClass">\n        <ng-container\n            *ngTemplateOutlet="rowEditContainer; context: { rowChangesCount: rowChangesCount, endEdit: endEdit.bind(this) }">\n        </ng-container>\n    </div>\n</div>\n<ng-template #defaultRowEditText>\n    You have {{ rowChangesCount }} changes in this row\n</ng-template>\n<ng-template #defaultRowEditActions>\n    <button igxButton igxRowEditTabStop (click)="endEdit(false, $event)">Cancel</button>\n    <button igxButton igxRowEditTabStop (click)="endEdit(true, $event)">Done</button>\n</ng-template>\n<ng-template #defaultRowEditTemplate>\n    <div class="igx-banner__message">\n        <span class="igx-banner__text">\n            <ng-container\n                *ngTemplateOutlet="rowEditText ? rowEditText : defaultRowEditText; context: { $implicit: rowChangesCount }">\n            </ng-container>\n        </span>\n    </div>\n    <div class="igx-banner__actions">\n        <div class="igx-banner__row">\n            <ng-container\n                *ngTemplateOutlet="rowEditActions ? rowEditActions : defaultRowEditActions; context: { $implicit: endEdit.bind(this) }">\n            </ng-container>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #dragIndicatorIconBase>\n    <igx-icon fontSet="material">drag_indicator</igx-icon>\n</ng-template>\n\n<igx-grid-column-resizer *ngIf="colResizingService.showResizer"></igx-grid-column-resizer>\n<div class="igx-grid__outlet" #igxFilteringOverlayOutlet igxOverlayOutlet></div>\n',providers:[rs,is,{provide:Pt,useClass:ud},{provide:El,useExisting:Object(o.vb)(function(){return t})},ul,Xs,dd,di]}]}],t.ctorParameters=function(){return[{type:rs},{type:is},{type:as},{type:Pt},{type:cd},{type:void 0,decorators:[{type:o.C,args:[wl]}]},{type:o.u},{type:o.Q},{type:void 0,decorators:[{type:o.C,args:[a.c]}]},{type:o.k},{type:o.p},{type:o.H},{type:o.qb},{type:dd},{type:Xs},{type:Tn,decorators:[{type:o.C,args:[Tn]}]},{type:ul},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[ti]}]}]},t.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],data:[{type:o.G}],hierarchicalState:[{type:o.G}],expandChildren:[{type:o.G}],childLayoutList:[{type:o.s,args:[gd,{read:gd,descendants:!1}]}],allLayoutList:[{type:o.s,args:[gd,{read:gd,descendants:!0}]}],hierarchicalRecordTemplate:[{type:o.ob,args:["hierarchical_record_template",{read:o.kb,static:!0}]}],childTemplate:[{type:o.ob,args:["child_record_template",{read:o.kb,static:!0}]}],headerHierarchyExpander:[{type:o.ob,args:["headerHierarchyExpander",{read:o.u,static:!0}]}],templateOutlets:[{type:o.pb,args:[yl,{read:yl}]}],hierarchicalRows:[{type:o.pb,args:[fd,{read:fd}]}]},t}(pd),bd=function(e){function t(t,n,i,r,o,a,s,l,c){var d=e.call(this,t,n,i,r,o,a,s,l,c)||this;return d.selectionService=t,d.crudService=n,d.gridAPI=i,d.selection=r,d.cdr=o,d.helement=a,d.zone=s,d.platformUtil=c,d.hSelection=r,d}return Object(r.d)(t,e),t.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this._rootGrid=this._getRootGrid()},t.prototype._getRootGrid=function(){for(var e=this.grid;e.parent;)e=e.parent;return e},t.prototype._clearAllHighlights=function(){Object(r.i)([this._rootGrid],this._rootGrid.getChildGrids(!0)).forEach(function(e){e.selectionService.clear(),e.selectionService.activeElement=null,e.nativeElement.classList.remove("igx-grid__tr--highlighted"),e.highlightedRowID=null,e.cdr.markForCheck()})},t.prototype.onFocus=function(t){this._clearAllHighlights();var n,i=this.grid.nativeElement,r=this.grid;for(this._rootGrid.id!==i.id&&i.classList.add("igx-grid__tr--highlighted");this._rootGrid.id!==r.id;){n=r;var o=(r=r.parent).hgridAPI.getParentRowId(n);r.highlightedRowID=o}e.prototype.onFocus.call(this,t)},t.prototype.dispatchEvent=function(t){var n=this,i=t.key.toLowerCase();if(!t.altKey||this.row.added)e.prototype.dispatchEvent.call(this,t);else{var o=this.gridAPI.grid,a=this.gridAPI.grid.hierarchicalState,s=this.row.expanded&&("left"===i||"arrowleft"===i||"up"===i||"arrowup"===i),l=!this.row.expanded&&("right"===i||"arrowright"===i||"down"===i||"arrowdown"===i);if(s?o.hierarchicalState=a.filter(function(e){return e.rowID!==n.row.rowID}):l&&(a.push({rowID:this.row.rowID}),o.hierarchicalState=Object(r.i)(a)),l||s){var c=this.cellID.rowID;o.cdr.detectChanges(),this.persistFocusedCell(c)}}},t.prototype.persistFocusedCell=function(e){var t=this;requestAnimationFrame(function(){var n=t.gridAPI.get_cell_by_key(e,t.column.field);n&&n.nativeElement.focus()})},t.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-hierarchical-grid-cell",template:'<ng-template #defaultCell>\n    <div igxTextHighlight style="pointer-events: none" [cssClass]="highlightClass" [activeCssClass]="activeHighlightClass" [groupName]="gridID"\n        [value]="formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal: grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value"\n        [row]="rowData" [column]="this.column.field" [containerClass]="\'igx-grid__td-text\'"\n        class="igx-grid__td-text">{{ formatter ? formatter(value) : column.dataType === \'number\' ? (value | igxdecimal:\n        grid.locale) : column.dataType === \'date\' ? (value | igxdate: grid.locale) : value }}</div>\n</ng-template>\n<ng-template #inlineEditor let-cell="cell">\n    <ng-container *ngIf="column.dataType === \'string\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [value]="editValue" (input)="editValue = $event.target.value" [igxFocus]="focused" />\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'number\'">\n        <igx-input-group displayDensity="compact">\n            <input igxInput [value]="editValue" (input)="editValue = $event.target.value" [igxFocus]="focused" type="number">\n        </igx-input-group>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'boolean\'">\n        <igx-checkbox (change)="editValue = $event.checked" [value]="editValue" [checked]="editValue"\n            [igxFocus]="focused" [disableRipple]="true"></igx-checkbox>\n    </ng-container>\n    <ng-container *ngIf="column.dataType === \'date\'">\n        <igx-date-picker [style.width.%]="100" [outlet]="grid.outletDirective" mode="dropdown"\n            [locale]="grid.locale" [(value)]="editValue" [igxFocus]="focused" [labelVisibility]="false">\n        </igx-date-picker>\n    </ng-container>\n</ng-template>\n<ng-container *ngTemplateOutlet="template; context: context">\n</ng-container>\n',providers:[Ds]}]}],t.ctorParameters=function(){return[{type:rs},{type:is},{type:Pt},{type:cd},{type:o.k},{type:o.u},{type:o.Q},{type:Ds},{type:ut}]},t.propDecorators={onFocus:[{type:o.A,args:["focus",["$event"]]}],dispatchEvent:[{type:o.A,args:["keydown",["$event"]]}]},t}(Os),vd=function(e){function t(t,n,i,r,o,a){var s=e.call(this,t,n,i,r,o,a)||this;return s.gridAPI=t,s.crudService=n,s.selectionService=i,s.hselection=r,s.element=o,s.cdr=a,s.tabindex=0,s}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"expanded",{get:function(){return this.grid.isExpanded(this.rowData)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return!!this.grid.childLayoutKeys.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlighted",{get:function(){return this.grid&&this.grid.highlightedRowID===this.rowID},enumerable:!0,configurable:!0}),t.prototype.toggle=function(){var e=this;if(!this.added){var t=this.gridAPI.grid;this.endEdit(t.rootGrid);var n=this.gridAPI.grid.hierarchicalState;this.expanded?t.hierarchicalState=n.filter(function(t){return t.rowID!==e.rowID}):(n.push({rowID:this.rowID}),t.hierarchicalState=Object(r.i)(n)),t.cdr.detectChanges(),requestAnimationFrame(function(){t.reflow()})}},t.prototype.endEdit=function(e){e.crudService.inEditMode&&e.endEdit(),e.hgridAPI.getChildGrids(!0).forEach(function(e){e.crudService.inEditMode&&e.endEdit()})},t.decorators=[{type:o.n,args:[{changeDetection:o.j.OnPush,preserveWhitespaces:!1,selector:"igx-hierarchical-grid-row",template:'<div (click)="toggle()" class="igx-grid__hierarchical-expander" [tabIndex]="tabindex" *ngIf="hasChildren" #expander>\n    <igx-icon *ngIf="!expanded" [isActive]=\'!added\' fontSet="material">expand_more</igx-icon>\n    <igx-icon *ngIf="expanded" [isActive]=\'!added\' fontSet="material">expand_less</igx-icon>\n</div>\n<ng-container *ngIf="rowDraggable">\n    <div [class]="resolveDragIndicatorClasses" [igxRowDrag]="this">\n            <ng-container *ngTemplateOutlet="this.grid.dragIndicatorIconTemplate ? this.grid.dragIndicatorIconTemplate : this.grid.dragIndicatorIconBase"></ng-container>\n    </div>\n</ng-container>\n<ng-container *ngIf="rowSelectable">\n        <div class="igx-grid__cbx-selection">\n            <igx-checkbox [checked]="isSelected" (change)="onCheckboxClick($event)" disableRipple="true" [disableTransitions]="grid.disableTransitions" [aria-label]="rowCheckboxAriaLabel"></igx-checkbox>\n        </div>\n</ng-container>\n\n<ng-container *ngIf="pinnedColumns.length > 0">\n    <igx-hierarchical-grid-cell *ngFor="let col of pinnedColumns | igxNotGrouped"\n        class="igx-grid__td igx-grid__td--fw igx-grid__td--pinned"\n        [class.igx-grid__td--number]="col.dataType === \'number\'"\n        [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n        [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n        [column]="col"\n        [formatter]="col.formatter"\n        [row]="this"\n        [lastPinned]="col.isLastPinned"\n        [style.min-height.px]="grid.rowHeight || 32"\n        [rowData]="rowData"\n        [style.min-width.px]="col.width"\n        [style.flex-basis.px]="col.width"\n        [width]="col.getCellWidth()"\n        [visibleColumnIndex]="col.visibleIndex"\n        [value]="rowData[col.field]"\n        [cellTemplate]="col.bodyTemplate">\n    </igx-hierarchical-grid-cell>\n</ng-container>\n\n<ng-template igxGridFor let-col [igxGridForOf]="unpinnedColumns | igxNotGrouped" [igxForScrollContainer]="grid.parentVirtDir" let-colIndex="index" [igxForSizePropName]=\'"calcPixelWidth"\' [igxForScrollOrientation]="\'horizontal\'" [igxForContainerSize]=\'grid.unpinnedWidth\' [igxForTrackBy]=\'grid.trackColumnChanges\' #igxDirRef>\n    <igx-hierarchical-grid-cell\n        class="igx-grid__td igx-grid__td--fw"\n        [class.igx-grid__td--number]="col.dataType === \'number\'"\n        [ngClass]="col.cellClasses | igxCellStyles:rowData[col.field]:rowData:col.field"\n        [editMode]="col.editable && crudService.isInEditMode(index, col.index)"\n        [column]="col"\n        [formatter]="col.formatter"\n        [row]="this"\n        [style.min-height.px]="grid.rowHeight || 32"\n        [rowData]="rowData"\n        [style.min-width.px]="col.width"\n        [style.flex-basis.px]="col.width"\n        [width]="col.getCellWidth()"\n        [visibleColumnIndex]="col.visibleIndex"\n        [value]="rowData[col.field]"\n        [cellTemplate]="col.bodyTemplate">\n    </igx-hierarchical-grid-cell>\n</ng-template>\n\n',providers:[{provide:os,useExisting:Object(o.vb)(function(){return t})}]}]}],t.ctorParameters=function(){return[{type:Pt},{type:is},{type:rs},{type:cd},{type:o.u},{type:o.k}]},t.propDecorators={cells:[{type:o.pb,args:[Object(o.vb)(function(){return bd}),{read:bd}]}],expander:[{type:o.ob,args:["expander",{read:o.u,static:!1}]}],tabindex:[{type:o.z,args:["attr.tabindex"]}],expanded:[{type:o.z,args:["class.igx-grid__tr--expanded"]}],highlighted:[{type:o.z,args:["class.igx-grid__tr--highlighted"]}]},t}(os),xd=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n,i,r,o){if(void 0===t&&(t=[]),0===r.length)return e;var a=this.gridAPI.grid;return this.addHierarchy(a,nt(e),t,i,r)},e.prototype.addHierarchy=function(e,t,n,i,r){var o=[];return t.forEach(function(t){o.push(t);var n={};r.forEach(function(e){var i=t[e]?t[e]:null;n[e]=i}),e.isExpanded(t)&&o.push({rowID:i?t[i]:t,childGridsData:n})}),o},e.decorators=[{type:o.W,args:[{name:"gridHierarchical",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),_d=function(){function e(e){this.gridAPI=e}return e.prototype.transform=function(e,t,n,i,r){if(void 0===t&&(t=0),void 0===n&&(n=15),!this.gridAPI.grid.paging)return e;var o={index:t,recordsPerPage:n},a=Lt.page(nt(e),o);return this.gridAPI.grid.pagingState=o,a},e.decorators=[{type:o.W,args:[{name:"gridHierarchicalPaging",pure:!0}]}],e.ctorParameters=function(){return[{type:Pt}]},e}(),wd=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[yd,vd,gd,fd,bd,xd,_d],exports:[Xc,yd,vd,bd,gd,fd],imports:[a.b,l.f,da,Xc,nc],providers:[hd,cd]}]}]}(),function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"igx-action-icon"}]}],e}()),Cd=0,Sd=function(){function e(){this.isVisible=!0,this.id="igx-navbar-"+Cd++,this.onAction=new o.x,this.titleId="igx-navbar-"+e.NEXT_ID++}return Object.defineProperty(e.prototype,"isActionButtonVisible",{get:function(){return!(this.actionIconTemplate||!this.actionButtonIcon)&&this.isVisible},set:function(e){this.isVisible=e},enumerable:!0,configurable:!0}),e.prototype._triggerAction=function(){this.onAction.emit(this)},e.NEXT_ID=1,e.decorators=[{type:o.n,args:[{selector:"igx-navbar",template:'<nav class="igx-navbar" role="navigation" [attr.aria-labelledby]="titleId">\n    <div class="igx-navbar__left">\n        <igx-icon (click)="_triggerAction()" fontSet="material" *ngIf="isActionButtonVisible">{{actionButtonIcon}}</igx-icon>\n        <ng-content select="igx-action-icon"></ng-content>\n        <h1 class="igx-navbar__title" [attr.id]="titleId">{{ title }}</h1>\n    </div>\n    <div class="igx-navbar__right">\n        <ng-content></ng-content>\n    </div>\n</nav>\n',styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],e.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],isActionButtonVisible:[{type:o.G}],actionButtonIcon:[{type:o.G}],title:[{type:o.G}],onAction:[{type:o.S}],titleId:[{type:o.G}],actionIconTemplate:[{type:o.r,args:[wd,{read:wd,static:!1}]}]},e}(),Dd=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[Sd,wd],exports:[Sd,wd],imports:[Mi,Rr,a.b]}]}]}(),function(){function e(){this.active=!1,this.isHeader=!1,this.activeClass="igx-nav-drawer__item--active"}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!this.active&&!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentCSS",{get:function(){return this.active&&!this.isHeader},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerCSS",{get:function(){return this.isHeader},enumerable:!0,configurable:!0}),e.decorators=[{type:o.t,args:[{selector:"[igxDrawerItem]",exportAs:"igxDrawerItem"}]}],e.propDecorators={active:[{type:o.G,args:["active"]}],isHeader:[{type:o.G,args:["isHeader"]}],defaultCSS:[{type:o.z,args:["class.igx-nav-drawer__item"]}],currentCSS:[{type:o.z,args:["class.igx-nav-drawer__item--active"]}],headerCSS:[{type:o.z,args:["class.igx-nav-drawer__item--header"]}]},e}()),Od=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxDrawer]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),Id=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxDrawerMini]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),kd=0,Pd=function(){function e(e,t,n,i,r){var a=this;this.elementRef=e,this._state=t,this.renderer=n,this._touchManager=i,this.platformUtil=r,this.cssClass="igx-nav-drawer",this.id="igx-nav-drawer-"+kd++,this.position="left",this.enableGestures=!0,this.isOpen=!1,this.pin=!1,this.pinThreshold=1024,this.width="280px",this.miniWidth="68px",this.pinChange=new o.x(!0),this.opening=new o.x,this.opened=new o.x,this.closing=new o.x,this.closed=new o.x,this._gesturesAttached=!1,this._widthCache={width:null,miniWidth:null,windowWidth:null},this.css={drawer:"igx-nav-drawer__aside",mini:"igx-nav-drawer__aside--mini",overlay:"igx-nav-drawer__overlay",styleDummy:"igx-nav-drawer__style-dummy"},this._panning=!1,this._maxEdgeZone=50,this.checkPinThreshold=function(e){var t;if(a.platformUtil.isBrowser&&a.pinThreshold){if(t=a.getWindowWidth(),e&&a._widthCache.windowWidth===t)return;a._widthCache.windowWidth=t,!a.pin&&t>=a.pinThreshold?(a.pin=!0,a.pinChange.emit(!0)):a.pin&&t<a.pinThreshold&&(a.pin=!1,a.pinChange.emit(!1))}},this.swipe=function(e){var t,n;a.enableGestures&&"touch"===e.pointerType&&("right"===a.position?(t=-e.deltaX,n=a.getWindowWidth()-(e.center.x+e.distance)):(t=e.deltaX,n=e.center.x-e.distance),(a.isOpen&&t<0||t>0&&n<a.maxEdgeZone)&&a.toggle())},this.panstart=function(e){if(a.enableGestures&&!a.pin&&"touch"===e.pointerType){var t="right"===a.position?a.getWindowWidth()-(e.center.x+e.distance):e.center.x-e.distance;(a.isOpen||t<a.maxEdgeZone)&&(a._panning=!0,a._panStartWidth=a.getExpectedWidth(!a.isOpen),a._panLimit=a.getExpectedWidth(a.isOpen),a.renderer.setElementClass(a.overlay,"panning",!0),a.renderer.setElementClass(a.drawer,"panning",!0))}},this.pan=function(e){if(a._panning){var t,n,i,r="right"===a.position,o=r?-e.deltaX:e.deltaX;if(t=a._panStartWidth+o,a.isOpen&&o<0){if(t<=a._panLimit)return;a.hasAnimateWidth?(i=(t-a._panLimit)/(a._panStartWidth-a._panLimit),n=t):(i=t/a._panStartWidth,n=e.deltaX),a.setXSize(n,i.toPrecision(2))}else if(!a.isOpen&&o>0){if(t>=a._panLimit)return;a.hasAnimateWidth?(i=(t-a._panStartWidth)/(a._panLimit-a._panStartWidth),n=t):(i=t/a._panLimit,n=(a._panLimit-t)*(r?1:-1)),a.setXSize(n,i.toPrecision(2))}}},this.panEnd=function(e){if(a._panning){var t="right"===a.position?-e.deltaX:e.deltaX,n=a._panStartWidth+t;a.resetPan(),a.isOpen&&n<=a._panStartWidth/2?a.close():!a.isOpen&&n>=a._panLimit/2&&a.open(),a._panStartWidth=null}},this.toggleOpenedEvent=function(e){a.elementRef.nativeElement.removeEventListener("transitionend",a.toggleOpenedEvent,!1),a.opened.emit()},this.toggleClosedEvent=function(e){a.elementRef.nativeElement.removeEventListener("transitionend",a.toggleClosedEvent,!1),a.closed.emit()}}return Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.miniTemplate&&!this.isOpen?this.miniTemplate.template:this.contentTemplate?this.contentTemplate.template:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"miniTemplate",{get:function(){return this._miniTemplate},set:function(e){this.isOpen||this.setDrawerWidth(e?this.miniWidth:""),this._miniTemplate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flexWidth",{get:function(){return this.pin?this.isOpen?this.width:this.miniTemplate&&this.miniWidth?this.miniWidth:"0px":"0px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPinnedRight",{get:function(){return this.pin&&"right"===this.position?"1":"0"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"drawer",{get:function(){return this._drawer.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlay",{get:function(){return this._overlay.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"styleDummy",{get:function(){return this._styleDummy.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAnimateWidth",{get:function(){return this.pin||!!this.miniTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxEdgeZone",{get:function(){return this._maxEdgeZone},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expectedWidth",{get:function(){return this.getExpectedWidth(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expectedMiniWidth",{get:function(){return this.getExpectedWidth(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touchManager",{get:function(){return this._touchManager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._state&&this._state.add(this.id,this),this.isOpen&&this.setDrawerWidth(this.width)},e.prototype.ngAfterContentInit=function(){this.updateEdgeZone(),this.checkPinThreshold(),this.ensureEvents()},e.prototype.ngOnDestroy=function(){this._touchManager.destroy(),this._state&&this._state.remove(this.id),this._resizeObserver&&this._resizeObserver.unsubscribe()},e.prototype.ngOnChanges=function(e){e.enableGestures&&void 0!==e.enableGestures.currentValue&&(this.enableGestures=!(!this.enableGestures||"true"!==this.enableGestures.toString()),this.ensureEvents()),e.pin&&void 0!==e.pin.currentValue&&(this.pin=!(!this.pin||"true"!==this.pin.toString()),this.pin?(this._touchManager.destroy(),this._gesturesAttached=!1):this.ensureEvents()),e.pinThreshold&&this.pinThreshold&&(this.ensureEvents(),this.checkPinThreshold()),e.width&&this.isOpen&&this.setDrawerWidth(e.width.currentValue),e.miniWidth&&(this.isOpen||this.setDrawerWidth(e.miniWidth.currentValue),this.updateEdgeZone())},e.prototype.toggle=function(){this.isOpen?this.close():this.open()},e.prototype.open=function(){this._panning&&this.resetPan(),this.isOpen||(this.opening.emit(),this.isOpen=!0,this.elementRef.nativeElement.addEventListener("transitionend",this.toggleOpenedEvent,!1),this.setDrawerWidth(this.width))},e.prototype.close=function(){this._panning&&this.resetPan(),this.isOpen&&(this.closing.emit(),this.isOpen=!1,this.setDrawerWidth(this.miniTemplate?this.miniWidth:""),this.elementRef.nativeElement.addEventListener("transitionend",this.toggleClosedEvent,!1))},e.prototype.set_maxEdgeZone=function(e){this._maxEdgeZone=e},e.prototype.getExpectedWidth=function(e){return e?this.miniTemplate?this.miniWidth?parseFloat(this.miniWidth):(null===this._widthCache.miniWidth&&(this.renderer.setElementClass(this.styleDummy,this.css.drawer,!0),this.renderer.setElementClass(this.styleDummy,this.css.mini,!0),this._widthCache.miniWidth=this.styleDummy.offsetWidth,this.renderer.setElementClass(this.styleDummy,this.css.drawer,!1),this.renderer.setElementClass(this.styleDummy,this.css.mini,!1)),this._widthCache.miniWidth):0:this.width?parseFloat(this.width):(null===this._widthCache.width&&(this.renderer.setElementClass(this.styleDummy,this.css.drawer,!0),this._widthCache.width=this.styleDummy.offsetWidth,this.renderer.setElementClass(this.styleDummy,this.css.drawer,!1)),this._widthCache.width)},e.prototype.getWindowWidth=function(){return window.innerWidth>0?window.innerWidth:screen.width},e.prototype.setDrawerWidth=function(e){var t=this;this.platformUtil.isBrowser?requestAnimationFrame(function(){t.drawer&&t.renderer.setElementStyle(t.drawer,"width",e)}):this.renderer.setElementStyle(this.drawer,"width",e)},e.prototype.getDrawerWidth=function(){return this.drawer.offsetWidth},e.prototype.ensureEvents=function(){var e=this;!this.enableGestures||this.pin||this._gesturesAttached||(this._touchManager.addGlobalEventListener("document","swipe",this.swipe),this._gesturesAttached=!0,this._touchManager.addGlobalEventListener("document","panstart",this.panstart),this._touchManager.addGlobalEventListener("document","panmove",this.pan),this._touchManager.addGlobalEventListener("document","panend",this.panEnd)),!this._resizeObserver&&this.platformUtil.isBrowser&&(this._resizeObserver=Object(T.a)(window,"resize").pipe(Z(function(){return F(150)})).subscribe(function(t){e.checkPinThreshold(t)}))},e.prototype.updateEdgeZone=function(){var e;this.miniTemplate&&(e=Math.max(this._maxEdgeZone,1.1*this.getExpectedWidth(!0)),this.set_maxEdgeZone(e))},e.prototype.resetPan=function(){this._panning=!1,this.renderer.setElementClass(this.overlay,"panning",!1),this.renderer.setElementClass(this.drawer,"panning",!1),this.setXSize(0,"")},e.prototype.setXSize=function(e,t){var n=this;window.requestAnimationFrame(function(){if(n.hasAnimateWidth)n.renderer.setElementStyle(n.drawer,"width",e?Math.abs(e)+"px":"");else{var i=e?"translate3d("+e+"px,0,0)":"";n.renderer.setElementStyle(n.drawer,"transform",i),n.renderer.setElementStyle(n.drawer,"-webkit-transform",i)}void 0!==t&&n.renderer.setElementStyle(n.overlay,"opacity",t)})},e.decorators=[{type:o.n,args:[{providers:[Ds],selector:"igx-nav-drawer",template:'<ng-template #defaultItemsTemplate>\n    <div igxDrawerItem [isHeader]="true">Navigation Drawer</div>\n    <div igxDrawerItem> Start by adding</div>\n    <div igxDrawerItem> <code>&lt;ng-template igxDrawer&gt;</code> </div>\n    <div igxDrawerItem> And some items inside </div>\n    <div igxDrawerItem> Style with igxDrawerItem </div>\n    <div igxDrawerItem> and igxRipple directives</div>\n</ng-template>\n\n<div [hidden]="pin"\n    class="igx-nav-drawer__overlay"\n    [class.igx-nav-drawer__overlay--hidden]="!isOpen"\n    (click)="close()" #overlay>\n</div>\n<aside role="navigation"\n    class="igx-nav-drawer__aside"\n    [class.igx-nav-drawer__aside--collapsed]="!miniTemplate && !isOpen"\n    [class.igx-nav-drawer__aside--mini]="miniTemplate && !isOpen"\n    [class.igx-nav-drawer__aside--normal]="!miniTemplate || isOpen"\n    [class.igx-nav-drawer__aside--pinned]="pin"\n    [class.igx-nav-drawer__aside--right]="position == \'right\'" #aside>\n\n    <ng-container *ngTemplateOutlet="template || defaultItemsTemplate"></ng-container>\n</aside>\n<div class="igx-nav-drawer__style-dummy" #dummy></div>\n',styles:["\n        :host {\n            display: block;\n            height: 100%;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:o.u,decorators:[{type:o.C,args:[o.u]}]},{type:Je,decorators:[{type:o.R}]},{type:o.Y},{type:Ds},{type:ut}]},e.propDecorators={cssClass:[{type:o.z,args:["class"]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],position:[{type:o.G}],enableGestures:[{type:o.G}],isOpen:[{type:o.G}],pin:[{type:o.G}],pinThreshold:[{type:o.G}],width:[{type:o.G}],miniWidth:[{type:o.G}],pinChange:[{type:o.S}],opening:[{type:o.S}],opened:[{type:o.S}],closing:[{type:o.S}],closed:[{type:o.S}],miniTemplate:[{type:o.r,args:[Id,{read:Id,static:!1}]}],contentTemplate:[{type:o.r,args:[Od,{read:Od,static:!1}]}],flexWidth:[{type:o.z,args:["style.flexBasis"]}],isPinnedRight:[{type:o.z,args:["style.order"]}],_drawer:[{type:o.ob,args:["aside",{static:!0}]}],_overlay:[{type:o.ob,args:["overlay",{static:!0}]}],_styleDummy:[{type:o.ob,args:["dummy",{static:!0}]}]},e}(),Ed=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[Pd,Dd,Id,Od],exports:[Pd,Dd,Id,Od],imports:[a.b]}]}]}(),function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxSliderThumbFrom]"}]}],e}()),Td=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[igxSliderThumbTo]"}]}],e}(),Ad={SLIDER:0,RANGE:1};Ad[Ad.SLIDER]="SLIDER",Ad[Ad.RANGE]="RANGE";var Rd={FROM:0,TO:1};Rd[Rd.FROM]="FROM",Rd[Rd.TO]="TO";var jd=function(){function e(e){this._elementRef=e,this._isActive=!1,this._isPressed=!1,this._destroy$=new E.a,this.isActive=!1,this.onThumbValueChange=new o.x,this.onChange=new o.x,this.onHoverChange=new o.x,this.tabindex=0,this.zIndex=0}return Object.defineProperty(e.prototype,"thumbPositionX",{get:function(){var e=this.nativeElement.getBoundingClientRect(),t=(e.right-e.left)/2;return e.left+t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbFromClass",{get:function(){return this.type===Rd.FROM},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbToClass",{get:function(){return this.type===Rd.TO},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbFromActiveClass",{get:function(){return this.type===Rd.FROM&&this._isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbToActiveClass",{get:function(){return this.type===Rd.TO&&this._isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbPressedClass",{get:function(){return this.isActive&&this._isPressed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this._elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroy",{get:function(){return this._destroy$},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.onPan.pipe(Object(H.a)(this._destroy$)).subscribe(function(t){return e.updateThumbValue(t)})},e.prototype.ngOnDestroy=function(){this._destroy$.next(!0),this._destroy$.complete()},e.prototype.onPinterEnter=function(){this.onHoverChange.emit(!0)},e.prototype.onPointerLeave=function(){this.onHoverChange.emit(!1)},e.prototype.onKeyDown=function(e){if(!this.disabled){var t=0;if(e.key.endsWith("Left"))t=-1*this.step;else{if(!e.key.endsWith("Right"))return;t=this.step}this.onChange.emit(),this.onThumbValueChange.emit(t)}},e.prototype.onBlur=function(){this.isActive=!1,this.zIndex=0},e.prototype.onFocusListener=function(){this.isActive=!0,this.zIndex=1},e.prototype.showThumbIndicators=function(){this.toggleThumbIndicators(!0)},e.prototype.hideThumbIndicators=function(){this.toggleThumbIndicators(!1)},e.prototype.updateThumbValue=function(e){var t=this.calculateTrackUpdate(e);this.isActive&&0!==t&&this.onThumbValueChange.emit(t)},e.prototype.calculateTrackUpdate=function(e){var t=e-this.thumbPositionX,n=this.stepDistance/2;return Math.abs(t)<n?0:this.stepToProceed(t,this.stepDistance)},e.prototype.stepToProceed=function(e,t){return Math.round(e/t)*this.step},e.prototype.toggleThumbIndicators=function(e){this._isPressed=e,this.continuous||(this._isActive=e)},e.decorators=[{type:o.n,args:[{selector:"igx-thumb",template:'<div class="dot"></div>\n'}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={value:[{type:o.G}],continuous:[{type:o.G}],thumbLabelVisibilityDuration:[{type:o.G}],disabled:[{type:o.G}],onPan:[{type:o.G}],stepDistance:[{type:o.G}],step:[{type:o.G}],templateRef:[{type:o.G}],context:[{type:o.G}],type:[{type:o.G}],onThumbValueChange:[{type:o.S}],onChange:[{type:o.S}],onHoverChange:[{type:o.S}],tabindex:[{type:o.z,args:["attr.tabindex"]}],zIndex:[{type:o.z,args:["attr.z-index"]}],thumbFromClass:[{type:o.z,args:["class.igx-slider__thumb-from"]}],thumbToClass:[{type:o.z,args:["class.igx-slider__thumb-to"]}],thumbFromActiveClass:[{type:o.z,args:["class.igx-slider__thumb-from--active"]}],thumbToActiveClass:[{type:o.z,args:["class.igx-slider__thumb-to--active"]}],thumbPressedClass:[{type:o.z,args:["class.igx-slider__thumb--pressed"]}],onPinterEnter:[{type:o.A,args:["pointerenter"]}],onPointerLeave:[{type:o.A,args:["pointerleave"]}],onKeyDown:[{type:o.A,args:["keydown",["$event"]]}],onBlur:[{type:o.A,args:["blur"]}],onFocusListener:[{type:o.A,args:["focus"]}]},e}(),Fd=function(){function e(e){this._elementRef=e}return Object.defineProperty(e.prototype,"thumbFromClass",{get:function(){return this.type===Rd.FROM},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbToClass",{get:function(){return this.type===Rd.TO},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbFromActiveClass",{get:function(){return this.type===Rd.FROM&&this.active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbToActiveClass",{get:function(){return this.type===Rd.TO&&this.active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeElement",{get:function(){return this._elementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},set:function(e){this.continuous||(this._active=e)},enumerable:!0,configurable:!0}),e.decorators=[{type:o.n,args:[{selector:"igx-thumb-label",template:'<div class="label">\n    <ng-container *ngTemplateOutlet="templateRef ? templateRef : thumbFromDefaultTemplate; context: context"></ng-container>\n</div>\n\n<ng-template #thumbFromDefaultTemplate>\n    {{ value }}\n</ng-template>\n'}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={value:[{type:o.G}],templateRef:[{type:o.G}],context:[{type:o.G}],type:[{type:o.G}],continuous:[{type:o.G}],thumbFromClass:[{type:o.z,args:["class.igx-slider__label-from"]}],thumbToClass:[{type:o.z,args:["class.igx-slider__label-to"]}],thumbFromActiveClass:[{type:o.z,args:["class.igx-slider__label-from--active"]}],thumbToActiveClass:[{type:o.z,args:["class.igx-slider__label-to--active"]}]},e}(),Ld=function(){},Md=0,Gd=function(){function e(e,t,n){this.renderer=e,this._el=t,this._cdr=n,this._pMin=0,this._pMax=1,this._hasViewInit=!1,this._minValue=0,this._maxValue=100,this._continuous=!1,this._disabled=!1,this._step=1,this._labels=new Array,this._type=Ad.SLIDER,this._destroyer$=new E.a,this._indicatorsDestroyer$=new E.a,this._onChangeCallback=Ld,this._onTouchedCallback=Ld,this.thumbs=new o.X,this.labelRefs=new o.X,this.stepDistance=this._step,this.onPan=new E.a,this.role="slider",this.slierClass=!0,this.id="igx-slider-"+Md++,this.thumbLabelVisibilityDuration=750,this.onValueChange=new o.x}return Object.defineProperty(e.prototype,"thumbFrom",{get:function(){return this.thumbs.find(function(e){return e.type===Rd.FROM})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbTo",{get:function(){return this.thumbs.find(function(e){return e.type===Rd.TO})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelFrom",{get:function(){return this.labelRefs.find(function(e){return e.type===Rd.FROM})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelTo",{get:function(){return this.labelRefs.find(function(e){return e.type===Rd.TO})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valuemin",{get:function(){return this.minValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valuemax",{get:function(){return this.maxValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabledClass",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,e===Ad.SLIDER&&(this.lowerValue=0),this.labelsViewEnabled&&this.upperValue>this.maxValue&&(this.upperValue=this.labels.length-1),this._hasViewInit&&this.updateTrack()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labels",{get:function(){return this._labels},set:function(e){this._labels=e,this._pMax=1,this._hasViewInit&&(this.stepDistance=this.calculateStepDistance(),this.positionHandlesAndUpdateTrack(),this.setTickInterval(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return{$implicit:this.value,labels:this.labels}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this.labelsViewEnabled?1:this._step},set:function(e){this._step=e,this._hasViewInit&&(this.stepDistance=this.calculateStepDistance(),this.normalizeByStep(this.value),this.setTickInterval(this.labels))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,this._hasViewInit&&this.changeThumbFocusableState(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"continuous",{get:function(){return this._continuous},set:function(e){this.labelsViewEnabled||(this._continuous=e,this.setTickInterval(null))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContinuous",{get:function(){return this.continuous},set:function(e){this.continuous=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.labelsViewEnabled?this.labels.length-1:this._maxValue},set:function(e){e<=this._minValue?this._maxValue=this._minValue+1:this._maxValue=e,e<this.lowerBound&&(this.updateLowerBoundAndMinTravelZone(),this.upperBound=e),this._pMax=1,this.stepDistance=this.calculateStepDistance(),this.positionHandlesAndUpdateTrack(),this.setTickInterval(null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minValue",{get:function(){return this.labelsViewEnabled?0:this._minValue},set:function(e){e>=this.maxValue?this._minValue=this.maxValue-1:this._minValue=e,e>this.upperBound&&(this.updateUpperBoundAndMaxTravelZone(),this.lowerBound=e),this._pMin=0,this.stepDistance=this.calculateStepDistance(),this.positionHandlesAndUpdateTrack(),this.setTickInterval(null)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lowerBound",{get:function(){return Number.isNaN(this._lowerBound)||void 0===this._lowerBound?this.minValue:this.valueInRange(this._lowerBound,this.minValue,this.maxValue)},set:function(e){e>=this.upperBound||this.labelsViewEnabled&&e<0||(this._lowerBound=this.valueInRange(e,this.minValue,this.maxValue),this._pMin=this.valueToFraction(this._lowerBound)||0,this.positionHandlesAndUpdateTrack())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upperBound",{get:function(){return Number.isNaN(this._upperBound)||void 0===this._upperBound?this.maxValue:this.valueInRange(this._upperBound,this.minValue,this.maxValue)},set:function(e){e<=this.lowerBound||this.labelsViewEnabled&&e>this.labels.length-1||(this._upperBound=this.valueInRange(e,this.minValue,this.maxValue),this._pMax=this.valueToFraction(this._upperBound)||1,this.positionHandlesAndUpdateTrack())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.isRange?{lower:this.valueInRange(this.lowerValue,this.lowerBound,this.upperBound),upper:this.valueInRange(this.upperValue,this.lowerBound,this.upperBound)}:this.valueInRange(this.upperValue,this.lowerBound,this.upperBound)},set:function(e){this.isRange?(e=this.validateInitialValue(e),this.upperValue=e.upper,this.lowerValue=e.lower):this.upperValue=e,this._onChangeCallback(this.value),this._hasViewInit&&this.positionHandlesAndUpdateTrack()},enumerable:!0,configurable:!0}),e.prototype.onPointerDown=function(e){(this.findClosestThumb(e),this.thumbTo.isActive||void 0!==this.thumbFrom)&&((this.thumbTo.isActive?this.thumbTo:this.thumbFrom).nativeElement.setPointerCapture(e.pointerId),this.showSliderIndicators())},e.prototype.onPointerUp=function(e){(this.thumbTo.isActive||void 0!==this.thumbFrom)&&this.hideSliderIndicators()},e.prototype.onFocus=function(){this.toggleSliderIndicators()},e.prototype.onPanListener=function(e){this.update(e.srcEvent.clientX)},e.prototype.onPanStart=function(){this.showSliderIndicators()},e.prototype.onPanEnd=function(){this.hideSliderIndicators()},e.prototype.onTapListener=function(e){this.onTap(e)},Object.defineProperty(e.prototype,"isRange",{get:function(){return this.type===Ad.RANGE},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lowerValue",{get:function(){return!Number.isNaN(this._lowerValue)&&void 0!==this._lowerValue&&this._lowerValue>=this.lowerBound?this._lowerValue:this.lowerBound},set:function(e){e=this.valueInRange(e,this.lowerBound,this.upperBound),this._lowerValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upperValue",{get:function(){return!Number.isNaN(this._upperValue)&&void 0!==this._upperValue&&this._upperValue<=this.upperBound?this._upperValue:this.upperBound},set:function(e){e=this.valueInRange(e,this.lowerBound,this.upperBound),this._upperValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lowerLabel",{get:function(){return this.labelsViewEnabled?this.labels[this.lowerValue]:this.lowerValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upperLabel",{get:function(){return this.labelsViewEnabled?this.labels[this.upperValue]:this.upperValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelsViewEnabled",{get:function(){return!!(this.labels&&this.labels.length>1)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.sliderSetup(),this._pMin=this.valueToFraction(this.lowerBound)||0,this._pMax=this.valueToFraction(this.upperBound)||1},e.prototype.ngAfterViewInit=function(){var e=this;this._hasViewInit=!0,this.positionHandlesAndUpdateTrack(),this.setTickInterval(this.labels),this.changeThumbFocusableState(this.disabled),this.subscribeTo(this.thumbFrom,this.thumbChanged.bind(this)),this.subscribeTo(this.thumbTo,this.thumbChanged.bind(this)),this.thumbs.changes.pipe(Object(H.a)(this._destroyer$)).subscribe(function(t){var n=t.find(function(e){return e.type===Rd.FROM}),i=e.labelRefs.find(function(e){return e.type===Rd.FROM});e.positionHandle(n,i,e.lowerValue),e.subscribeTo(n,e.thumbChanged.bind(e)),e.changeThumbFocusableState(e.disabled)})},e.prototype.ngAfterContentInit=function(){this.stepDistance=this.calculateStepDistance()},e.prototype.ngOnDestroy=function(){this._destroyer$.next(!0),this._destroyer$.complete(),this._indicatorsDestroyer$.next(!0),this._indicatorsDestroyer$.complete()},e.prototype.writeValue=function(e){e&&this.normalizeByStep(e)},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.getEditElement=function(){return this.isRange?this.thumbFrom.nativeElement:this.thumbTo.nativeElement},e.prototype.onTap=function(e){this.update(e.srcEvent.clientX)},e.prototype.update=function(e){this.disabled||(this.onPan.next(e),this.positionHandlesAndUpdateTrack(),this._onTouchedCallback())},e.prototype.thumbChanged=function(e,t){var n,i=this.value;this.isRange?(n=t===Rd.FROM?{lower:this.value.lower+e,upper:this.value.upper}:{lower:this.value.lower,upper:this.value.upper+e}).lower>=n.upper?this.value=this.swapThumb(n):this.value=n:this.value=this.value+e,this.hasValueChanged(i)&&this.emitValueChanged(i)},e.prototype.onThumbChange=function(){this.toggleSliderIndicators()},e.prototype.onHoverChange=function(e){return e?this.showSliderIndicators():this.hideSliderIndicators()},e.prototype.swapThumb=function(e){return this.thumbFrom.isActive?(e.upper=this.upperValue,e.lower=this.upperValue):(e.upper=this.lowerValue,e.lower=this.lowerValue),this.toggleThumb(),e},e.prototype.findClosestThumb=function(e){this.isRange?this.closestHandle(e.clientX):this.thumbTo.nativeElement.focus(),this.update(e.clientX)},e.prototype.updateLowerBoundAndMinTravelZone=function(){this.lowerBound=this.minValue,this._pMin=0},e.prototype.updateUpperBoundAndMaxTravelZone=function(){this.upperBound=this.maxValue,this._pMax=1},e.prototype.sliderSetup=function(){this.isRange||this.value!==this.upperBound||(this.value=this.lowerBound)},e.prototype.calculateStepDistance=function(){return this._el.nativeElement.getBoundingClientRect().width/(this.maxValue-this.minValue)*this.step},e.prototype.toggleThumb=function(){return this.thumbFrom.isActive?this.thumbTo.nativeElement.focus():this.thumbFrom.nativeElement.focus()},e.prototype.valueInRange=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=100),Math.max(Math.min(e,n),t)},e.prototype.generateTickMarks=function(e,t){return null!==t?"repeating-linear-gradient(\n            to left,\n            "+e+",\n            "+e+" 1.5px,\n            transparent 1.5px,\n            transparent "+t+"%\n        ), repeating-linear-gradient(\n            to right,\n            "+e+",\n            "+e+" 1.5px,\n            transparent 1.5px,\n            transparent "+t+"%\n        )":t},e.prototype.positionHandle=function(e,t,n){if(e){var i=100*this.valueToFraction(n)+"%";e.nativeElement.style.left=i,t.nativeElement.style.left=i}},e.prototype.positionHandlesAndUpdateTrack=function(){this.isRange?(this.positionHandle(this.thumbTo,this.labelTo,this.value.upper),this.positionHandle(this.thumbFrom,this.labelFrom,this.value.lower)):this.positionHandle(this.thumbTo,this.labelTo,this.value),this.updateTrack()},e.prototype.closestHandle=function(e){var t=this.thumbFrom.nativeElement.offsetLeft+this.thumbFrom.nativeElement.offsetWidth/2,n=this.thumbTo.nativeElement.offsetLeft+this.thumbTo.nativeElement.offsetWidth/2,i=e-this._el.nativeElement.getBoundingClientRect().left,r=this.closestTo(i,[t,n]);r===t?this.thumbFrom.nativeElement.focus():r===n&&this.thumbTo.nativeElement.focus()},e.prototype.setTickInterval=function(e){var t;if(this.labelsViewEnabled)t=100/(this.labels.length-1)*10/10;else{var n=this.maxValue-this.minValue;t=this.step>1?100/(n/this.step)*10/10:null}var i=this.continuous?null:this.generateTickMarks("white",t);this.renderer.setStyle(this.ticks.nativeElement,"background",i)},e.prototype.showSliderIndicators=function(){this.disabled||(this._indicatorsTimer&&(this._indicatorsDestroyer$.next(!0),this._indicatorsTimer=null),this.thumbTo.showThumbIndicators(),this.labelTo.active=!0,this.thumbFrom&&this.thumbFrom.showThumbIndicators(),this.labelFrom&&(this.labelFrom.active=!0))},e.prototype.hideSliderIndicators=function(){var e=this;this.disabled||(this._indicatorsTimer=Object(z.a)(this.thumbLabelVisibilityDuration),this._indicatorsTimer.pipe(Object(H.a)(this._indicatorsDestroyer$)).subscribe(function(){e.thumbTo.hideThumbIndicators(),e.labelTo.active=!1,e.thumbFrom&&e.thumbFrom.hideThumbIndicators(),e.labelFrom&&(e.labelFrom.active=!1)}))},e.prototype.toggleSliderIndicators=function(){this.showSliderIndicators(),this.hideSliderIndicators()},e.prototype.changeThumbFocusableState=function(e){var t=e?-1:1;this.isRange&&(this.thumbFrom.tabindex=t),this.thumbTo.tabindex=t,this._cdr.detectChanges()},e.prototype.closestTo=function(e,t){return t.reduce(function(t,n){return Math.abs(e-n)<Math.abs(e-t)?n:t})},e.prototype.valueToFraction=function(e,t,n){return void 0===t&&(t=this._pMin),void 0===n&&(n=this._pMax),this.valueInRange((e-this.minValue)/(this.maxValue-this.minValue),t,n)},e.prototype.normalizeByStep=function(e){this.isRange?this.value={lower:e.lower-e.lower%this.step,upper:e.upper-e.upper%this.step}:this.value=e-e%this.step},e.prototype.updateTrack=function(){var e=this.valueToFraction(this.lowerValue),t=this.valueToFraction(this.upperValue),n=t-e,i=e;this.isRange?(n&&(i=Math.round(1/n*e*100)),this.renderer.setStyle(this.track.nativeElement,"transform","scaleX("+n+") translateX("+i+"%)")):this.renderer.setStyle(this.track.nativeElement,"transform","scaleX("+t+")")},e.prototype.validateInitialValue=function(e){return e.lower<this.lowerBound&&e.upper<this.lowerBound&&(e.upper=this.lowerBound,e.lower=this.lowerBound),e.lower>this.upperBound&&e.upper>this.upperBound&&(e.upper=this.upperBound,e.lower=this.upperBound),e.upper<e.lower&&(e.upper=this.upperValue,e.lower=this.lowerValue),e},e.prototype.subscribeTo=function(e,t){e&&e.onThumbValueChange.pipe(Object(H.a)(this.unsubscriber(e))).subscribe(function(n){return t(n,e.type)})},e.prototype.unsubscriber=function(e){return Object(V.a)(this._destroyer$,e.destroy)},e.prototype.hasValueChanged=function(e){var t=!this.isRange&&e!==this.value,n=this.isRange&&(e.lower!==this.value.lower||e.upper!==this.value.upper);return t||n},e.prototype.emitValueChanged=function(e){this.onValueChange.emit({oldValue:e,value:this.value})},e.decorators=[{type:o.n,args:[{providers:[{provide:l.h,useExisting:e,multi:!0}],selector:"igx-slider",template:'<div class="igx-slider__track">\n    <div #track class="igx-slider__track-fill"></div>\n    <div #ticks class="igx-slider__track-ticks"></div>\n</div>\n<div class="igx-slider__thumbs">\n    <igx-thumb-label\n        *ngIf="isRange"\n        [type]="0"\n        [value]="value"\n        [templateRef]="thumbFromTemplateRef"\n        [continuous]="continuous"\n        [context]="context"></igx-thumb-label>\n\n        <igx-thumb *ngIf="isRange"\n        #thumbFrom\n        [type]="0"\n        [value]="lowerLabel"\n        [disabled]="disabled"\n        [continuous]="continuous"\n        [onPan]="onPan"\n        [stepDistance]="stepDistance"\n        [step]="step"\n        [templateRef]="thumbFromTemplateRef"\n        [context]="context"\n        (onChange)="onThumbChange()"\n        (onHoverChange)="onHoverChange($event)"\n        [thumbLabelVisibilityDuration]="thumbLabelVisibilityDuration"></igx-thumb>\n\n    <igx-thumb-label\n        [value]="value"\n        [type]="1"\n        [templateRef]="thumbToTemplateRef"\n        [continuous]="continuous"\n        [context]="context"></igx-thumb-label>\n\n        <igx-thumb\n        #thumbTo\n        [type]="1"\n        [value]="upperLabel"\n        [disabled]="disabled"\n        [continuous]="continuous"\n        [onPan]="onPan"\n        [stepDistance]="stepDistance"\n        [step]="step"\n        [templateRef]="thumbToTemplateRef"\n        [context]="context"\n        (onChange)="onThumbChange()"\n        (onHoverChange)="onHoverChange($event)"\n        [thumbLabelVisibilityDuration]="thumbLabelVisibilityDuration"></igx-thumb>\n\n</div>\n',styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:o.Z},{type:o.u},{type:o.k}]},e.propDecorators={track:[{type:o.ob,args:["track",{static:!0}]}],ticks:[{type:o.ob,args:["ticks",{static:!0}]}],thumbs:[{type:o.pb,args:[jd]}],labelRefs:[{type:o.pb,args:[Fd]}],thumbFromTemplateRef:[{type:o.r,args:[Ed,{read:o.kb,static:!1}]}],thumbToTemplateRef:[{type:o.r,args:[Td,{read:o.kb,static:!1}]}],role:[{type:o.z,args:["attr.role"]}],valuemin:[{type:o.z,args:["attr.aria-valuemin"]}],valuemax:[{type:o.z,args:["attr.aria-valuemax"]}],readonly:[{type:o.z,args:["attr.aria-readonly"]}],slierClass:[{type:o.z,args:["class.igx-slider"]}],disabledClass:[{type:o.z,args:["class.igx-slider--disabled"]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],type:[{type:o.G}],thumbLabelVisibilityDuration:[{type:o.G}],labels:[{type:o.G}],step:[{type:o.G}],disabled:[{type:o.G}],continuous:[{type:o.G}],isContinuous:[{type:o.G}],maxValue:[{type:o.G}],minValue:[{type:o.G}],lowerBound:[{type:o.G}],upperBound:[{type:o.G}],value:[{type:o.G}],onValueChange:[{type:o.S}],onPointerDown:[{type:o.A,args:["pointerdown",["$event"]]}],onPointerUp:[{type:o.A,args:["pointerup",["$event"]]}],onFocus:[{type:o.A,args:["focus"]}],onPanListener:[{type:o.A,args:["pan",["$event"]]}],onPanStart:[{type:o.A,args:["panstart"]}],onPanEnd:[{type:o.A,args:["panend"]}],onTapListener:[{type:o.A,args:["tap",["$event"]]}]},Object(r.c)([kn("IgxSliderComponent `isContinuous` property is deprecated.\nUse `continuous` instead."),Object(r.f)("design:type",Boolean),Object(r.f)("design:paramtypes",[Boolean])],e.prototype,"isContinuous",null),e}(),zd=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[Gd,Ed,Td,jd,Fd],exports:[Gd,Ed,Td,jd,Fd],imports:[a.b]}]}]}(),0),Vd=function(){function e(e){this.zone=e,this.id="igx-snackbar-"+zd++,this.isVisible=!1,this.autoHide=!0,this.displayTime=4e3,this.onAction=new o.x,this.animationStarted=new o.x,this.animationDone=new o.x}return e.prototype.show=function(){var e=this;clearTimeout(this.timeoutId),setTimeout(this.timeoutId),this.isVisible=!0,this.autoHide&&(this.timeoutId=setTimeout(function(){e.hide()},this.displayTime))},e.prototype.hide=function(){this.isVisible=!1,clearTimeout(this.timeoutId)},e.prototype.triggerAction=function(){this.onAction.emit(this)},e.prototype.snackbarAnimationStarted=function(e){"void"===e.fromState&&this.animationStarted.emit(e)},e.prototype.snackbarAnimationDone=function(e){"show"===e.fromState&&this.animationDone.emit(e)},e.decorators=[{type:o.n,args:[{animations:[Object(P.o)("slideInOut",[Object(P.n)("void => *",[Object(P.p)(Ne,{params:{duration:".35s",easing:"cubic-bezier(0.0, 0.0, 0.2, 1)",fromPosition:"translateY(100%)",toPosition:"translateY(0)"}})]),Object(P.n)("* => void",[Object(P.p)(Ye,{params:{duration:".2s",easing:"cubic-bezier(0.4, 0.0, 1, 1)",fromPosition:"translateY(0)",toOpacity:1,toPosition:"translateY(100%)"}})])]),Object(P.o)("fadeInOut",[Object(P.n)("void => *",[Object(P.p)(be,{params:{duration:".35s",easing:"ease-out"}})]),Object(P.n)("* => void",[Object(P.p)(ve,{params:{duration:".2s",easing:"ease-out"}})])])],selector:"igx-snackbar",template:'<div class="igx-snackbar" *ngIf="isVisible" (@slideInOut.start)="snackbarAnimationStarted($event)" (@slideInOut.done)="snackbarAnimationDone($event)"\n    [@slideInOut]="isVisible">\n    <div class="igx-snackbar__message" [@fadeInOut]="isVisible">\n        {{ message }}\n        <ng-content></ng-content>\n    </div>\n    <button class="igx-snackbar__button" igxRipple="white" *ngIf="actionText" [@fadeInOut] (click)="triggerAction()">\n        {{ actionText }}\n    </button>\n</div>\n',styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:o.Q}]},e.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],message:[{type:o.G}],isVisible:[{type:o.G}],autoHide:[{type:o.G}],displayTime:[{type:o.G}],actionText:[{type:o.G}],onAction:[{type:o.S}],animationStarted:[{type:o.S}],animationDone:[{type:o.S}]},e}(),Bd=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[Vd],exports:[Vd],imports:[a.b]}]}]}(),"before"),Hd="after",Nd=function(){},Wd=0,Yd=function(){function e(){this.id="igx-switch-"+Wd++,this.labelId=this.id+"-label",this.tabindex=null,this.labelPosition="after",this.disableRipple=!1,this.required=!1,this.ariaLabelledBy=this.labelId,this.ariaLabel=null,this.change=new o.x,this._onTouchedCallback=Nd,this._onChangeCallback=Nd,this.cssClass="igx-switch",this.checked=!1,this.disabled=!1,this.focused=!1,this.inputId=this.id+"-input"}return e.prototype.toggle=function(){this.disabled||(this.checked=!this.checked,this.focused=!1,this.change.emit({checked:this.checked,switch:this}),this._onChangeCallback(this.checked))},e.prototype._onSwitchChange=function(e){e.stopPropagation()},e.prototype._onSwitchClick=function(e){e.stopPropagation(),this.toggle(),ct()&&this.nativeCheckbox.nativeElement.blur()},e.prototype._onLabelClick=function(e){this.toggle()},e.prototype.onFocus=function(e){this.focused=!0},e.prototype.onBlur=function(e){this.focused=!1,this._onTouchedCallback()},e.prototype.writeValue=function(e){this._value=e,this.checked=!!this._value},e.prototype.getEditElement=function(){return this.nativeCheckbox.nativeElement},Object.defineProperty(e.prototype,"labelClass",{get:function(){switch(this.labelPosition){case Bd:return this.cssClass+"__label--before";case Hd:default:return this.cssClass+"__label"}},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.decorators=[{type:o.n,args:[{providers:[{provide:l.h,useExisting:e,multi:!0}],selector:"igx-switch",template:'<input #checkbox class="igx-switch__input" type="checkbox"\n    [id]="inputId"\n    [name]="name"\n    [value]="value"\n    [tabindex]="tabindex"\n    [disabled]="disabled"\n    [checked]="checked"\n    [required]="required"\n    [attr.aria-checked]="checked"\n    [attr.aria-labelledby]="ariaLabelledBy"\n    [attr.aria-label]="ariaLabel"\n    (change)="_onSwitchChange($event)"\n    (click)="_onSwitchClick($event)"\n    (focus)="onFocus($event)"\n    (blur)="onBlur($event)" />\n\n<label #label class ="igx-switch__composite" [for]="inputId"\n    igxRipple\n    igxRippleTarget=".igx-switch__ripple"\n    [igxRippleDisabled]="disableRipple"\n    [igxRippleCentered]="true"\n    [igxRippleDuration]="300">\n    <div class="igx-switch__composite-thumb">\n        <div class="igx-switch__ripple"></div>\n    </div>\n</label>\n\n<span #placeholderLabel role="label"\n    [class]="labelClass"\n    [id]="labelId"\n    (click)="_onLabelClick($event)">\n    <ng-content></ng-content>\n</span>\n'}]}],e.propDecorators={nativeCheckbox:[{type:o.ob,args:["checkbox",{static:!0}]}],nativeLabel:[{type:o.ob,args:["label",{static:!0}]}],placeholderLabel:[{type:o.ob,args:["placeholderLabel",{static:!0}]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],labelId:[{type:o.G}],value:[{type:o.G}],name:[{type:o.G}],tabindex:[{type:o.G}],labelPosition:[{type:o.G}],disableRipple:[{type:o.G}],required:[{type:o.G}],ariaLabelledBy:[{type:o.G,args:["aria-labelledby"]}],ariaLabel:[{type:o.G,args:["aria-label"]}],change:[{type:o.S}],cssClass:[{type:o.z,args:["class.igx-switch"]}],checked:[{type:o.z,args:["class.igx-switch--checked"]},{type:o.G}],disabled:[{type:o.z,args:["class.igx-switch--disabled"]},{type:o.G}],focused:[{type:o.z,args:["class.igx-switch--focused"]}]},e}(),Ud={provide:l.g,useExisting:Object(o.vb)(function(){return Kd}),multi:!0},Kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.decorators=[{type:o.t,args:[{selector:"igx-switch[required][formControlName],\n    igx-switch[required][formControl],\n    igx-switch[required][ngModel]",providers:[Ud]}]}],t}(l.a),$d=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[Yd,Kd],exports:[Yd,Kd],imports:[gr]}]}]}(),0),Xd=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxTab]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),qd=function(){function e(e){this._element=e,this.id="igx-bottom-nav-"+$d++,this.onTabSelected=new o.x,this.onTabDeselected=new o.x,this.selectedIndex=-1,this._itemStyle="igx-bottom-nav"}return Object.defineProperty(e.prototype,"tabs",{get:function(){return this.hasContentTabs?this.contentTabs:this.viewTabs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyle",{get:function(){return this._itemStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasContentTabs",{get:function(){return this.contentTabs&&this.contentTabs.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedTab",{get:function(){if(this.tabs&&void 0!==this.selectedIndex)return this.tabs.toArray()[this.selectedIndex]},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){if(-1===e.selectedIndex){var t=e.panels.filter(function(e){return!e.disabled})[0];t&&t.select()}},0)},e.prototype._selectedPanelHandler=function(e){var t=this;this.hasContentTabs?(this.selectedIndex=e.tab.index,this.contentTabs.forEach(function(n){n!==e.tab&&t._deselectTab(n)})):e.panel&&(this.selectedIndex=e.panel.index,this.panels.forEach(function(e){e.index!==t.selectedIndex&&t._deselectPanel(e)}))},e.prototype._deselectPanel=function(e){e.disabled||this.selectedTab.index===e.index||(e.isSelected=!1,this.onTabDeselected.emit({tab:this.tabs[e.index],panel:e}))},e.prototype._deselectTab=function(e){e.isSelected=!1,this.onTabDeselected.emit({tab:e,panel:null})},e.decorators=[{type:o.n,args:[{selector:"igx-bottom-nav",template:'<div *ngIf="!hasContentTabs">\n    <ng-content></ng-content>\n</div>\n<div #tablist class="{{itemStyle}}__menu {{itemStyle}}__menu--bottom" role="tablist" aria-orientation="horizontal">\n    <ng-container *ngIf="!hasContentTabs">    \n        <igx-tab *ngFor="let panel of panels" [relatedPanel]="panel">\n        </igx-tab>\n    </ng-container>\n    <ng-content select="igx-tab"></ng-content>\n</div>',styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={viewTabs:[{type:o.pb,args:[Object(o.vb)(function(){return Qd})]}],contentTabs:[{type:o.s,args:[Object(o.vb)(function(){return Qd})]}],panels:[{type:o.s,args:[Object(o.vb)(function(){return Zd})]}],id:[{type:o.z,args:["attr.id"]},{type:o.G}],onTabSelected:[{type:o.S}],onTabDeselected:[{type:o.S}],_selectedPanelHandler:[{type:o.A,args:["onTabSelected",["$event"]]}]},e}(),Zd=function(){function e(e,t){this._tabBar=e,this._element=t,this._itemStyle="igx-tab-panel",this._isSelected=!1,this.role="tabpanel"}return Object.defineProperty(e.prototype,"styleClass",{get:function(){return!this.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._isSelected},set:function(e){this._isSelected!==e&&(e?this.select():this._isSelected=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemStyle",{get:function(){return this._itemStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relatedTab",{get:function(){if(this._tabBar.tabs)return this._tabBar.tabs.toArray()[this.index]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changesCount",{get:function(){return this.relatedTab?this.relatedTab.changesCount:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){if(this._tabBar.panels)return this._tabBar.panels.toArray().indexOf(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customTabTemplate",{get:function(){return this._tabTemplate},set:function(e){this._tabTemplate=e},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this.tabTemplate&&(this._tabTemplate=this.tabTemplate.template)},e.prototype.ngAfterViewChecked=function(){this._element.nativeElement.setAttribute("aria-labelledby","igx-tab-"+this.index),this._element.nativeElement.setAttribute("id","igx-bottom-nav__panel-"+this.index)},e.prototype.select=function(){this.disabled||this._tabBar.selectedIndex===this.index||(this._isSelected=!0,this._tabBar.onTabSelected.emit({tab:this._tabBar.tabs.toArray()[this.index],panel:this}))},e.decorators=[{type:o.n,args:[{selector:"igx-tab-panel",template:"<ng-content></ng-content>\n"}]}],e.ctorParameters=function(){return[{type:qd},{type:o.u}]},e.propDecorators={label:[{type:o.G}],icon:[{type:o.G}],disabled:[{type:o.G}],role:[{type:o.z,args:["attr.role"]}],styleClass:[{type:o.z,args:["class.igx-bottom-nav__panel"]}],isSelected:[{type:o.z,args:["class.igx-bottom-nav__panel--selected"]}],tabTemplate:[{type:o.r,args:[Xd,{read:Xd,static:!1}]}]},e}(),Qd=function(){function e(e,t){this._tabBar=e,this._element=t,this.role="tab",this.id="igx-tab-"+this.index,this.ariaLabel=this.label,this.ariaDisabled=this.disabled,this.ariaSelected=this.isSelected,this.ariaControls="igx-tab-panel-"+this.index,this._changesCount=0,this._disabled=!1,this._selected=!1}return Object.defineProperty(e.prototype,"label",{get:function(){return this.relatedPanel?this.relatedPanel.label:this._label},set:function(e){this.relatedPanel&&(this.relatedPanel.label=e),this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this.relatedPanel?this.relatedPanel.icon:this._icon},set:function(e){this.relatedPanel&&(this.relatedPanel.icon=e),this._icon=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changesCount",{get:function(){return this._changesCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.relatedPanel?this.relatedPanel.disabled:this._disabled},set:function(e){this.relatedPanel?this.relatedPanel.disabled=e:this._disabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.relatedPanel?this.relatedPanel.isSelected:this._selected},set:function(e){this.relatedPanel?this.relatedPanel.isSelected=e:this._selected!==e&&(this._selected=e,this._selected&&this._tabBar.onTabSelected.emit({tab:this,panel:null}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassSelected",{get:function(){return this.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return!this.disabled&&!this.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){if(this._tabBar.tabs)return this._tabBar.tabs.toArray().indexOf(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.relatedPanel&&this.relatedPanel.customTabTemplate?this.relatedPanel.customTabTemplate:this.customTabTemplateDir?this.customTabTemplateDir.template:this.defaultTabTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.relatedPanel?this.relatedPanel:this},enumerable:!0,configurable:!0}),e.prototype.select=function(){this.relatedPanel?this.relatedPanel.select():(this._selected=!0,this._tabBar.onTabSelected.emit({tab:this,panel:null}))},e.prototype.onClick=function(){this.select()},e.prototype.elementRef=function(){return this._element},e.decorators=[{type:o.n,args:[{selector:"igx-tab",template:'<ng-template #defaultTabTemplate let-context>\n    <div *ngIf="context.icon" class="tab-icon">\n        <igx-icon fontSet="material">{{context.icon}}</igx-icon>\n        <igx-badge [value]="context.changesCount" [hidden]="context.changesCount === 0"></igx-badge>\n    </div>\n    <div *ngIf="context.label" ngClass="tab-label">{{context.label}}</div>\n</ng-template>\n<ng-container *ngTemplateOutlet="template; context: { $implicit: this.context }">\n</ng-container>'}]}],e.ctorParameters=function(){return[{type:qd},{type:o.u}]},e.propDecorators={role:[{type:o.z,args:["attr.role"]}],id:[{type:o.z,args:["attr.id"]}],ariaLabel:[{type:o.z,args:["attr.aria-label"]}],ariaDisabled:[{type:o.z,args:["attr.aria-disabled"]}],ariaSelected:[{type:o.z,args:["attr.aria-selected"]}],ariaControls:[{type:o.z,args:["attr.aria-controls"]}],relatedPanel:[{type:o.G}],label:[{type:o.G}],icon:[{type:o.G}],disabled:[{type:o.G}],isSelected:[{type:o.G}],cssClassSelected:[{type:o.z,args:["class.igx-bottom-nav__menu-item--selected"]}],cssClassDisabled:[{type:o.z,args:["class.igx-bottom-nav__menu-item--disabled"]}],cssClass:[{type:o.z,args:["class.igx-bottom-nav__menu-item"]}],defaultTabTemplate:[{type:o.ob,args:["defaultTabTemplate",{read:o.kb,static:!0}]}],customTabTemplateDir:[{type:o.r,args:[Xd,{read:Xd,static:!1}]}],onClick:[{type:o.A,args:["click"]}]},e}(),Jd=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[qd,Zd,Qd,Xd],exports:[qd,Zd,Qd,Xd],imports:[a.b,Wr,Rr]}]}]}(),function(){function e(){}return e.prototype.scrollElement=function(e,t){},e.prototype.performSelectionChange=function(e){},e.prototype.transformContentAnimation=function(e,t){},e.prototype.transformIndicatorAnimation=function(e){},e}()),ep=function(){function e(){}return Object.defineProperty(e.prototype,"index",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.select=function(){},e.prototype.setSelectedInternal=function(e){},e}(),tp=function(){function e(){}return e.prototype.select=function(){},e.prototype.setSelectedInternal=function(e){},e}(),np="visible",ip="hidden",rp="not_displayed",op=function(){function e(e){this.tabs=e}return Object.defineProperty(e.prototype,"visibleCSS",{get:function(){return this.getRightButtonStyle()===np},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenCSS",{get:function(){return this.getRightButtonStyle()===ip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notDisplayedCSS",{get:function(){return this.getRightButtonStyle()===rp},enumerable:!0,configurable:!0}),e.prototype.getRightButtonStyle=function(){var e=this.tabs.viewPort.nativeElement.offsetWidth,t=this.tabs.itemsContainer.nativeElement.children.length,n=0;if(t>1){var i=this.tabs.itemsContainer.nativeElement.children[t-2];n=i.offsetLeft+i.offsetWidth}var r=this.tabs.headerContainer.nativeElement.offsetWidth,o=this.tabs.offset;return n-r<=1&&0===o?rp:n>o+e?np:ip},e.decorators=[{type:o.t,args:[{selector:"[igxRightButtonStyle]"}]}],e.ctorParameters=function(){return[{type:Jd}]},e.propDecorators={visibleCSS:[{type:o.z,args:["class.igx-tabs__header-button"]}],hiddenCSS:[{type:o.z,args:["class.igx-tabs__header-button--hidden"]}],notDisplayedCSS:[{type:o.z,args:["class.igx-tabs__header-button--none"]}]},e}(),ap=function(){function e(e){this.tabs=e}return Object.defineProperty(e.prototype,"visibleCSS",{get:function(){return this.getLeftButtonStyle()===np},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenCSS",{get:function(){return this.getLeftButtonStyle()===ip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notDisplayedCSS",{get:function(){return this.getLeftButtonStyle()===rp},enumerable:!0,configurable:!0}),e.prototype.getLeftButtonStyle=function(){var e=this.tabs.itemsContainer.nativeElement.children.length,t=0;if(e>1){var n=this.tabs.itemsContainer.nativeElement.children[e-2];t=n.offsetLeft+n.offsetWidth}var i=this.tabs.headerContainer.nativeElement.offsetWidth;return 0===this.tabs.offset?t-i<=1?rp:ip:np},e.decorators=[{type:o.t,args:[{selector:"[igxLeftButtonStyle]"}]}],e.ctorParameters=function(){return[{type:Jd}]},e.propDecorators={visibleCSS:[{type:o.z,args:["class.igx-tabs__header-button"]}],hiddenCSS:[{type:o.z,args:["class.igx-tabs__header-button--hidden"]}],notDisplayedCSS:[{type:o.z,args:["class.igx-tabs__header-button--none"]}]},e}(),sp=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxTab]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),lp=function(e){function t(t,n){var i=e.call(this)||this;return i._tabs=t,i._element=n,i.disabled=!1,i._isSelected=!1,i.role="tabpanel",i.styleClass=!0,i}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"isSelected",{get:function(){return this._isSelected},set:function(e){this.disabled||this.isSelected===e||this._tabs.performSelectionChange(e?this.relatedTab:null)},enumerable:!0,configurable:!0}),t.prototype.onResize=function(e){this.isSelected&&this._tabs.transformContentAnimation(this.relatedTab,0)},Object.defineProperty(t.prototype,"relatedTab",{get:function(){if(this._tabs.tabs)return this._tabs.tabs.toArray()[this.index]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._tabs.groups?this._tabs.groups.toArray().indexOf(this):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customTabTemplate",{get:function(){return this._tabTemplate},set:function(e){this._tabTemplate=e},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){this.tabTemplate&&(this._tabTemplate=this.tabTemplate.template)},t.prototype.ngAfterViewChecked=function(){this._element.nativeElement.setAttribute("aria-labelledby","igx-tab-item-"+this.index),this._element.nativeElement.setAttribute("id","igx-tabs__group-"+this.index)},t.prototype.select=function(){this.disabled||this.isSelected||this._tabs.performSelectionChange(this.relatedTab)},t.prototype.setSelectedInternal=function(e){this._isSelected=e},t.decorators=[{type:o.n,args:[{selector:"igx-tabs-group",template:'<ng-content *ngIf="isSelected"></ng-content>\n'}]}],t.ctorParameters=function(){return[{type:Jd},{type:o.u}]},t.propDecorators={disabled:[{type:o.G}],icon:[{type:o.G}],label:[{type:o.G}],tabTemplate:[{type:o.r,args:[sp,{read:sp,static:!1}]}],role:[{type:o.z,args:["attr.role"]}],styleClass:[{type:o.z,args:["class.igx-tabs__group"]}],onResize:[{type:o.A,args:["window:resize",["$event"]]}]},t}(tp),cp=function(e){function t(t,n){var i=e.call(this)||this;return i._tabs=t,i._element=n,i._changesCount=0,i._isSelected=!1,i._disabled=!1,i.role="tab",i.id="igx-tab-item-"+i.index,i.ariaLabel=i.label,i.ariaDisabled=i.disabled,i.ariaSelected=i.isSelected,i.ariaControls="igx-tab-item-group-"+i.index,i._nativeTabItem=n,i}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this.relatedGroup?this.relatedGroup.icon:this._icon},set:function(e){this.relatedGroup&&(this.relatedGroup.icon=e),this._icon=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.relatedGroup?this.relatedGroup.label:this._label},set:function(e){this.relatedGroup&&(this.relatedGroup.label=e),this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"provideCssClassSelected",{get:function(){return this.isSelected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"provideCssClassDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"provideCssClass",{get:function(){return!this.disabled&&!this.isSelected},enumerable:!0,configurable:!0}),t.prototype.onClick=function(e){this.select()},t.prototype.onResize=function(e){this.isSelected&&this._tabs.transformIndicatorAnimation(this.nativeTabItem.nativeElement)},t.prototype.onKeydownArrowRight=function(e){this.onKeyDown(!1)},t.prototype.onKeydownArrowLeft=function(e){this.onKeyDown(!0)},t.prototype.onKeydownHome=function(e){e.preventDefault(),this.onKeyDown(!1,0)},t.prototype.onKeydownEnd=function(e){e.preventDefault(),this.onKeyDown(!1,this._tabs.tabs.toArray().length-1)},Object.defineProperty(t.prototype,"changesCount",{get:function(){return this._changesCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nativeTabItem",{get:function(){return this._nativeTabItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.relatedGroup?this.relatedGroup.disabled:this._disabled},set:function(e){this.relatedGroup?this.relatedGroup.disabled=e:this._disabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSelected",{get:function(){return this.relatedGroup?this.relatedGroup.isSelected:this._isSelected},set:function(e){this.disabled||this.isSelected===e||this._tabs.performSelectionChange(e?this:null)},enumerable:!0,configurable:!0}),t.prototype.select=function(){this.disabled||this.isSelected||this._tabs.performSelectionChange(this)},Object.defineProperty(t.prototype,"index",{get:function(){return this._tabs.tabs?this._tabs.tabs.toArray().indexOf(this):-1},enumerable:!0,configurable:!0}),t.prototype.setSelectedInternal=function(e){this._isSelected=e,this.tabindex=e?0:-1},t.prototype.onKeyDown=function(e,t){void 0===t&&(t=null);var n=this._tabs.tabs.toArray();null===t&&(t=e?0===this._tabs.selectedIndex?n.length-1:this._tabs.selectedIndex-1:this._tabs.selectedIndex===n.length-1?0:this._tabs.selectedIndex+1),n[t].select()},Object.defineProperty(t.prototype,"template",{get:function(){return this.relatedGroup&&this.relatedGroup.customTabTemplate?this.relatedGroup.customTabTemplate:this.customTabTemplateDir?this.customTabTemplateDir.template:this.defaultTabTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.relatedGroup?this.relatedGroup:this},enumerable:!0,configurable:!0}),t.decorators=[{type:o.n,args:[{selector:"igx-tab-item",template:'<ng-template #defaultTabTemplate let-context>\n    <div *ngIf="context.icon" class="igx-tabs__header-menu-item-icon">\n        <igx-icon fontSet="material">{{context.icon}}</igx-icon>\n        <igx-badge [value]="changesCount" [hidden]="changesCount === 0"></igx-badge>\n    </div>\n    <div *ngIf="context.label" ngClass="igx-tabs__item-label">{{context.label}}</div>\n</ng-template>\n<ng-container *ngTemplateOutlet="template; context: { $implicit: this.context }">\n</ng-container>'}]}],t.ctorParameters=function(){return[{type:Jd},{type:o.u}]},t.propDecorators={relatedGroup:[{type:o.G}],icon:[{type:o.G}],label:[{type:o.G}],defaultTabTemplate:[{type:o.ob,args:["defaultTabTemplate",{read:o.kb,static:!0}]}],customTabTemplateDir:[{type:o.r,args:[sp,{read:sp,static:!1}]}],provideCssClassSelected:[{type:o.z,args:["class.igx-tabs__header-menu-item--selected"]}],provideCssClassDisabled:[{type:o.z,args:["class.igx-tabs__header-menu-item--disabled"]}],provideCssClass:[{type:o.z,args:["class.igx-tabs__header-menu-item"]}],role:[{type:o.z,args:["attr.role"]}],tabindex:[{type:o.z,args:["attr.tabindex"]}],id:[{type:o.z,args:["attr.id"]}],ariaLabel:[{type:o.z,args:["attr.aria-label"]}],ariaDisabled:[{type:o.z,args:["attr.aria-disabled"]}],ariaSelected:[{type:o.z,args:["attr.aria-selected"]}],ariaControls:[{type:o.z,args:["attr.aria-controls"]}],onClick:[{type:o.A,args:["click",["$event"]]}],onResize:[{type:o.A,args:["window:resize",["$event"]]}],onKeydownArrowRight:[{type:o.A,args:["keydown.arrowright",["$event"]]}],onKeydownArrowLeft:[{type:o.A,args:["keydown.arrowleft",["$event"]]}],onKeydownHome:[{type:o.A,args:["keydown.home",["$event"]]}],onKeydownEnd:[{type:o.A,args:["keydown.end",["$event"]]}],disabled:[{type:o.G}],isSelected:[{type:o.G}]},t}(ep),dp={FIXED:"fixed",CONTENTFIT:"contentfit"},pp=function(){function e(e){this._element=e,this.tabsType="contentfit",this.class="",this.onTabItemDeselected=new o.x,this.onTabItemSelected=new o.x,this.offset=0,this._selectedIndex=-1}return Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){var t="number"!=typeof e?parseInt(e,10):e;if(this._selectedIndex!==t)if(this.tabs&&this.tabs.length>0){var n=this.tabs.toArray()[t];n&&this.performSelectionChange(n)}else this._selectedIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabs",{get:function(){return this.hasContentTabs?this.contentTabs:this.viewTabs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasContentTabs",{get:function(){return this.contentTabs&&this.contentTabs.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){var e,t=this.groups.find(function(e){return null!=e.icon&&null!=e.label}),n=this.contentTabs.find(function(e){return null!=e.icon&&null!=e.label});switch(dp[this.tabsType.toUpperCase()]){case dp.FIXED:e="igx-tabs--fixed";break;default:e="igx-tabs"}return void 0===t&&void 0===n||(e+=" igx-tabs--icons"),e+" "+this.class},enumerable:!0,configurable:!0}),e.prototype.scrollLeft=function(e){this.scroll(!1)},e.prototype.scrollRight=function(e){this.scroll(!0)},e.prototype.scrollElement=function(e,t){var n=this.viewPort.nativeElement.offsetWidth;this.offset=t?e.offsetWidth+e.offsetLeft-n:e.offsetLeft,this.itemsContainer.nativeElement.style.transform="translate("+-this.offset+"px)"},Object.defineProperty(e.prototype,"selectedTabItem",{get:function(){if(this.tabs&&void 0!==this.selectedIndex)return this.tabs.toArray()[this.selectedIndex]},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;-1===this._selectedIndex&&this.tabs.forEach(function(t){t.isSelected&&(e._selectedIndex=t.index)}),!this.hasContentTabs&&(this.selectedIndex<0||this.selectedIndex>=this.groups.length)&&(this._selectedIndex=0),requestAnimationFrame(function(){var t=e.tabs.toArray()[e._selectedIndex];t?e.performSelection(t):e.hideIndicator()}),this._groupChanges$=this.groups.changes.subscribe(function(){e.resetSelectionOnCollectionChanged()})},e.prototype.ngOnDestroy=function(){this._groupChanges$&&this._groupChanges$.unsubscribe()},e.prototype.resetSelectionOnCollectionChanged=function(){var e=this;requestAnimationFrame(function(){var t=e.tabs.toArray()[e.selectedIndex];t?e.performSelectionChange(t):e.selectedIndex>=e.tabs.length?e.performSelectionChange(e.tabs.last):e.hideIndicator()})},e.prototype.scroll=function(e){var t,n,i=this.tabs.toArray();try{for(var o=Object(r.j)(i),a=o.next();!a.done;a=o.next()){var s=a.value.nativeTabItem.nativeElement;if(e){if(s.offsetWidth+s.offsetLeft>this.viewPort.nativeElement.offsetWidth+this.offset){this.scrollElement(s,e);break}}else if(s.offsetWidth+s.offsetLeft>=this.offset){this.scrollElement(s,e);break}}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.performSelectionChange=function(e){var t=this.selectedTabItem;t&&this.performDeselection(t),e?this.performSelection(e):this.hideIndicator()},e.prototype.performDeselection=function(e){e.setSelectedInternal(!1);var t=this.groups.toArray()[e.index];t&&t.setSelectedInternal(!1),this._selectedIndex=-1,this.onTabItemDeselected.emit({tab:e,group:t})},e.prototype.performSelection=function(e){var t=this;e.setSelectedInternal(!0),this._selectedIndex=e.index;var n=null;!this.hasContentTabs&&this.groups&&(n=this.groups.toArray()[e.index])&&n.setSelectedInternal(!0),this.onTabItemSelected.emit({tab:e,group:n}),requestAnimationFrame(function(){t.bringNewTabIntoView(e),t.transformIndicatorAnimation(e.nativeTabItem.nativeElement),t.hasContentTabs||t.transformContentAnimation(e,.2)})},e.prototype.bringNewTabIntoView=function(e){var t=e.nativeTabItem.nativeElement;t.offsetLeft<this.offset&&this.scrollElement(t,!1);var n=this.viewPort.nativeElement.offsetWidth;t.offsetLeft+t.offsetWidth-(n+this.offset)>1&&this.scrollElement(t,!0)},e.prototype.transformContentAnimation=function(e,t){var n=this.tabsContainer.nativeElement.offsetWidth*e.index;this.contentsContainer.nativeElement.style.transitionDuration=t+"s",this.contentsContainer.nativeElement.style.transform="translate("+-n+"px)"},e.prototype.transformIndicatorAnimation=function(e){this.selectedIndicator&&(this.selectedIndicator.nativeElement.style.visibility="visible",this.selectedIndicator.nativeElement.style.width=e.offsetWidth+"px",this.selectedIndicator.nativeElement.style.transform="translate("+e.offsetLeft+"px)")},e.prototype.hideIndicator=function(){this.selectedIndicator&&(this.selectedIndicator.nativeElement.style.visibility="hidden")},e.decorators=[{type:o.n,args:[{selector:"igx-tabs",template:'\x3c!-- TODO Remove tab container from here --\x3e\n<div #tabsContainer>\n    <div class="igx-tabs__header" #headerContainer>\n        <button igxRipple class="igx-tabs__header-button" igxButton="icon" (click)="scrollLeft($event)" igxLeftButtonStyle>\n            <igx-icon fontSet="material">navigate_before</igx-icon>\n        </button>\n        <div class="igx-tabs__header-wrapper-fixed" #viewPort>\n            <div #itemsContainer class="igx-tabs__header-wrapper-fluid">\n                <ng-container *ngIf="!hasContentTabs">\n                    <igx-tab-item igxRipple *ngFor="let group of groups" [relatedGroup]="group">\n                    </igx-tab-item>\n                </ng-container>\n                <ng-content select="igx-tab-item"></ng-content>\n                <div #selectedIndicator *ngIf="groups.length > 0 || contentTabs.length > 0" class="igx-tabs__header-menu-item-indicator"></div>\n            </div>\n        </div>\n        <button igxRipple class="igx-tabs__header-button" igxButton="icon" (click)="scrollRight($event)" igxRightButtonStyle>\n            <igx-icon fontSet="material">navigate_next</igx-icon>\n        </button>\n    </div>\n    <div class="igx-tabs__content-fixed">\n        <div #contentsContainer class="igx-tabs__content-fluid">\n            <ng-content></ng-content>\n        </div>\n    </div>\n</div>',providers:[{provide:Jd,useExisting:e}]}]}],e.ctorParameters=function(){return[{type:o.u}]},e.propDecorators={groups:[{type:o.s,args:[Object(o.vb)(function(){return lp})]}],contentTabs:[{type:o.s,args:[Object(o.vb)(function(){return cp})]}],selectedIndex:[{type:o.G}],tabsType:[{type:o.G,args:["tabsType"]}],class:[{type:o.G}],onTabItemDeselected:[{type:o.S}],onTabItemSelected:[{type:o.S}],contentsContainer:[{type:o.ob,args:["contentsContainer",{static:!0}]}],headerContainer:[{type:o.ob,args:["headerContainer",{static:!0}]}],itemsContainer:[{type:o.ob,args:["itemsContainer",{static:!0}]}],selectedIndicator:[{type:o.ob,args:["selectedIndicator",{static:!1}]}],tabsContainer:[{type:o.ob,args:["tabsContainer",{static:!0}]}],viewPort:[{type:o.ob,args:["viewPort",{static:!0}]}],viewTabs:[{type:o.pb,args:[Object(o.vb)(function(){return cp})]}],cssClass:[{type:o.z,args:["attr.class"]}]},e}(),up=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[pp,lp,cp,sp,op,ap],exports:[pp,lp,cp,sp,op,ap],imports:[a.b,Wr,Rr,gr]}]}]}(),function(){function e(e,t){this.timePicker=e,this.elementRef=t,this.tabindex=0}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hourCSS",{get:function(){return"hourList"===this.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minuteCSS",{get:function(){return"minuteList"===this.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ampmCSS",{get:function(){return"ampmList"===this.type},enumerable:!0,configurable:!0}),e.prototype.onFocus=function(){this.isActive=!0},e.prototype.onBlur=function(){this.isActive=!1},e.prototype.nextItem=function(){switch(this.type){case"hourList":this.timePicker.nextHour();break;case"minuteList":this.timePicker.nextMinute();break;case"ampmList":this.timePicker.nextAmPm()}},e.prototype.prevItem=function(){switch(this.type){case"hourList":this.timePicker.prevHour();break;case"minuteList":this.timePicker.prevMinute();break;case"ampmList":this.timePicker.prevAmPm()}},e.prototype.onKeydownArrowDown=function(e){e.preventDefault(),this.nextItem()},e.prototype.onKeydownArrowUp=function(e){e.preventDefault(),this.prevItem()},e.prototype.onKeydownArrowRight=function(e){e.preventDefault();var t=e.target.className;-1!==t.indexOf("hourList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():-1===t.indexOf("hourList")&&-1===t.indexOf("minuteList")||!this.timePicker.ampmList||this.timePicker.ampmList.nativeElement.focus()},e.prototype.onKeydownArrowLeft=function(e){e.preventDefault();var t=e.target.className;-1!==t.indexOf("ampmList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():-1===t.indexOf("ampmList")&&-1===t.indexOf("minuteList")||!this.timePicker.hourList||this.timePicker.hourList.nativeElement.focus()},e.prototype.onKeydownEnter=function(e){e.preventDefault(),this.timePicker.mode!==Ba.DropDown?this.timePicker.okButtonClick():this.timePicker.close()},e.prototype.onKeydownEscape=function(e){e.preventDefault(),this.timePicker.cancelButtonClick()},e.prototype.onHover=function(){this.elementRef.nativeElement.focus()},e.prototype.onScroll=function(e){e.preventDefault(),e.stopPropagation(),e.deltaY>0?this.nextItem():e.deltaY<0&&this.prevItem()},e.prototype.onPanMove=function(e){e.deltaY<0?this.nextItem():e.deltaY>0&&this.prevItem()},e.decorators=[{type:o.t,args:[{selector:"[igxItemList]"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.C,args:["IgxTimePickerComponentToken"]}]},{type:o.u}]},e.propDecorators={type:[{type:o.G,args:["igxItemList"]}],tabindex:[{type:o.z,args:["attr.tabindex"]}],defaultCSS:[{type:o.z,args:["class.igx-time-picker__column"]}],hourCSS:[{type:o.z,args:["class.igx-time-picker__hourList"]}],minuteCSS:[{type:o.z,args:["class.igx-time-picker__minuteList"]}],ampmCSS:[{type:o.z,args:["class.igx-time-picker__ampmList"]}],onFocus:[{type:o.A,args:["focus"]}],onBlur:[{type:o.A,args:["blur"]}],onKeydownArrowDown:[{type:o.A,args:["keydown.arrowdown",["$event"]]}],onKeydownArrowUp:[{type:o.A,args:["keydown.arrowup",["$event"]]}],onKeydownArrowRight:[{type:o.A,args:["keydown.arrowright",["$event"]]}],onKeydownArrowLeft:[{type:o.A,args:["keydown.arrowleft",["$event"]]}],onKeydownEnter:[{type:o.A,args:["keydown.enter",["$event"]]}],onKeydownEscape:[{type:o.A,args:["keydown.escape",["$event"]]}],onHover:[{type:o.A,args:["mouseover"]}],onScroll:[{type:o.A,args:["wheel",["$event"]]}],onPanMove:[{type:o.A,args:["panmove",["$event"]]}]},e}()),hp=function(){function e(e,t){this.timePicker=e,this.itemList=t}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCSS",{get:function(){return this.isSelectedHour},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCSS",{get:function(){return this.isSelectedHour&&this.itemList.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedHour",{get:function(){return this.timePicker.selectedHour===this.value},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){""!==e&&this.timePicker.scrollHourIntoView(e)},e.decorators=[{type:o.t,args:[{selector:"[igxHourItem]"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.C,args:["IgxTimePickerComponentToken"]}]},{type:up}]},e.propDecorators={value:[{type:o.G,args:["igxHourItem"]}],defaultCSS:[{type:o.z,args:["class.igx-time-picker__item"]}],selectedCSS:[{type:o.z,args:["class.igx-time-picker__item--selected"]}],activeCSS:[{type:o.z,args:["class.igx-time-picker__item--active"]}],onClick:[{type:o.A,args:["click",["value"]]}]},e}(),gp=function(){function e(e,t){this.timePicker=e,this.itemList=t}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCSS",{get:function(){return this.isSelectedMinute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCSS",{get:function(){return this.isSelectedMinute&&this.itemList.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedMinute",{get:function(){return this.timePicker.selectedMinute===this.value},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){""!==e&&this.timePicker.scrollMinuteIntoView(e)},e.decorators=[{type:o.t,args:[{selector:"[igxMinuteItem]"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.C,args:["IgxTimePickerComponentToken"]}]},{type:up}]},e.propDecorators={value:[{type:o.G,args:["igxMinuteItem"]}],defaultCSS:[{type:o.z,args:["class.igx-time-picker__item"]}],selectedCSS:[{type:o.z,args:["class.igx-time-picker__item--selected"]}],activeCSS:[{type:o.z,args:["class.igx-time-picker__item--active"]}],onClick:[{type:o.A,args:["click",["value"]]}]},e}(),fp=function(){function e(e,t){this.timePicker=e,this.itemList=t}return Object.defineProperty(e.prototype,"defaultCSS",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCSS",{get:function(){return this.isSelectedAmPm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCSS",{get:function(){return this.isSelectedAmPm&&this.itemList.isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedAmPm",{get:function(){return this.timePicker.selectedAmPm===this.value},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){""!==e&&this.timePicker.scrollAmPmIntoView(e)},e.decorators=[{type:o.t,args:[{selector:"[igxAmPmItem]"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.C,args:["IgxTimePickerComponentToken"]}]},{type:up}]},e.propDecorators={value:[{type:o.G,args:["igxAmPmItem"]}],defaultCSS:[{type:o.z,args:["class.igx-time-picker__item"]}],selectedCSS:[{type:o.z,args:["class.igx-time-picker__item--selected"]}],activeCSS:[{type:o.z,args:["class.igx-time-picker__item--active"]}],onClick:[{type:o.A,args:["click",["value"]]}]},e}(),mp=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxTimePickerTemplate]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),yp=function(){function e(e){this.template=e}return e.decorators=[{type:o.t,args:[{selector:"[igxTimePickerActions]"}]}],e.ctorParameters=function(){return[{type:o.kb}]},e}(),bp=function(){function e(e){this.timePicker=e}return e.prototype.transform=function(e){var t,n,i,r=this.timePicker.parseMask(),o=this.timePicker.parseMask(!1);if(!e||e===o||e===r)return"";var a=e.split(/[\s:]+/);this.timePicker.showHoursList&&(t=a[0]),this.timePicker.showMinutesList&&(n=this.timePicker.showHoursList?a[1]:a[0]),this.timePicker.showAmPmList&&(i=a[a.length-1]);var s=this.timePicker.format,l=this.timePicker.promptChar,c=new RegExp(this.timePicker.promptChar,"g");if((-1!==s.indexOf("hh")||-1!==s.indexOf("HH")&&-1!==t.indexOf(l))&&(t=t===l+l?"00":t.replace(c,"0")),-1!==s.indexOf("mm")&&-1!==n.indexOf(l)&&(n=n===l+l?"00":n.replace(c,"0")),-1===s.indexOf("hh")&&-1===s.indexOf("HH")&&void 0!==t){t=-1!==t.indexOf(l)?t.replace(c,""):t;var d=parseInt(t,10);t=d?d<10&&0!==d?t.replace("0",""):t:"0"}if(-1===s.indexOf("mm")&&void 0!==n){n=-1!==n.indexOf(l)?n.replace(c,""):n;var p=parseInt(n,10);n=p?p<10&&0!==p?n.replace("0",""):n:"0"}-1===s.indexOf("tt")||"AM"===i&&"PM"===i||(i=-1!==i.indexOf("p")||-1!==i.indexOf("P")?"PM":"AM");var u=i?t+":"+n+" "+i:t+":"+n;return t||(u=u.slice(u.indexOf(":")+1,u.length)),n||(u=u.slice(0,u.indexOf(":")),i&&(u=u+" "+i)),u},e.decorators=[{type:o.W,args:[{name:"displayFormat"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.C,args:["IgxTimePickerComponentToken"]}]}]},e}(),vp=function(){function e(e){this.timePicker=e}return e.prototype.transform=function(e){var t,n,i,r,o=this.timePicker.promptChar,a=new RegExp(o,"g");if(this.timePicker.cleared?(this.timePicker.cleared=!1,t=this.timePicker.parseMask(!1)):t=this.timePicker.parseMask(),!e||e===t)return t;var s=e.split(/[\s:]+/);if(this.timePicker.showHoursList){n=(n=s[0]).replace(a,"");var l=parseInt(n,10)<10&&!n.startsWith("0")||"0"===n;n=l?"0"+n:n}if(this.timePicker.showMinutesList){i=(i=this.timePicker.showHoursList?s[1]:s[0]).replace(a,"");var c=parseInt(i,10)<10&&!i.startsWith("0")||"0"===i;i=c?"0"+i:i}this.timePicker.showAmPmList&&(r=s[s.length-1]);var d=r?n+":"+i+" "+r:n+":"+i;return n||(d=d.slice(d.indexOf(":")+1,d.length)),i||(d=d.slice(0,d.indexOf(":")),r&&(d=d+" "+r)),d},e.decorators=[{type:o.W,args:[{name:"inputFormat"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.C,args:["IgxTimePickerComponentToken"]}]}]},e}(),xp=0,_p=[0,1,2],wp=[3,4,5],Cp=[6,7,8],Sp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overrides={pan:{direction:Hammer.DIRECTION_VERTICAL,threshold:1}},t}return Object(r.d)(t,e),t.decorators=[{type:o.D}],t}(ce.e),Dp=function(){function e(){this.id="igx-time-picker-"+xp++,this.disabled=!1,this.itemsDelta={hours:1,minutes:1},this.isSpinLoop=!0,this.vertical=!1,this.promptChar="-",this.mode=Ba.Dialog,this.onValueChanged=new o.x,this.onValidationFailed=new o.x,this.onOpened=new o.x,this.onClosed=new o.x,this.onClosing=new o.x,this._hourItems=[],this._minuteItems=[],this._ampmItems=[],this.cleared=!1,this.isNotEmpty=!1,this.displayFormat=new bp(this),this.inputFormat=new vp(this),this._resourceStrings=pl.TimePickerResStrings,this._okButtonLabel=null,this._cancelButtonLabel=null,this._isHourListLoop=this.isSpinLoop,this._isMinuteListLoop=this.isSpinLoop,this._hourView=[],this._minuteView=[],this._ampmView=[],this._destroy$=new E.a,this._onOpen=new o.x,this._onClose=new o.x,this._onTouchedCallback=function(){},this._onChangeCallback=function(){}}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){if(this._isValueValid(e)){var t=this._value;this._value=e,this._onChangeCallback(e);var n=this._formatTime(this.value,this.format);this.mode===Ba.DropDown&&this._displayValue!==n&&(this.displayValue=n);var i={oldValue:t,newValue:e};this.onValueChanged.emit(i)}else{i={timePicker:this,currentValue:e,setThroughUI:!1};this.onValidationFailed.emit(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resourceStrings",{get:function(){return this._resourceStrings},set:function(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"okButtonLabel",{get:function(){return null===this._okButtonLabel?this.resourceStrings.igx_time_picker_ok:this._okButtonLabel},set:function(e){this._okButtonLabel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cancelButtonLabel",{get:function(){return null===this._cancelButtonLabel?this.resourceStrings.igx_time_picker_cancel:this._cancelButtonLabel},set:function(e){this._cancelButtonLabel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._format||"hh:mm tt"},set:function(e){this._format=e,this.mask=-1!==this._format.indexOf("tt")?"00:00 LL":"00:00",this.showHoursList&&this.showMinutesList||(this.mask=this.mask.slice(this.mask.indexOf(":")+1,this.mask.length)),this.displayValue&&(this.displayValue=this._formatTime(this.value,this._format))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlaySettings",{get:function(){return this._overlaySettings?this._overlaySettings:this.mode===Ba.Dialog?this._dialogOverlaySettings:this._dropDownOverlaySettings},set:function(e){this._overlaySettings=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onOpen",{get:function(){return this._onOpen},set:function(e){this._onOpen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onClose",{get:function(){return this._onClose},set:function(e){this._onClose=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask||"00:00 LL"},set:function(e){this._mask=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayValue",{get:function(){return void 0===this._displayValue?this._formatTime(this.value,this.format):this._displayValue},set:function(e){this._displayValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayTime",{get:function(){return this.value?this._formatTime(this.value,this.format):""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hourView",{get:function(){return this._hourView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minuteView",{get:function(){return this._minuteView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ampmView",{get:function(){return this._ampmView},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showClearButton",{get:function(){return this.displayValue&&this.displayValue!==this.parseMask(!1)||this.isNotEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showHoursList",{get:function(){return-1!==this.format.indexOf("h")||-1!==this.format.indexOf("H")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showMinutesList",{get:function(){return-1!==this.format.indexOf("m")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showAmPmList",{get:function(){return-1!==this.format.indexOf("t")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validMinuteEntries",{get:function(){for(var e=[],t=0;t<60;t++)e.push(t);return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validHourEntries",{get:function(){for(var e=[],t=-1!==this.format.indexOf("h")?13:24,n=0;n<t;n++)e.push(n);return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"template",{get:function(){return this.timePickerTemplateDirective?this.timePickerTemplateDirective.template:this.mode===Ba.Dialog?this.defaultTimePickerTemplate:this.dropdownInputTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){var e=this;return{value:this.value,displayTime:this.displayTime,displayValue:this.displayValue,openDialog:function(t){return e.openDialog(t)}}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._generateHours(),this._generateMinutes(),-1!==this.format.indexOf("tt")&&this._generateAmPm(),this._dropDownOverlaySettings={modal:!1,closeOnOutsideClick:!0,scrollStrategy:new Fn,positionStrategy:new jn},this._dialogOverlaySettings={}},e.prototype.ngAfterViewInit=function(){var e=this;this.mode===Ba.DropDown&&this.input&&Object(T.a)(this.input.nativeElement,"keydown").pipe($(function(){return F(0,M.a)}),Object(H.a)(this._destroy$)).subscribe(function(t){"ArrowUp"!==t.key&&"Up"!==t.key&&"ArrowDown"!==t.key&&"Down"!==t.key||e.spinOnEdit(t)}),this.toggleRef&&this.group&&(this.toggleRef.element.style.width=this.group.element.nativeElement.getBoundingClientRect().width+"px"),this.toggleRef&&(this.toggleRef.onClosed.pipe(Object(H.a)(this._destroy$)).subscribe(function(){e._input&&e._input.nativeElement.focus(),e.mode===Ba.DropDown&&e._onDropDownClosed(),e.onClosed.emit(e),e._onClose.emit(e)}),this.toggleRef.onOpened.pipe(Object(H.a)(this._destroy$)).subscribe(function(){e.onOpened.emit(e),e._onOpen.emit(e)}),this.toggleRef.onClosing.pipe(Object(H.a)(this._destroy$)).subscribe(function(t){e.onClosing.emit(t)}))},e.prototype.ngOnDestroy=function(){this._destroy$.next(!0),this._destroy$.complete()},e.prototype.onKeydownSpace=function(e){this.openDialog(this.getInputGroupElement()),e.preventDefault()},e.prototype.onAltArrowDown=function(){this.openDialog(this.getInputGroupElement())},e.prototype._scrollItemIntoView=function(e,t,n,i,r){var o;if(t){var a="AM"===e||"PM"===e?t.indexOf(e):t.indexOf(parseInt(e,10)),s=void 0;-1!==a&&(i?a>0?(n=this._itemToString(t[a-1],r),o=this._nextItem(t,n,i,r)):(n=this._itemToString(t[1],r),o=this._prevItem(t,n,i,r)):(s=t.slice(a-3,a+4),o={selectedItem:n=this._itemToString(t[a],r),view:s}),o.view=this._viewToString(o.view,r))}return o},e.prototype._viewToString=function(e,t){for(var n=0;n<e.length;n++)"string"!=typeof e[n]&&(e[n]=this._itemToString(e[n],t));return e},e.prototype._itemToString=function(e,t){if(null===e)e="";else if(t&&"string"!=typeof e){var n=e<10&&(-1!==this.format.indexOf("hh")||-1!==this.format.indexOf("HH")),i=e<10&&-1!==this.format.indexOf("mm");e=("hour"===t?n:i)?"0"+e:""+e}return e},e.prototype._prevItem=function(e,t,n,i){var r,o=e.indexOf(parseInt(t,10)),a=e.length;return-1===o?(r=e.slice(0,7),t=e[3]):n?(r=o-4<0?(r=e.slice(a-(4-o),a)).concat(e.slice(0,o+3)):o+4>a?(r=e.slice(o-4,a)).concat(e.slice(0,o+3-a)):e.slice(o-4,o+3),t=0===o?e[a-1]:e[o-1]):o>3?(r=e.slice(o-4,o+3),t=e[o-1]):3===o&&(r=e.slice(0,7)),r=this._viewToString(r,i),{selectedItem:t=this._itemToString(t,i),view:r}},e.prototype._nextItem=function(e,t,n,i){var r,o=e.indexOf(parseInt(t,10)),a=e.length;return-1===o?(r=e.slice(0,7),t=e[3]):n?(r=o<2?(r=e.slice(a-(2-o),a)).concat(e.slice(0,o+5)):o+4>=a?(r=e.slice(o-2,a)).concat(e.slice(0,o+5-a)):e.slice(o-2,o+5),t=o===a-1?e[0]:e[o+1]):o+1<a-3?(r=e.slice(o-2,o+5),t=e[o+1]):o===a-4&&(r=e.slice(o-3,a)),r=this._viewToString(r,i),{selectedItem:t=this._itemToString(t,i),view:r}},e.prototype._formatTime=function(e,t){if(e){var n,i=e.getHours(),r=void 0,o=e.getMinutes(),a=i>11?"PM":"AM";return r=-1!==t.indexOf("h")?i>12?(i-=12)<10&&-1!==t.indexOf("hh")?"0"+i:""+i:0===i?"12":i<10&&-1!==t.indexOf("hh")?"0"+i:""+i:i<10&&-1!==t.indexOf("HH")?"0"+i:""+i,n=o<10&&-1!==t.indexOf("mm")?"0"+o:""+o,t.replace("hh",r).replace("h",r).replace("HH",r).replace("H",r).replace("mm",n).replace("m",n).replace("tt",a)}return""},e.prototype._updateHourView=function(e,t){this._hourView=this._viewToString(this._hourItems.slice(e,t),"hour")},e.prototype._updateMinuteView=function(e,t){this._minuteView=this._viewToString(this._minuteItems.slice(e,t),"minute")},e.prototype._updateAmPmView=function(e,t){this._ampmView=this._ampmItems.slice(e,t)},e.prototype._addEmptyItems=function(e){for(var t=0;t<3;t++)e.push(null)},e.prototype._generateHours=function(){var e=24;-1!==this.format.indexOf("h")&&(e=13),e/=this.itemsDelta.hours;var t=-1!==this.format.indexOf("H")?0:1;if((e<7||!this.isSpinLoop)&&(this._addEmptyItems(this._hourItems),this._isHourListLoop=!1),e>1)for(;t<e;t++)this._hourItems.push(t*this.itemsDelta.hours);else this._hourItems.push(0);(e<7||!this.isSpinLoop)&&this._addEmptyItems(this._hourItems)},e.prototype._generateMinutes=function(){var e=60/this.itemsDelta.minutes;(e<7||!this.isSpinLoop)&&(this._addEmptyItems(this._minuteItems),this._isMinuteListLoop=!1);for(var t=0;t<e;t++)this._minuteItems.push(t*this.itemsDelta.minutes);(e<7||!this.isSpinLoop)&&this._addEmptyItems(this._minuteItems)},e.prototype._generateAmPm=function(){this._addEmptyItems(this._ampmItems),this._ampmItems.push("AM"),this._ampmItems.push("PM"),this._addEmptyItems(this._ampmItems)},e.prototype._getSelectedTime=function(){var e=this.value?new Date(this.value):new Date;return this.selectedHour&&e.setHours(parseInt(this.selectedHour,10)),this.selectedMinute&&e.setMinutes(parseInt(this.selectedMinute,10)),e.setSeconds(0),(this.showHoursList&&"12"!==this.selectedHour||!this.showHoursList&&this.selectedHour<="11")&&"PM"===this.selectedAmPm&&e.setHours(e.getHours()+12),!this.showHoursList&&"AM"===this.selectedAmPm&&this.selectedHour>"11"&&e.setHours(e.getHours()-12),"AM"===this.selectedAmPm&&"12"===this.selectedHour&&e.setHours(0),e},e.prototype._convertMinMaxValue=function(e){var t,n,i,r=this.value?new Date(this.value):this._dateFromModel?new Date(this._dateFromModel):new Date,o=e.split(/[\s:]+/);return r.setSeconds(0),this.showHoursList&&(t=o[0],r.setHours(parseInt(t,10))),this.showMinutesList&&(n=this.showHoursList?o[1]:o[0],r.setMinutes(parseInt(n,10))),this.showAmPmList&&(i=o[o.length-1],(this.showHoursList&&"12"!==r.getHours().toString()||!this.showHoursList&&r.getHours().toString()<="11")&&"PM"===i&&r.setHours(r.getHours()+12),!this.showHoursList&&"AM"===i&&r.getHours().toString()>"11"&&r.setHours(r.getHours()-12),this.showHoursList&&12===r.getHours()&&"AM"===i&&r.setHours(0)),r},e.prototype._isValueValid=function(e){return!(this.maxValue&&e>this._convertMinMaxValue(this.maxValue))&&!(this.minValue&&e<this._convertMinMaxValue(this.minValue))},e.prototype._isEntryValid=function(e){var t=!0,n=!0,i=e.split(/[\s:]+/),r=new RegExp(this.promptChar,"g");if(this.showHoursList&&(t=-1!==this.validHourEntries.indexOf(parseInt(i[0].replace(r,""),10))),this.showMinutesList){var o=this.showHoursList?i[1]:i[0];n=-1!==this.validMinuteEntries.indexOf(parseInt(o.replace(r,""),10))}return t&&n},e.prototype._getCursorPosition=function(){return this.input.nativeElement.selectionStart},e.prototype._setCursorPosition=function(e,t){void 0===t&&(t=e),this.input.nativeElement.setSelectionRange(e,t)},e.prototype._updateEditableInput=function(){this.mode===Ba.DropDown&&(this.displayValue=this._formatTime(this._getSelectedTime(),this.format))},e.prototype._spinHours=function(e,t,n,i,r){var o=new Date(e);e.setMinutes(r*i),e.getDate()!==o.getDate()&&this.isSpinLoop&&e.setDate(o.getDate());var a=e.getMinutes();return e.getTime()>n.getTime()?this.isSpinLoop?(a=a<t.getMinutes()?60+a:a,t.setMinutes(r*a),t):o:e.getTime()<t.getTime()?this.isSpinLoop?(a=a<=n.getMinutes()?a:a-60,n.setMinutes(a),n):o:e},e.prototype._spinMinutes=function(e,t,n){var i=e.getMinutes()+n*t;return(i<0||i>=60)&&(i=this.isSpinLoop?i-60*n:e.getMinutes()),e.setMinutes(i),e},e.prototype._initializeContainer=function(){var e=this;if(this.value){var t=this._formatTime(this.value,this.format).split(/[\s:]+/);this.showHoursList&&(this.selectedHour=t[0]),this.showMinutesList&&(this.selectedMinute=this.showHoursList?t[1]:t[0]),this.showAmPmList&&null!==this._ampmItems&&(this.selectedAmPm=t[t.length-1])}void 0===this.selectedHour&&(this.selectedHour=!this.showHoursList&&this.value?this.value.getHours().toString():this.showHoursList?""+this._hourItems[3]:"0"),void 0===this.selectedMinute&&(this.selectedMinute=!this.showMinutesList&&this.value?this.value.getMinutes().toString():"0"),void 0===this.selectedAmPm&&null!==this._ampmItems&&(this.selectedAmPm=this._ampmItems[3]),this._prevSelectedHour=this.selectedHour,this._prevSelectedMinute=this.selectedMinute,this._prevSelectedAmPm=this.selectedAmPm,this._onTouchedCallback(),this._updateHourView(0,7),this._updateMinuteView(0,7),this._updateAmPmView(0,7),this.selectedHour&&this.scrollHourIntoView(this.selectedHour),this.selectedMinute&&this.scrollMinuteIntoView(this.selectedMinute),this.selectedAmPm&&this.scrollAmPmIntoView(this.selectedAmPm),requestAnimationFrame(function(){e.hourList?e.hourList.nativeElement.focus():e.minuteList&&e.minuteList.nativeElement.focus()})},e.prototype._onDropDownClosed=function(){var e=this.value,t=this._convertMinMaxValue(this.displayValue);if(this._isValueValid(t))this.value&&e.getTime()===t.getTime()||(this.value=t);else{this.displayValue=this.inputFormat.transform(this._formatTime(e,this.format));var n={timePicker:this,currentValue:t,setThroughUI:!0};this.onValidationFailed.emit(n)}},e.prototype.getEditElement=function(){return this._input?this._input.nativeElement:null},e.prototype.getInputGroupElement=function(){return this.group?this.group.element.nativeElement:null},e.prototype.writeValue=function(e){this._dateFromModel=e,this.value=e,this.mode===Ba.DropDown&&(this.displayValue=this._formatTime(this.value,this.format))},e.prototype.registerOnChange=function(e){this._onChangeCallback=e},e.prototype.registerOnTouched=function(e){this._onTouchedCallback=e},e.prototype.openDialog=function(e){if(!this.toggleRef.collapsed)return this._onDropDownClosed();var t=this.overlaySettings;e&&t&&t.positionStrategy&&(t.positionStrategy.settings.target=e),this.outlet&&(t.outlet=this.outlet),this.toggleRef.open(t),this._initializeContainer()},e.prototype.scrollHourIntoView=function(e){if(this.showHoursList){var t=this._scrollItemIntoView(e,this._hourItems,this.selectedHour,this._isHourListLoop,"hour");t&&(this._hourView=t.view,this.selectedHour=t.selectedItem,this._updateEditableInput())}},e.prototype.scrollMinuteIntoView=function(e){if(this.showMinutesList){var t=this._scrollItemIntoView(e,this._minuteItems,this.selectedMinute,this._isMinuteListLoop,"minute");t&&(this._minuteView=t.view,this.selectedMinute=t.selectedItem,this._updateEditableInput())}},e.prototype.scrollAmPmIntoView=function(e){if(this.showAmPmList){var t=this._scrollItemIntoView(e,this._ampmItems,this.selectedAmPm,!1,null);t&&(this._ampmView=t.view,this.selectedAmPm=t.selectedItem,this._updateEditableInput())}},e.prototype.nextHour=function(){var e=this._nextItem(this._hourItems,this.selectedHour,this._isHourListLoop,"hour");this._hourView=e.view,this.selectedHour=e.selectedItem,this._updateEditableInput()},e.prototype.prevHour=function(){var e=this._prevItem(this._hourItems,this.selectedHour,this._isHourListLoop,"hour");this._hourView=e.view,this.selectedHour=e.selectedItem,this._updateEditableInput()},e.prototype.nextMinute=function(){var e=this._nextItem(this._minuteItems,this.selectedMinute,this._isMinuteListLoop,"minute");this._minuteView=e.view,this.selectedMinute=e.selectedItem,this._updateEditableInput()},e.prototype.prevMinute=function(){var e=this._prevItem(this._minuteItems,this.selectedMinute,this._isMinuteListLoop,"minute");this._minuteView=e.view,this.selectedMinute=e.selectedItem,this._updateEditableInput()},e.prototype.nextAmPm=function(){var e=this._ampmItems.indexOf(this.selectedAmPm);e+1<this._ampmItems.length-3&&(this._updateAmPmView(e-2,e+5),this.selectedAmPm=this._ampmItems[e+1],this._updateEditableInput())},e.prototype.prevAmPm=function(){var e=this._ampmItems.indexOf(this.selectedAmPm);e>3&&(this._updateAmPmView(e-4,e+3),this.selectedAmPm=this._ampmItems[e-1],this._updateEditableInput())},e.prototype.okButtonClick=function(){var e=this._getSelectedTime();if(this._isValueValid(e))return this.close(),this.value=e,!0;var t={timePicker:this,currentValue:e,setThroughUI:!0};return this.onValidationFailed.emit(t),!1},e.prototype.cancelButtonClick=function(){this.mode===Ba.DropDown&&(this.displayValue=this._formatTime(this.value,this.format)),this.close(),this.selectedHour=this._prevSelectedHour,this.selectedMinute=this._prevSelectedMinute,this.selectedAmPm=this._prevSelectedAmPm},e.prototype.hoursInView=function(){return this._hourView.filter(function(e){return""!==e})},e.prototype.minutesInView=function(){return this._minuteView.filter(function(e){return""!==e})},e.prototype.ampmInView=function(){return this._ampmView.filter(function(e){return""!==e})},e.prototype.close=function(){this.toggleRef.close()},e.prototype.parseMask=function(e){void 0===e&&(e=!0);var t=this.mask.replace(new RegExp("0","g"),this.promptChar).replace("LL","AM"),n=this.mask.replace(new RegExp("0","g"),this.promptChar).replace(new RegExp("L","g"),this.promptChar);return e?t:n},e.prototype.clear=function(){if(this.toggleRef.collapsed){this.cleared=!0,this.isNotEmpty=!1;var e=new Date(this.value);if(this.displayValue="",this.value.setHours(0,0),e.getTime()!==this.value.getTime()){var t={oldValue:e,newValue:this.value};this.onValueChanged.emit(t)}}else this.close()},e.prototype.onInput=function(e){var t=e.target.value,n=new Date(this.value);if(this.isNotEmpty=t!==this.parseMask(!1),-1===t.indexOf(this.promptChar))if(this._isEntryValid(t)){var i=this._convertMinMaxValue(t);n.getTime()!==i.getTime()&&(this.value=i)}else{var r={timePicker:this,currentValue:t,setThroughUI:!1};this.onValidationFailed.emit(r)}else if(!(this.value&&t&&t!==this.parseMask(!1)||(this.isNotEmpty=!1,this.value.setHours(0,0),this.displayValue=t,n.getTime()===this.value.getTime()))){r={oldValue:n,newValue:this.value};this.onValueChanged.emit(r)}},e.prototype.onFocus=function(e){this.isNotEmpty=e.target.value!==this.parseMask(!1)},e.prototype.onBlur=function(e){var t=e.target.value;if(this.isNotEmpty=""!==t,this.displayValue=t,t&&t!==this.parseMask())if(this._isEntryValid(t)){var n=this._convertMinMaxValue(t);this.value&&this.value.getTime()===n.getTime()||(this.value=n)}else{var i={timePicker:this,currentValue:t,setThroughUI:!1};this.onValidationFailed.emit(i)}},e.prototype.spinOnEdit=function(e){var t,n,i=this;e.preventDefault();var r=new Date(this.value),o=this.minValue?this._convertMinMaxValue(this.minValue):this._convertMinMaxValue("00:00"),a=this.maxValue?this._convertMinMaxValue(this.maxValue):this._convertMinMaxValue("24:00"),s=this._getCursorPosition();if(e.key){var l=e.key;t="ArrowDown"===l||"Down"===l?-1:1}if(e.deltaY&&(t=e.deltaY<0?1:-1),this.displayValue){var c=60*this.itemsDelta.hours+t*this.value.getMinutes(),d=this.itemsDelta.minutes;if(this.showHoursList&&-1!==_p.indexOf(s)&&(this.value=this._spinHours(r,o,a,c,t)),this.showMinutesList&&(this.showHoursList&&-1!==wp.indexOf(s)||!this.showHoursList&&-1!==_p.indexOf(s))&&(this.value=this._spinMinutes(r,d,t)),this.showAmPmList&&((!this.showHoursList||!this.showMinutesList)&&-1!==wp.indexOf(s)||this.showHoursList&&this.showMinutesList&&-1!==Cp.indexOf(s))){var p=this.displayValue.split(/[\s:]+/);t="AM"===p[p.length-1]?1:-1,r.setHours(r.getHours()+12*t),this.value=r}n=this._formatTime(this.value,this.format)}else this.value=o,n=this._formatTime(this.value,this.format);this._displayValue=this.inputFormat.transform(n),this.input.nativeElement.value=this._displayValue,this._setCursorPosition(s),requestAnimationFrame(function(){i._setCursorPosition(s)})},e.decorators=[{type:o.n,args:[{providers:[{provide:l.h,useExisting:e,multi:!0},{provide:ce.c,useClass:Sp},{provide:"IgxTimePickerComponentToken",useExisting:e}],selector:"igx-time-picker",template:'<ng-template #dropdownInputTemplate>\n    <igx-input-group #group>\n        <label igxLabel>Time</label>\n        <igx-prefix (click)="openDialog(group.element.nativeElement)">\n            <igx-icon>access_time</igx-icon>\n        </igx-prefix>\n        <input #input type="text" [igxMask]="mask" igxInput [includeLiterals]="false" [placeholder]="format"\n            [displayValuePipe]="displayFormat" [focusedValuePipe]="inputFormat" [promptChar]="promptChar"\n            [value]="displayValue" (input)="onInput($event)" (blur)="onBlur($event)" (focus)="onFocus($event)"\n            (wheel)="spinOnEdit($event)" [disabled]="disabled" />\n        <igx-suffix *ngIf="showClearButton" igxRipple (click)="clear()">\n            <igx-icon fontSet="material">clear</igx-icon>\n        </igx-suffix>\n    </igx-input-group>\n</ng-template>\n<ng-template #defaultTimePickerTemplate>\n    <igx-input-group (click)="openDialog()">\n        <igx-prefix>\n            <igx-icon>access_time</igx-icon>\n        </igx-prefix>\n        <label igxLabel>Time</label>\n        <input igxInput [value]="displayTime || \'\'" [disabled]="disabled" tabindex="0" readonly />\n    </igx-input-group>\n</ng-template>\n<ng-container *ngTemplateOutlet="template; context: context"></ng-container>\n\n<ng-template #defaultTimePickerActions>\n    <div *ngIf="cancelButtonLabel || okButtonLabel" class="igx-time-picker__buttons">\n        <button *ngIf="cancelButtonLabel" igxButton="flat" (click)="cancelButtonClick()">\n            {{cancelButtonLabel}}\n        </button>\n        <button *ngIf="okButtonLabel" igxButton="flat" (click)="okButtonClick()">\n            {{okButtonLabel}}\n        </button>\n    </div>\n</ng-template>\n<div igxToggle class="igx-time-picker"\n    [ngClass]="{\'igx-time-picker--dropdown\': mode === \'dropdown\', \'igx-time-picker--vertical\': vertical && mode === \'dialog\'}">\n    <div *ngIf="mode === \'dialog\'" class="igx-time-picker__header">\n        <h5 class="igx-time-picker__header-ampm">{{ selectedAmPm }}</h5>\n        <h2 class="igx-time-picker__header-hour">\n            <span>{{ selectedHour }}</span>:<span>{{ selectedMinute }}</span>\n        </h2>\n    </div>\n    <div class="igx-time-picker__main">\n        <div class="igx-time-picker__body">\n            <div *ngIf="showHoursList" #hourList [igxItemList]="\'hourList\'">\n                <span [igxHourItem]="hour" *ngFor="let hour of hourView">{{ hour }}</span>\n            </div>\n            <div *ngIf="showMinutesList" #minuteList [igxItemList]="\'minuteList\'">\n                <span [igxMinuteItem]="minute" *ngFor="let minute of minuteView">{{ minute }}</span>\n            </div>\n            <div *ngIf="showAmPmList" #ampmList [igxItemList]="\'ampmList\'">\n                <span [igxAmPmItem]="ampm" *ngFor="let ampm of ampmView">{{ ampm }}</span>\n            </div>\n        </div>\n        <ng-container *ngTemplateOutlet="timePickerActionsDirective ? timePickerActionsDirective.template : defaultTimePickerActions"></ng-container>\n    </div>\n</div>',styles:[":host {\n            display: block;\n        }"]}]}],e.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],value:[{type:o.G}],disabled:[{type:o.G}],resourceStrings:[{type:o.G}],okButtonLabel:[{type:o.G}],cancelButtonLabel:[{type:o.G}],itemsDelta:[{type:o.G}],minValue:[{type:o.G}],maxValue:[{type:o.G}],isSpinLoop:[{type:o.G}],vertical:[{type:o.G}],format:[{type:o.G}],promptChar:[{type:o.G}],mode:[{type:o.G}],outlet:[{type:o.G}],overlaySettings:[{type:o.G}],onValueChanged:[{type:o.S}],onValidationFailed:[{type:o.S}],onOpen:[{type:o.S}],onOpened:[{type:o.S}],onClose:[{type:o.S}],onClosed:[{type:o.S}],onClosing:[{type:o.S}],hourList:[{type:o.ob,args:["hourList",{static:!1}]}],minuteList:[{type:o.ob,args:["minuteList",{static:!1}]}],ampmList:[{type:o.ob,args:["ampmList",{static:!1}]}],defaultTimePickerTemplate:[{type:o.ob,args:["defaultTimePickerTemplate",{read:o.kb,static:!0}]}],timePickerTemplateDirective:[{type:o.r,args:[mp,{read:mp,static:!1}]}],timePickerActionsDirective:[{type:o.r,args:[yp,{read:yp,static:!1}]}],_input:[{type:o.ob,args:[Si,{read:o.u,static:!1}]}],toggleRef:[{type:o.ob,args:[zn,{static:!0}]}],input:[{type:o.ob,args:["input",{read:o.u,static:!1}]}],group:[{type:o.ob,args:["group",{read:Ri,static:!1}]}],dropdownInputTemplate:[{type:o.ob,args:["dropdownInputTemplate",{read:o.kb,static:!0}]}],onKeydownSpace:[{type:o.A,args:["keydown.spacebar",["$event"]]},{type:o.A,args:["keydown.space",["$event"]]}],onAltArrowDown:[{type:o.A,args:["keydown.Alt.ArrowDown"]}]},Object(r.c)([kn("'onOpen' @Output property is deprecated. Use 'onOpened' instead."),Object(r.f)("design:type",o.x),Object(r.f)("design:paramtypes",[o.x])],e.prototype,"onOpen",null),Object(r.c)([kn("'onClose' @Output property is deprecated. Use 'onClosed' instead."),Object(r.f)("design:type",o.x),Object(r.f)("design:paramtypes",[o.x])],e.prototype,"onClose",null),e}(),Op=(function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[Dp,hp,up,gp,fp,mp,yp,bp,vp],exports:[Dp,mp,yp,bp,vp],imports:[a.b,ji,Rr,Mi,sr,Hn],providers:[]}]}]}(),0),Ip=function(){function e(e,t){this.elementRef=e,this.navService=t,this.CSS_CLASSES={IGX_TOAST_BOTTOM:"igx-toast--bottom",IGX_TOAST_MIDDLE:"igx-toast--middle",IGX_TOAST_TOP:"igx-toast--top"},this.id="igx-toast-"+Op++,this.onShowing=new o.x,this.onShown=new o.x,this.onHiding=new o.x,this.onHidden=new o.x,this.role="alert",this.autoHide=!0,this.displayTime=4e3,this.isVisible=!1,this.position=kp.Bottom}return Object.defineProperty(e.prototype,"element",{get:function(){return this.elementRef.nativeElement},enumerable:!0,configurable:!0}),e.prototype.show=function(){var e=this;clearInterval(this.timeoutId),this.onShowing.emit(this),this.isVisible=!0,this.autoHide&&(this.timeoutId=setTimeout(function(){e.hide()},this.displayTime)),this.onShown.emit(this)},e.prototype.hide=function(){this.onHiding.emit(this),this.isVisible=!1,this.onHidden.emit(this),clearInterval(this.timeoutId)},e.prototype.open=function(){this.show()},e.prototype.close=function(){this.hide()},e.prototype.toggle=function(){this.isVisible?this.close():this.open()},e.prototype.mapPositionToClassName=function(){return this.position===kp.Top?this.CSS_CLASSES.IGX_TOAST_TOP:this.position===kp.Middle?this.CSS_CLASSES.IGX_TOAST_MIDDLE:this.position===kp.Bottom?this.CSS_CLASSES.IGX_TOAST_BOTTOM:void 0},e.prototype.ngOnInit=function(){this.navService&&this.id&&this.navService.add(this.id,this)},e.prototype.ngOnDestroy=function(){this.navService&&this.id&&this.navService.remove(this.id)},e.decorators=[{type:o.n,args:[{animations:[Object(P.o)("animate",[Object(P.l)("show",Object(P.m)({opacity:1})),Object(P.n)("* => show",Object(P.e)(".20s ease")),Object(P.n)("show => *",Object(P.e)(".40s ease-out"))])],selector:"igx-toast",template:'<div [ngClass]="mapPositionToClassName()" *ngIf="this.isVisible" [@animate]="\'show\'">\n    {{ message }}\n</div>\n',styles:["\n        :host {\n            display: block;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:o.u},{type:Je,decorators:[{type:o.R}]}]},e.propDecorators={id:[{type:o.z,args:["attr.id"]},{type:o.G}],onShowing:[{type:o.S}],onShown:[{type:o.S}],onHiding:[{type:o.S}],onHidden:[{type:o.S}],role:[{type:o.G}],autoHide:[{type:o.G}],displayTime:[{type:o.G}],isVisible:[{type:o.G}],message:[{type:o.G}],position:[{type:o.G}]},e}(),kp={Bottom:0,Middle:1,Top:2};kp[kp.Bottom]="Bottom",kp[kp.Middle]="Middle",kp[kp.Top]="Top";!function(){function e(){}e.decorators=[{type:o.L,args:[{declarations:[Ip],exports:[Ip],imports:[a.b]}]}]}();var Pp=function(){function e(){}return e=r.c([Object(o.L)({declarations:[k,m,C.a,S.a,D.a,O.a],entryComponents:[],exports:[k,u.b,h.c,g.b],imports:[a.b,s.a,l.l,l.f,l.f,c.b,Mo,Ua,u.b,h.c,g.b]})],e)}(),Ep=n("F/XL"),Tp=n("YSh2"),Ap=n("Wf4p"),Rp=n("Fzqc"),jp=n("4c35"),Fp=n("n6gG"),Lp=n("eDkP"),Mp=n("seP3"),Gp=n("b716"),zp=n("UodH"),Vp=n("lLAP");function Bp(e){return Error("MatDatepicker: No provider found for "+e+". You must import one of the following modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.")}var Hp=function(){function e(){this.changes=new E.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}return e.decorators=[{type:o.D,args:[{providedIn:"root"}]}],e.ngInjectableDef=Object(o.nc)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Np=function(){return function(e,t,n,i,r){this.value=e,this.displayValue=t,this.ariaLabel=n,this.enabled=i,this.cssClasses=r}}(),Wp=function(){function e(e,t){this._elementRef=e,this._ngZone=t,this.numCols=7,this.activeCell=0,this.cellAspectRatio=1,this.selectedValueChange=new o.x}return e.prototype._cellClicked=function(e){e.enabled&&this.selectedValueChange.emit(e.value)},e.prototype.ngOnChanges=function(e){var t=e.numCols,n=this.rows,i=this.numCols;(e.rows||t)&&(this._firstRowOffset=n&&n.length&&n[0].length?i-n[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/i+"%"),!t&&this._cellWidth||(this._cellWidth=100/i+"%")},e.prototype._isActiveCell=function(e,t){var n=e*this.numCols+t;return e&&(n-=this._firstRowOffset),n==this.activeCell},e.prototype._focusActiveCell=function(){var e=this;this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.asObservable().pipe(Object(N.a)(1)).subscribe(function(){var t=e._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&t.focus()})})},e.decorators=[{type:o.n,args:[{selector:"[mat-calendar-body]",template:'<tr *ngIf="_firstRowOffset < labelMinRequiredCells" aria-hidden="true"><td class="mat-calendar-body-label" [attr.colspan]="numCols" [style.paddingTop]="_cellPadding" [style.paddingBottom]="_cellPadding">{{label}}</td></tr><tr *ngFor="let row of rows; let rowIndex = index" role="row"><td *ngIf="rowIndex === 0 && _firstRowOffset" aria-hidden="true" class="mat-calendar-body-label" [attr.colspan]="_firstRowOffset" [style.paddingTop]="_cellPadding" [style.paddingBottom]="_cellPadding">{{_firstRowOffset >= labelMinRequiredCells ? label : \'\'}}</td><td *ngFor="let item of row; let colIndex = index" role="gridcell" class="mat-calendar-body-cell" [ngClass]="item.cssClasses" [tabindex]="_isActiveCell(rowIndex, colIndex) ? 0 : -1" [class.mat-calendar-body-disabled]="!item.enabled" [class.mat-calendar-body-active]="_isActiveCell(rowIndex, colIndex)" [attr.aria-label]="item.ariaLabel" [attr.aria-disabled]="!item.enabled || null" [attr.aria-selected]="selectedValue === item.value" (click)="_cellClicked(item)" [style.width]="_cellWidth" [style.paddingTop]="_cellPadding" [style.paddingBottom]="_cellPadding"><div class="mat-calendar-body-cell-content" [class.mat-calendar-body-selected]="selectedValue === item.value" [class.mat-calendar-body-today]="todayValue === item.value">{{item.displayValue}}</div></td></tr>',styles:[".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.71429%;padding-right:4.71429%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:0;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}@media (-ms-high-contrast:active){.mat-calendar-body-cell-content{border:none}}@media (-ms-high-contrast:active){.mat-calendar-body-selected,.mat-datepicker-popup:not(:empty){outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}}[dir=rtl] .mat-calendar-body-label{text-align:right}"],host:{class:"mat-calendar-body",role:"grid","aria-readonly":"true"},exportAs:"matCalendarBody",encapsulation:o.rb.None,changeDetection:o.j.OnPush}]}],e.ctorParameters=function(){return[{type:o.u},{type:o.Q}]},e.propDecorators={label:[{type:o.G}],rows:[{type:o.G}],todayValue:[{type:o.G}],selectedValue:[{type:o.G}],labelMinRequiredCells:[{type:o.G}],numCols:[{type:o.G}],activeCell:[{type:o.G}],cellAspectRatio:[{type:o.G}],selectedValueChange:[{type:o.S}]},e}(),Yp=function(){function e(e,t,n,i){if(this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=n,this._dir=i,this.selectedChange=new o.x,this._userSelection=new o.x,this.activeDateChange=new o.x,!this._dateAdapter)throw Bp("DateAdapter");if(!this._dateFormats)throw Bp("MAT_DATE_FORMATS");var r=this._dateAdapter.getFirstDayOfWeek(),a=this._dateAdapter.getDayOfWeekNames("narrow"),s=this._dateAdapter.getDayOfWeekNames("long").map(function(e,t){return{long:e,narrow:a[t]}});this._weekdays=s.slice(r).concat(s.slice(0,r)),this._activeDate=this._dateAdapter.today()}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedDate=this._getDateInCurrentMonth(this._selected)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._init()},e.prototype._dateSelected=function(e){if(this._selectedDate!=e){var t=this._dateAdapter.getYear(this.activeDate),n=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.createDate(t,n,e);this.selectedChange.emit(i)}this._userSelection.emit()},e.prototype._handleCalendarBodyKeydown=function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case Tp.g:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case Tp.k:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case Tp.n:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Tp.b:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case Tp.f:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case Tp.c:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case Tp.j:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case Tp.i:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Tp.d:case Tp.l:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected(this._dateAdapter.getDate(this._activeDate)),this._userSelection.emit(),e.preventDefault()));default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()},e.prototype._init=function(){this._selectedDate=this._getDateInCurrentMonth(this.selected),this._todayDate=this._getDateInCurrentMonth(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();var e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._createWeekCells(),this._changeDetectorRef.markForCheck()},e.prototype._focusActiveCell=function(){this._matCalendarBody._focusActiveCell()},e.prototype._createWeekCells=function(){var e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(var n=0,i=this._firstWeekOffset;n<e;n++,i++){7==i&&(this._weeks.push([]),i=0);var r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),o=this._shouldEnableDate(r),a=this._dateAdapter.format(r,this._dateFormats.display.dateA11yLabel),s=this.dateClass?this.dateClass(r):void 0;this._weeks[this._weeks.length-1].push(new Np(n+1,t[n],a,o,s))}},e.prototype._shouldEnableDate=function(e){return!!e&&(!this.dateFilter||this.dateFilter(e))&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)},e.prototype._getDateInCurrentMonth=function(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null},e.prototype._hasSameMonthAndYear=function(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e.prototype._isRtl=function(){return this._dir&&"rtl"===this._dir.value},e.decorators=[{type:o.n,args:[{selector:"mat-month-view",template:'<table class="mat-calendar-table" role="presentation"><thead class="mat-calendar-table-header"><tr><th *ngFor="let day of _weekdays" [attr.aria-label]="day.long">{{day.narrow}}</th></tr><tr><th class="mat-calendar-table-header-divider" colspan="7" aria-hidden="true"></th></tr></thead><tbody mat-calendar-body [label]="_monthLabel" [rows]="_weeks" [todayValue]="_todayDate" [selectedValue]="_selectedDate" [labelMinRequiredCells]="3" [activeCell]="_dateAdapter.getDate(activeDate) - 1" (selectedValueChange)="_dateSelected($event)" (keydown)="_handleCalendarBodyKeydown($event)"></tbody></table>',exportAs:"matMonthView",encapsulation:o.rb.None,changeDetection:o.j.OnPush}]}],e.ctorParameters=function(){return[{type:o.k},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[Ap.f]}]},{type:Ap.c,decorators:[{type:o.R}]},{type:Rp.b,decorators:[{type:o.R}]}]},e.propDecorators={activeDate:[{type:o.G}],selected:[{type:o.G}],minDate:[{type:o.G}],maxDate:[{type:o.G}],dateFilter:[{type:o.G}],dateClass:[{type:o.G}],selectedChange:[{type:o.S}],_userSelection:[{type:o.S}],activeDateChange:[{type:o.S}],_matCalendarBody:[{type:o.ob,args:[Wp,{static:!1}]}]},e}(),Up=function(){function e(e,t,n){if(this._changeDetectorRef=e,this._dateAdapter=t,this._dir=n,this.selectedChange=new o.x,this.yearSelected=new o.x,this.activeDateChange=new o.x,!this._dateAdapter)throw Bp("DateAdapter");this._activeDate=this._dateAdapter.today()}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),Math.floor(this._dateAdapter.getYear(t)/24)!=Math.floor(this._dateAdapter.getYear(this._activeDate)/24)&&this._init()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedYear=this._selected&&this._dateAdapter.getYear(this._selected)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._init()},e.prototype._init=function(){var e=this;this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());var t=this._dateAdapter.getYear(this._activeDate),n=t%24;this._years=[];for(var i=0,r=[];i<24;i++)r.push(t-n+i),4==r.length&&(this._years.push(r.map(function(t){return e._createCellForYear(t)})),r=[]);this._changeDetectorRef.markForCheck()},e.prototype._yearSelected=function(e){this.yearSelected.emit(this._dateAdapter.createDate(e,0,1));var t=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));this.selectedChange.emit(this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),n)))},e.prototype._handleCalendarBodyKeydown=function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case Tp.g:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case Tp.k:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case Tp.n:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case Tp.b:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case Tp.f:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-this._dateAdapter.getYear(this._activeDate)%24);break;case Tp.c:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-this._dateAdapter.getYear(this._activeDate)%24-1);break;case Tp.j:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case Tp.i:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case Tp.d:case Tp.l:this._yearSelected(this._dateAdapter.getYear(this._activeDate));break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()},e.prototype._getActiveCell=function(){return this._dateAdapter.getYear(this.activeDate)%24},e.prototype._focusActiveCell=function(){this._matCalendarBody._focusActiveCell()},e.prototype._createCellForYear=function(e){var t=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return new Np(e,t,t,this._shouldEnableYear(e))},e.prototype._shouldEnableYear=function(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var t=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e.prototype._isRtl=function(){return this._dir&&"rtl"===this._dir.value},e.decorators=[{type:o.n,args:[{selector:"mat-multi-year-view",template:'<table class="mat-calendar-table" role="presentation"><thead class="mat-calendar-table-header"><tr><th class="mat-calendar-table-header-divider" colspan="4"></th></tr></thead><tbody mat-calendar-body [rows]="_years" [todayValue]="_todayYear" [selectedValue]="_selectedYear" [numCols]="4" [cellAspectRatio]="4 / 7" [activeCell]="_getActiveCell()" (selectedValueChange)="_yearSelected($event)" (keydown)="_handleCalendarBodyKeydown($event)"></tbody></table>',exportAs:"matMultiYearView",encapsulation:o.rb.None,changeDetection:o.j.OnPush}]}],e.ctorParameters=function(){return[{type:o.k},{type:Ap.c,decorators:[{type:o.R}]},{type:Rp.b,decorators:[{type:o.R}]}]},e.propDecorators={activeDate:[{type:o.G}],selected:[{type:o.G}],minDate:[{type:o.G}],maxDate:[{type:o.G}],dateFilter:[{type:o.G}],selectedChange:[{type:o.S}],yearSelected:[{type:o.S}],activeDateChange:[{type:o.S}],_matCalendarBody:[{type:o.ob,args:[Wp,{static:!1}]}]},e}(),Kp=function(){function e(e,t,n,i){if(this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=n,this._dir=i,this.selectedChange=new o.x,this.monthSelected=new o.x,this.activeDateChange=new o.x,!this._dateAdapter)throw Bp("DateAdapter");if(!this._dateFormats)throw Bp("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._selectedMonth=this._getMonthInCurrentYear(this._selected)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._init()},e.prototype._monthSelected=function(e){var t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1);this.monthSelected.emit(t);var n=this._dateAdapter.getNumDaysInMonth(t);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),n)))},e.prototype._handleCalendarBodyKeydown=function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case Tp.g:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case Tp.k:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case Tp.n:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Tp.b:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case Tp.f:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case Tp.c:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case Tp.j:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case Tp.i:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case Tp.d:case Tp.l:this._monthSelected(this._dateAdapter.getMonth(this._activeDate));break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()},e.prototype._init=function(){var e=this;this._selectedMonth=this._getMonthInCurrentYear(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);var t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(function(n){return n.map(function(n){return e._createCellForMonth(n,t[n])})}),this._changeDetectorRef.markForCheck()},e.prototype._focusActiveCell=function(){this._matCalendarBody._focusActiveCell()},e.prototype._getMonthInCurrentYear=function(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null},e.prototype._createCellForMonth=function(e,t){var n=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),this._dateFormats.display.monthYearA11yLabel);return new Np(e,t.toLocaleUpperCase(),n,this._shouldEnableMonth(e))},e.prototype._shouldEnableMonth=function(e){var t=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(var n=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1},e.prototype._isYearAndMonthAfterMaxDate=function(e,t){if(this.maxDate){var n=this._dateAdapter.getYear(this.maxDate),i=this._dateAdapter.getMonth(this.maxDate);return e>n||e===n&&t>i}return!1},e.prototype._isYearAndMonthBeforeMinDate=function(e,t){if(this.minDate){var n=this._dateAdapter.getYear(this.minDate),i=this._dateAdapter.getMonth(this.minDate);return e<n||e===n&&t<i}return!1},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e.prototype._isRtl=function(){return this._dir&&"rtl"===this._dir.value},e.decorators=[{type:o.n,args:[{selector:"mat-year-view",template:'<table class="mat-calendar-table" role="presentation"><thead class="mat-calendar-table-header"><tr><th class="mat-calendar-table-header-divider" colspan="4"></th></tr></thead><tbody mat-calendar-body [label]="_yearLabel" [rows]="_months" [todayValue]="_todayMonth" [selectedValue]="_selectedMonth" [labelMinRequiredCells]="2" [numCols]="4" [cellAspectRatio]="4 / 7" [activeCell]="_dateAdapter.getMonth(activeDate)" (selectedValueChange)="_monthSelected($event)" (keydown)="_handleCalendarBodyKeydown($event)"></tbody></table>',exportAs:"matYearView",encapsulation:o.rb.None,changeDetection:o.j.OnPush}]}],e.ctorParameters=function(){return[{type:o.k},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[Ap.f]}]},{type:Ap.c,decorators:[{type:o.R}]},{type:Rp.b,decorators:[{type:o.R}]}]},e.propDecorators={activeDate:[{type:o.G}],selected:[{type:o.G}],minDate:[{type:o.G}],maxDate:[{type:o.G}],dateFilter:[{type:o.G}],selectedChange:[{type:o.S}],monthSelected:[{type:o.S}],activeDateChange:[{type:o.S}],_matCalendarBody:[{type:o.ob,args:[Wp,{static:!1}]}]},e}(),$p=function(){function e(e,t,n,i,r){this._intl=e,this.calendar=t,this._dateAdapter=n,this._dateFormats=i,this.calendar.stateChanges.subscribe(function(){return r.markForCheck()})}return Object.defineProperty(e.prototype,"periodButtonText",{get:function(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);var e=this._dateAdapter.getYear(this.calendar.activeDate);return this._dateAdapter.getYearName(this._dateAdapter.createDate(e-e%24,0,1))+" \u2013 "+this._dateAdapter.getYearName(this._dateAdapter.createDate(e+24-1-e%24,0,1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"periodButtonLabel",{get:function(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prevButtonLabel",{get:function(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextButtonLabel",{get:function(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]},enumerable:!0,configurable:!0}),e.prototype.currentPeriodClicked=function(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"},e.prototype.previousClicked=function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)},e.prototype.nextClicked=function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)},e.prototype.previousEnabled=function(){return!this.calendar.minDate||(!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate))},e.prototype.nextEnabled=function(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)},e.prototype._isSameView=function(e,t){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):Math.floor(this._dateAdapter.getYear(e)/24)==Math.floor(this._dateAdapter.getYear(t)/24)},e.decorators=[{type:o.n,args:[{selector:"mat-calendar-header",template:'<div class="mat-calendar-header"><div class="mat-calendar-controls"><button mat-button type="button" class="mat-calendar-period-button" (click)="currentPeriodClicked()" [attr.aria-label]="periodButtonLabel" cdkAriaLive="polite">{{periodButtonText}}<div class="mat-calendar-arrow" [class.mat-calendar-invert]="calendar.currentView != \'month\'"></div></button><div class="mat-calendar-spacer"></div><ng-content></ng-content><button mat-icon-button type="button" class="mat-calendar-previous-button" [disabled]="!previousEnabled()" (click)="previousClicked()" [attr.aria-label]="prevButtonLabel"></button> <button mat-icon-button type="button" class="mat-calendar-next-button" [disabled]="!nextEnabled()" (click)="nextClicked()" [attr.aria-label]="nextButtonLabel"></button></div></div>',exportAs:"matCalendarHeader",encapsulation:o.rb.None,changeDetection:o.j.OnPush}]}],e.ctorParameters=function(){return[{type:Hp},{type:Xp,decorators:[{type:o.C,args:[Object(o.vb)(function(){return Xp})]}]},{type:Ap.c,decorators:[{type:o.R}]},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[Ap.f]}]},{type:o.k}]},e}(),Xp=function(){function e(e,t,n,i){var r=this;if(this._dateAdapter=t,this._dateFormats=n,this._changeDetectorRef=i,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new o.x,this.yearSelected=new o.x,this.monthSelected=new o.x,this._userSelection=new o.x,this.stateChanges=new E.a,!this._dateAdapter)throw Bp("DateAdapter");if(!this._dateFormats)throw Bp("MAT_DATE_FORMATS");this._intlChanges=e.changes.subscribe(function(){i.markForCheck(),r.stateChanges.next()})}return Object.defineProperty(e.prototype,"startAt",{get:function(){return this._startAt},set:function(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDate",{get:function(){return this._minDate},set:function(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{get:function(){return this._maxDate},set:function(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._clampedActiveDate},set:function(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentView",{get:function(){return this._currentView},set:function(e){this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._calendarHeaderPortal=new jp.d(this.headerComponent||$p),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView},e.prototype.ngAfterViewChecked=function(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())},e.prototype.ngOnDestroy=function(){this._intlChanges.unsubscribe(),this.stateChanges.complete()},e.prototype.ngOnChanges=function(e){var t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){var n=this._getCurrentViewComponent();n&&(this._changeDetectorRef.detectChanges(),n._init())}this.stateChanges.next()},e.prototype.focusActiveCell=function(){this._getCurrentViewComponent()._focusActiveCell()},e.prototype.updateTodaysDate=function(){("month"==this.currentView?this.monthView:"year"==this.currentView?this.yearView:this.multiYearView).ngAfterContentInit()},e.prototype._dateSelected=function(e){this._dateAdapter.sameDate(e,this.selected)||this.selectedChange.emit(e)},e.prototype._yearSelectedInMultiYearView=function(e){this.yearSelected.emit(e)},e.prototype._monthSelectedInYearView=function(e){this.monthSelected.emit(e)},e.prototype._userSelected=function(){this._userSelection.emit()},e.prototype._goToDateInView=function(e,t){this.activeDate=e,this.currentView=t},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e.prototype._getCurrentViewComponent=function(){return this.monthView||this.yearView||this.multiYearView},e.decorators=[{type:o.n,args:[{selector:"mat-calendar",template:'<ng-template [cdkPortalOutlet]="_calendarHeaderPortal"></ng-template><div class="mat-calendar-content" [ngSwitch]="currentView" cdkMonitorSubtreeFocus tabindex="-1"><mat-month-view *ngSwitchCase="\'month\'" [(activeDate)]="activeDate" [selected]="selected" [dateFilter]="dateFilter" [maxDate]="maxDate" [minDate]="minDate" [dateClass]="dateClass" (selectedChange)="_dateSelected($event)" (_userSelection)="_userSelected()"></mat-month-view><mat-year-view *ngSwitchCase="\'year\'" [(activeDate)]="activeDate" [selected]="selected" [dateFilter]="dateFilter" [maxDate]="maxDate" [minDate]="minDate" (monthSelected)="_monthSelectedInYearView($event)" (selectedChange)="_goToDateInView($event, \'month\')"></mat-year-view><mat-multi-year-view *ngSwitchCase="\'multi-year\'" [(activeDate)]="activeDate" [selected]="selected" [dateFilter]="dateFilter" [maxDate]="maxDate" [minDate]="minDate" (yearSelected)="_yearSelectedInMultiYearView($event)" (selectedChange)="_goToDateInView($event, \'year\')"></mat-multi-year-view></div>',styles:[".mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:0}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-next-button,.mat-calendar-previous-button{position:relative}.mat-calendar-next-button::after,.mat-calendar-previous-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:'';margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-next-button,[dir=rtl] .mat-calendar-previous-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:'';position:absolute;top:0;left:-8px;right:-8px;height:1px}"],host:{class:"mat-calendar"},exportAs:"matCalendar",encapsulation:o.rb.None,changeDetection:o.j.OnPush}]}],e.ctorParameters=function(){return[{type:Hp},{type:Ap.c,decorators:[{type:o.R}]},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[Ap.f]}]},{type:o.k}]},e.propDecorators={headerComponent:[{type:o.G}],startAt:[{type:o.G}],startView:[{type:o.G}],selected:[{type:o.G}],minDate:[{type:o.G}],maxDate:[{type:o.G}],dateFilter:[{type:o.G}],dateClass:[{type:o.G}],selectedChange:[{type:o.S}],yearSelected:[{type:o.S}],monthSelected:[{type:o.S}],_userSelection:[{type:o.S}],monthView:[{type:o.ob,args:[Yp,{static:!1}]}],yearView:[{type:o.ob,args:[Kp,{static:!1}]}],multiYearView:[{type:o.ob,args:[Up,{static:!1}]}]},e}(),qp={transformPanel:Object(P.o)("transformPanel",[Object(P.l)("void",Object(P.m)({opacity:0,transform:"scale(1, 0.8)"})),Object(P.n)("void => enter",Object(P.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(P.m)({opacity:1,transform:"scale(1, 1)"}))),Object(P.n)("* => void",Object(P.e)("100ms linear",Object(P.m)({opacity:0})))]),fadeInCalendar:Object(P.o)("fadeInCalendar",[Object(P.l)("void",Object(P.m)({opacity:0})),Object(P.l)("enter",Object(P.m)({opacity:1})),Object(P.n)("void => *",Object(P.e)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Zp=0,Qp=new o.E("mat-datepicker-scroll-strategy");var Jp={provide:Qp,deps:[Lp.b],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},eu=function(){return function(e){this._elementRef=e}}(),tu=function(e){function t(t){return e.call(this,t)||this}return Object(r.d)(t,e),t.prototype.ngAfterViewInit=function(){this._calendar.focusActiveCell()},t.decorators=[{type:o.n,args:[{selector:"mat-datepicker-content",template:'<mat-calendar cdkTrapFocus [id]="datepicker.id" [ngClass]="datepicker.panelClass" [startAt]="datepicker.startAt" [startView]="datepicker.startView" [minDate]="datepicker._minDate" [maxDate]="datepicker._maxDate" [dateFilter]="datepicker._dateFilter" [headerComponent]="datepicker.calendarHeaderComponent" [selected]="datepicker._selected" [dateClass]="datepicker.dateClass" [@fadeInCalendar]="\'enter\'" (selectedChange)="datepicker.select($event)" (yearSelected)="datepicker._selectYear($event)" (monthSelected)="datepicker._selectMonth($event)" (_userSelection)="datepicker.close()"></mat-calendar>',styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation:landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation:portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}"],host:{class:"mat-datepicker-content","[@transformPanel]":'"enter"',"[class.mat-datepicker-content-touch]":"datepicker.touchUi"},animations:[qp.transformPanel,qp.fadeInCalendar],exportAs:"matDatepickerContent",encapsulation:o.rb.None,changeDetection:o.j.OnPush,inputs:["color"]}]}],t.ctorParameters=function(){return[{type:o.u}]},t.propDecorators={_calendar:[{type:o.ob,args:[Xp,{static:!1}]}]},t}(Object(Ap.w)(eu)),nu=function(){function e(e,t,n,i,r,a,s,l){if(this._dialog=e,this._overlay=t,this._ngZone=n,this._viewContainerRef=i,this._dateAdapter=a,this._dir=s,this._document=l,this.startView="month",this._touchUi=!1,this.yearSelected=new o.x,this.monthSelected=new o.x,this.openedStream=new o.x,this.closedStream=new o.x,this._opened=!1,this.id="mat-datepicker-"+Zp++,this._validSelected=null,this._focusedElementBeforeOpen=null,this._inputSubscription=G.a.EMPTY,this._disabledChange=new E.a,this._selectedChanged=new E.a,!this._dateAdapter)throw Bp("DateAdapter");this._scrollStrategy=r}return Object.defineProperty(e.prototype,"startAt",{get:function(){return this._startAt||(this._datepickerInput?this._datepickerInput.value:null)},set:function(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color||(this._datepickerInput?this._datepickerInput._getThemePalette():void 0)},set:function(e){this._color=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touchUi",{get:function(){return this._touchUi},set:function(e){this._touchUi=Object(Fp.c)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled},set:function(e){var t=Object(Fp.c)(e);t!==this._disabled&&(this._disabled=t,this._disabledChange.next(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opened",{get:function(){return this._opened},set:function(e){e?this.open():this.close()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_selected",{get:function(){return this._validSelected},set:function(e){this._validSelected=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_minDate",{get:function(){return this._datepickerInput&&this._datepickerInput.min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_maxDate",{get:function(){return this._datepickerInput&&this._datepickerInput.max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_dateFilter",{get:function(){return this._datepickerInput&&this._datepickerInput._dateFilter},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.close(),this._inputSubscription.unsubscribe(),this._disabledChange.complete(),this._popupRef&&(this._popupRef.dispose(),this._popupComponentRef=null)},e.prototype.select=function(e){var t=this._selected;this._selected=e,this._dateAdapter.sameDate(t,this._selected)||this._selectedChanged.next(e)},e.prototype._selectYear=function(e){this.yearSelected.emit(e)},e.prototype._selectMonth=function(e){this.monthSelected.emit(e)},e.prototype._registerInput=function(e){var t=this;if(this._datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");this._datepickerInput=e,this._inputSubscription=this._datepickerInput._valueChange.subscribe(function(e){return t._selected=e})},e.prototype.open=function(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}},e.prototype.close=function(){var e=this;if(this._opened){this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null),this._calendarPortal&&this._calendarPortal.isAttached&&this._calendarPortal.detach();var t=function(){e._opened&&(e._opened=!1,e.closedStream.emit(),e._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}},e.prototype._openAsDialog=function(){var e=this;this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(tu,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog"}),this._dialogRef.afterClosed().subscribe(function(){return e.close()}),this._dialogRef.componentInstance.datepicker=this,this._setColor()},e.prototype._openAsPopup=function(){var e=this;this._calendarPortal||(this._calendarPortal=new jp.d(tu,this._viewContainerRef)),this._popupRef||this._createPopup(),this._popupRef.hasAttached()||(this._popupComponentRef=this._popupRef.attach(this._calendarPortal),this._popupComponentRef.instance.datepicker=this,this._setColor(),this._ngZone.onStable.asObservable().pipe(Object(N.a)(1)).subscribe(function(){e._popupRef.updatePosition()}))},e.prototype._createPopup=function(){var e=this,t=new Lp.c({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),Object(V.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Object(B.a)(function(t){return t.keyCode===Tp.e||e._datepickerInput&&t.altKey&&t.keyCode===Tp.n}))).subscribe(function(t){t&&t.preventDefault(),e.close()})},e.prototype._createPopupPositionStrategy=function(){return this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e.prototype._setColor=function(){var e=this.color;this._popupComponentRef&&(this._popupComponentRef.instance.color=e),this._dialogRef&&(this._dialogRef.componentInstance.color=e)},e.decorators=[{type:o.n,args:[{selector:"mat-datepicker",template:"",exportAs:"matDatepicker",changeDetection:o.j.OnPush,encapsulation:o.rb.None}]}],e.ctorParameters=function(){return[{type:f.b},{type:Lp.b},{type:o.Q},{type:o.qb},{type:void 0,decorators:[{type:o.C,args:[Qp]}]},{type:Ap.c,decorators:[{type:o.R}]},{type:Rp.b,decorators:[{type:o.R}]},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[a.c]}]}]},e.propDecorators={calendarHeaderComponent:[{type:o.G}],startAt:[{type:o.G}],startView:[{type:o.G}],color:[{type:o.G}],touchUi:[{type:o.G}],disabled:[{type:o.G}],yearSelected:[{type:o.S}],monthSelected:[{type:o.S}],panelClass:[{type:o.G}],dateClass:[{type:o.G}],openedStream:[{type:o.S,args:["opened"]}],closedStream:[{type:o.S,args:["closed"]}],opened:[{type:o.G}]},e}(),iu={provide:l.h,useExisting:Object(o.vb)(function(){return au}),multi:!0},ru={provide:l.g,useExisting:Object(o.vb)(function(){return au}),multi:!0},ou=function(){return function(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}(),au=function(){function e(e,t,n,i){var r=this;if(this._elementRef=e,this._dateAdapter=t,this._dateFormats=n,this._formField=i,this.dateChange=new o.x,this.dateInput=new o.x,this._valueChange=new o.x,this._disabledChange=new o.x,this._onTouched=function(){},this._cvaOnChange=function(){},this._validatorOnChange=function(){},this._datepickerSubscription=G.a.EMPTY,this._localeSubscription=G.a.EMPTY,this._parseValidator=function(){return r._lastValueValid?null:{matDatepickerParse:{text:r._elementRef.nativeElement.value}}},this._minValidator=function(e){var t=r._getValidDateOrNull(r._dateAdapter.deserialize(e.value));return!r.min||!t||r._dateAdapter.compareDate(r.min,t)<=0?null:{matDatepickerMin:{min:r.min,actual:t}}},this._maxValidator=function(e){var t=r._getValidDateOrNull(r._dateAdapter.deserialize(e.value));return!r.max||!t||r._dateAdapter.compareDate(r.max,t)>=0?null:{matDatepickerMax:{max:r.max,actual:t}}},this._filterValidator=function(e){var t=r._getValidDateOrNull(r._dateAdapter.deserialize(e.value));return r._dateFilter&&t&&!r._dateFilter(t)?{matDatepickerFilter:!0}:null},this._validator=l.m.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw Bp("DateAdapter");if(!this._dateFormats)throw Bp("MAT_DATE_FORMATS");this._localeSubscription=t.localeChanges.subscribe(function(){r.value=r.value})}return Object.defineProperty(e.prototype,"matDatepicker",{set:function(e){var t=this;e&&(this._datepicker=e,this._datepicker._registerInput(this),this._datepickerSubscription.unsubscribe(),this._datepickerSubscription=this._datepicker._selectedChanged.subscribe(function(e){t.value=e,t._cvaOnChange(e),t._onTouched(),t.dateInput.emit(new ou(t,t._elementRef.nativeElement)),t.dateChange.emit(new ou(t,t._elementRef.nativeElement))}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matDatepickerFilter",{set:function(e){this._dateFilter=e,this._validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=!e||this._dateAdapter.isValid(e),e=this._getValidDateOrNull(e);var t=this.value;this._value=e,this._formatValue(e),this._dateAdapter.sameDate(t,e)||this._valueChange.emit(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(e){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(e){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return!!this._disabled},set:function(e){var t=Object(Fp.c)(e),n=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this._disabledChange.emit(t)),t&&n.blur&&n.blur()},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()},e.prototype.registerOnValidatorChange=function(e){this._validatorOnChange=e},e.prototype.validate=function(e){return this._validator?this._validator(e):null},e.prototype.getPopupConnectionElementRef=function(){return this.getConnectedOverlayOrigin()},e.prototype.getConnectedOverlayOrigin=function(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this._cvaOnChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype._onKeydown=function(e){var t=e.altKey&&e.keyCode===Tp.b;this._datepicker&&t&&!this._elementRef.nativeElement.readOnly&&(this._datepicker.open(),e.preventDefault())},e.prototype._onInput=function(e){var t=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=!t||this._dateAdapter.isValid(t),t=this._getValidDateOrNull(t),this._dateAdapter.sameDate(t,this._value)?this._validatorOnChange():(this._value=t,this._cvaOnChange(t),this._valueChange.emit(t),this.dateInput.emit(new ou(this,this._elementRef.nativeElement)))},e.prototype._onChange=function(){this.dateChange.emit(new ou(this,this._elementRef.nativeElement))},e.prototype._getThemePalette=function(){return this._formField?this._formField.color:void 0},e.prototype._onBlur=function(){this.value&&this._formatValue(this.value),this._onTouched()},e.prototype._formatValue=function(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""},e.prototype._getValidDateOrNull=function(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null},e.decorators=[{type:o.t,args:[{selector:"input[matDatepicker]",providers:[iu,ru,{provide:Gp.a,useExisting:e}],host:{"aria-haspopup":"dialog","[attr.aria-owns]":"(_datepicker?.opened && _datepicker.id) || null","[attr.min]":"min ? _dateAdapter.toIso8601(min) : null","[attr.max]":"max ? _dateAdapter.toIso8601(max) : null","[disabled]":"disabled","(input)":"_onInput($event.target.value)","(change)":"_onChange()","(blur)":"_onBlur()","(keydown)":"_onKeydown($event)"},exportAs:"matDatepickerInput"}]}],e.ctorParameters=function(){return[{type:o.u},{type:Ap.c,decorators:[{type:o.R}]},{type:void 0,decorators:[{type:o.R},{type:o.C,args:[Ap.f]}]},{type:Mp.a,decorators:[{type:o.R}]}]},e.propDecorators={matDatepicker:[{type:o.G}],matDatepickerFilter:[{type:o.G}],value:[{type:o.G}],min:[{type:o.G}],max:[{type:o.G}],disabled:[{type:o.G}],dateChange:[{type:o.S}],dateInput:[{type:o.S}]},e}(),su=function(){function e(){}return e.decorators=[{type:o.t,args:[{selector:"[matDatepickerToggleIcon]"}]}],e}(),lu=function(){function e(e,t,n){this._intl=e,this._changeDetectorRef=t,this._stateChanges=G.a.EMPTY;var i=Number(n);this.tabIndex=i||0===i?i:null}return Object.defineProperty(e.prototype,"disabled",{get:function(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled},set:function(e){this._disabled=Object(Fp.c)(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){e.datepicker&&this._watchStateChanges()},e.prototype.ngOnDestroy=function(){this._stateChanges.unsubscribe()},e.prototype.ngAfterContentInit=function(){this._watchStateChanges()},e.prototype._open=function(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())},e.prototype._watchStateChanges=function(){var e=this,t=this.datepicker?this.datepicker._disabledChange:Object(Ep.a)(),n=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:Object(Ep.a)(),i=this.datepicker?Object(V.a)(this.datepicker.openedStream,this.datepicker.closedStream):Object(Ep.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(V.a)(this._intl.changes,t,n,i).subscribe(function(){return e._changeDetectorRef.markForCheck()})},e.decorators=[{type:o.n,args:[{selector:"mat-datepicker-toggle",template:'<button #button mat-icon-button type="button" aria-haspopup="dialog" [attr.aria-label]="_intl.openCalendarLabel" [attr.tabindex]="disabled ? -1 : tabIndex" [disabled]="disabled" [disableRipple]="disableRipple" (click)="_open($event)"><svg *ngIf="!_customIcon" class="mat-datepicker-toggle-default-icon" viewBox="0 0 24 24" width="24px" height="24px" fill="currentColor" focusable="false"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg><ng-content select="[matDatepickerToggleIcon]"></ng-content></button>',styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}"],host:{class:"mat-datepicker-toggle","[attr.tabindex]":"-1","[class.mat-datepicker-toggle-active]":"datepicker && datepicker.opened","[class.mat-accent]":'datepicker && datepicker.color === "accent"',"[class.mat-warn]":'datepicker && datepicker.color === "warn"',"(focus)":"_button.focus()"},exportAs:"matDatepickerToggle",encapsulation:o.rb.None,changeDetection:o.j.OnPush}]}],e.ctorParameters=function(){return[{type:Hp},{type:o.k},{type:String,decorators:[{type:o.h,args:["tabindex"]}]}]},e.propDecorators={datepicker:[{type:o.G,args:["for"]}],tabIndex:[{type:o.G}],disabled:[{type:o.G}],disableRipple:[{type:o.G}],_customIcon:[{type:o.r,args:[su,{static:!1}]}],_button:[{type:o.ob,args:["button",{static:!1}]}]},e}(),cu=function(){function e(){}return e.decorators=[{type:o.L,args:[{imports:[a.b,zp.a,f.c,Lp.e,Vp.a,jp.h],exports:[Xp,Wp,nu,tu,au,lu,su,Yp,Kp,Up,$p],declarations:[Xp,Wp,nu,tu,au,lu,su,Yp,Kp,Up,$p],providers:[Hp,Jp],entryComponents:[tu,$p]}]}],e}(),du=function(){function e(){}return e=r.c([Object(o.L)({declarations:[y],exports:[y,u.b,h.c,g.b],imports:[a.b,s.a,l.l,l.f,c.b,Mo,Ua,cu,Ap.m]})],e)}(),pu=n("vDEm"),uu=function(){function e(){}return e=r.c([Object(o.L)({declarations:[b],exports:[],imports:[a.b,s.a,l.l,l.f,c.b,Mo,Ua],providers:[pu.a]})],e)}(),hu=function(){function e(){}return e=r.c([Object(o.L)({declarations:[x,v],imports:[a.b,s.a,l.l,l.f,c.b,Mo,Ua],providers:[pu.a],entryComponents:[v]})],e)}();n.d(t,"ControlerModule",function(){return gu});var gu=function(){function e(){}return e=r.c([Object(o.L)({declarations:[d],imports:[a.b,s.a,w,Pp,l.l,du,uu,hu]})],e)}()},Q1FS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("yx2s"),r=n("Xwq/"),o=n("zfKp"),a=n("9AGB"),s=n("n3uD"),l=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this.operator,o=r.toSubscriber(e,t,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||s.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),s.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){s.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),i.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=c(t))(function(t,i){var r;r=n.subscribe(function(t){try{e(t)}catch(n){i(n),r&&r.unsubscribe()}},i,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=c(e))(function(e,n){var i;t.subscribe(function(e){return i=e},function(e){return n(e)},function(){return e(i)})})},e.create=function(t){return new e(t)},e}();function c(e){if(e||(e=s.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=l},"QYs+":function(e,t){e.exports='<mat-card class="mat-elevation-z1">\r\n  <mat-card-header>\r\n    <mat-card-title class="card-title">\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0437\u0432\u043e\u043d\u043a\u043e\u0432</mat-card-title>\r\n    <div id="fountainG" [hidden]="hiddenloader">\r\n      <div id="fountainG_1" class="fountainG"></div>\r\n      <div id="fountainG_2" class="fountainG"></div>\r\n      <div id="fountainG_3" class="fountainG"></div>\r\n      <div id="fountainG_4" class="fountainG"></div>\r\n      <div id="fountainG_5" class="fountainG"></div>\r\n      <div id="fountainG_6" class="fountainG"></div>\r\n      <div id="fountainG_7" class="fountainG"></div>\r\n      <div id="fountainG_8" class="fountainG"></div>\r\n    </div>\r\n  </mat-card-header>\r\n  <div class="filter clearfix">\r\n    <input type="date" placeholder="Choose a date" (change)="verifyRange($event)" [(ngModel)]="btnDate">\r\n    <select [(ngModel)]="dateCollection" (ngModelChange)="toFormatDate(dateCollection)">\r\n      <option *ngFor="let dateCollection of dateCollections">{{dateCollection}}</option>\r\n    </select>\r\n    <select [(ngModel)]="numberWeek" (change)="weekChnege()">\r\n      <option [ngValue]=1>\u041f\u0435\u0440\u0432\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f</option>\r\n      <option [ngValue]=2>\u0412\u0442\u043e\u0440\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f</option>\r\n      <option [ngValue]=3>\u0422\u0440\u0435\u0442\u044c\u044f \u043d\u0435\u0434\u0435\u043b\u044f</option>\r\n      <option [ngValue]=4>\u0427\u0435\u0442\u0432\u0435\u0440\u0442\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f</option>\r\n      <option [ngValue]=5>\u041f\u044f\u0442\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f</option>\r\n    </select>\r\n    <button (click)="hiddenCalendar()">{{btnDate1}}</button>\r\n    <div [hidden]="calendarHidden" class="blockCalendar">\r\n      <div class="calendar">\r\n        <igx-calendar (onSelection)="verifyRange1($event)" selection="range"></igx-calendar>\r\n      </div>\r\n      <div class="sortbloc">\r\n        <button (click)="sortDateCall(1)" class="btnSort">\u0417\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f</button><br />\r\n        <button (click)="sortDateCall(2)" class="btnSort">\u0417\u0430 \u0421\u0435\u0433\u043e\u0434\u043d\u044f</button><br />\r\n        <button (click)="sortDateCall(3)" class="btnSort">\u0417\u0430 \u0412\u0447\u0435\u0440\u0430</button><br />\r\n        <button (click)="sortDateCall(4)" class="btnSort">\u0417\u0430 \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 7 \u0414\u043d\u0435\u0439</button><br />\r\n        <button (click)="sortDateCall(5)" class="btnSort">3\u0430 \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 30 \u0414\u043d\u0435\u0439</button><br />\r\n        <button (click)="sortDateCall(6)" class="btnSort">\u0417\u0430 \u0422\u0435\u043a\u0443\u0449\u044e\u044e \u043d\u0435\u0434\u0435\u043b\u044e</button><br />\r\n        <button (click)="sortDateCall(7)" class="btnSort">\u0417\u0430 \u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u041c\u0435\u0441\u044f\u0446</button><br />\r\n        <button (click)="sortDateCall(8)" class="btnSort">\u0417\u0430 \u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0433\u043e\u0434</button><br />\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="workgroups-wrapper">\r\n    <div class="workgroup-item" *ngFor="let workgroup of statistickCallModel">\r\n      <div class="workgroup-title clearfix">\r\n        <span>\r\n          <h3> \u0420\u0435\u0433\u0438\u043e\u043d: {{workgroup.title}}</h3>\r\n        </span>\r\n        <br />\r\n        <span>\r\n          <h5> \u041c\u0421 \u27f9 {{workgroup.escortManagerName}}</h5>\r\n        </span><br />\r\n               <span>\r\n                 \u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b: {{getStartWorkManager(workgroup.escortManagerId, workgroup.workgroupId)}}\r\n               </span><br />\r\n                      <span>\r\n                        \u041a\u043e\u043d\u0435\u0446 \u0440\u0430\u0431\u043e\u0442\u044b: {{getEndWorkManager(workgroup.escortManagerId, workgroup.workgroupId)}}\r\n                      </span>\r\n      </div>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th style="max-width:50px;background:#62b4ff;border-color:white;color:white"></th>\r\n            <th style="border-color:white;background:#62b4ff;color:white">\u0414\u0435\u043d\u044c</th>\r\n            <th style="border-color:white;background:#62b4ff;color:white">\u041d\u0435\u0434\u0435\u043b\u044f</th>\r\n            <th style="border-color:white;background:#62b4ff;color:white;">\u041c\u0435\u0441\u044f\u0446</th>\r\n            <th style="border-color:white;background:#62b4ff;color:white;">\u041f\u0435\u0440\u0438\u043e\u0434</th>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:50px"></th>\r\n            <th>{{btnDate}}</th>\r\n            <th>{{getPeriudWeek()}}</th>\r\n            <th>{{dateCollection}}</th>\r\n            <th>{{btnDate1}}</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0412\u0441\u0435 \u0437\u0432\u043e\u043d\u043a\u0438</th>\r\n            <td>{{getToDayAllCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekAllCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthAllCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodAllCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0411\u043e\u043b\u0435\u0435 2,5 \u043c\u0438\u043d</th>\r\n            <td>{{getToDayMore2and5Call(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekMore2and5Call(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthMore2and5Call(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodoreMore2and5Call(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u041c\u0435\u043d\u0435\u0435 2.5 \u043c\u0438\u043d, \u0431\u043e\u043b\u0435\u0435 10 \u0441\u0435\u043a</th>\r\n            <td>{{getToDaySmaller2and5AndMore10SCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekSmaller2and5AndMore10SCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthSmaller2and5AndMore10SCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodoreSmale2More10sCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u041c\u0435\u043d\u0435\u0435 10 \u0441\u0435\u043a</th>\r\n            <td>{{getToDaySmaller10SCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekSmaller10SCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthSmaller10SCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodSmaller10SCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0417\u0432\u043e\u043d\u043a\u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f</th>\r\n            <td>{{getToDayDevelopmentCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekDevelopmentCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthDevelopmentCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodDevelall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0417\u0432\u043e\u043d\u043a\u0438 \u043a\u043e\u043b\u043b\u0435\u0433\u0430\u043c</th>\r\n            <td>{{getToDayToColleaguesCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekToColleaguesCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthColleaguesCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodColleaguesCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435</th>\r\n            <td>{{getToDayOutgoingCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekOutgoingCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthOutgoingCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodOutgoingCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435</th>\r\n            <td>{{getToDayInboxCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekInboxCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthInboxCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodInboxCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u041d\u0435\u043e\u0442\u0432\u0435\u0447\u0435\u043d\u043d\u044b\u0435</th>\r\n            <td>{{getToDayUnansweredCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekUnansweredCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthUnansweredCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodUnanswereCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c</th>\r\n            <td>{{getToDayDurationsCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekDurationsCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthDurationsCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodDurationsCall(workgroup.escortManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div class="workgroup-title clearfix" style="border-radius:0px">\r\n        <span>\r\n          <h5>\u0420\u041c \u27f9 {{workgroup.regionalManagerName}}</h5>\r\n        </span><br />\r\n               <span>\r\n                 \u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b: {{getStartWorkManager(workgroup.regionalManagerId, workgroup.workgroupId)}}\r\n               </span><br />\r\n                      <span>\r\n                        \u041a\u043e\u043d\u0435\u0446 \u0440\u0430\u0431\u043e\u0442\u044b: {{getEndWorkManager(workgroup.regionalManagerId, workgroup.workgroupId)}}\r\n                      </span>\r\n      </div>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th style="border-color:white;max-width:50px;background:#62b4ff;color:white"></th>\r\n            <th style="border-color:white;background:#62b4ff;color:white">\u0414\u0435\u043d\u044c</th>\r\n            <th style="border-color:white;background:#62b4ff;color:white">\u041d\u0435\u0434\u0435\u043b\u044f</th>\r\n            <th style="border-color:white;background:#62b4ff;color:white">\u041c\u0435\u0441\u044f\u0446</th>\r\n            <th style="border-color:white;background:#62b4ff;color:white">\u041f\u0435\u0440\u0438\u043e\u0434</th>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:50px !important"></th>\r\n            <th>{{btnDate}}</th>\r\n            <th>{{getPeriudWeek()}}</th>\r\n            <th>{{dateCollection}}</th>\r\n            <th>{{btnDate1}}</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0412\u0441\u0435 \u0437\u0432\u043e\u043d\u043a\u0438</th>\r\n            <td>{{getToDayAllCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekAllCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthAllCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodAllCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0411\u043e\u043b\u0435\u0435 2,5 \u043c\u0438\u043d</th>\r\n            <td>{{getToDayMore2and5Call(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekMore2and5Call(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthMore2and5Call(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodoreMore2and5Call(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u041c\u0435\u043d\u0435\u0435 2.5 \u043c\u0438\u043d, \u0431\u043e\u043b\u0435\u0435 10 \u0441\u0435\u043a</th>\r\n            <td>{{getToDaySmaller2and5AndMore10SCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekSmaller2and5AndMore10SCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthSmaller2and5AndMore10SCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodoreSmale2More10sCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u041c\u0435\u043d\u0435\u0435 10 \u0441\u0435\u043a</th>\r\n            <td>{{getToDaySmaller10SCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekSmaller10SCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthSmaller10SCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodSmaller10SCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0417\u0432\u043e\u043d\u043a\u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f</th>\r\n            <td>{{getToDayDevelopmentCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekDevelopmentCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthDevelopmentCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodDevelall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0417\u0432\u043e\u043d\u043a\u0438 \u043a\u043e\u043b\u043b\u0435\u0433\u0430\u043c</th>\r\n            <td>{{getToDayToColleaguesCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekToColleaguesCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthColleaguesCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodColleaguesCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435</th>\r\n            <td>{{getToDayOutgoingCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekOutgoingCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthOutgoingCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodOutgoingCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435</th>\r\n            <td>{{getToDayInboxCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekInboxCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthInboxCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodInboxCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u041d\u0435\u043e\u0442\u0432\u0435\u0447\u0435\u043d\u043d\u044b\u0435</th>\r\n            <td>{{getToDayUnansweredCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekUnansweredCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthUnansweredCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodUnanswereCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n          <tr>\r\n            <th style="max-width:100px !important">\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c</th>\r\n            <td>{{getToDayDurationsCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getWeekDurationsCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getMonthDurationsCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n            <td>{{getPeriodDurationsCall(workgroup.regionalManagerId, workgroup.workgroupId)}}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</mat-card>\r\n'},V73Z:function(e,t){e.exports='<div class="sidebar-menu-container" [class.opened]="_isMobile() && _opened" *ngIf="_isMobile()">\r\n  <div class="sidebar-menu">\r\n    <div class="menu-item" routerLinkActive="active">\r\n      <span class="item-text"><a href="admin">\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c</a></span>\r\n    </div>\r\n    <div class="menu-item" routerLink="calls" routerLinkActive="active">\r\n      <span class="item-text">\u0417\u0432\u043e\u043d\u043a\u0438</span>\r\n    </div>\r\n    <div class="menu-item" routerLink="report" routerLinkActive="active">\r\n      <span class="item-text">\u041e\u0442\u0447\u0435\u0442</span>\r\n    </div>\r\n    <div class="menu-item" routerLink="clients" routerLinkActive="active">\r\n      <span class="item-text">\u041a\u043b\u0438\u0435\u043d\u0442\u044b</span>\r\n    </div>\r\n    <div class="menu-item" routerLink="plan-task" routerLinkActive="active">\r\n      <span class="item-text">\u041f\u043b\u0430\u043d</span>\r\n    </div>\r\n\r\n    <div class="logout">\r\n      \u0412\u044b\u0445\u043e\u0434\r\n      <i class="fas fa-sign-out-alt" (click)="logout()"></i>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<mat-toolbar class="mat-elevation-z2">\r\n  <div class="logo">\r\n    <img height="80" width="80" src="../../Icon/logo.png" />\r\n  </div>\r\n  <nav>\r\n    <div><a href="admin" routerLinkActive="active">\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c</a></div>\r\n    <div><a routerLink="calls" routerLinkActive="active">\u0417\u0432\u043e\u043d\u043a\u0438</a></div>\r\n    <div><a routerLink="report" routerLinkActive="active">\u041e\u0442\u0447\u0435\u0442</a></div>\r\n    <div><a routerLink="clients" routerLinkActive="active">\u041a\u043b\u0438\u0435\u043d\u0442\u044b</a></div>\r\n    <div><a routerLink="plan-task" routerLinkActive="active">\u041f\u043b\u0430\u043d</a></div>\r\n  </nav>\r\n\r\n  <div class="logout">\r\n    <span>\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440: {{manager?.login}}</span>\r\n    <span class="logout-icon">\r\n      <i class="fas fa-sign-out-alt" (click)="logout()"></i>\r\n    </span>\r\n  </div>\r\n\r\n  <div class="menu-icon">\r\n    <img height="30" width="30" [src]="_getMenuIcon()" (click)="_toggleSidebar()">\r\n  </div>\r\n</mat-toolbar>\r\n\r\n<div class="overlay" [class.opened]="_isMobile() && _opened"></div>\r\n\r\n<div class="wrapper">\r\n  <router-outlet></router-outlet>\r\n</div>'},"Xwq/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("FWf1"),r=n("p//D"),o=n("GiSu");t.toSubscriber=function(e,t,n){if(e){if(e instanceof i.Subscriber)return e;if(e[r.rxSubscriber])return e[r.rxSubscriber]()}return e||t||n?new i.Subscriber(e,t,n):new i.Subscriber(o.empty)}},cwJ8:function(e,t){e.exports='<div class="dialog-title">\r\n  <h3 mat-dialog-title>\u0417\u0432\u043e\u043d\u043a\u0438</h3>\r\n</div>\r\n\r\n<mat-dialog-content>\r\n  <button class="close" (click)="close()"><i class="fas fa-times fa-2x"></i></button>\r\n  <div style="margin:10px">\r\n    <table mat-table [dataSource]="data" [hidden]="_isMobile()">\r\n\r\n      <ng-container matColumnDef="status">\r\n        <th colspan="1" mat-header-cell *matHeaderCellDef></th>\r\n        <td colspan="1" mat-cell *matCellDef="let element" [style.background]="setBagroundStatus(element)"></td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="statusCall">\r\n        <th colspan="4" mat-header-cell *matHeaderCellDef>\u0421\u0442\u0430\u0442\u0443\u0441</th>\r\n        <td colspan="4" mat-cell *matCellDef="let element">\r\n          <div class="action-circle" [style.background]="getActionColor(element)">\r\n          </div>\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="direction">\r\n        <th colspan="4" mat-header-cell *matHeaderCellDef>\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0432\u043e\u043d\u043a\u0430</th>\r\n        <td colspan="4" mat-cell *matCellDef="let element">\r\n          <img src="Icon/yesIncoming.png" height="30" width="30"\r\n            *ngIf="element.direction == \'\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations != 0" />\r\n          <img src="Icon/yesOutgoing.png" height="30" width="30"\r\n            *ngIf="element.direction == \'\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations != 0" />\r\n          <img src="Icon/noOutgoing.png" height="30" width="30"\r\n            *ngIf="element.direction == \'\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations == 0" />\r\n          <img src="Icon/noIncoming.png" height="30" width="30"\r\n            *ngIf="element.direction == \'\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations == 0" />\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="title">\r\n        <th colspan="4" mat-header-cell *matHeaderCellDef>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435</th>\r\n        <td colspan="4" mat-cell *matCellDef="let element">{{element.titleClient}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="phone">\r\n        <th colspan="4" mat-header-cell *matHeaderCellDef>\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b</th>\r\n        <td colspan="4" mat-cell *matCellDef="let element">{{element.phone}}</td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="duration">\r\n        <th colspan="4" mat-header-cell *matHeaderCellDef>\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438..</th>\r\n        <td colspan="4" mat-cell *matCellDef="let element" style="max-width: 300px">{{element.durations}} \u0421\u0435\u043a</td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="date">\r\n        <th colspan="4" mat-header-cell *matHeaderCellDef>\u0414\u0430\u0442\u0430</th>\r\n        <td colspan="4" mat-cell *matCellDef="let element">{{element.date}}</td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="comentCon">\r\n        <th colspan="14" mat-header-cell *matHeaderCellDef>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440\u0430</th>\r\n        <td colspan="14" mat-cell *matCellDef="let element">\r\n          <textarea *ngIf="element.contactType != 50"\r\n            style="width:100%;height:60px;margin-top: 15px;">{{element.callsComments?.comment}}</textarea><br />\r\n          <div class="btnContainer">\r\n            <button *ngIf="element.contactType != 50" (click)="setNoAccept($event, element.id, element.clientId)"\r\n              class="btnAccept btnReject">\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c</button>\r\n            <button *ngIf="element.contactType != 50" (click)="setAccept($event, element.id, element.clientId)"\r\n              class="btnAccept btnFixed">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e</button>\r\n          </div>\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="comentCli">\r\n        <th colspan="7" mat-header-cell *matHeaderCellDef>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430</th>\r\n        <td colspan="7" mat-cell *matCellDef="let element">{{element.callsComments?.managerComment}}</td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="refAudio">\r\n        <th class="audio-cell" mat-header-cell *matHeaderCellDef>\u0410\u0443\u0434\u0438\u043e \u0437\u0430\u043f\u0438\u0441\u044c</th>\r\n        <td class="audio-cell" mat-cell *matCellDef="let element">\r\n          <img *ngIf="element.contactType != 50" (click)="playAudio($event, element.id, element.referenceAudioVoice)"\r\n            class="audio-cell-icon" [src]="_display_audio_icon(element.id)" />\r\n          <audio class="audio-cell audio-cell-play" style="height:20px" controls preload="none"\r\n            src="{{element.referenceAudioVoice}}"></audio>\r\n      </ng-container>\r\n\r\n      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\r\n      <tr mat-row *matRowDef="let row; columns: displayedColumns;" (dblclick)="openEditClientForm(row)"></tr>\r\n    </table>\r\n\r\n    <div class="bodyAllExpansion" [hidden]="!_isMobile()">\r\n      <mat-accordion>\r\n        <ng-container class="table-expansion-element" *ngFor="let element of data; let idx = index">\r\n          <mat-expansion-panel>\r\n            <mat-expansion-panel-header>\r\n              <mat-panel-title>\r\n                <div class="status" [style.background]="setBagroundStatus(element)"></div>\r\n                <div>\r\n                  {{element.titleClient}}\r\n                </div>\r\n              </mat-panel-title>\r\n            </mat-expansion-panel-header>\r\n            <div class="table-expansion-element-body">\r\n              <div class="element-item statusCall">\r\n                <b>\u0421\u0442\u0430\u0442\u0443\u0441:</b>\r\n                <div class="action-circle" [style.background]="getActionColor(element)"></div>\r\n              </div>\r\n              <div class="element-item direction">\r\n                <b> \u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0432\u043e\u043d\u043a\u0430:</b>\r\n                <img src="Icon/yesIncoming.png" height="30" width="30"\r\n                  *ngIf="element.direction == \'\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations != 0" />\r\n                <img src="Icon/yesOutgoing.png" height="30" width="30"\r\n                  *ngIf="element.direction == \'\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations != 0" />\r\n                <img src="Icon/noOutgoing.png" height="30" width="30"\r\n                  *ngIf="element.direction == \'\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations == 0" />\r\n                <img src="Icon/noIncoming.png" height="30" width="30"\r\n                  *ngIf="element.direction == \'\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439\' && element.durations == 0" />\r\n              </div>\r\n              <div class="element-item title"><b>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:</b> {{element.titleClient}}</div>\r\n              <div class="element-item phone"><b>\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:</b>{{element.phone}}</div>\r\n              <div class="element-item duration"><b>\u0412\u0440\u0435\u043c\u044f \u0437\u0432\u043e\u043d\u043a\u0430:</b>{{element.durations}} \u0421\u0435\u043a</div>\r\n              <div class="element-item date"><b>\u0414\u0430\u0442\u0430:</b>{{element.date}}</div>\r\n              <div class="element-item comentCon">\r\n                <b>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440\u0430:</b>\r\n                <div>\r\n                  <textarea *ngIf="element.contactType != 50"\r\n                    class="textComment">{{element.callsComments?.comment}}</textarea><br />\r\n                  <div class="btnContainer">\r\n                    <button *ngIf="element.contactType != 50"\r\n                      (click)="setNoAccept($event, element.id, element.clientId, i)"\r\n                      class="btnAccept btnReject">\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c</button>\r\n                    <button *ngIf="element.contactType != 50"\r\n                      (click)="setAccept($event, element.id, element.clientId, i)"\r\n                      class="btnAccept btnFixed">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="element-item comentCli">\r\n                <b>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430:</b>\r\n                <div>\r\n                  {{element.callsComments?.managerComment}}\r\n                </div>\r\n              </div>\r\n              <div class="element-item refAudio">\r\n                <b>\u0410\u0443\u0434\u0438\u043e \u0437\u0430\u043f\u0438\u0441\u044c:</b>\r\n                <div>\r\n                  <audio class="audio-cell" style="height:20px" controls preload="none"\r\n                    src="{{element.referenceAudioVoice}}"></audio>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </mat-expansion-panel>\r\n        </ng-container>\r\n      </mat-accordion>\r\n    </div>\r\n  </div>\r\n</mat-dialog-content>'},ds6q:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("Q1FS"),a=n("FWf1"),s=n("zB/H"),l=n("Mxlh"),c=n("FiyT"),d=n("p//D"),p=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r(t,e),t}(a.Subscriber);t.SubjectSubscriber=p;var u=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r(t,e),t.prototype[d.rxSubscriber]=function(){return new p(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new l.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)},t.prototype.error=function(e){if(this.closed)throw new l.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new l.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new l.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new l.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(e.complete(),s.Subscription.EMPTY):(this.observers.push(e),new c.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(o.Observable);t.Subject=u;var h=function(e){function t(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.Subscription.EMPTY},t}(u);t.AnonymousSubject=h},eGNq:function(e,t){e.exports=""},g1Xn:function(e,t,n){var i;e.exports=function e(t,n,r){function o(s,l){if(!n[s]){if(!t[s]){var c="function"==typeof i&&i;if(!l&&c)return i(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){var n=t[s][1][e];return o(n||e)},p,p.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,a,s,l,c,d=[],p=0,u=e.length,h=u,g="string"!==i.getTypeOf(e);p<e.length;)h=u-p,g?(t=e[p++],n=p<u?e[p++]:0,r=p<u?e[p++]:0):(t=e.charCodeAt(p++),n=p<u?e.charCodeAt(p++):0,r=p<u?e.charCodeAt(p++):0),a=t>>2,s=(3&t)<<4|n>>4,l=h>1?(15&n)<<2|r>>6:64,c=h>2?63&r:64,d.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(c));return d.join("")},n.decode=function(e){var t,n,i,a,s,l,c,d=0,p=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&h--,e.charAt(e.length-2)===o.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=r.uint8array?new Uint8Array(0|h):new Array(0|h);d<e.length;)a=o.indexOf(e.charAt(d++)),s=o.indexOf(e.charAt(d++)),l=o.indexOf(e.charAt(d++)),c=o.indexOf(e.charAt(d++)),t=a<<2|s>>4,n=(15&s)<<4|l>>2,i=(3&l)<<6|c,u[p++]=t,64!==l&&(u[p++]=n),64!==c&&(u[p++]=i);return u}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var i=e("./external"),r=e("./stream/DataWorker"),o=e("./stream/DataLengthProbe"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}s.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var i=e("./utils"),r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){if(void 0===e||!e.length)return 0;var n="string"!==i.getTypeOf(e);return n?function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0)}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=i?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker"),o=e("../utf8"),a=e("../crc32"),s=e("../signature"),l=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},c=function(e,t,n,r,c,d){var p,u,h=e.file,g=e.compression,f=d!==o.utf8encode,m=i.transformTo("string",d(h.name)),y=i.transformTo("string",o.utf8encode(h.name)),b=h.comment,v=i.transformTo("string",d(b)),x=i.transformTo("string",o.utf8encode(b)),_=y.length!==h.name.length,w=x.length!==b.length,C="",S="",D="",O=h.dir,I=h.date,k={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(k.crc32=e.crc32,k.compressedSize=e.compressedSize,k.uncompressedSize=e.uncompressedSize);var P=0;t&&(P|=8),f||!_&&!w||(P|=2048);var E,T,A,R=0,j=0;O&&(R|=16),"UNIX"===c?(j=798,R|=(E=h.unixPermissions,T=O,A=E,E||(A=T?16893:33204),(65535&A)<<16)):(j=20,R|=63&(h.dosPermissions||0)),p=I.getUTCHours(),p<<=6,p|=I.getUTCMinutes(),p<<=5,p|=I.getUTCSeconds()/2,u=I.getUTCFullYear()-1980,u<<=4,u|=I.getUTCMonth()+1,u<<=5,u|=I.getUTCDate(),_&&(S=l(1,1)+l(a(m),4)+y,C+="up"+l(S.length,2)+S),w&&(D=l(1,1)+l(a(v),4)+x,C+="uc"+l(D.length,2)+D);var F="";F+="\n\0",F+=l(P,2),F+=g.magic,F+=l(p,2),F+=l(u,2),F+=l(k.crc32,4),F+=l(k.compressedSize,4),F+=l(k.uncompressedSize,4),F+=l(m.length,2),F+=l(C.length,2);var L=s.LOCAL_FILE_HEADER+F+m+C,M=s.CENTRAL_FILE_HEADER+l(j,2)+F+l(v.length,2)+"\0\0\0\0"+l(R,4)+l(r,4)+m+C+v;return{fileRecord:L,dirRecord:M}},d=function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function p(e,t,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(p,r),p.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},p.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:d(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,r=function(e,t,n,r,o){var a=i.transformTo("string",o(r));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},p.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},p.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new r(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach(function(e,n){a++;var r=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)}),o.entriesCount=a}catch(s){o.error(s)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=e("./object"),i.prototype.loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.2.0",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./external"),o=e("./utf8"),i=e("./utils"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new r.Promise(function(t,n){var i=e.decompressed.getContentWorker().pipe(new s);i.on("error",function(e){n(e)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new a(t);return n.load(e),n}).then(function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var o=0;o<i.length;o++)n.push(c(i[o]));return r.Promise.all(n)}).then(function(e){for(var i=e.shift(),r=i.files,o=0;o<r.length;o++){var a=r[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker");function o(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(o,r),o.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var i=e("readable-stream").Readable,r=e("../utils");function o(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",function(e,t){r.push(e)||r._helper.pause(),n&&n(t)}).on("error",function(e){r.emit("error",e)}).on("end",function(){r.push(null)})}r.inherits(o,i),o.prototype._read=function(){this._helper.resume()},t.exports=o},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";var i=e("./utf8"),r=e("./utils"),o=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),s=e("./defaults"),l=e("./compressedObject"),c=e("./zipObject"),d=e("./generate"),p=e("./nodejsUtils"),u=e("./nodejs/NodejsStreamInputAdapter"),h=function(e,t,n){var i,a=r.getTypeOf(t),d=r.extend(n||{},s);d.date=d.date||new Date,null!==d.compression&&(d.compression=d.compression.toUpperCase()),"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8)),d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0),d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0),d.dir&&(e=f(e)),d.createFolders&&(i=g(e))&&m.call(this,i,!0);var h="string"===a&&!1===d.binary&&!1===d.base64;n&&void 0!==n.binary||(d.binary=!h);var y=t instanceof l&&0===t.uncompressedSize;(y||d.dir||!t||0===t.length)&&(d.base64=!1,d.binary=!0,t="",d.compression="STORE",a="string");var b=null;b=t instanceof l||t instanceof o?t:p.isNode&&p.isStream(t)?new u(e,t):r.prepareContent(e,t,d.binary,d.optimizedBinaryString,d.base64);var v=new c(e,b,d);this.files[e]=v},g=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},f=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:s.createFolders,e=f(e),this.files[e]||h.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(i)}),t},file:function(e,t,n){if(1===arguments.length){if(y(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}var r=this.files[this.root+e];return r&&!r.dir?r:null}return e=this.root+e,h.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(y(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=m.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var s=n.comment||this.comment||"";t=d.generateWorker(this,n,s)}catch(l){(t=new o("error")).error(l)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var i=e("./DataReader"),r=e("../utils");function o(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}r.inherits(o,i),o.prototype.byteAt=function(e){return this.data[this.zero+e]},o.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},o.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){"use strict";var i=e("./Uint8ArrayReader"),r=e("../utils");function o(e){i.call(this,e)}r.inherits(o,i),o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var i=e("./DataReader"),r=e("../utils");function o(e){i.call(this,e)}r.inherits(o,i),o.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},o.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},o.prototype.readAndCheckSignature=function(e){var t=this.readData(4);return e===t},o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var i=e("./ArrayReader"),r=e("../utils");function o(e){i.call(this,e)}r.inherits(o,i),o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../utils");function o(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(o,i),o.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../crc32"),o=e("../utils");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o.inherits(a,i),a.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(o,r),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),s=e("../support"),l=e("../external"),c=null;if(s.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(u){}function d(e,t){return new l.Promise(function(n,r){var o=[],s=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",function(e,n){o.push(e),t&&t(n)}).on("error",function(e){o=[],r(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return i.transformTo(e,t)}}(l,function(e,t){var n,i=0,r=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(o),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,o),c);n(e)}catch(u){r(u)}o=[]}).resume()})}function p(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,i.checkSupport(a),this._worker=e.pipe(new r(a)),e.lock()}catch(u){this._worker=new o("error"),this._worker.error(u)}}p.prototype={accumulate:function(e){return d(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){i.delay(t,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(a){try{var r=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new r;o.append(i),n.blob=0===o.getBlob("application/zip").size}catch(a){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(a){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function d(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return r.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,o,a=e.length,l=new Array(2*a);for(n=0,t=0;t<a;)if((r=e[t++])<128)l[n++]=r;else if((o=s[r])>4)l[n++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&t<a;)r=r<<6|63&e[t++],o--;o>1?l[n++]=65533:r<65536?l[n++]=r:(r-=65536,l[n++]=55296|r>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(e=i.transformTo(r.uint8array?"uint8array":"array",e))},i.inherits(c,a),c.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}(t),l=t;a!==t.length&&(r.uint8array?(l=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(l=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,i.inherits(d,a),d.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var i=e("./support"),r=e("./base64"),o=e("./nodejsUtils"),a=e("set-immediate-shim"),s=e("./external");function l(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(o){try{var i=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,r=new i;return r.append(e),r.getBlob(t)}catch(o){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(e,t,n){var i=[],r=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;r<o;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function p(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=d.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=d.applyCanBeUsed.nodebuffer),r)for(;t>1;)try{return d.stringifyByChunk(e,i,t)}catch(o){t=Math.floor(t/2)}return d.stringifyByChar(e)}function u(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=p;var h={};h.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},h.array={string:p,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},h.arraybuffer={string:function(e){return p(new Uint8Array(e))},array:function(e){return u(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:p,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},h.nodebuffer={string:p,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:l},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var i=n.getTypeOf(t),r=h[i][e](t);return r},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&o.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){var t=i[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)t=e.charCodeAt(n),i+="\\x"+(t<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){a(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,a,l){var d=s.Promise.resolve(t).then(function(e){var t=i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)));return t&&"undefined"!=typeof FileReader?new s.Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)}):e});return d.then(function(t){var d,p,u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(l?t=r.decode(t):o&&!0!==a&&(d=t,p=null,p=i.uint8array?new Uint8Array(d.length):new Array(d.length),t=c(d,p))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4),r=i===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0){var t=!this.isSignature(0,o.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(e);var n=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var a=n-i;if(a>0)this.isSignature(n,o.CENTRAL_FILE_HEADER)||(this.reader.zero=a);else if(a<0)throw new Error("Corrupted zip: missing "+Math.abs(a)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),l=e("./compressions"),c=e("./support");function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";var i=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),o=e("./utf8"),a=e("./compressedObject"),s=e("./stream/GenericWorker"),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(l){(t=new s("error")).error(l)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<c.length;p++)l.prototype[c[p]]=d;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(d),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var l=new e.MessageChannel;l.port1.onmessage=d,n=function(){l.port2.postMessage(0)}}var c=[];function d(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}t.exports=function(e){1!==c.push(e)||i||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var i=e("immediate");function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&h(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function p(e,t,n){i(function(){var i;try{i=t(n)}catch(r){return o.reject(e,r)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)})}function u(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}var a=g(function(){t(r,i)});"error"===a.status&&i(a.value)}function g(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}t.exports=c,c.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(r);if(this.state!==l){var i=this.state===s?e:t;p(n,i,this.outcome)}else this.queue.push(new d(n,e,t));return n},d.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){p(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){o.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){p(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=g(u,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)h(e,i);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,c=new this(r);++l<n;)d(e[l],l);return c;function d(e,r){t.resolve(e).then(function(e){a[r]=e,++s!==n||i||(i=!0,o.resolve(c,a))},function(e){i||(i=!0,o.reject(c,e))})}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a,s=-1,l=new this(r);++s<n;)a=e[s],t.resolve(a).then(function(e){i||(i=!0,o.resolve(l,e))},function(e){i||(i=!0,o.reject(l,e))});return l}},{immediate:36}],38:[function(e,t,n){"use strict";var i=e("./lib/utils/common").assign,r=e("./lib/deflate"),o=e("./lib/inflate"),a=e("./lib/zlib/constants"),s={};i(s,r,o,a),t.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var i=e("./zlib/deflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString,c=0,d=-1,p=0,u=8;function h(e){if(!(this instanceof h))return new h(e);this.options=r.assign({level:d,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(a[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var g;if(g="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,g))!==c)throw new Error(a[n]);this._dict_set=!0}}function g(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,s=this.strm,d=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(d),s.next_out=0,s.avail_out=d),1!==(n=i.deflate(s,a))&&n!==c)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==a||(this.onEnd(c),s.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=h,n.deflate=g,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,g(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,g(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var i=e("./zlib/inflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),d=Object.prototype.toString;function p(e){if(!(this instanceof p))return new p(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function u(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}p.prototype.push=function(e,t){var n,s,l,c,p,u,h=this.strm,g=this.options.chunkSize,f=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new r.Buf8(g),h.next_out=0,h.avail_out=g),(n=i.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&f&&(u="string"==typeof f?o.string2buf(f):"[object ArrayBuffer]"===d.call(f)?new Uint8Array(f):f,n=i.inflateSetDictionary(this.strm,u)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(h.output,h.next_out),c=h.next_out-l,p=o.buf2string(h.output,l),h.next_out=c,h.avail_out=g-c,c&&r.arraySet(h.output,h.output,l,c,0),this.onData(p)):this.onData(r.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=p,n.inflate=u,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},n.ungzip=u},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,r),r+=o.length;return a}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(e,t,n){"use strict";var i=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(c){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,r,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,o,s=t||e.length,c=new Array(2*s);for(i=0,n=0;n<s;)if((r=e[n++])<128)c[i++]=r;else if((o=a[r])>4)c[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<s;)r=r<<6|63&e[n++],o--;o>1?c[i++]=65533:r<65536?c[i++]=r:(r-=65536,c[i++]=55296|r>>10&1023,c[i++]=56320|1023&r)}return l(c,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{r=r+t[i++]|0,o=o+r|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){"use strict";var i,r=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages"),c=0,d=1,p=3,u=4,h=5,g=0,f=1,m=-2,y=-3,b=-5,v=-1,x=1,_=2,w=3,C=4,S=0,D=2,O=8,I=9,k=15,P=8,E=286,T=30,A=19,R=2*E+1,j=15,F=3,L=258,M=L+F+1,G=32,z=42,V=69,B=73,H=91,N=103,W=113,Y=666,U=1,K=2,$=3,X=4,q=3;function Z(e,t){return e.msg=l[t],t}function Q(e){return(e<<1)-(e>4?9:0)}function J(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function ie(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function re(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-M?e.strstart-(e.w_size-M):0,c=e.window,d=e.w_mask,p=e.prev,u=e.strstart+L,h=c[o+a-1],g=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===g&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<u);if(i=L-(u-o),o=u-L,i>a){if(e.match_start=t,a=i,i>=s)break;h=c[o+a-1],g=c[o+a]}}}while((t=p[t&d])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead}function oe(e){var t,n,i,o,l,c,d,p,u,h,g=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-M)){r.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,n=e.hash_size,t=n;do{i=e.head[--t],e.head[t]=i>=g?i-g:0}while(--n);t=n=g;do{i=e.prev[--t],e.prev[t]=i>=g?i-g:0}while(--n);o+=g}if(0===e.strm.avail_in)break;if(c=e.strm,d=e.window,p=e.strstart+e.lookahead,u=o,h=void 0,(h=c.avail_in)>u&&(h=u),n=0===h?0:(c.avail_in-=h,r.arraySet(d,c.input,c.next_in,h,p),1===c.state.wrap?c.adler=a(c.adler,d,h,p):2===c.state.wrap&&(c.adler=s(c.adler,d,h,p)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=F)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+F-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<F)););}while(e.lookahead<M&&0!==e.strm.avail_in)}function ae(e,t){for(var n,i;;){if(e.lookahead<M){if(oe(e),e.lookahead<M&&t===c)return U;if(0===e.lookahead)break}if(n=0,e.lookahead>=F&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+F-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-M&&(e.match_length=re(e,n)),e.match_length>=F)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-F),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=F){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+F-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(te(e,!1),0===e.strm.avail_out))return U}return e.insert=e.strstart<F-1?e.strstart:F-1,t===u?(te(e,!0),0===e.strm.avail_out?$:X):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?U:K}function se(e,t){for(var n,i,r;;){if(e.lookahead<M){if(oe(e),e.lookahead<M&&t===c)return U;if(0===e.lookahead)break}if(n=0,e.lookahead>=F&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+F-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=F-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-M&&(e.match_length=re(e,n),e.match_length<=5&&(e.strategy===x||e.match_length===F&&e.strstart-e.match_start>4096)&&(e.match_length=F-1)),e.prev_length>=F&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-F,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-F),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+F-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=F-1,e.strstart++,i&&(te(e,!1),0===e.strm.avail_out))return U}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return U}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<F-1?e.strstart:F-1,t===u?(te(e,!0),0===e.strm.avail_out?$:X):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?U:K}function le(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=O,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*R),this.dyn_dtree=new r.Buf16(2*(2*T+1)),this.bl_tree=new r.Buf16(2*(2*A+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(j+1),this.heap=new r.Buf16(2*E+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*E+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function de(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=D,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?z:W,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),g):Z(e,m)}function pe(e){var t,n=de(e);return n===g&&((t=e.state).window_size=2*t.w_size,J(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=F-1,t.match_available=0,t.ins_h=0),n}function ue(e,t,n,i,o,a){if(!e)return m;var s=1;if(t===v&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>I||n!==O||i<8||i>15||t<0||t>9||a<0||a>C)return Z(e,m);8===i&&(i=9);var l=new ce;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+F-1)/F),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,pe(e)}i=[new le(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(oe(e),0===e.lookahead&&t===c)return U;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,te(e,!1),0===e.strm.avail_out))return U;if(e.strstart-e.block_start>=e.w_size-M&&(te(e,!1),0===e.strm.avail_out))return U}return e.insert=0,t===u?(te(e,!0),0===e.strm.avail_out?$:X):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),U)}),new le(4,4,8,4,ae),new le(4,5,16,8,ae),new le(4,6,32,32,ae),new le(4,4,16,16,se),new le(8,16,32,32,se),new le(8,16,128,128,se),new le(8,32,128,256,se),new le(32,128,258,1024,se),new le(32,258,258,4096,se)],n.deflateInit=function(e,t){return ue(e,t,O,k,P,S)},n.deflateInit2=ue,n.deflateReset=pe,n.deflateResetKeep=de,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,g):m},n.deflate=function(e,t){var n,r,a,l;if(!e||!e.state||t>h||t<0)return e?Z(e,m):m;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===Y&&t!==u)return Z(e,0===e.avail_out?b:m);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===z)if(2===r.wrap)e.adler=0,ne(r,31),ne(r,139),ne(r,8),r.gzhead?(ne(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ne(r,255&r.gzhead.time),ne(r,r.gzhead.time>>8&255),ne(r,r.gzhead.time>>16&255),ne(r,r.gzhead.time>>24&255),ne(r,9===r.level?2:r.strategy>=_||r.level<2?4:0),ne(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ne(r,255&r.gzhead.extra.length),ne(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=V):(ne(r,0),ne(r,0),ne(r,0),ne(r,0),ne(r,0),ne(r,9===r.level?2:r.strategy>=_||r.level<2?4:0),ne(r,q),r.status=W);else{var y=O+(r.w_bits-8<<4)<<8,v=-1;v=r.strategy>=_||r.level<2?0:r.level<6?1:6===r.level?2:3,y|=v<<6,0!==r.strstart&&(y|=G),y+=31-y%31,r.status=W,ie(r,y),0!==r.strstart&&(ie(r,e.adler>>>16),ie(r,65535&e.adler)),e.adler=1}if(r.status===V)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending!==r.pending_buf_size));)ne(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=B)}else r.status=B;if(r.status===B)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ne(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=H)}else r.status=H;if(r.status===H)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ne(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=N)}else r.status=N;if(r.status===N&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ee(e),r.pending+2<=r.pending_buf_size&&(ne(r,255&e.adler),ne(r,e.adler>>8&255),e.adler=0,r.status=W)):r.status=W),0!==r.pending){if(ee(e),0===e.avail_out)return r.last_flush=-1,g}else if(0===e.avail_in&&Q(t)<=Q(n)&&t!==u)return Z(e,b);if(r.status===Y&&0!==e.avail_in)return Z(e,b);if(0!==e.avail_in||0!==r.lookahead||t!==c&&r.status!==Y){var x=r.strategy===_?function(e,t){for(var n;;){if(0===e.lookahead&&(oe(e),0===e.lookahead)){if(t===c)return U;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return U}return e.insert=0,t===u?(te(e,!0),0===e.strm.avail_out?$:X):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?U:K}(r,t):r.strategy===w?function(e,t){for(var n,i,r,a,s=e.window;;){if(e.lookahead<=L){if(oe(e),e.lookahead<=L&&t===c)return U;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=F&&e.strstart>0&&(r=e.strstart-1,(i=s[r])===s[++r]&&i===s[++r]&&i===s[++r])){a=e.strstart+L;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=L-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=F?(n=o._tr_tally(e,1,e.match_length-F),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return U}return e.insert=0,t===u?(te(e,!0),0===e.strm.avail_out?$:X):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?U:K}(r,t):i[r.level].func(r,t);if(x!==$&&x!==X||(r.status=Y),x===U||x===$)return 0===e.avail_out&&(r.last_flush=-1),g;if(x===K&&(t===d?o._tr_align(r):t!==h&&(o._tr_stored_block(r,0,0,!1),t===p&&(J(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ee(e),0===e.avail_out))return r.last_flush=-1,g}return t!==u?g:r.wrap<=0?f:(2===r.wrap?(ne(r,255&e.adler),ne(r,e.adler>>8&255),ne(r,e.adler>>16&255),ne(r,e.adler>>24&255),ne(r,255&e.total_in),ne(r,e.total_in>>8&255),ne(r,e.total_in>>16&255),ne(r,e.total_in>>24&255)):(ie(r,e.adler>>>16),ie(r,65535&e.adler)),ee(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?g:f)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==z&&t!==V&&t!==B&&t!==H&&t!==N&&t!==W&&t!==Y?Z(e,m):(e.state=null,t===W?Z(e,y):g):m},n.deflateSetDictionary=function(e,t){var n,i,o,s,l,c,d,p,u=t.length;if(!e||!e.state)return m;if(n=e.state,2===(s=n.wrap)||1===s&&n.status!==z||n.lookahead)return m;for(1===s&&(e.adler=a(e.adler,t,u,0)),n.wrap=0,u>=n.w_size&&(0===s&&(J(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new r.Buf8(n.w_size),r.arraySet(p,t,u-n.w_size,n.w_size,0),t=p,u=n.w_size),l=e.avail_in,c=e.next_in,d=e.input,e.avail_in=u,e.next_in=0,e.input=t,oe(n);n.lookahead>=F;){i=n.strstart,o=n.lookahead-(F-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+F-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=F-1,oe(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=F-1,n.match_available=0,e.next_in=c,e.input=d,e.avail_in=l,n.wrap=s,g},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,r,o,a,s,l,c,d,p,u,h,g,f,m,y,b,v,x,_,w,C,S,D,O;n=e.state,i=e.next_in,D=e.input,r=i+(e.avail_in-5),o=e.next_out,O=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=n.dmax,c=n.wsize,d=n.whave,p=n.wnext,u=n.window,h=n.hold,g=n.bits,f=n.lencode,m=n.distcode,y=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{g<15&&(h+=D[i++]<<g,g+=8,h+=D[i++]<<g,g+=8),v=f[h&y];t:for(;;){if(h>>>=x=v>>>24,g-=x,0==(x=v>>>16&255))O[o++]=65535&v;else{if(!(16&x)){if(0==(64&x)){v=f[(65535&v)+(h&(1<<x)-1)];continue t}if(32&x){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&v,(x&=15)&&(g<x&&(h+=D[i++]<<g,g+=8),_+=h&(1<<x)-1,h>>>=x,g-=x),g<15&&(h+=D[i++]<<g,g+=8,h+=D[i++]<<g,g+=8),v=m[h&b];n:for(;;){if(h>>>=x=v>>>24,g-=x,!(16&(x=v>>>16&255))){if(0==(64&x)){v=m[(65535&v)+(h&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&v,g<(x&=15)&&(h+=D[i++]<<g,(g+=8)<x&&(h+=D[i++]<<g,g+=8)),(w+=h&(1<<x)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=x,g-=x,w>(x=o-a)){if((x=w-x)>d&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(C=0,S=u,0===p){if(C+=c-x,x<_){_-=x;do{O[o++]=u[C++]}while(--x);C=o-w,S=O}}else if(p<x){if(C+=c+p-x,(x-=p)<_){_-=x;do{O[o++]=u[C++]}while(--x);if(C=0,p<_){_-=x=p;do{O[o++]=u[C++]}while(--x);C=o-w,S=O}}}else if(C+=p-x,x<_){_-=x;do{O[o++]=u[C++]}while(--x);C=o-w,S=O}for(;_>2;)O[o++]=S[C++],O[o++]=S[C++],O[o++]=S[C++],_-=3;_&&(O[o++]=S[C++],_>1&&(O[o++]=S[C++]))}else{C=o-w;do{O[o++]=O[C++],O[o++]=O[C++],O[o++]=O[C++],_-=3}while(_>2);_&&(O[o++]=O[C++],_>1&&(O[o++]=O[C++]))}break}}break}}while(i<r&&o<s);i-=_=g>>3,h&=(1<<(g-=_<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=g}},{}],49:[function(e,t,n){"use strict";var i=e("../utils/common"),r=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),l=0,c=1,d=2,p=4,u=5,h=6,g=0,f=1,m=2,y=-2,b=-3,v=-4,x=-5,_=8,w=1,C=2,S=3,D=4,O=5,I=6,k=7,P=8,E=9,T=10,A=11,R=12,j=13,F=14,L=15,M=16,G=17,z=18,V=19,B=20,H=21,N=22,W=23,Y=24,U=25,K=26,$=27,X=28,q=29,Z=30,Q=31,J=32,ee=852,te=592,ne=15;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function re(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function oe(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=w,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(ee),t.distcode=t.distdyn=new i.Buf32(te),t.sane=1,t.back=-1,g):y}function ae(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,oe(e)):y}function se(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?y:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,ae(e))):y}function le(e,t){var n,i;return e?(i=new re,e.state=i,i.window=null,(n=se(e,t))!==g&&(e.state=null),n):y}var ce,de,pe=!0;function ue(e){if(pe){var t;for(ce=new i.Buf32(512),de=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,ce,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(d,e.lens,0,32,de,0,e.work,{bits:5}),pe=!1}e.lencode=ce,e.lenbits=9,e.distcode=de,e.distbits=5}function he(e,t,n,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),i.arraySet(a.window,t,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=ae,n.inflateReset2=se,n.inflateResetKeep=oe,n.inflateInit=function(e){return le(e,ne)},n.inflateInit2=le,n.inflate=function(e,t){var n,ee,te,ne,re,oe,ae,se,le,ce,de,pe,ge,fe,me,ye,be,ve,xe,_e,we,Ce,Se,De,Oe=0,Ie=new i.Buf8(4),ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return y;(n=e.state).mode===R&&(n.mode=j),re=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,se=n.hold,le=n.bits,ce=oe,de=ae,Ce=g;e:for(;;)switch(n.mode){case w:if(0===n.wrap){n.mode=j;break}for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===se){n.check=0,Ie[0]=255&se,Ie[1]=se>>>8&255,n.check=o(n.check,Ie,2,0),se=0,le=0,n.mode=C;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",n.mode=Z;break}if((15&se)!==_){e.msg="unknown compression method",n.mode=Z;break}if(le-=4,we=8+(15&(se>>>=4)),0===n.wbits)n.wbits=we;else if(we>n.wbits){e.msg="invalid window size",n.mode=Z;break}n.dmax=1<<we,e.adler=n.check=1,n.mode=512&se?T:R,se=0,le=0;break;case C:for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(n.flags=se,(255&n.flags)!==_){e.msg="unknown compression method",n.mode=Z;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Z;break}n.head&&(n.head.text=se>>8&1),512&n.flags&&(Ie[0]=255&se,Ie[1]=se>>>8&255,n.check=o(n.check,Ie,2,0)),se=0,le=0,n.mode=S;case S:for(;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=se),512&n.flags&&(Ie[0]=255&se,Ie[1]=se>>>8&255,Ie[2]=se>>>16&255,Ie[3]=se>>>24&255,n.check=o(n.check,Ie,4,0)),se=0,le=0,n.mode=D;case D:for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&se,n.head.os=se>>8),512&n.flags&&(Ie[0]=255&se,Ie[1]=se>>>8&255,n.check=o(n.check,Ie,2,0)),se=0,le=0,n.mode=O;case O:if(1024&n.flags){for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.length=se,n.head&&(n.head.extra_len=se),512&n.flags&&(Ie[0]=255&se,Ie[1]=se>>>8&255,n.check=o(n.check,Ie,2,0)),se=0,le=0}else n.head&&(n.head.extra=null);n.mode=I;case I:if(1024&n.flags&&((pe=n.length)>oe&&(pe=oe),pe&&(n.head&&(we=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,ee,ne,pe,we)),512&n.flags&&(n.check=o(n.check,ee,pe,ne)),oe-=pe,ne+=pe,n.length-=pe),n.length))break e;n.length=0,n.mode=k;case k:if(2048&n.flags){if(0===oe)break e;pe=0;do{we=ee[ne+pe++],n.head&&we&&n.length<65536&&(n.head.name+=String.fromCharCode(we))}while(we&&pe<oe);if(512&n.flags&&(n.check=o(n.check,ee,pe,ne)),oe-=pe,ne+=pe,we)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=P;case P:if(4096&n.flags){if(0===oe)break e;pe=0;do{we=ee[ne+pe++],n.head&&we&&n.length<65536&&(n.head.comment+=String.fromCharCode(we))}while(we&&pe<oe);if(512&n.flags&&(n.check=o(n.check,ee,pe,ne)),oe-=pe,ne+=pe,we)break e}else n.head&&(n.head.comment=null);n.mode=E;case E:if(512&n.flags){for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Z;break}se=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=R;break;case T:for(;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}e.adler=n.check=ie(se),se=0,le=0,n.mode=A;case A:if(0===n.havedict)return e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,m;e.adler=n.check=1,n.mode=R;case R:if(t===u||t===h)break e;case j:if(n.last){se>>>=7&le,le-=7&le,n.mode=$;break}for(;le<3;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}switch(n.last=1&se,le-=1,3&(se>>>=1)){case 0:n.mode=F;break;case 1:if(ue(n),n.mode=B,t===h){se>>>=2,le-=2;break e}break;case 2:n.mode=G;break;case 3:e.msg="invalid block type",n.mode=Z}se>>>=2,le-=2;break;case F:for(se>>>=7&le,le-=7&le;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Z;break}if(n.length=65535&se,se=0,le=0,n.mode=L,t===h)break e;case L:n.mode=M;case M:if(pe=n.length){if(pe>oe&&(pe=oe),pe>ae&&(pe=ae),0===pe)break e;i.arraySet(te,ee,ne,pe,re),oe-=pe,ne+=pe,ae-=pe,re+=pe,n.length-=pe;break}n.mode=R;break;case G:for(;le<14;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&se),se>>>=5,le-=5,n.ndist=1+(31&se),se>>>=5,le-=5,n.ncode=4+(15&se),se>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Z;break}n.have=0,n.mode=z;case z:for(;n.have<n.ncode;){for(;le<3;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.lens[ke[n.have++]]=7&se,se>>>=3,le-=3}for(;n.have<19;)n.lens[ke[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Se={bits:n.lenbits},Ce=s(l,n.lens,0,19,n.lencode,0,n.work,Se),n.lenbits=Se.bits,Ce){e.msg="invalid code lengths set",n.mode=Z;break}n.have=0,n.mode=V;case V:for(;n.have<n.nlen+n.ndist;){for(;Oe=n.lencode[se&(1<<n.lenbits)-1],ye=Oe>>>16&255,be=65535&Oe,!((me=Oe>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(be<16)se>>>=me,le-=me,n.lens[n.have++]=be;else{if(16===be){for(De=me+2;le<De;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se>>>=me,le-=me,0===n.have){e.msg="invalid bit length repeat",n.mode=Z;break}we=n.lens[n.have-1],pe=3+(3&se),se>>>=2,le-=2}else if(17===be){for(De=me+3;le<De;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}le-=me,we=0,pe=3+(7&(se>>>=me)),se>>>=3,le-=3}else{for(De=me+7;le<De;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}le-=me,we=0,pe=11+(127&(se>>>=me)),se>>>=7,le-=7}if(n.have+pe>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Z;break}for(;pe--;)n.lens[n.have++]=we}}if(n.mode===Z)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Z;break}if(n.lenbits=9,Se={bits:n.lenbits},Ce=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,Se),n.lenbits=Se.bits,Ce){e.msg="invalid literal/lengths set",n.mode=Z;break}if(n.distbits=6,n.distcode=n.distdyn,Se={bits:n.distbits},Ce=s(d,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Se),n.distbits=Se.bits,Ce){e.msg="invalid distances set",n.mode=Z;break}if(n.mode=B,t===h)break e;case B:n.mode=H;case H:if(oe>=6&&ae>=258){e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,a(e,de),re=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,se=n.hold,le=n.bits,n.mode===R&&(n.back=-1);break}for(n.back=0;Oe=n.lencode[se&(1<<n.lenbits)-1],ye=Oe>>>16&255,be=65535&Oe,!((me=Oe>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(ye&&0==(240&ye)){for(ve=me,xe=ye,_e=be;Oe=n.lencode[_e+((se&(1<<ve+xe)-1)>>ve)],ye=Oe>>>16&255,be=65535&Oe,!(ve+(me=Oe>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}se>>>=ve,le-=ve,n.back+=ve}if(se>>>=me,le-=me,n.back+=me,n.length=be,0===ye){n.mode=K;break}if(32&ye){n.back=-1,n.mode=R;break}if(64&ye){e.msg="invalid literal/length code",n.mode=Z;break}n.extra=15&ye,n.mode=N;case N:if(n.extra){for(De=n.extra;le<De;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.length+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=W;case W:for(;Oe=n.distcode[se&(1<<n.distbits)-1],ye=Oe>>>16&255,be=65535&Oe,!((me=Oe>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(0==(240&ye)){for(ve=me,xe=ye,_e=be;Oe=n.distcode[_e+((se&(1<<ve+xe)-1)>>ve)],ye=Oe>>>16&255,be=65535&Oe,!(ve+(me=Oe>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}se>>>=ve,le-=ve,n.back+=ve}if(se>>>=me,le-=me,n.back+=me,64&ye){e.msg="invalid distance code",n.mode=Z;break}n.offset=be,n.extra=15&ye,n.mode=Y;case Y:if(n.extra){for(De=n.extra;le<De;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.offset+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Z;break}n.mode=U;case U:if(0===ae)break e;if(pe=de-ae,n.offset>pe){if((pe=n.offset-pe)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Z;break}pe>n.wnext?(pe-=n.wnext,ge=n.wsize-pe):ge=n.wnext-pe,pe>n.length&&(pe=n.length),fe=n.window}else fe=te,ge=re-n.offset,pe=n.length;pe>ae&&(pe=ae),ae-=pe,n.length-=pe;do{te[re++]=fe[ge++]}while(--pe);0===n.length&&(n.mode=H);break;case K:if(0===ae)break e;te[re++]=n.length,ae--,n.mode=H;break;case $:if(n.wrap){for(;le<32;){if(0===oe)break e;oe--,se|=ee[ne++]<<le,le+=8}if(de-=ae,e.total_out+=de,n.total+=de,de&&(e.adler=n.check=n.flags?o(n.check,te,de,re-de):r(n.check,te,de,re-de)),de=ae,(n.flags?se:ie(se))!==n.check){e.msg="incorrect data check",n.mode=Z;break}se=0,le=0}n.mode=X;case X:if(n.wrap&&n.flags){for(;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Z;break}se=0,le=0}n.mode=q;case q:Ce=f;break e;case Z:Ce=b;break e;case Q:return v;case J:default:return y}return e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,(n.wsize||de!==e.avail_out&&n.mode<Z&&(n.mode<$||t!==p))&&he(e,e.output,e.next_out,de-e.avail_out)?(n.mode=Q,v):(ce-=e.avail_in,de-=e.avail_out,e.total_in+=ce,e.total_out+=de,n.total+=de,n.wrap&&de&&(e.adler=n.check=n.flags?o(n.check,te,de,e.next_out-de):r(n.check,te,de,e.next_out-de)),e.data_type=n.bits+(n.last?64:0)+(n.mode===R?128:0)+(n.mode===B||n.mode===L?256:0),(0===ce&&0===de||t===p)&&Ce===g&&(Ce=x),Ce)},n.inflateEnd=function(e){if(!e||!e.state)return y;var t=e.state;return t.window&&(t.window=null),e.state=null,g},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?y:(n.head=t,t.done=!1,g):y},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==A?y:n.mode===A&&r(1,t,i,0)!==n.check?b:he(e,t,i,i)?(n.mode=Q,v):(n.havedict=1,g):y},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,d,p,u){var h,g,f,m,y,b,v,x,_,w=u.bits,C=0,S=0,D=0,O=0,I=0,k=0,P=0,E=0,T=0,A=0,R=null,j=0,F=new i.Buf16(16),L=new i.Buf16(16),M=null,G=0;for(C=0;C<=15;C++)F[C]=0;for(S=0;S<l;S++)F[t[n+S]]++;for(I=w,O=15;O>=1&&0===F[O];O--);if(I>O&&(I=O),0===O)return c[d++]=20971520,c[d++]=20971520,u.bits=1,0;for(D=1;D<O&&0===F[D];D++);for(I<D&&(I=D),E=1,C=1;C<=15;C++)if(E<<=1,(E-=F[C])<0)return-1;if(E>0&&(0===e||1!==O))return-1;for(L[1]=0,C=1;C<15;C++)L[C+1]=L[C]+F[C];for(S=0;S<l;S++)0!==t[n+S]&&(p[L[t[n+S]]++]=S);if(0===e?(R=M=p,b=19):1===e?(R=r,j-=257,M=o,G-=257,b=256):(R=a,M=s,b=-1),A=0,S=0,C=D,y=d,k=I,P=0,f=-1,m=(T=1<<I)-1,1===e&&T>852||2===e&&T>592)return 1;for(;;){v=C-P,p[S]<b?(x=0,_=p[S]):p[S]>b?(x=M[G+p[S]],_=R[j+p[S]]):(x=96,_=0),h=1<<C-P,D=g=1<<k;do{c[y+(A>>P)+(g-=h)]=v<<24|x<<16|_|0}while(0!==g);for(h=1<<C-1;A&h;)h>>=1;if(0!==h?(A&=h-1,A+=h):A=0,S++,0==--F[C]){if(C===O)break;C=t[n+p[S]]}if(C>I&&(A&m)!==f){for(0===P&&(P=I),y+=D,E=1<<(k=C-P);k+P<O&&!((E-=F[k+P])<=0);)k++,E<<=1;if(T+=1<<k,1===e&&T>852||2===e&&T>592)return 1;c[f=A&m]=I<<24|k<<16|y-d|0}}return 0!==A&&(c[y+A]=C-P<<24|64<<16|0),u.bits=I,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var i=e("../utils/common"),r=4,o=0,a=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,d=1,p=2,u=29,h=256,g=h+1+u,f=30,m=19,y=2*g+1,b=15,v=16,x=7,_=256,w=16,C=17,S=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(g+2));l(P);var E=new Array(2*f);l(E);var T=new Array(512);l(T);var A=new Array(256);l(A);var R=new Array(u);l(R);var j,F,L,M=new Array(f);function G(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function z(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function V(e){return e<256?T[e]:T[256+(e>>>7)]}function B(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function H(e,t,n){e.bi_valid>v-n?(e.bi_buf|=t<<e.bi_valid&65535,B(e,e.bi_buf),e.bi_buf=t>>v-e.bi_valid,e.bi_valid+=n-v):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function N(e,t,n){H(e,n[2*t],n[2*t+1])}function W(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function Y(e,t,n){var i,r,o=new Array(b+1),a=0;for(i=1;i<=b;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=W(o[s]++,s))}}function U(e){var t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<m;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*_]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function K(e){e.bi_valid>8?B(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function $(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function X(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&$(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!$(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function q(e,t,n){var i,r,o,a,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?N(e,r,t):(o=A[r],N(e,o+h+1,t),0!==(a=D[o])&&(r-=R[o],H(e,r,a)),o=V(--i),N(e,o,n),0!==(a=O[o])&&(i-=M[o],H(e,i,a)))}while(s<e.last_lit);N(e,_,t)}function Z(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=y,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)r=e.heap[++e.heap_len]=c<2?++c:0,o[2*r]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)X(e,o,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],X(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,X(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,l=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,p=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,g=t.stat_desc.max_length,f=0;for(o=0;o<=b;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<y;n++)i=e.heap[n],(o=l[2*l[2*i+1]+1]+1)>g&&(o=g,f++),l[2*i+1]=o,i>c||(e.bl_count[o]++,a=0,i>=h&&(a=u[i-h]),s=l[2*i],e.opt_len+=s*(o+a),p&&(e.static_len+=s*(d[2*i+1]+a)));if(0!==f){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,f-=2}while(f>0);for(o=g;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),Y(o,c,e.bl_count)}function Q(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*w]++):s<=10?e.bl_tree[2*C]++:e.bl_tree[2*S]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function J(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<l&&r===a)){if(s<c)do{N(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(N(e,r,e.bl_tree),s--),N(e,w,e.bl_tree),H(e,s-3,2)):s<=10?(N(e,C,e.bl_tree),H(e,s-3,3)):(N(e,S,e.bl_tree),H(e,s-11,7));s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4)}}l(M);var ee=!1;function te(e,t,n,r){H(e,(c<<1)+(r?1:0),3),function(e,t,n,r){K(e),r&&(B(e,n),B(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){ee||(function(){var e,t,n,i,r,o=new Array(b+1);for(n=0,i=0;i<u-1;i++)for(R[i]=n,e=0;e<1<<D[i];e++)A[n++]=i;for(A[n-1]=i,r=0,i=0;i<16;i++)for(M[i]=r,e=0;e<1<<O[i];e++)T[r++]=i;for(r>>=7;i<f;i++)for(M[i]=r<<7,e=0;e<1<<O[i]-7;e++)T[256+r++]=i;for(t=0;t<=b;t++)o[t]=0;for(e=0;e<=143;)P[2*e+1]=8,e++,o[8]++;for(;e<=255;)P[2*e+1]=9,e++,o[9]++;for(;e<=279;)P[2*e+1]=7,e++,o[7]++;for(;e<=287;)P[2*e+1]=8,e++,o[8]++;for(Y(P,g+1,o),e=0;e<f;e++)E[2*e+1]=5,E[2*e]=W(e,5);j=new G(P,D,h+1,g,b),F=new G(E,O,0,f,b),L=new G(new Array(0),I,0,m,x)}(),ee=!0),e.l_desc=new z(e.dyn_ltree,j),e.d_desc=new z(e.dyn_dtree,F),e.bl_desc=new z(e.bl_tree,L),e.bi_buf=0,e.bi_valid=0,U(e)},n._tr_stored_block=te,n._tr_flush_block=function(e,t,n,i){var l,c,u=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<h;t++)if(0!==e.dyn_ltree[2*t])return a;return o}(e)),Z(e,e.l_desc),Z(e,e.d_desc),u=function(e){var t;for(Q(e,e.dyn_ltree,e.l_desc.max_code),Q(e,e.dyn_dtree,e.d_desc.max_code),Z(e,e.bl_desc),t=m-1;t>=3&&0===e.bl_tree[2*k[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=l&&(l=c)):l=c=n+5,n+4<=l&&-1!==t?te(e,t,n,i):e.strategy===r||c===l?(H(e,(d<<1)+(i?1:0),3),q(e,P,E)):(H(e,(p<<1)+(i?1:0),3),function(e,t,n,i){var r;for(H(e,t-257,5),H(e,n-1,5),H(e,i-4,4),r=0;r<i;r++)H(e,e.bl_tree[2*k[r]+1],3);J(e,e.dyn_ltree,t-1),J(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),q(e,e.dyn_ltree,e.dyn_dtree)),U(e),i&&K(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(A[n]+h+1)]++,e.dyn_dtree[2*V(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){H(e,d<<1,3),N(e,_,P),function(e){16===e.bi_valid?(B(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},jLoP:function(e,t){e.exports='<mat-card class="mat-elevation-z1">\r\n  <div class="overlay" [class.opened]="_isMobile() && _filterOpened"></div>\r\n  <mat-card-header>\r\n    <mat-card-title class="card-title">\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u041a\u043b\u0438\u0435\u043d\u0442\u0430</mat-card-title>\r\n    <div id="fountainG" [hidden]="hiddenloader">\r\n      <div id="fountainG_1" class="fountainG"></div>\r\n      <div id="fountainG_2" class="fountainG"></div>\r\n      <div id="fountainG_3" class="fountainG"></div>\r\n      <div id="fountainG_4" class="fountainG"></div>\r\n      <div id="fountainG_5" class="fountainG"></div>\r\n      <div id="fountainG_6" class="fountainG"></div>\r\n      <div id="fountainG_7" class="fountainG"></div>\r\n      <div id="fountainG_8" class="fountainG"></div>\r\n    </div>\r\n  </mat-card-header>\r\n  <div class="filter-container" [class.opened]="_filterOpened">\r\n    <div class="filter clearfix">\r\n      <select [(ngModel)]="workgroupId" (change)="selectedWorkGroupChange()">\r\n        <option [ngValue]=0>\u0412\u0441\u0435 \u0440\u0430\u0431\u043e\u0447\u0438\u0435 \u0433\u0440\u0443\u043f\u044b</option>\r\n        <option *ngFor="let wg of workgroups; let i = index" [ngValue]=wg.id>\r\n          {{wg.title}}\r\n        </option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n  <div>\r\n\r\n    <div class="filter-button-container" *ngIf="_isMobile()">\r\n      <div class="filter-button">\r\n        <button mat-icon-button (click)="_toggleSidebar()">\r\n          <img [src]="_getFilterIcon()" height="30" width="30" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <mat-card-content>\r\n      <mat-paginator [pageSizeOptions]="[10, 20, 30, 40, 50, 60, 70, 80, 90, 100]" showFirstLastButtons\r\n        [length]="totalItems" [pageSize]="pageSize" (page)="paginate($event)"></mat-paginator>\r\n      <table mat-table [dataSource]="dataSource" MatSort [hidden]="_isMobile()">\r\n\r\n        <ng-container matColumnDef="status">\r\n          <th colspan="1" mat-header-cell *matHeaderCellDef></th>\r\n          <td colspan="1" mat-cell *matCellDef="let element" [style.background]="setBagroundStatus(element)"></td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="title">\r\n          <th colspan="4" mat-header-cell *matHeaderCellDef>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435</th>\r\n          <td colspan="4" mat-cell *matCellDef="let element" style="color: #324A60; max-width: 300px">\r\n            {{element.title}}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="phone">\r\n          <th colspan="4" mat-header-cell *matHeaderCellDef>\u0422\u0435\u043b\u0435\u0444\u043e\u043d</th>\r\n          <td colspan="4" mat-cell *matCellDef="let element">{{element.phones[0]?.phone}} {{element.contactName}}</td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="clientType">\r\n          <th colspan="4" mat-header-cell *matHeaderCellDef>\u0422\u0438\u043f</th>\r\n          <td colspan="4" mat-cell *matCellDef="let element">{{element.clientType}} </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="legalEntity">\r\n          <th colspan="4" mat-header-cell *matHeaderCellDef>\u042e\u0440. \u043b\u0438\u0446\u043e</th>\r\n          <td colspan="4" mat-cell *matCellDef="let element">{{element.legalEntity}} </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="numberOfCalls">\r\n          <th colspan="4" mat-header-cell *matHeaderCellDef>\u0417\u0432\u043e\u043d\u043a\u0438</th>\r\n          <td colspan="4" mat-cell *matCellDef="let element">{{element.numberOfCalls}} </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="numberOfShipments">\r\n          <th colspan="4" mat-header-cell *matHeaderCellDef>\u041e\u0442\u0433\u0440\u0443\u0437\u043a\u0438</th>\r\n          <td colspan="4" mat-cell *matCellDef="let element">{{element.numberOfShipments}} </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="comentCon">\r\n          <th colspan="10" mat-header-cell *matHeaderCellDef>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440\u0430</th>\r\n          <td colspan="10" mat-cell *matCellDef="let element">\r\n            <textarea\r\n              style="width:100%;height:60px;margin-top: 15px">{{element.callsComments?.comment}}</textarea><br />\r\n            <div class="btnContainer">\r\n              <button (click)="setNoAccept($event, element.id)" class="btnAccept btnReject">\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c</button>\r\n              <button (click)="setAccept($event, element.id)" class="btnAccept btnFixed">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e</button>\r\n            </div>\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef="comentCli">\r\n          <th colspan="7" mat-header-cell *matHeaderCellDef>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430</th>\r\n          <td colspan="7" mat-cell *matCellDef="let element">{{element.callsComments?.managerComment}}</td>\r\n        </ng-container>\r\n\r\n        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\r\n        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>\r\n      </table>\r\n      <div class="bodyAllExpansion" [hidden]="!_isMobile()">\r\n        <mat-accordion>\r\n          <ng-container class="table-expansion-element" *ngFor="let element of paginateClients; let i = index">\r\n            <mat-expansion-panel>\r\n              <mat-expansion-panel-header>\r\n                <mat-panel-title>\r\n                  <div class="status" [style.background]="setBagroundStatus(element)"></div>\r\n                  <div>\r\n                    {{element.title}}\r\n                  </div>\r\n                </mat-panel-title>\r\n              </mat-expansion-panel-header>\r\n              <div class="table-expansion-element-body">\r\n                <div class="element-item title"><b>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:</b> {{element.title}}</div>\r\n                <div class="element-item phone"><b>\u0422\u0435\u043b\u0435\u0444\u043e\u043d:</b>{{element.phones[0]?.phone}} {{element.contactName}}\r\n                </div>\r\n                <div class="element-item clientType"><b>\u0422\u0438\u043f:</b>{{element.clientType}}</div>\r\n                <div class="element-item legalEntity"><b>\u042e\u0440. \u043b\u0438\u0446\u043e:</b>{{element.legalEntity}}</div>\r\n                <div class="element-item numberOfCalls"><b>\u0417\u0432\u043e\u043d\u043a\u0438:</b>{{element.numberOfCalls}}</div>\r\n                <div class="element-item numberOfShipments"><b>\u041e\u0442\u0433\u0440\u0443\u0437\u043a\u0438:</b>{{element.numberOfShipments}}</div>\r\n                <div class="element-item comentCon">\r\n                  <b>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440\u0430:</b>\r\n                  <div>\r\n                    <textarea\r\n                      style="width:100%;height:60px;margin-top: 15px">{{element.callsComments?.comment}}</textarea><br />\r\n                    <div class="btnContainer">\r\n                      <button (click)="setNoAccept($event, element.id, i)" class="btnAccept btnReject">\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c</button>\r\n                      <button (click)="setAccept($event, element.id, i)" class="btnAccept btnFixed">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class="element-item comentCli"><b>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439\r\n                    \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430:</b>{{element.callsComments?.managerComment}}</div>\r\n              </div>\r\n            </mat-expansion-panel>\r\n          </ng-container>\r\n        </mat-accordion>\r\n      </div>\r\n    </mat-card-content>\r\n  </div>\r\n</mat-card>\r\n'},lFPP:function(e,t){e.exports='::ng-deep tr.mat-row {\n  cursor: pointer;\n}\n::ng-deep tr.mat-row:hover {\n  background-color: #f6f6f6;\n}\n::ng-deep .mat-form-field-infix {\n  border-top: 0px;\n}\n.numberInputField {\n  width: 45px;\n  height: 27px;\n  border-bottom: none;\n}\n.textInputField {\n  height: 27px;\n}\ntable {\n  table-layout: fixed;\n}\ntd {\n  padding-left: 15px !important;\n  padding-right: 5px !important;\n  border-bottom: none;\n  color: #1C1C1C !important;\n}\nth {\n  padding-left: 15px !important;\n  padding-right: 5px !important;\n  background-color: #fcfcfc;\n  border-bottom: none;\n  color: #000000 !important;\n}\n.mat-card {\n  padding: 0px;\n  padding-bottom: 20px;\n}\n.bodyAll {\n  margin: 10px;\n}\n.bodyAll .manager .dialog-section-title {\n  background-color: #c4e4ff;\n  font-size: 18px;\n  padding: 15px 10px;\n}\n.bodyAll .manager .dialog-section-title .btnAccept {\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n  baground-color: #A9D0F5;\n  pading: 10px;\n}\n.card-title {\n  padding: 40px 10px;\n  text-transform: uppercase;\n  color: #4d73a4;\n  font-weight: bold;\n}\n.filter-button {\n  background: #62b4ff;\n  position: fixed;\n  top: 47vh;\n  right: 0;\n  padding: 10px 5px;\n  border-top-left-radius: 6px;\n  border-bottom-left-radius: 6px;\n  z-index: 998;\n}\n.overlay.opened {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n  z-index: 996;\n  background: #000000cc;\n}\n::ng-deep th.mat-header-cell {\n  border-bottom: 1px solid #f7f7f7;\n  color: #b9b9b9;\n}\n.sub-header ::ng-deep th.mat-header-cell {\n  border-bottom: none;\n}\n::ng-deep td.mat-cell, td.mat-footer-cell {\n  border-bottom-width: 0px !important;\n  color: #9da0a5;\n}\n::ng-deep tr.mat-footer-row:hover, tr.mat-row:hover {\n  background-color: #eff7fa !important;\n}\n::ng-deep tr.mat-footer-row:hover td.mat-cell, ::ng-deep tr.mat-footer-row:hover td.mat-footer-cell, tr.mat-row:hover td.mat-cell, tr.mat-row:hover td.mat-footer-cell {\n  color: #384855;\n}\n::ng-deep tr.mat-footer-row:nth-child(2n), tr.mat-row:nth-child(2n) {\n  background-color: #fafbfd;\n}\n.numberInputField ::ng-deep .mat-form-field-underline {\n  display: none;\n}\n.bar {\n  padding: 5px 5px;\n  border-radius: 60px;\n  display: inline-block;\n  font-weight: bold;\n  text-align: center;\n}\n.bar-shadow {\n  background-color: #e7f0f5;\n  border-radius: 60px;\n  max-width: 110px;\n}\n.btnAccept {\n  background-color: #03a9f4;\n  color: #fff;\n  transition: 0.3s;\n  border-radius: 15px;\n  padding: 2px 2px;\n  border: none;\n  cursor: pointer;\n  margin-bottom: 5px;\n  margin-right: 3px;\n  flex-basis: 50%;\n  padding-left: 6px;\n  padding-right: 6px;\n}\n.filter {\n  margin: 0 20px;\n  text-align: right;\n}\n.filter input, .filter select, .filter button {\n  display: inline-block;\n  width: 200px;\n  padding: 10px 20px;\n  border: 1px solid;\n  border-radius: 99px;\n  border: 1px solid #E9F3FF;\n  margin-bottom: 10px;\n  background-color: white;\n}\n.filter .report {\n  margin-right: 20px;\n  display: inline-block;\n  padding: 10px 20px;\n  border: 1px solid;\n  border-radius: 99px;\n  border: 1px solid #E9F3FF;\n  margin-bottom: 10px;\n}\n.filter select {\n  width: 245px;\n  margin-right: 20px;\n}\n.filter .calendar {\n  width: 300px;\n  position: absolute;\n  right: 10px;\n  z-index: 10;\n}\n#fountainG {\n  width: 186px;\n  height: 22px;\n  margin: auto;\n  display: flex;\n}\n.fountainG {\n  background-color: rgba(46, 77, 171, 0.71);\n  width: 22px;\n  height: 22px;\n  animation-name: bounce_fountainG;\n  -o-animation-name: bounce_fountainG;\n  -ms-animation-name: bounce_fountainG;\n  -webkit-animation-name: bounce_fountainG;\n  -moz-animation-name: bounce_fountainG;\n  animation-duration: 0.905s;\n  -o-animation-duration: 0.905s;\n  -ms-animation-duration: 0.905s;\n  -webkit-animation-duration: 0.905s;\n  -moz-animation-duration: 0.905s;\n  animation-iteration-count: infinite;\n  -o-animation-iteration-count: infinite;\n  -ms-animation-iteration-count: infinite;\n  -webkit-animation-iteration-count: infinite;\n  -moz-animation-iteration-count: infinite;\n  animation-direction: normal;\n  -o-animation-direction: normal;\n  -ms-animation-direction: normal;\n  -webkit-animation-direction: normal;\n  -moz-animation-direction: normal;\n  transform: scale(0.3);\n  -o-transform: scale(0.3);\n  -ms-transform: scale(0.3);\n  -webkit-transform: scale(0.3);\n  -moz-transform: scale(0.3);\n  border-radius: 15px;\n  -o-border-radius: 15px;\n  -ms-border-radius: 15px;\n  -webkit-border-radius: 15px;\n  -moz-border-radius: 15px;\n}\n#fountainG_1 {\n  left: 0;\n  animation-delay: 0.366s;\n  -o-animation-delay: 0.366s;\n  -ms-animation-delay: 0.366s;\n  -webkit-animation-delay: 0.366s;\n  -moz-animation-delay: 0.366s;\n}\n#fountainG_2 {\n  left: 23px;\n  animation-delay: 0.4525s;\n  -o-animation-delay: 0.4525s;\n  -ms-animation-delay: 0.4525s;\n  -webkit-animation-delay: 0.4525s;\n  -moz-animation-delay: 0.4525s;\n}\n#fountainG_3 {\n  left: 46px;\n  animation-delay: 0.549s;\n  -o-animation-delay: 0.549s;\n  -ms-animation-delay: 0.549s;\n  -webkit-animation-delay: 0.549s;\n  -moz-animation-delay: 0.549s;\n}\n#fountainG_4 {\n  left: 70px;\n  animation-delay: 0.6355s;\n  -o-animation-delay: 0.6355s;\n  -ms-animation-delay: 0.6355s;\n  -webkit-animation-delay: 0.6355s;\n  -moz-animation-delay: 0.6355s;\n}\n#fountainG_5 {\n  left: 93px;\n  animation-delay: 0.732s;\n  -o-animation-delay: 0.732s;\n  -ms-animation-delay: 0.732s;\n  -webkit-animation-delay: 0.732s;\n  -moz-animation-delay: 0.732s;\n}\n#fountainG_6 {\n  left: 116px;\n  animation-delay: 0.8185s;\n  -o-animation-delay: 0.8185s;\n  -ms-animation-delay: 0.8185s;\n  -webkit-animation-delay: 0.8185s;\n  -moz-animation-delay: 0.8185s;\n}\n#fountainG_7 {\n  left: 139px;\n  animation-delay: 0.905s;\n  -o-animation-delay: 0.905s;\n  -ms-animation-delay: 0.905s;\n  -webkit-animation-delay: 0.905s;\n  -moz-animation-delay: 0.905s;\n}\n#fountainG_8 {\n  left: 163px;\n  animation-delay: 1.0015s;\n  -o-animation-delay: 1.0015s;\n  -ms-animation-delay: 1.0015s;\n  -webkit-animation-delay: 1.0015s;\n  -moz-animation-delay: 1.0015s;\n}\n@keyframes bounce_fountainG {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    background-color: rgba(14, 163, 232, 0.65);\n  }\n  100% {\n    -webkit-transform: scale(0.3);\n            transform: scale(0.3);\n    background-color: #917dd1;\n  }\n}\n@-webkit-keyframes bounce_fountainG {\n  0% {\n    -webkit-transform: scale(1);\n    background-color: rgba(14, 163, 232, 0.65);\n  }\n  100% {\n    -webkit-transform: scale(0.3);\n    background-color: #917dd1;\n  }\n}\n.btnContainer {\n  display: flex;\n  margin-bottom: 8px;\n}\n.btnReject {\n  background-color: #ff7777;\n}\n.btnFixed {\n  background-color: #8bd88b;\n  margin-right: 0;\n}\n@media screen and (max-width: 1200px) {\n  td, th {\n    padding-left: 0 !important;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    line-height: 1.5;\n  }\n\n  th:hover,\ntd:hover {\n    text-overflow: clip;\n    overflow: inherit;\n  }\n}\n@media screen and (max-width: 820px) {\n  .filter-container {\n    overflow-y: scroll;\n    position: absolute;\n    width: -webkit-min-content;\n    width: -moz-min-content;\n    width: min-content;\n    display: none;\n    top: 0;\n    right: 0;\n    height: 100%;\n    background: white;\n    z-index: 997;\n  }\n\n  .filter-container.opened {\n    right: 0;\n    display: block;\n    -webkit-animation: animateright 0.4s;\n    animation: animateright 0.4;\n  }\n\n  .filter {\n    display: flex;\n    flex-direction: column;\n    margin-top: 20px;\n    padding-right: 40px;\n  }\n}\n.mat-card {\n  min-height: 100vh;\n}\nmat-expansion-panel.mat-expanded {\n  border-radius: 0;\n}\nmat-expansion-panel.mat-expanded mat-expansion-panel-header {\n  background: #62b4ff;\n  border-radius: 0;\n  color: white;\n}\nmat-expansion-panel.mat-expanded mat-expansion-panel-header .mat-expansion-panel-header-title {\n  color: white;\n  font-size: 18px;\n}\nmat-expansion-panel.mat-expanded mat-expansion-panel-header .mat-expansion-panel-header-title .status {\n  width: 10px;\n  position: absolute;\n  left: 0;\n  height: 64px;\n  margin-top: -19px;\n}\n.table-expansion-element-body {\n  margin-top: 20px;\n}\n.table-expansion-element-body .element-item {\n  line-height: 30px;\n}\n.table-expansion-element-body b {\n  margin-right: 10px;\n}\n.table-expansion-element-body .statusCall {\n  display: flex;\n}\n.table-expansion-element-body .statusCall .action-circle {\n  margin-top: 7px;\n}\n.table-expansion-element-body .comentCon {\n  max-width: 300px;\n}\n.table-expansion-element-body .comentCon .btnContainer .btnAccept {\n  height: 30px;\n}\n.mat-expansion-panel {\n  border: none;\n  border-bottom: 1px solid #e6e6e6;\n  box-shadow: none;\n}'},mbIT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},n3uD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},"nJ+G":function(e,t){e.exports="html {\n  min-height: 100%;\n}\nbody {\n  height: 100%;\n}\n.wrapper {\n  padding: 0px 10px;\n}\n@media screen and (max-width: 820px) {\n  .wrapper {\n    padding: 0px;\n  }\n}\n.logout {\n  margin-left: auto;\n  color: #3897da;\n  padding: 17px 22px;\n  height: 90px !important;\n  background-color: white;\n}\n.logout i {\n  display: inline-block;\n  margin-left: 60px;\n  background-color: #E2F4FF;\n  padding: 15px;\n  border-radius: 99px;\n  cursor: pointer;\n}\n.mat-toolbar-row, .mat-toolbar-single-row {\n  padding: 0px;\n}\nmat-toolbar {\n  height: 90px !important;\n  background-color: #62b4ff !important;\n  padding: 0px;\n  position: relative;\n  z-index: 1000;\n}\n@media screen and (max-width: 820px) {\n  mat-toolbar {\n    margin-bottom: 20px !important;\n  }\n}\nnav {\n  display: flex;\n}\n@media screen and (max-width: 820px) {\n  nav {\n    display: none;\n  }\n\n  mat-toolbar .logout {\n    background: #62b4ff;\n    color: white;\n    height: auto !important;\n  }\n\n  mat-toolbar .logout-icon {\n    display: none;\n  }\n}\nnav a.active {\n  background-color: white !important;\n  color: #4895e4;\n}\nnav a {\n  color: white;\n  transition: 0.3s;\n  border-radius: 30px;\n  padding: 10px 25px;\n  font-size: 18px;\n}\nnav a:hover {\n  color: #4895e4;\n  transition: 0.6s;\n}\n@media screen and (max-width: 1200px) {\n  .fa-sign-out-alt {\n    margin-left: 0 !important;\n  }\n\n  nav a {\n    margin-right: 0;\n  }\n}\n@media screen and (max-width: 1014px) {\n  nav {\n    margin-left: 0;\n  }\n\n  nav a {\n    padding: 10px 20px !important;\n  }\n\n  .logout {\n    padding-right: 8px;\n    padding-left: 8px;\n  }\n}\n@media screen and (max-width: 945px) {\n  nav a {\n    padding: 10px 12px !important;\n  }\n}\nmat-toolbar .menu-icon {\n  margin-left: auto;\n  padding-right: 1em;\n  display: none;\n}\n@media screen and (max-width: 820px) {\n  mat-toolbar .menu-icon {\n    display: block;\n  }\n}\n.sidebar-menu-container.opened {\n  transition: top 0.5s;\n  -webkit-transition: top 0.5s;\n  -moz-transition: top 0.5s;\n  top: 90px;\n}\n.sidebar-menu-container {\n  background-color: #fff;\n  z-index: 1000;\n  position: absolute;\n  width: 100%;\n  transition: top 0.5s;\n  -webkit-transition: top 0.5s;\n  -moz-transition: top 0.5s;\n  top: -350px;\n}\n.sidebar-menu-container .sidebar-menu {\n  padding: 1em 0em;\n}\n.sidebar-menu-container .sidebar-menu .menu-item {\n  display: block;\n  padding: 0em 1em;\n  line-height: 40px;\n  cursor: pointer;\n  font-size: 20px;\n}\n.sidebar-menu-container .sidebar-menu .menu-item.active {\n  background-color: #62b4ff;\n  color: #fff;\n  margin-top: -1px;\n}\n.sidebar-menu-container .sidebar-menu .menu-item .item-text {\n  border-bottom: 1px solid #e6e6e6;\n  padding: 0em 1em;\n  width: 100%;\n  display: block;\n}\n.sidebar-menu-container .sidebar-menu .menu-item.active .item-text {\n  border-bottom: none;\n}\n.sidebar-menu-container .sidebar-menu .logout {\n  text-align: center;\n  font-size: 20px;\n}\n.sidebar-menu-container .sidebar-menu .logout i {\n  margin-left: 30px !important;\n}\n.overlay.opened {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n  z-index: 999;\n  background: rgba(0, 0, 0, 0.8);\n}"},ncrj:function(e,t){e.exports=".close {\n  display: block;\n  position: absolute;\n  z-index: 100;\n  cursor: pointer;\n  right: 25px;\n  top: 25px;\n  width: 50px;\n  height: 50px;\n  border-radius: 100px;\n  border: none;\n  background: none;\n}\n.close i {\n  display: inline-block;\n  color: #03a9f4;\n}\n.dialog-title {\n  margin-top: 35px;\n  margin-left: 25px;\n}\n::ng-deep .mat-dialog-container {\n  position: relative;\n  color: #557B91;\n  padding: 0px;\n  padding-bottom: 50px;\n}\n::ng-deep .mat-dialog-container .mat-dialog-content {\n  margin: 0;\n  padding: 0;\n}\ntable {\n  table-layout: fixed;\n}\ntd {\n  padding-left: 15px !important;\n  padding-right: 5px !important;\n  border-bottom: none;\n  color: #1C1C1C !important;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\nth {\n  padding-left: 15px !important;\n  padding-right: 5px !important;\n  background-color: #fcfcfc;\n  border-bottom: none;\n  color: #000000 !important;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.mat-card {\n  padding: 0px;\n  padding-bottom: 20px;\n}\n.btnAccept {\n  background-color: #03a9f4;\n  color: #fff;\n  transition: 0.3s;\n  border-radius: 15px;\n  padding: 2px 2px;\n  border: none;\n  cursor: pointer;\n  margin-bottom: 5px;\n  margin-right: 3px;\n  flex-basis: 50%;\n  padding-left: 6px;\n  padding-right: 6px;\n}\n.action-circle {\n  height: 15px;\n  width: 15px;\n  border-radius: 10px;\n  margin-bottom: 4px;\n}\n.btnContainer {\n  display: flex;\n  margin-bottom: 8px;\n}\n.btnReject {\n  background-color: #ff7777;\n}\n.btnFixed {\n  background-color: #8bd88b;\n  margin-right: 0;\n}\n.audio-cell {\n  width: 200px;\n}\n.audio-cell-icon {\n  display: none;\n  height: 38px;\n  width: 38px;\n}\n@media screen and (max-width: 1420px) {\n  .audio-cell {\n    width: 50px;\n  }\n\n  .audio-cell-play {\n    display: none;\n  }\n\n  .audio-cell-icon {\n    display: block !important;\n  }\n\n  th, td {\n    padding-left: 5px !important;\n  }\n\n  th:hover,\ntd:hover {\n    text-overflow: clip;\n    overflow: inherit;\n  }\n}\nmat-expansion-panel.mat-expanded {\n  border-radius: 0;\n}\nmat-expansion-panel.mat-expanded mat-expansion-panel-header {\n  background: #62b4ff;\n  border-radius: 0;\n  color: white;\n}\nmat-expansion-panel.mat-expanded mat-expansion-panel-header .mat-expansion-panel-header-title {\n  color: white;\n  font-size: 18px;\n}\nmat-expansion-panel.mat-expanded mat-expansion-panel-header .mat-expansion-panel-header-title .status {\n  width: 10px;\n  position: absolute;\n  left: 0;\n  height: 64px;\n  margin-top: -19px;\n}\n.table-expansion-element-body {\n  margin-top: 20px;\n}\n.table-expansion-element-body .element-item {\n  line-height: 30px;\n}\n.table-expansion-element-body b {\n  margin-right: 10px;\n}\n.table-expansion-element-body .statusCall {\n  display: flex;\n}\n.table-expansion-element-body .statusCall .action-circle {\n  margin-top: 7px;\n}\n.table-expansion-element-body .direction b {\n  vertical-align: top;\n}\n.table-expansion-element-body .refAudio .audio-cell {\n  width: 100%;\n}\n.mat-expansion-panel {\n  border: none;\n  border-bottom: 1px solid #e6e6e6;\n  box-shadow: none;\n}"},"p//D":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),t.$$rxSubscriber=t.rxSubscriber},pshJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e}},qmCU:function(e,t){e.exports='::ng-deep tr.mat-row {\n  cursor: pointer;\n}\n::ng-deep tr.mat-row:hover {\n  background-color: #f6f6f6;\n}\n::ng-deep .mat-form-field-infix {\n  border-top: 0px;\n}\n.numberInputField {\n  width: 45px;\n  height: 27px;\n  border-bottom: none;\n}\n.textInputField {\n  height: 27px;\n}\ntable {\n  border-collapse: collapse;\n}\ntable td, table th {\n  padding: 10px 15px;\n  text-align: left;\n}\ntable td {\n  background: white;\n  padding-left: 15px !important;\n  padding-right: 5px !important;\n  border: 1px solid #6FACE7;\n  text-align: center;\n}\ntable th {\n  padding-left: 15px !important;\n  padding-right: 5px !important;\n  border: 1px solid #6FACE7;\n  font-weight: normal;\n  text-align: center;\n  background: #f1f8ff;\n}\n.mat-card {\n  padding: 0px;\n  padding-bottom: 20px;\n}\n.bodyAll {\n  margin: 10px;\n}\n.bodyAll .manager .dialog-section-title {\n  background-color: #c4e4ff;\n  font-size: 18px;\n  padding: 15px 10px;\n}\n.bodyAll .manager .dialog-section-title .btnAccept {\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n  baground-color: #A9D0F5;\n  pading: 10px;\n}\n.card-title {\n  padding: 40px 10px;\n  text-transform: uppercase;\n  color: #4d73a4;\n  font-weight: bold;\n}\n::ng-deep th.mat-header-cell {\n  border-bottom: 1px solid #f7f7f7;\n  color: #b9b9b9;\n}\n.sub-header ::ng-deep th.mat-header-cell {\n  border-bottom: none;\n}\n::ng-deep td.mat-cell, td.mat-footer-cell {\n  border-bottom-width: 0px !important;\n  color: #9da0a5;\n}\n::ng-deep tr.mat-footer-row:hover, tr.mat-row:hover {\n  background-color: #eff7fa !important;\n}\n::ng-deep tr.mat-footer-row:hover td.mat-cell, ::ng-deep tr.mat-footer-row:hover td.mat-footer-cell, tr.mat-row:hover td.mat-cell, tr.mat-row:hover td.mat-footer-cell {\n  color: #384855;\n}\n::ng-deep tr.mat-footer-row:nth-child(2n), tr.mat-row:nth-child(2n) {\n  background-color: #fafbfd;\n}\n.numberInputField ::ng-deep .mat-form-field-underline {\n  display: none;\n}\n.bar {\n  padding: 5px 5px;\n  border-radius: 60px;\n  display: inline-block;\n  font-weight: bold;\n  text-align: center;\n}\n.bar-shadow {\n  background-color: #e7f0f5;\n  border-radius: 60px;\n  max-width: 110px;\n}\n.btnAccept {\n  background: -moz-linear-gradient(#c4e4ff, #EBFFFF);\n  background: -webkit-gradient(linear, 0 0, 0 100%, from(#c4e4ff), to(#EBFFFF));\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#c4e4ff", endColorstr="#EBFFFF");\n  padding: 3px 7px;\n  border-radius: 5px;\n  border: 1px solid #c4e4ff;\n  font-family: Roboto, "Helvetica Neue", sans-serif;\n  margin-bottom: 5px;\n}\n.filter {\n  margin: 0 20px;\n  text-align: right;\n}\n.filter input, .filter select, .filter button {\n  display: inline-block;\n  width: 200px;\n  padding: 10px 20px;\n  border: 1px solid;\n  border-radius: 99px;\n  border: 1px solid #E9F3FF;\n  margin-bottom: 10px;\n  background-color: white;\n}\n.filter .report {\n  margin-right: 20px;\n  display: inline-block;\n  padding: 10px 20px;\n  border: 1px solid;\n  border-radius: 99px;\n  border: 1px solid #E9F3FF;\n  margin-bottom: 10px;\n}\n.filter select {\n  width: 245px;\n  margin-right: 20px;\n}\n.filter .calendar {\n  width: 300px;\n  position: absolute;\n  right: 10px;\n  z-index: 10;\n}\n.workgroups-wrapper {\n  padding: 0px 10px;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  -webkit-column-gap: 35px;\n     -moz-column-gap: 35px;\n          column-gap: 35px;\n}\n.workgroups-wrapper .workgroup-item {\n  background: rgba(208, 230, 252, 0.3);\n  border-radius: 20px;\n  margin-bottom: 20px;\n}\n.workgroups-wrapper .workgroup-item .workgroup-title {\n  padding: 20px 25px;\n  font-size: 18px;\n  color: white;\n  background: #62b4ff;\n  border-radius: 20px 20px 0px 0px;\n  line-height: 1.5;\n}\n.workgroups-wrapper .workgroup-item .workgroup-title span {\n  display: inline-block;\n  padding-top: 10px;\n}\n.workgroups-wrapper .workgroup-item .workgroup-title .workgroup-actions {\n  display: inline-block;\n  float: right;\n}\n.workgroups-wrapper .workgroup-item .workgroup-title .workgroup-actions a {\n  border-radius: 99px;\n  background: #95CCFF;\n  color: #fff;\n  padding: 10px 40px;\n  display: inline-block;\n  font-size: 16px;\n}\n.workgroups-wrapper .workgroup-item .workgroup-title .workgroup-actions .plans {\n  margin-right: 20px;\n}\n.workgroups-wrapper .workgroup-item .workgroup-title .workgroup-actions .calls {\n  background: #ffffff;\n  border: 2px solid #95CCFF;\n  color: #3EA1FF;\n}\n.blockCalendar {\n  align-items: center;\n  display: flex;\n  position: absolute;\n  right: 10px;\n  z-index: 10;\n}\n.blockCalendar .calendar {\n  width: 300px;\n  position: relative;\n}\n.blockCalendar .btnSort {\n  width: 150px;\n  border-radius: 20px;\n  border: 1px solid #d4f3ff;\n}\n.blockCalendar .btnSort:focus {\n  background-color: #f2fbff;\n}\n#fountainG {\n  width: 186px;\n  height: 22px;\n  margin: auto;\n  display: flex;\n}\n.fountainG {\n  background-color: rgba(46, 77, 171, 0.71);\n  width: 22px;\n  height: 22px;\n  animation-name: bounce_fountainG;\n  -o-animation-name: bounce_fountainG;\n  -ms-animation-name: bounce_fountainG;\n  -webkit-animation-name: bounce_fountainG;\n  -moz-animation-name: bounce_fountainG;\n  animation-duration: 0.905s;\n  -o-animation-duration: 0.905s;\n  -ms-animation-duration: 0.905s;\n  -webkit-animation-duration: 0.905s;\n  -moz-animation-duration: 0.905s;\n  animation-iteration-count: infinite;\n  -o-animation-iteration-count: infinite;\n  -ms-animation-iteration-count: infinite;\n  -webkit-animation-iteration-count: infinite;\n  -moz-animation-iteration-count: infinite;\n  animation-direction: normal;\n  -o-animation-direction: normal;\n  -ms-animation-direction: normal;\n  -webkit-animation-direction: normal;\n  -moz-animation-direction: normal;\n  transform: scale(0.3);\n  -o-transform: scale(0.3);\n  -ms-transform: scale(0.3);\n  -webkit-transform: scale(0.3);\n  -moz-transform: scale(0.3);\n  border-radius: 15px;\n  -o-border-radius: 15px;\n  -ms-border-radius: 15px;\n  -webkit-border-radius: 15px;\n  -moz-border-radius: 15px;\n}\n#fountainG_1 {\n  left: 0;\n  animation-delay: 0.366s;\n  -o-animation-delay: 0.366s;\n  -ms-animation-delay: 0.366s;\n  -webkit-animation-delay: 0.366s;\n  -moz-animation-delay: 0.366s;\n}\n#fountainG_2 {\n  left: 23px;\n  animation-delay: 0.4525s;\n  -o-animation-delay: 0.4525s;\n  -ms-animation-delay: 0.4525s;\n  -webkit-animation-delay: 0.4525s;\n  -moz-animation-delay: 0.4525s;\n}\n#fountainG_3 {\n  left: 46px;\n  animation-delay: 0.549s;\n  -o-animation-delay: 0.549s;\n  -ms-animation-delay: 0.549s;\n  -webkit-animation-delay: 0.549s;\n  -moz-animation-delay: 0.549s;\n}\n#fountainG_4 {\n  left: 70px;\n  animation-delay: 0.6355s;\n  -o-animation-delay: 0.6355s;\n  -ms-animation-delay: 0.6355s;\n  -webkit-animation-delay: 0.6355s;\n  -moz-animation-delay: 0.6355s;\n}\n#fountainG_5 {\n  left: 93px;\n  animation-delay: 0.732s;\n  -o-animation-delay: 0.732s;\n  -ms-animation-delay: 0.732s;\n  -webkit-animation-delay: 0.732s;\n  -moz-animation-delay: 0.732s;\n}\n#fountainG_6 {\n  left: 116px;\n  animation-delay: 0.8185s;\n  -o-animation-delay: 0.8185s;\n  -ms-animation-delay: 0.8185s;\n  -webkit-animation-delay: 0.8185s;\n  -moz-animation-delay: 0.8185s;\n}\n#fountainG_7 {\n  left: 139px;\n  animation-delay: 0.905s;\n  -o-animation-delay: 0.905s;\n  -ms-animation-delay: 0.905s;\n  -webkit-animation-delay: 0.905s;\n  -moz-animation-delay: 0.905s;\n}\n#fountainG_8 {\n  left: 163px;\n  animation-delay: 1.0015s;\n  -o-animation-delay: 1.0015s;\n  -ms-animation-delay: 1.0015s;\n  -webkit-animation-delay: 1.0015s;\n  -moz-animation-delay: 1.0015s;\n}\n@keyframes bounce_fountainG {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    background-color: rgba(14, 163, 232, 0.65);\n  }\n  100% {\n    -webkit-transform: scale(0.3);\n            transform: scale(0.3);\n    background-color: #917dd1;\n  }\n}\n@-webkit-keyframes bounce_fountainG {\n  0% {\n    -webkit-transform: scale(1);\n    background-color: rgba(14, 163, 232, 0.65);\n  }\n  100% {\n    -webkit-transform: scale(0.3);\n    background-color: #917dd1;\n  }\n}'},w5QO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){}},wNtE:function(e,t){e.exports='<mat-card class="mat-elevation-z1">\r\n  <div class="overlay" [class.opened]="_isMobile() && _filterOpened"></div>\r\n  <mat-card-header>\r\n    <mat-card-title class="card-title">\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u041f\u043b\u0430\u043d \u0444\u0430\u043a\u0442\u0430</mat-card-title>\r\n    <div id="fountainG" [hidden]="hiddenloader">\r\n      <div id="fountainG_1" class="fountainG"></div>\r\n      <div id="fountainG_2" class="fountainG"></div>\r\n      <div id="fountainG_3" class="fountainG"></div>\r\n      <div id="fountainG_4" class="fountainG"></div>\r\n      <div id="fountainG_5" class="fountainG"></div>\r\n      <div id="fountainG_6" class="fountainG"></div>\r\n      <div id="fountainG_7" class="fountainG"></div>\r\n      <div id="fountainG_8" class="fountainG"></div>\r\n    </div>\r\n  </mat-card-header>\r\n  <div class="filter-container" [class.opened]="_filterOpened">\r\n    <div class="filter clearfix">\r\n      <select [(ngModel)]="numberWeek" (ngModelChange)="changeNumberWeek()">\r\n        <option [ngValue]=1>\u041f\u0435\u0440\u0432\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f</option>\r\n        <option [ngValue]=2>\u0412\u0442\u043e\u0440\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f</option>\r\n        <option [ngValue]=3>\u0422\u0440\u0435\u0442\u044c\u044f \u043d\u0435\u0434\u0435\u043b\u044f</option>\r\n        <option [ngValue]=4>\u0427\u0435\u0442\u0432\u0435\u0440\u0442\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f</option>\r\n        <option [ngValue]=5>\u041f\u044f\u0442\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f</option>\r\n      </select>\r\n      <select [(ngModel)]="dateCollection" (ngModelChange)="toFormatDate(dateCollection)">\r\n        <option *ngFor="let dateCollection of dateCollections">{{dateCollection}}</option>\r\n      </select>\r\n      <select [(ngModel)]="workgroupId" (change)="selectedWorkGroupChange()">\r\n        <option [ngValue]=0>\u0412\u0441\u0435 \u0440\u0430\u0431\u043e\u0447\u0438\u0435 \u0433\u0440\u0443\u043f\u044b</option>\r\n        <option *ngFor="let wg of workgroups; let i = index" [ngValue]=wg.id>\r\n          {{wg.title}}\r\n        </option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="filter-button-container" *ngIf="_isMobile()">\r\n    <div class="filter-button">\r\n      <button mat-icon-button (click)="_toggleSidebar()">\r\n        <img [src]="_getFilterIcon()" height="30" width="30" />\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <mat-paginator [pageSizeOptions]="[10, 20, 30, 40, 50, 60, 70, 80, 90, 100]" showFirstLastButtons\r\n    [length]="totalItems" [pageSize]="pageSize" (page)="paginate($event)"></mat-paginator>\r\n  <mat-card-content>\r\n    <table mat-table [dataSource]="dataSource" MatSort [hidden]="_isMobile()">\r\n\r\n      <ng-container matColumnDef="status">\r\n        <th colspan="1" mat-header-cell *matHeaderCellDef></th>\r\n        <td colspan="1" mat-cell *matCellDef="let element" [style.background]="setBagroundStatus(element)"></td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="title">\r\n        <th colspan="4" mat-header-cell *matHeaderCellDef>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435</th>\r\n        <td colspan="4" mat-cell *matCellDef="let element" style="color: #324A60; max-width: 300px">{{element.title}}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="legalEntity">\r\n        <th colspan="4" mat-header-cell *matHeaderCellDef>\u042e\u0440. \u043b\u0438\u0446\u043e</th>\r\n        <td colspan="4" mat-cell *matCellDef="let element">{{element.legalEntity}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="countCall">\r\n        <th colspan="2" mat-header-cell *matHeaderCellDef>\u0417\u0432\u043e\u043d\u043a\u0438</th>\r\n        <td colspan="2" mat-cell *matCellDef="let element" (click)="goToCall(element.clientAccept)">\r\n          {{element.clientAccept.length}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="planRM">\r\n        <th colspan="7" mat-header-cell *matHeaderCellDef>\u041f\u043b\u0430\u043d \u0420\u041c</th>\r\n        <td colspan="7" mat-cell *matCellDef="let element">{{element.weeklyPlanSRegional?.plan}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="planMC">\r\n        <th colspan="7" mat-header-cell *matHeaderCellDef>\u041f\u043b\u0430\u043d MC</th>\r\n        <td colspan="7" mat-cell *matCellDef="let element">{{element.weeklyPlanSEscort?.plan}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="taskRM">\r\n        <th colspan="7" mat-header-cell *matHeaderCellDef>\u0424\u0430\u043a\u0442 \u0420\u041c</th>\r\n        <td colspan="7" mat-cell *matCellDef="let element">{{element.weeklyPlanSRegional?.fact}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="taskMC">\r\n        <th colspan="4" mat-header-cell *matHeaderCellDef>\u0424\u0430\u043a\u0442 \u041c\u0421</th>\r\n        <td colspan="4" mat-cell *matCellDef="let element">{{element.weeklyPlanSEscort?.fact}} </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="comentCon">\r\n        <th colspan="12" mat-header-cell *matHeaderCellDef>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440\u0430</th>\r\n        <td colspan="12" mat-cell *matCellDef="let element">\r\n          <textarea style="width:100%;height:60px;margin-top: 15px">{{getComment(element)}}</textarea><br />\r\n          <div class="btnContainer">\r\n            <button (click)="setNoAccept($event, element.id)" class="btnAccept btnReject">\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c</button>\r\n            <button (click)="setAccept($event, element.id)" class="btnAccept btnFixed">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e</button>\r\n          </div>\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef="comentCli">\r\n        <th colspan="7" mat-header-cell *matHeaderCellDef>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430</th>\r\n        <td colspan="7" mat-cell *matCellDef="let element">{{getManagerComment(element)}}</td>\r\n      </ng-container>\r\n\r\n      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>\r\n      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>\r\n    </table>\r\n    <div class="bodyAllExpansion" [hidden]="!_isMobile()">\r\n      <mat-accordion>\r\n        <ng-container class="table-expansion-element" *ngFor="let element of paginateClients; let idx = index">\r\n          <mat-expansion-panel>\r\n            <mat-expansion-panel-header>\r\n              <mat-panel-title>\r\n                <div class="status" [style.background]="setBagroundStatus(element)"></div>\r\n                <div>\r\n                  {{element.title}}\r\n                </div>\r\n              </mat-panel-title>\r\n            </mat-expansion-panel-header>\r\n            <div class="table-expansion-element-body">\r\n              <div class="element-item title"><b>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:</b> {{element.title}}</div>\r\n              <div class="element-item legalEntity"><b>\u042e\u0440. \u043b\u0438\u0446\u043e:</b> {{element.legalEntity}}</div>\r\n              <div class="element-item countCall" (click)="goToCall(element.clientAccept)">\r\n                <b>\u0417\u0432\u043e\u043d\u043a\u0438:</b>\r\n                {{element.clientAccept.length}}\r\n              </div>\r\n              <div class="element-item planRM"><b>\u041f\u043b\u0430\u043d \u0420\u041c:</b> {{element.weeklyPlanSRegional?.plan}}</div>\r\n              <div class="element-item planMC"><b>\u041f\u043b\u0430\u043d MC:</b> {{element.weeklyPlanSEscort?.plan}}</div>\r\n              <div class="element-item taskRM"><b>\u0424\u0430\u043a\u0442 \u0420\u041c:</b> {{element.weeklyPlanSRegional?.fact}}</div>\r\n              <div class="element-item taskMC"><b>\u0424\u0430\u043a\u0442 \u041c\u0421:</b> {{element.weeklyPlanSEscort?.fact}}</div>\r\n              <div class="element-item comentCon">\r\n                <b>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440\u0430:</b>\r\n                <div>\r\n                  <textarea\r\n                    style="width:100%;height:60px;margin-top: 15px">{{element.callsComments?.comment}}</textarea><br />\r\n                  <div class="btnContainer">\r\n                    <button (click)="setNoAccept($event, element.id, idx)" class="btnAccept btnReject">\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c</button>\r\n                    <button (click)="setAccept($event, element.id, idx)" class="btnAccept btnFixed">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="element-item comentCli">\r\n                <b>\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430:</b>\r\n                {{element.callsComments?.managerComment}}\r\n              </div>\r\n            </div>\r\n          </mat-expansion-panel>\r\n        </ng-container>\r\n      </mat-accordion>\r\n    </div>\r\n  </mat-card-content>\r\n</mat-card>\r\n'},yx2s:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("FWf1");t.canReportError=function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof i.Subscriber?r:null}return!0}},"zB/H":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("mbIT"),r=n("GMZp"),o=n("pshJ"),a=n("LBXl"),s=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,s=this._parents,c=this._unsubscribe,d=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,u=s?s.length:0;n;)n.remove(this),n=++p<u&&s[p]||null;if(o.isFunction(c))try{c.call(this)}catch(g){t=!0,e=g instanceof a.UnsubscriptionError?l(g.errors):[g]}if(i.isArray(d))for(p=-1,u=d.length;++p<u;){var h=d[p];if(r.isObject(h))try{h.unsubscribe()}catch(g){t=!0,e=e||[],g instanceof a.UnsubscriptionError?e=e.concat(l(g.errors)):e.push(g)}}if(t)throw new a.UnsubscriptionError(e)}},e.prototype.add=function(t){var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){var r=this._subscriptions;r?r.push(n):this._subscriptions=[n]}return n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce(function(e,t){return e.concat(t instanceof a.UnsubscriptionError?t.errors:t)},[])}t.Subscription=s},zfKp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},zxd3:function(e,t){e.exports='<app-Accept-Manager\r\n    [managers]="managers$ | async">\r\n</app-Accept-Manager>\r\n'}}]);