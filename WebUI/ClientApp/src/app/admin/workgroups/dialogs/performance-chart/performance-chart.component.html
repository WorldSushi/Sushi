<div class="manager-effiency">
  <mat-card class="mat-elevation-z1">
    <mat-card-header>
      <mat-card-title class="card-title">Таблица эффективности менеджера</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <table>
        <thead>
          <tr>
            <th></th>
            <th colspan="2">Типы контактов</th>
            <th>План по числу смен</th>
            <th>План в смену (шт)</th>
            <th>Баллы за ед.</th>
            <th colspan="2">Эталон</th>
            <th colspan="4">Факт</th>
          </tr>
          <tr>
            <th colspan="1"></th>
            <th colspan="5"></th>
            <th>в ед.</th>
            <th>в баллах</th>
            <th>согласно учету</th>
            <th>согласно программе (звонки > 2,5 мин.)</th>
            <th>расхождение</th>
            <th>в баллах</th>
          </tr>
          <tr>
            <th style="text-align: left" colspan="12">Менеджер Сопровождения</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{fullPrecentEC.toFixed(1)}}%</td>
            <td colspan="2">Звонки развития</td>
            <td><input type="number" (focusout)="setNumberPlan_DevelopmentCallsMC($event.currentTarget.value)" value="{{performanceChartMC.numberPlan_DevelopmentCalls}}"/></td>
            <td><input type="number" (focusout)="setShiftPlan_DevelopmentCallsMC($event.currentTarget.value)" value="{{performanceChartMC.shiftPlan_DevelopmentCalls}}" /></td>
            <td><input type="number" (focusout)="setBalls_DevelopmentCallsMC($event.currentTarget.value)" value="{{performanceChartMC.balls_DevelopmentCalls}}" /></td>
            <td>{{oneTasksEC}}</td>
            <td>{{oneBallsEC}}</td>
            <td>{{tasksEC}}</td>
            <td>{{performanceChartMC.numberPlan_DevelopmentCalls*8}}</td>
            <td>{{performanceChartMC.numberPlan_DevelopmentCalls + data.callEsc.length}}</td>
            <td>{{ballsEC.toFixed(1)}}</td>
          </tr>
          <tr>
            <th colspan="12">Региональный менеджер</th>
          </tr>
          <tr>
            <td rowspan="3">{{fullPrecentRM.toFixed(1)}}%</td>
            <td colspan="2">Встречи и командировки развития</td>
            <td><input type="number" (focusout)="setNumberPlan_DevelopmentCallsRM($event.currentTarget.value)" value="{{performanceChartRM.numberPlan_DevelopmentCalls}}" /></td>
            <td>-</td>
            <td><input type="number" (focusout)="setBalls_DevelopmentCallsRM($event.currentTarget.value)" value="{{performanceChartRM.balls_DevelopmentCalls}}" /></td>
            <td></td>
            <td rowspan="3">{{ballsRM}}</td>
            <td>{{sumFactTrip}}</td>
            <td>-</td>  
            <td>-</td>
            <td rowspan="3">{{oneBallsRM}}</td>
          </tr>
          <tr>
            <td rowspan="2">Звонки</td>
            <td>Свои смены</td>
            <td><input type="number" (focusout)="setNumberPlan_YourShiftsRM($event.currentTarget.value)" value="{{performanceChartRM.numberPlan_YourShifts}}" /></td>
            <td><input type="number" (focusout)="setShiftPlan_YourShiftsRM($event.currentTarget.value)" value="{{performanceChartRM.shiftPlan_YourShifts}}" /></td>
            <td rowspan="2"><input type="number" (focusout)="setBalls_YourShiftsShiftsRM($event.currentTarget.value)" value="{{performanceChartRM.balls_YourShifts}}" /></td>
            <td>{{oneTasksRM}}</td>
            <td rowspan="2">{{tasksRM}}</td>
            <td rowspan="2">{{performanceChartRM.numberPlan_DevelopmentCalls*8}}</td>
            <td rowspan="2">{{(performanceChartRM.numberPlan_DevelopmentCalls) + data.callReg.length}}</td>
          </tr>
          <tr>
            <td>Смены замещения</td>
            <td><input type="number" (focusout)="setNumberPlan_SubstitutionShiftsRM($event.currentTarget.value)" value="{{performanceChartRM.numberPlan_SubstitutionShifts}}" /></td>
            <td><input type="number" (focusout)="setShiftPlan_SubstitutionShiftsRM($event.currentTarget.value)" value="{{performanceChartRM.shiftPlan_SubstitutionShifts}}" /></td>
            <td>{{oneTasksRM01.toFixed(1)}}</td>
          </tr>
        </tbody>
      </table>
    </mat-card-content>
  </mat-card>
</div>
