<div class="dialog-title">
  <h3 mat-dialog-title>–ó–≤–æ–Ω–∫–∏</h3>
</div>

<mat-dialog-content>
  <button class="close" (click)="close()"><i class="fas fa-times fa-2x"></i></button>
  <div style="margin:10px">
  <table mat-table [dataSource]="data">

    <ng-container matColumnDef="status">
      <th colspan="1" mat-header-cell *matHeaderCellDef></th>
      <td colspan="1" mat-cell *matCellDef="let element" [style.background]="setBagroundStatus(element)"></td>
    </ng-container>

    <ng-container matColumnDef="statusCall">
      <th colspan="4" mat-header-cell *matHeaderCellDef>–°—Ç–∞—Ç—É—Å</th>
      <td colspan="4" mat-cell *matCellDef="let element"><span *ngIf="element.contactType != 50"> {{element.contactType == 40 ? "‚úì" : "üóô"}}</span></td>
    </ng-container>

    <ng-container matColumnDef="direction">
      <th colspan="4" mat-header-cell *matHeaderCellDef>–°—Ç–∞—Ç—É—Å –∑–≤–æ–Ω–∫–∞</th>
      <td colspan="4" mat-cell *matCellDef="let element">{{element.direction == "–í—Ö–æ–¥—è—â–∏–π" ? "üì±‚Üê" : element.direction == "–ò—Å—Ö–æ–¥—è—â–∏–π" ? "üì±‚Üí" : element.direction}} </td>
    </ng-container>

    <ng-container matColumnDef="answer">
      <th colspan="4" mat-header-cell *matHeaderCellDef>–û—Ç–≤–µ—á–µ–Ω</th>
      <td colspan="4" mat-cell *matCellDef="let element">{{element.durations == 0 ? "üóô" : "‚úì"}} </td>
    </ng-container>

    <ng-container matColumnDef="title">
      <th colspan="4" mat-header-cell *matHeaderCellDef>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
      <td colspan="4" mat-cell *matCellDef="let element">{{element.titleClient}} </td>
    </ng-container>

    <ng-container matColumnDef="phone">
      <th colspan="4" mat-header-cell *matHeaderCellDef>–ù–æ–º–µ—Ä —Ç–µ–ª</th>
      <td colspan="4" mat-cell *matCellDef="let element">{{element.phone}}</td>
    </ng-container>

    <ng-container matColumnDef="duration">
      <th colspan="4" mat-header-cell *matHeaderCellDef>–ü—Ä–æ–¥–æ–ª–∂–∏..</th>
      <td colspan="4" mat-cell *matCellDef="let element" style="max-width: 300px">{{element.durations}} –°–µ–∫</td>
    </ng-container>

    <ng-container matColumnDef="date">
      <th colspan="4" mat-header-cell *matHeaderCellDef>–î–∞—Ç–∞</th>
      <td colspan="4" mat-cell *matCellDef="let element">{{element.date}}</td>
    </ng-container>

    <ng-container matColumnDef="comentCon">
      <th colspan="14" mat-header-cell *matHeaderCellDef>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞</th>
      <td colspan="14" mat-cell *matCellDef="let element">
        <textarea *ngIf="element.contactType != 50" style="width:250px;height:60px;">{{element.callsComments?.comment}}</textarea><br />
        <button *ngIf="element.contactType != 50" (click)="setNoAccept($event, element.id, element.clientId)" class="btnAccept">–û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
        <button *ngIf="element.contactType != 50" (click)="setAccept($event, element.id, element.clientId)" class="btnAccept">–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ</button>
      </td>
    </ng-container>

    <ng-container matColumnDef="comentCli">
      <th colspan="7" mat-header-cell *matHeaderCellDef>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä–∞</th>
      <td colspan="7" mat-cell *matCellDef="let element">{{element.callsComments?.managerComment}}</td>
    </ng-container>

    <ng-container matColumnDef="refAudio">
      <th colspan="14" mat-header-cell *matHeaderCellDef>–ê—É–¥–∏–æ –∑–∞–ø–∏—Å—å</th>
      <td colspan="14" mat-cell *matCellDef="let element"><audio style="height:20px" controls preload="none" src="{{element.referenceAudioVoice}}"></audio></td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" (dblclick)="openEditClientForm(row)"></tr>
  </table>
  </div>
</mat-dialog-content>

<div class="dialog-actions">
  <button mat-raised-button (click)="close()">–ó–∞–∫—Ä—ã—Ç—å</button>
</div>

