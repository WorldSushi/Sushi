<mat-card class="mat-elevation-z1">
  <mat-card-header>
    <mat-card-title class="card-title">Общая статистика звонков</mat-card-title>
    <div id="fountainG" [hidden]="hiddenloader">
      <div id="fountainG_1" class="fountainG"></div>
      <div id="fountainG_2" class="fountainG"></div>
      <div id="fountainG_3" class="fountainG"></div>
      <div id="fountainG_4" class="fountainG"></div>
      <div id="fountainG_5" class="fountainG"></div>
      <div id="fountainG_6" class="fountainG"></div>
      <div id="fountainG_7" class="fountainG"></div>
      <div id="fountainG_8" class="fountainG"></div>
    </div>
  </mat-card-header>
  <div class="filter clearfix">
    <input type="date" placeholder="Choose a date" (change)="verifyRange($event)" [(ngModel)]="btnDate">
    <select [(ngModel)]="dateCollection" (ngModelChange)="toFormatDate(dateCollection)">
      <option *ngFor="let dateCollection of dateCollections">{{dateCollection}}</option>
    </select>
    <select [(ngModel)]="numberWeek" (change)="weekChnege()">
      <option [ngValue]=1>Первая неделя</option>
      <option [ngValue]=2>Вторая неделя</option>
      <option [ngValue]=3>Третья неделя</option>
      <option [ngValue]=4>Четвертая неделя</option>
      <option [ngValue]=5>Пятая неделя</option>
    </select>
    <button (click)="hiddenCalendar()">{{btnDate1}}</button>
    <div [hidden]="calendarHidden" class="blockCalendar">
      <div class="calendar">
        <igx-calendar (onSelection)="verifyRange1($event)" selection="range"></igx-calendar>
      </div>
      <div class="sortbloc">
        <button (click)="sortDateCall(1)" class="btnSort">За всё время</button><br />
        <button (click)="sortDateCall(2)" class="btnSort">За Сегодня</button><br />
        <button (click)="sortDateCall(3)" class="btnSort">За Вчера</button><br />
        <button (click)="sortDateCall(4)" class="btnSort">За Последние 7 Дней</button><br />
        <button (click)="sortDateCall(5)" class="btnSort">3а Последние 30 Дней</button><br />
        <button (click)="sortDateCall(6)" class="btnSort">За Текущюю неделю</button><br />
        <button (click)="sortDateCall(7)" class="btnSort">За Текущий Месяц</button><br />
        <button (click)="sortDateCall(8)" class="btnSort">За Текущий год</button><br />
      </div>
    </div>
  </div>

  <div class="workgroups-wrapper">
    <div class="workgroup-item" *ngFor="let workgroup of statistickCallModel">
      <div class="workgroup-title clearfix">
        <span>
          <h3> Регион: {{workgroup.workgroupTitle}}</h3>
        </span>
        <br />
        <span>
          <h5> МС ⟹ {{workgroup.escortManagerName}}</h5>
        </span><br />
               <span>
                 Начало работы: {{workgroup.callStatistiMCDTO?.startWork}}
               </span><br />
                      <span>
                        Конец работы: {{workgroup.callStatistiMCDTO?.endWork}}
                      </span>
      </div>
      <table>
        <thead>
          <tr>
            <th style="max-width:50px;background:#62b4ff;border-color:white;color:white"></th>
            <th style="border-color:white;background:#62b4ff;color:white">День</th>
            <th style="border-color:white;background:#62b4ff;color:white">Неделя</th>
            <th style="border-color:white;background:#62b4ff;color:white;">Месяц</th>
            <th style="border-color:white;background:#62b4ff;color:white;">Период</th>
          </tr>
          <tr>
            <th style="max-width:50px"></th>
            <th>{{btnDate}}</th>
            <th>{{getPeriudWeek()}}</th>
            <th>{{dateCollection}}</th>
            <th>{{btnDate1}}</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th style="max-width:100px !important">Все звонки</th>
            <td>{{workgroup.callStatistiMCDTO.countCallAllToday}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallAllWeek}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallAllMonthe}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallAllPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Более 2,5 мин</th>
            <td>{{workgroup.callStatistiMCDTO.countCallMore2and5ToDay}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallMore2and5Week}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallMore2and5Monthe}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallMore2and5Period}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Менее 2.5 мин, более 10 сек</th>
            <td>{{workgroup.callStatistiMCDTO.countCallSmale2and5More10sToDay}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallSmale2and5More10sWeek}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallSmale2and5More10sMonthe}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallSmale2and5More10sPerio}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Менее 10 сек</th>
            <td>{{workgroup.callStatistiMCDTO.countCallSmale10sToDay}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallSmale10sWeek}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallSmale10sMonthe}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallSmale10sPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Звонки развития</th>
            <td>{{workgroup.callStatistiMCDTO.countCallDevelopmentToDay}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallDevelopmentWeek}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallDevelopmentsMonthe}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallDevelopmentPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Звонки коллегам</th>
            <td>{{workgroup.callStatistiMCDTO.countCallColleaguesToDay}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallColleaguestWeek}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallColleaguesMonthe}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallColleaguesPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Исходящие</th>
            <td>{{workgroup.callStatistiMCDTO.countCallOutgoingToDay}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallOutgoingWeek}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallOutgoingMonthe}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallOutgoingPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Входящие</th>
            <td>{{workgroup.callStatistiMCDTO.countCallInboxToDay}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallInboxWeek}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallInboxMonthe}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallInboxPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Неотвеченные</th>
            <td>{{workgroup.callStatistiMCDTO.countCallUnansweredToDay}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallUnansweredWeek}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallUnansweredMonthe}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallUnansweredPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Длительность</th>
            <td>{{workgroup.callStatistiMCDTO.countCallDurationToDay}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallDurationWeek}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallDurationMonthe}}</td>
            <td>{{workgroup.callStatistiMCDTO.countCallDurationPeriod}}</td>
          </tr>
        </tbody>
      </table>
      <div class="workgroup-title clearfix" style="border-radius:0px">
        <span>
          <h5>РМ ⟹ {{workgroup.regionalManagerName}}</h5>
        </span><br />
               <span>
                 Начало работы: {{workgroup.callStatistiMCDTO?.startWork}}
               </span><br />
                      <span>
                        Конец работы: {{workgroup.callStatistiMCDTO?.endWork}}
                      </span>
      </div>
      <table>
        <thead>
          <tr>
            <th style="border-color:white;max-width:50px;background:#62b4ff;color:white"></th>
            <th style="border-color:white;background:#62b4ff;color:white">День</th>
            <th style="border-color:white;background:#62b4ff;color:white">Неделя</th>
            <th style="border-color:white;background:#62b4ff;color:white">Месяц</th>
            <th style="border-color:white;background:#62b4ff;color:white">Период</th>
          </tr>
          <tr>
            <th style="max-width:50px !important"></th>
            <th>{{btnDate}}</th>
            <th>{{getPeriudWeek()}}</th>
            <th>{{dateCollection}}</th>
            <th>{{btnDate1}}</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th style="max-width:100px !important">Все звонки</th>
            <td>{{workgroup.callStatistRMDTO.countCallAllToday}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallAllWeek}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallAllMonthe}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallAllPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Более 2,5 мин</th>
            <td>{{workgroup.callStatistRMDTO.countCallMore2and5ToDay}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallMore2and5Week}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallMore2and5Monthe}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallMore2and5Period}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Менее 2.5 мин, более 10 сек</th>
            <td>{{workgroup.callStatistRMDTO.countCallSmale2and5More10sToDay}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallSmale2and5More10sWeek}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallSmale2and5More10sMonthe}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallSmale2and5More10sPerio}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Менее 10 сек</th>
            <td>{{workgroup.callStatistRMDTO.countCallSmale10sToDay}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallSmale10sWeek}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallSmale10sMonthe}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallSmale10sPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Звонки развития</th>
            <td>{{workgroup.callStatistRMDTO.countCallDevelopmentToDay}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallDevelopmentWeek}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallDevelopmentsMonthe}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallDevelopmentPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Звонки коллегам</th>
            <td>{{workgroup.callStatistRMDTO.countCallColleaguesToDay}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallColleaguestWeek}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallColleaguesMonthe}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallColleaguesPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Исходящие</th>
            <td>{{workgroup.callStatistRMDTO.countCallOutgoingToDay}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallOutgoingWeek}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallOutgoingMonthe}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallOutgoingPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Входящие</th>
            <td>{{workgroup.callStatistRMDTO.countCallInboxToDay}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallInboxWeek}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallInboxMonthe}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallInboxPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Неотвеченные</th>
            <td>{{workgroup.callStatistRMDTO.countCallUnansweredToDay}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallUnansweredWeek}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallUnansweredMonthe}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallUnansweredPeriod}}</td>
          </tr>
          <tr>
            <th style="max-width:100px !important">Длительность</th>
            <td>{{workgroup.callStatistRMDTO.countCallDurationToDay}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallDurationWeek}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallDurationMonthe}}</td>
            <td>{{workgroup.callStatistRMDTO.countCallDurationPeriod}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</mat-card>
